(()=>{var __webpack_modules__={2443:function(v,S,Q){"use strict";var O=this&&this.__createBinding||(Object.create?function(v,S,Q,O){if(O===undefined)O=Q;Object.defineProperty(v,O,{enumerable:true,get:function(){return S[Q]}})}:function(v,S,Q,O){if(O===undefined)O=Q;v[O]=S[Q]});var H=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:true,value:S})}:function(v,S){v["default"]=S});var V=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var Q in v)if(Q!=="default"&&Object.hasOwnProperty.call(v,Q))O(S,v,Q);H(S,v);return S};Object.defineProperty(S,"__esModule",{value:true});S.issue=S.issueCommand=void 0;const J=V(Q(2037));const Y=Q(5278);function issueCommand(v,S,Q){const O=new Command(v,S,Q);process.stdout.write(O.toString()+J.EOL)}S.issueCommand=issueCommand;function issue(v,S=""){issueCommand(v,{},S)}S.issue=issue;const X="::";class Command{constructor(v,S,Q){if(!v){v="missing.command"}this.command=v;this.properties=S;this.message=Q}toString(){let v=X+this.command;if(this.properties&&Object.keys(this.properties).length>0){v+=" ";let S=true;for(const Q in this.properties){if(this.properties.hasOwnProperty(Q)){const O=this.properties[Q];if(O){if(S){S=false}else{v+=","}v+=`${Q}=${escapeProperty(O)}`}}}}v+=`${X}${escapeData(this.message)}`;return v}}function escapeData(v){return Y.toCommandValue(v).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(v){return Y.toCommandValue(v).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(v,S,Q){"use strict";var O=this&&this.__createBinding||(Object.create?function(v,S,Q,O){if(O===undefined)O=Q;Object.defineProperty(v,O,{enumerable:true,get:function(){return S[Q]}})}:function(v,S,Q,O){if(O===undefined)O=Q;v[O]=S[Q]});var H=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:true,value:S})}:function(v,S){v["default"]=S});var V=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var Q in v)if(Q!=="default"&&Object.hasOwnProperty.call(v,Q))O(S,v,Q);H(S,v);return S};var J=this&&this.__awaiter||function(v,S,Q,O){function adopt(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function fulfilled(v){try{step(O.next(v))}catch(v){H(v)}}function rejected(v){try{step(O["throw"](v))}catch(v){H(v)}}function step(v){v.done?Q(v.value):adopt(v.value).then(fulfilled,rejected)}step((O=O.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:true});S.getIDToken=S.getState=S.saveState=S.group=S.endGroup=S.startGroup=S.info=S.notice=S.warning=S.error=S.debug=S.isDebug=S.setFailed=S.setCommandEcho=S.setOutput=S.getBooleanInput=S.getMultilineInput=S.getInput=S.addPath=S.setSecret=S.exportVariable=S.ExitCode=void 0;const Y=Q(2443);const X=Q(717);const ee=Q(5278);const ae=V(Q(2037));const he=V(Q(1017));const Ee=Q(8041);var Be;(function(v){v[v["Success"]=0]="Success";v[v["Failure"]=1]="Failure"})(Be=S.ExitCode||(S.ExitCode={}));function exportVariable(v,S){const Q=ee.toCommandValue(S);process.env[v]=Q;const O=process.env["GITHUB_ENV"]||"";if(O){return X.issueFileCommand("ENV",X.prepareKeyValueMessage(v,S))}Y.issueCommand("set-env",{name:v},Q)}S.exportVariable=exportVariable;function setSecret(v){Y.issueCommand("add-mask",{},v)}S.setSecret=setSecret;function addPath(v){const S=process.env["GITHUB_PATH"]||"";if(S){X.issueFileCommand("PATH",v)}else{Y.issueCommand("add-path",{},v)}process.env["PATH"]=`${v}${he.delimiter}${process.env["PATH"]}`}S.addPath=addPath;function getInput(v,S){const Q=process.env[`INPUT_${v.replace(/ /g,"_").toUpperCase()}`]||"";if(S&&S.required&&!Q){throw new Error(`Input required and not supplied: ${v}`)}if(S&&S.trimWhitespace===false){return Q}return Q.trim()}S.getInput=getInput;function getMultilineInput(v,S){const Q=getInput(v,S).split("\n").filter((v=>v!==""));if(S&&S.trimWhitespace===false){return Q}return Q.map((v=>v.trim()))}S.getMultilineInput=getMultilineInput;function getBooleanInput(v,S){const Q=["true","True","TRUE"];const O=["false","False","FALSE"];const H=getInput(v,S);if(Q.includes(H))return true;if(O.includes(H))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${v}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}S.getBooleanInput=getBooleanInput;function setOutput(v,S){const Q=process.env["GITHUB_OUTPUT"]||"";if(Q){return X.issueFileCommand("OUTPUT",X.prepareKeyValueMessage(v,S))}process.stdout.write(ae.EOL);Y.issueCommand("set-output",{name:v},ee.toCommandValue(S))}S.setOutput=setOutput;function setCommandEcho(v){Y.issue("echo",v?"on":"off")}S.setCommandEcho=setCommandEcho;function setFailed(v){process.exitCode=Be.Failure;error(v)}S.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}S.isDebug=isDebug;function debug(v){Y.issueCommand("debug",{},v)}S.debug=debug;function error(v,S={}){Y.issueCommand("error",ee.toCommandProperties(S),v instanceof Error?v.toString():v)}S.error=error;function warning(v,S={}){Y.issueCommand("warning",ee.toCommandProperties(S),v instanceof Error?v.toString():v)}S.warning=warning;function notice(v,S={}){Y.issueCommand("notice",ee.toCommandProperties(S),v instanceof Error?v.toString():v)}S.notice=notice;function info(v){process.stdout.write(v+ae.EOL)}S.info=info;function startGroup(v){Y.issue("group",v)}S.startGroup=startGroup;function endGroup(){Y.issue("endgroup")}S.endGroup=endGroup;function group(v,S){return J(this,void 0,void 0,(function*(){startGroup(v);let Q;try{Q=yield S()}finally{endGroup()}return Q}))}S.group=group;function saveState(v,S){const Q=process.env["GITHUB_STATE"]||"";if(Q){return X.issueFileCommand("STATE",X.prepareKeyValueMessage(v,S))}Y.issueCommand("save-state",{name:v},ee.toCommandValue(S))}S.saveState=saveState;function getState(v){return process.env[`STATE_${v}`]||""}S.getState=getState;function getIDToken(v){return J(this,void 0,void 0,(function*(){return yield Ee.OidcClient.getIDToken(v)}))}S.getIDToken=getIDToken;var ke=Q(1327);Object.defineProperty(S,"summary",{enumerable:true,get:function(){return ke.summary}});var Re=Q(1327);Object.defineProperty(S,"markdownSummary",{enumerable:true,get:function(){return Re.markdownSummary}});var Oe=Q(937);Object.defineProperty(S,"toPosixPath",{enumerable:true,get:function(){return Oe.toPosixPath}});Object.defineProperty(S,"toWin32Path",{enumerable:true,get:function(){return Oe.toWin32Path}});Object.defineProperty(S,"toPlatformPath",{enumerable:true,get:function(){return Oe.toPlatformPath}})},717:function(v,S,Q){"use strict";var O=this&&this.__createBinding||(Object.create?function(v,S,Q,O){if(O===undefined)O=Q;Object.defineProperty(v,O,{enumerable:true,get:function(){return S[Q]}})}:function(v,S,Q,O){if(O===undefined)O=Q;v[O]=S[Q]});var H=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:true,value:S})}:function(v,S){v["default"]=S});var V=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var Q in v)if(Q!=="default"&&Object.hasOwnProperty.call(v,Q))O(S,v,Q);H(S,v);return S};Object.defineProperty(S,"__esModule",{value:true});S.prepareKeyValueMessage=S.issueFileCommand=void 0;const J=V(Q(7147));const Y=V(Q(2037));const X=Q(5840);const ee=Q(5278);function issueFileCommand(v,S){const Q=process.env[`GITHUB_${v}`];if(!Q){throw new Error(`Unable to find environment variable for file command ${v}`)}if(!J.existsSync(Q)){throw new Error(`Missing file at path: ${Q}`)}J.appendFileSync(Q,`${ee.toCommandValue(S)}${Y.EOL}`,{encoding:"utf8"})}S.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(v,S){const Q=`ghadelimiter_${X.v4()}`;const O=ee.toCommandValue(S);if(v.includes(Q)){throw new Error(`Unexpected input: name should not contain the delimiter "${Q}"`)}if(O.includes(Q)){throw new Error(`Unexpected input: value should not contain the delimiter "${Q}"`)}return`${v}<<${Q}${Y.EOL}${O}${Y.EOL}${Q}`}S.prepareKeyValueMessage=prepareKeyValueMessage},8041:function(v,S,Q){"use strict";var O=this&&this.__awaiter||function(v,S,Q,O){function adopt(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function fulfilled(v){try{step(O.next(v))}catch(v){H(v)}}function rejected(v){try{step(O["throw"](v))}catch(v){H(v)}}function step(v){v.done?Q(v.value):adopt(v.value).then(fulfilled,rejected)}step((O=O.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:true});S.OidcClient=void 0;const H=Q(6255);const V=Q(5526);const J=Q(2186);class OidcClient{static createHttpClient(v=true,S=10){const Q={allowRetries:v,maxRetries:S};return new H.HttpClient("actions/oidc-client",[new V.BearerCredentialHandler(OidcClient.getRequestToken())],Q)}static getRequestToken(){const v=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!v){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return v}static getIDTokenUrl(){const v=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!v){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return v}static getCall(v){var S;return O(this,void 0,void 0,(function*(){const Q=OidcClient.createHttpClient();const O=yield Q.getJson(v).catch((v=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${v.statusCode}\n \n        Error Message: ${v.message}`)}));const H=(S=O.result)===null||S===void 0?void 0:S.value;if(!H){throw new Error("Response json body do not have ID Token field")}return H}))}static getIDToken(v){return O(this,void 0,void 0,(function*(){try{let S=OidcClient.getIDTokenUrl();if(v){const Q=encodeURIComponent(v);S=`${S}&audience=${Q}`}J.debug(`ID token url is ${S}`);const Q=yield OidcClient.getCall(S);J.setSecret(Q);return Q}catch(v){throw new Error(`Error message: ${v.message}`)}}))}}S.OidcClient=OidcClient},937:function(v,S,Q){"use strict";var O=this&&this.__createBinding||(Object.create?function(v,S,Q,O){if(O===undefined)O=Q;Object.defineProperty(v,O,{enumerable:true,get:function(){return S[Q]}})}:function(v,S,Q,O){if(O===undefined)O=Q;v[O]=S[Q]});var H=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:true,value:S})}:function(v,S){v["default"]=S});var V=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var Q in v)if(Q!=="default"&&Object.hasOwnProperty.call(v,Q))O(S,v,Q);H(S,v);return S};Object.defineProperty(S,"__esModule",{value:true});S.toPlatformPath=S.toWin32Path=S.toPosixPath=void 0;const J=V(Q(1017));function toPosixPath(v){return v.replace(/[\\]/g,"/")}S.toPosixPath=toPosixPath;function toWin32Path(v){return v.replace(/[/]/g,"\\")}S.toWin32Path=toWin32Path;function toPlatformPath(v){return v.replace(/[/\\]/g,J.sep)}S.toPlatformPath=toPlatformPath},1327:function(v,S,Q){"use strict";var O=this&&this.__awaiter||function(v,S,Q,O){function adopt(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function fulfilled(v){try{step(O.next(v))}catch(v){H(v)}}function rejected(v){try{step(O["throw"](v))}catch(v){H(v)}}function step(v){v.done?Q(v.value):adopt(v.value).then(fulfilled,rejected)}step((O=O.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:true});S.summary=S.markdownSummary=S.SUMMARY_DOCS_URL=S.SUMMARY_ENV_VAR=void 0;const H=Q(2037);const V=Q(7147);const{access:J,appendFile:Y,writeFile:X}=V.promises;S.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";S.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return O(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const v=process.env[S.SUMMARY_ENV_VAR];if(!v){throw new Error(`Unable to find environment variable for $${S.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield J(v,V.constants.R_OK|V.constants.W_OK)}catch(S){throw new Error(`Unable to access summary file: '${v}'. Check if the file has correct read/write permissions.`)}this._filePath=v;return this._filePath}))}wrap(v,S,Q={}){const O=Object.entries(Q).map((([v,S])=>` ${v}="${S}"`)).join("");if(!S){return`<${v}${O}>`}return`<${v}${O}>${S}</${v}>`}write(v){return O(this,void 0,void 0,(function*(){const S=!!(v===null||v===void 0?void 0:v.overwrite);const Q=yield this.filePath();const O=S?X:Y;yield O(Q,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return O(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(v,S=false){this._buffer+=v;return S?this.addEOL():this}addEOL(){return this.addRaw(H.EOL)}addCodeBlock(v,S){const Q=Object.assign({},S&&{lang:S});const O=this.wrap("pre",this.wrap("code",v),Q);return this.addRaw(O).addEOL()}addList(v,S=false){const Q=S?"ol":"ul";const O=v.map((v=>this.wrap("li",v))).join("");const H=this.wrap(Q,O);return this.addRaw(H).addEOL()}addTable(v){const S=v.map((v=>{const S=v.map((v=>{if(typeof v==="string"){return this.wrap("td",v)}const{header:S,data:Q,colspan:O,rowspan:H}=v;const V=S?"th":"td";const J=Object.assign(Object.assign({},O&&{colspan:O}),H&&{rowspan:H});return this.wrap(V,Q,J)})).join("");return this.wrap("tr",S)})).join("");const Q=this.wrap("table",S);return this.addRaw(Q).addEOL()}addDetails(v,S){const Q=this.wrap("details",this.wrap("summary",v)+S);return this.addRaw(Q).addEOL()}addImage(v,S,Q){const{width:O,height:H}=Q||{};const V=Object.assign(Object.assign({},O&&{width:O}),H&&{height:H});const J=this.wrap("img",null,Object.assign({src:v,alt:S},V));return this.addRaw(J).addEOL()}addHeading(v,S){const Q=`h${S}`;const O=["h1","h2","h3","h4","h5","h6"].includes(Q)?Q:"h1";const H=this.wrap(O,v);return this.addRaw(H).addEOL()}addSeparator(){const v=this.wrap("hr",null);return this.addRaw(v).addEOL()}addBreak(){const v=this.wrap("br",null);return this.addRaw(v).addEOL()}addQuote(v,S){const Q=Object.assign({},S&&{cite:S});const O=this.wrap("blockquote",v,Q);return this.addRaw(O).addEOL()}addLink(v,S){const Q=this.wrap("a",v,{href:S});return this.addRaw(Q).addEOL()}}const ee=new Summary;S.markdownSummary=ee;S.summary=ee},5278:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.toCommandProperties=S.toCommandValue=void 0;function toCommandValue(v){if(v===null||v===undefined){return""}else if(typeof v==="string"||v instanceof String){return v}return JSON.stringify(v)}S.toCommandValue=toCommandValue;function toCommandProperties(v){if(!Object.keys(v).length){return{}}return{title:v.title,file:v.file,line:v.startLine,endLine:v.endLine,col:v.startColumn,endColumn:v.endColumn}}S.toCommandProperties=toCommandProperties},5526:function(v,S){"use strict";var Q=this&&this.__awaiter||function(v,S,Q,O){function adopt(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function fulfilled(v){try{step(O.next(v))}catch(v){H(v)}}function rejected(v){try{step(O["throw"](v))}catch(v){H(v)}}function step(v){v.done?Q(v.value):adopt(v.value).then(fulfilled,rejected)}step((O=O.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:true});S.PersonalAccessTokenCredentialHandler=S.BearerCredentialHandler=S.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(v,S){this.username=v;this.password=S}prepareRequest(v){if(!v.headers){throw Error("The request has no headers")}v.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return Q(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}S.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(v){this.token=v}prepareRequest(v){if(!v.headers){throw Error("The request has no headers")}v.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return Q(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}S.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(v){this.token=v}prepareRequest(v){if(!v.headers){throw Error("The request has no headers")}v.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return Q(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}S.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},6255:function(v,S,Q){"use strict";var O=this&&this.__createBinding||(Object.create?function(v,S,Q,O){if(O===undefined)O=Q;var H=Object.getOwnPropertyDescriptor(S,Q);if(!H||("get"in H?!S.__esModule:H.writable||H.configurable)){H={enumerable:true,get:function(){return S[Q]}}}Object.defineProperty(v,O,H)}:function(v,S,Q,O){if(O===undefined)O=Q;v[O]=S[Q]});var H=this&&this.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:true,value:S})}:function(v,S){v["default"]=S});var V=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var Q in v)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(v,Q))O(S,v,Q);H(S,v);return S};var J=this&&this.__awaiter||function(v,S,Q,O){function adopt(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function fulfilled(v){try{step(O.next(v))}catch(v){H(v)}}function rejected(v){try{step(O["throw"](v))}catch(v){H(v)}}function step(v){v.done?Q(v.value):adopt(v.value).then(fulfilled,rejected)}step((O=O.apply(v,S||[])).next())}))};Object.defineProperty(S,"__esModule",{value:true});S.HttpClient=S.isHttps=S.HttpClientResponse=S.HttpClientError=S.getProxyUrl=S.MediaTypes=S.Headers=S.HttpCodes=void 0;const Y=V(Q(3685));const X=V(Q(5687));const ee=V(Q(9835));const ae=V(Q(4294));const he=Q(1773);var Ee;(function(v){v[v["OK"]=200]="OK";v[v["MultipleChoices"]=300]="MultipleChoices";v[v["MovedPermanently"]=301]="MovedPermanently";v[v["ResourceMoved"]=302]="ResourceMoved";v[v["SeeOther"]=303]="SeeOther";v[v["NotModified"]=304]="NotModified";v[v["UseProxy"]=305]="UseProxy";v[v["SwitchProxy"]=306]="SwitchProxy";v[v["TemporaryRedirect"]=307]="TemporaryRedirect";v[v["PermanentRedirect"]=308]="PermanentRedirect";v[v["BadRequest"]=400]="BadRequest";v[v["Unauthorized"]=401]="Unauthorized";v[v["PaymentRequired"]=402]="PaymentRequired";v[v["Forbidden"]=403]="Forbidden";v[v["NotFound"]=404]="NotFound";v[v["MethodNotAllowed"]=405]="MethodNotAllowed";v[v["NotAcceptable"]=406]="NotAcceptable";v[v["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";v[v["RequestTimeout"]=408]="RequestTimeout";v[v["Conflict"]=409]="Conflict";v[v["Gone"]=410]="Gone";v[v["TooManyRequests"]=429]="TooManyRequests";v[v["InternalServerError"]=500]="InternalServerError";v[v["NotImplemented"]=501]="NotImplemented";v[v["BadGateway"]=502]="BadGateway";v[v["ServiceUnavailable"]=503]="ServiceUnavailable";v[v["GatewayTimeout"]=504]="GatewayTimeout"})(Ee||(S.HttpCodes=Ee={}));var Be;(function(v){v["Accept"]="accept";v["ContentType"]="content-type"})(Be||(S.Headers=Be={}));var ke;(function(v){v["ApplicationJson"]="application/json"})(ke||(S.MediaTypes=ke={}));function getProxyUrl(v){const S=ee.getProxyUrl(new URL(v));return S?S.href:""}S.getProxyUrl=getProxyUrl;const Re=[Ee.MovedPermanently,Ee.ResourceMoved,Ee.SeeOther,Ee.TemporaryRedirect,Ee.PermanentRedirect];const Oe=[Ee.BadGateway,Ee.ServiceUnavailable,Ee.GatewayTimeout];const Pe=["OPTIONS","GET","DELETE","HEAD"];const Le=10;const je=5;class HttpClientError extends Error{constructor(v,S){super(v);this.name="HttpClientError";this.statusCode=S;Object.setPrototypeOf(this,HttpClientError.prototype)}}S.HttpClientError=HttpClientError;class HttpClientResponse{constructor(v){this.message=v}readBody(){return J(this,void 0,void 0,(function*(){return new Promise((v=>J(this,void 0,void 0,(function*(){let S=Buffer.alloc(0);this.message.on("data",(v=>{S=Buffer.concat([S,v])}));this.message.on("end",(()=>{v(S.toString())}))}))))}))}readBodyBuffer(){return J(this,void 0,void 0,(function*(){return new Promise((v=>J(this,void 0,void 0,(function*(){const S=[];this.message.on("data",(v=>{S.push(v)}));this.message.on("end",(()=>{v(Buffer.concat(S))}))}))))}))}}S.HttpClientResponse=HttpClientResponse;function isHttps(v){const S=new URL(v);return S.protocol==="https:"}S.isHttps=isHttps;class HttpClient{constructor(v,S,Q){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=v;this.handlers=S||[];this.requestOptions=Q;if(Q){if(Q.ignoreSslError!=null){this._ignoreSslError=Q.ignoreSslError}this._socketTimeout=Q.socketTimeout;if(Q.allowRedirects!=null){this._allowRedirects=Q.allowRedirects}if(Q.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=Q.allowRedirectDowngrade}if(Q.maxRedirects!=null){this._maxRedirects=Math.max(Q.maxRedirects,0)}if(Q.keepAlive!=null){this._keepAlive=Q.keepAlive}if(Q.allowRetries!=null){this._allowRetries=Q.allowRetries}if(Q.maxRetries!=null){this._maxRetries=Q.maxRetries}}}options(v,S){return J(this,void 0,void 0,(function*(){return this.request("OPTIONS",v,null,S||{})}))}get(v,S){return J(this,void 0,void 0,(function*(){return this.request("GET",v,null,S||{})}))}del(v,S){return J(this,void 0,void 0,(function*(){return this.request("DELETE",v,null,S||{})}))}post(v,S,Q){return J(this,void 0,void 0,(function*(){return this.request("POST",v,S,Q||{})}))}patch(v,S,Q){return J(this,void 0,void 0,(function*(){return this.request("PATCH",v,S,Q||{})}))}put(v,S,Q){return J(this,void 0,void 0,(function*(){return this.request("PUT",v,S,Q||{})}))}head(v,S){return J(this,void 0,void 0,(function*(){return this.request("HEAD",v,null,S||{})}))}sendStream(v,S,Q,O){return J(this,void 0,void 0,(function*(){return this.request(v,S,Q,O)}))}getJson(v,S={}){return J(this,void 0,void 0,(function*(){S[Be.Accept]=this._getExistingOrDefaultHeader(S,Be.Accept,ke.ApplicationJson);const Q=yield this.get(v,S);return this._processResponse(Q,this.requestOptions)}))}postJson(v,S,Q={}){return J(this,void 0,void 0,(function*(){const O=JSON.stringify(S,null,2);Q[Be.Accept]=this._getExistingOrDefaultHeader(Q,Be.Accept,ke.ApplicationJson);Q[Be.ContentType]=this._getExistingOrDefaultHeader(Q,Be.ContentType,ke.ApplicationJson);const H=yield this.post(v,O,Q);return this._processResponse(H,this.requestOptions)}))}putJson(v,S,Q={}){return J(this,void 0,void 0,(function*(){const O=JSON.stringify(S,null,2);Q[Be.Accept]=this._getExistingOrDefaultHeader(Q,Be.Accept,ke.ApplicationJson);Q[Be.ContentType]=this._getExistingOrDefaultHeader(Q,Be.ContentType,ke.ApplicationJson);const H=yield this.put(v,O,Q);return this._processResponse(H,this.requestOptions)}))}patchJson(v,S,Q={}){return J(this,void 0,void 0,(function*(){const O=JSON.stringify(S,null,2);Q[Be.Accept]=this._getExistingOrDefaultHeader(Q,Be.Accept,ke.ApplicationJson);Q[Be.ContentType]=this._getExistingOrDefaultHeader(Q,Be.ContentType,ke.ApplicationJson);const H=yield this.patch(v,O,Q);return this._processResponse(H,this.requestOptions)}))}request(v,S,Q,O){return J(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const H=new URL(S);let V=this._prepareRequest(v,H,O);const J=this._allowRetries&&Pe.includes(v)?this._maxRetries+1:1;let Y=0;let X;do{X=yield this.requestRaw(V,Q);if(X&&X.message&&X.message.statusCode===Ee.Unauthorized){let v;for(const S of this.handlers){if(S.canHandleAuthentication(X)){v=S;break}}if(v){return v.handleAuthentication(this,V,Q)}else{return X}}let S=this._maxRedirects;while(X.message.statusCode&&Re.includes(X.message.statusCode)&&this._allowRedirects&&S>0){const J=X.message.headers["location"];if(!J){break}const Y=new URL(J);if(H.protocol==="https:"&&H.protocol!==Y.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield X.readBody();if(Y.hostname!==H.hostname){for(const v in O){if(v.toLowerCase()==="authorization"){delete O[v]}}}V=this._prepareRequest(v,Y,O);X=yield this.requestRaw(V,Q);S--}if(!X.message.statusCode||!Oe.includes(X.message.statusCode)){return X}Y+=1;if(Y<J){yield X.readBody();yield this._performExponentialBackoff(Y)}}while(Y<J);return X}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(v,S){return J(this,void 0,void 0,(function*(){return new Promise(((Q,O)=>{function callbackForResult(v,S){if(v){O(v)}else if(!S){O(new Error("Unknown error"))}else{Q(S)}}this.requestRawWithCallback(v,S,callbackForResult)}))}))}requestRawWithCallback(v,S,Q){if(typeof S==="string"){if(!v.options.headers){v.options.headers={}}v.options.headers["Content-Length"]=Buffer.byteLength(S,"utf8")}let O=false;function handleResult(v,S){if(!O){O=true;Q(v,S)}}const H=v.httpModule.request(v.options,(v=>{const S=new HttpClientResponse(v);handleResult(undefined,S)}));let V;H.on("socket",(v=>{V=v}));H.setTimeout(this._socketTimeout||3*6e4,(()=>{if(V){V.end()}handleResult(new Error(`Request timeout: ${v.options.path}`))}));H.on("error",(function(v){handleResult(v)}));if(S&&typeof S==="string"){H.write(S,"utf8")}if(S&&typeof S!=="string"){S.on("close",(function(){H.end()}));S.pipe(H)}else{H.end()}}getAgent(v){const S=new URL(v);return this._getAgent(S)}getAgentDispatcher(v){const S=new URL(v);const Q=ee.getProxyUrl(S);const O=Q&&Q.hostname;if(!O){return}return this._getProxyAgentDispatcher(S,Q)}_prepareRequest(v,S,Q){const O={};O.parsedUrl=S;const H=O.parsedUrl.protocol==="https:";O.httpModule=H?X:Y;const V=H?443:80;O.options={};O.options.host=O.parsedUrl.hostname;O.options.port=O.parsedUrl.port?parseInt(O.parsedUrl.port):V;O.options.path=(O.parsedUrl.pathname||"")+(O.parsedUrl.search||"");O.options.method=v;O.options.headers=this._mergeHeaders(Q);if(this.userAgent!=null){O.options.headers["user-agent"]=this.userAgent}O.options.agent=this._getAgent(O.parsedUrl);if(this.handlers){for(const v of this.handlers){v.prepareRequest(O.options)}}return O}_mergeHeaders(v){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(v||{}))}return lowercaseKeys(v||{})}_getExistingOrDefaultHeader(v,S,Q){let O;if(this.requestOptions&&this.requestOptions.headers){O=lowercaseKeys(this.requestOptions.headers)[S]}return v[S]||O||Q}_getAgent(v){let S;const Q=ee.getProxyUrl(v);const O=Q&&Q.hostname;if(this._keepAlive&&O){S=this._proxyAgent}if(this._keepAlive&&!O){S=this._agent}if(S){return S}const H=v.protocol==="https:";let V=100;if(this.requestOptions){V=this.requestOptions.maxSockets||Y.globalAgent.maxSockets}if(Q&&Q.hostname){const v={maxSockets:V,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(Q.username||Q.password)&&{proxyAuth:`${Q.username}:${Q.password}`}),{host:Q.hostname,port:Q.port})};let O;const J=Q.protocol==="https:";if(H){O=J?ae.httpsOverHttps:ae.httpsOverHttp}else{O=J?ae.httpOverHttps:ae.httpOverHttp}S=O(v);this._proxyAgent=S}if(this._keepAlive&&!S){const v={keepAlive:this._keepAlive,maxSockets:V};S=H?new X.Agent(v):new Y.Agent(v);this._agent=S}if(!S){S=H?X.globalAgent:Y.globalAgent}if(H&&this._ignoreSslError){S.options=Object.assign(S.options||{},{rejectUnauthorized:false})}return S}_getProxyAgentDispatcher(v,S){let Q;if(this._keepAlive){Q=this._proxyAgentDispatcher}if(Q){return Q}const O=v.protocol==="https:";Q=new he.ProxyAgent(Object.assign({uri:S.href,pipelining:!this._keepAlive?0:1},(S.username||S.password)&&{token:`${S.username}:${S.password}`}));this._proxyAgentDispatcher=Q;if(O&&this._ignoreSslError){Q.options=Object.assign(Q.options.requestTls||{},{rejectUnauthorized:false})}return Q}_performExponentialBackoff(v){return J(this,void 0,void 0,(function*(){v=Math.min(Le,v);const S=je*Math.pow(2,v);return new Promise((v=>setTimeout((()=>v()),S)))}))}_processResponse(v,S){return J(this,void 0,void 0,(function*(){return new Promise(((Q,O)=>J(this,void 0,void 0,(function*(){const H=v.message.statusCode||0;const V={statusCode:H,result:null,headers:{}};if(H===Ee.NotFound){Q(V)}function dateTimeDeserializer(v,S){if(typeof S==="string"){const v=new Date(S);if(!isNaN(v.valueOf())){return v}}return S}let J;let Y;try{Y=yield v.readBody();if(Y&&Y.length>0){if(S&&S.deserializeDates){J=JSON.parse(Y,dateTimeDeserializer)}else{J=JSON.parse(Y)}V.result=J}V.headers=v.message.headers}catch(v){}if(H>299){let v;if(J&&J.message){v=J.message}else if(Y&&Y.length>0){v=Y}else{v=`Failed request: (${H})`}const S=new HttpClientError(v,H);S.result=V.result;O(S)}else{Q(V)}}))))}))}}S.HttpClient=HttpClient;const lowercaseKeys=v=>Object.keys(v).reduce(((S,Q)=>(S[Q.toLowerCase()]=v[Q],S)),{})},9835:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.checkBypass=S.getProxyUrl=void 0;function getProxyUrl(v){const S=v.protocol==="https:";if(checkBypass(v)){return undefined}const Q=(()=>{if(S){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(Q){try{return new URL(Q)}catch(v){if(!Q.startsWith("http://")&&!Q.startsWith("https://"))return new URL(`http://${Q}`)}}else{return undefined}}S.getProxyUrl=getProxyUrl;function checkBypass(v){if(!v.hostname){return false}const S=v.hostname;if(isLoopbackAddress(S)){return true}const Q=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!Q){return false}let O;if(v.port){O=Number(v.port)}else if(v.protocol==="http:"){O=80}else if(v.protocol==="https:"){O=443}const H=[v.hostname.toUpperCase()];if(typeof O==="number"){H.push(`${H[0]}:${O}`)}for(const v of Q.split(",").map((v=>v.trim().toUpperCase())).filter((v=>v))){if(v==="*"||H.some((S=>S===v||S.endsWith(`.${v}`)||v.startsWith(".")&&S.endsWith(`${v}`)))){return true}}return false}S.checkBypass=checkBypass;function isLoopbackAddress(v){const S=v.toLowerCase();return S==="localhost"||S.startsWith("127.")||S.startsWith("[::1]")||S.startsWith("[0:0:0:0:0:0:0:1]")}},6570:(v,S,Q)=>{const O=14;const H=process.versions.node;const V=H.split(".");const[J]=[+V[0]];if(J<O){console.error("You are running Node.js "+H+".\n"+`Playwright requires Node.js ${O} or higher. \n`+"Please update your version of Node.js.");process.exit(1)}v.exports=Q(2698)},4393:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.AndroidServerLauncherImpl=void 0;var O=Q(1319);var H=Q(3557);var V=Q(4506);var J=Q(7358);class AndroidServerLauncherImpl{async launchServer(v={}){const S=(0,V.createPlaywright)({sdkLanguage:"javascript",isServer:true});let Q=await S.android.devices({host:v.adbHost,port:v.adbPort,omitDriverInstall:v.omitDriverInstall});if(Q.length===0)throw new Error("No devices found");if(v.deviceSerialNumber){Q=Q.filter((S=>S.serial===v.deviceSerialNumber));if(Q.length===0)throw new Error(`No device with serial number '${v.deviceSerialNumber}' not found`)}if(Q.length>1)throw new Error(`More than one device found. Please specify deviceSerialNumber`);const Y=Q[0];const X=v.wsPath?v.wsPath.startsWith("/")?v.wsPath:`/${v.wsPath}`:`/${(0,H.createGuid)()}`;const ee=new J.PlaywrightServer({mode:"launchServer",path:X,maxConnections:1,preLaunchedAndroidDevice:Y});const ae=await ee.listen(v.port);const he=new O.ws.EventEmitter;he.wsEndpoint=()=>ae;he.close=()=>Y.close();he.kill=()=>Y.close();Y.on("close",(()=>{ee.close();he.emit("close")}));return he}}S.AndroidServerLauncherImpl=AndroidServerLauncherImpl},5309:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.BrowserServerLauncherImpl=void 0;var O=Q(1319);var H=Q(6886);var V=Q(3557);var J=Q(6686);var Y=Q(4506);var X=Q(7358);var ee=Q(9175);var ae=Q(9030);var he=Q(1570);class BrowserServerLauncherImpl{constructor(v){this._browserName=void 0;this._browserName=v}async launchServer(v={}){const S=(0,Y.createPlaywright)({sdkLanguage:"javascript",isServer:true});const Q=false?0:undefined;S.options.socksProxyPort=await(Q===null||Q===void 0?void 0:Q.listen(0));const he=(0,J.serverSideCallMetadata)();const Ee=await S[this._browserName].launch(he,{...v,ignoreDefaultArgs:Array.isArray(v.ignoreDefaultArgs)?v.ignoreDefaultArgs:undefined,ignoreAllDefaultArgs:!!v.ignoreDefaultArgs&&!Array.isArray(v.ignoreDefaultArgs),env:v.env?(0,H.envObjectToArray)(v.env):undefined},toProtocolLogger(v.logger)).catch((v=>{const S=ee.helper.formatBrowserLogs(he.log);(0,ae.rewriteErrorMessage)(v,`${v.message} Failed to launch browser.${S}`);throw v}));const Be=v.wsPath?v.wsPath.startsWith("/")?v.wsPath:`/${v.wsPath}`:`/${(0,V.createGuid)()}`;const ke=new X.PlaywrightServer({mode:"launchServer",path:Be,maxConnections:Infinity,preLaunchedBrowser:Ee,preLaunchedSocksProxy:Q});const Re=await ke.listen(v.port);const Oe=new O.ws.EventEmitter;Oe.process=()=>Ee.options.browserProcess.process;Oe.wsEndpoint=()=>Re;Oe.close=()=>Ee.options.browserProcess.close();Oe[Symbol.asyncDispose]=Oe.close;Oe.kill=()=>Ee.options.browserProcess.kill();Oe._disconnectForTest=()=>ke.close();Oe._userDataDirForTest=Ee._userDataDirForTest;Ee.options.browserProcess.onclose=(v,S)=>{Q===null||Q===void 0?void 0:Q.close().catch((()=>{}));ke.close();Oe.emit("close",v,S)};return Oe}}S.BrowserServerLauncherImpl=BrowserServerLauncherImpl;function toProtocolLogger(v){return v?(S,Q)=>{if(v.isEnabled("protocol","verbose"))v.log("protocol","verbose",(S==="send"?"SEND ► ":"◀ RECV ")+JSON.stringify(Q),[],{})}:undefined}},9996:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Accessibility=void 0;function axNodeFromProtocol(v){const S={...v,value:v.valueNumber!==undefined?v.valueNumber:v.valueString,checked:v.checked==="checked"?true:v.checked==="unchecked"?false:v.checked,pressed:v.pressed==="pressed"?true:v.pressed==="released"?false:v.pressed,children:v.children?v.children.map(axNodeFromProtocol):undefined};delete S.valueNumber;delete S.valueString;return S}class Accessibility{constructor(v){this._channel=void 0;this._channel=v}async snapshot(v={}){const S=v.root?v.root._elementChannel:undefined;const Q=await this._channel.accessibilitySnapshot({interestingOnly:v.interestingOnly,root:S});return Q.rootAXNode?axNodeFromProtocol(Q.rootAXNode):null}}S.Accessibility=Accessibility},8068:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.AndroidWebView=S.AndroidSocket=S.AndroidInput=S.AndroidDevice=S.Android=void 0;var O=_interopRequireDefault(Q(7147));var H=Q(3557);var V=Q(8289);var J=Q(4096);var Y=Q(1578);var X=Q(9053);var ee=Q(7991);var ae=Q(2361);var he=Q(1776);var Ee=Q(7447);var Be=Q(803);let ke;function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class Android extends Y.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._timeoutSettings=void 0;this._serverLauncher=void 0;this._timeoutSettings=new X.TimeoutSettings}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v);this._channel.setDefaultTimeoutNoReply({timeout:v})}async devices(v={}){const{devices:S}=await this._channel.devices(v);return S.map((v=>AndroidDevice.from(v)))}async launchServer(v={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");return await this._serverLauncher.launchServer(v)}async connect(v,S={}){return await this._wrapApiCall((async()=>{const Q=S.timeout?(0,H.monotonicTime)()+S.timeout:0;const O={"x-playwright-browser":"android",...S.headers};const J=this._connection.localUtils();const Y={wsEndpoint:v,headers:O,slowMo:S.slowMo,timeout:S.timeout};const{pipe:X}=await J._channel.connect(Y);const closePipe=()=>X.close().catch((()=>{}));const ee=new he.Connection(J,this._instrumentation);ee.markAsRemote();ee.on("close",closePipe);let ae;let Ee;const onPipeClosed=()=>{var v;(v=ae)===null||v===void 0?void 0:v._didClose();ee.close(Ee)};X.on("closed",onPipeClosed);ee.onmessage=v=>X.send({message:v}).catch(onPipeClosed);X.on("message",(({message:v})=>{try{ee.dispatch(v)}catch(v){Ee=v;closePipe()}}));const ke=await(0,Be.raceAgainstDeadline)((async()=>{const v=await ee.initializePlaywright();if(!v._initializer.preConnectedAndroidDevice){closePipe();throw new Error("Malformed endpoint. Did you use Android.launchServer method?")}ae=AndroidDevice.from(v._initializer.preConnectedAndroidDevice);ae._shouldCloseConnectionOnClose=true;ae.on(V.Events.AndroidDevice.Close,closePipe);return ae}),Q);if(!ke.timedOut){return ke.result}else{closePipe();throw new Error(`Timeout ${S.timeout}ms exceeded`)}}))}}S.Android=Android;ke=Symbol.asyncDispose;class AndroidDevice extends Y.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._timeoutSettings=void 0;this._webViews=new Map;this._shouldCloseConnectionOnClose=false;this.input=void 0;this.input=new AndroidInput(this);this._timeoutSettings=new X.TimeoutSettings(v._timeoutSettings);this._channel.on("webViewAdded",(({webView:v})=>this._onWebViewAdded(v)));this._channel.on("webViewRemoved",(({socketName:v})=>this._onWebViewRemoved(v)));this._channel.on("close",(()=>this._didClose()))}_onWebViewAdded(v){const S=new AndroidWebView(this,v);this._webViews.set(v.socketName,S);this.emit(V.Events.AndroidDevice.WebView,S)}_onWebViewRemoved(v){const S=this._webViews.get(v);this._webViews.delete(v);if(S)S.emit(V.Events.AndroidWebView.Close)}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v);this._channel.setDefaultTimeoutNoReply({timeout:v})}serial(){return this._initializer.serial}model(){return this._initializer.model}webViews(){return[...this._webViews.values()]}async webView(v,S){const predicate=S=>{if(v.pkg)return S.pkg()===v.pkg;if(v.socketName)return S._socketName()===v.socketName;return false};const Q=[...this._webViews.values()].find(predicate);if(Q)return Q;return await this.waitForEvent("webview",{...S,predicate:predicate})}async wait(v,S){await this._channel.wait({selector:toSelectorChannel(v),...S})}async fill(v,S,Q){await this._channel.fill({selector:toSelectorChannel(v),text:S,...Q})}async press(v,S,Q){await this.tap(v,Q);await this.input.press(S)}async tap(v,S){await this._channel.tap({selector:toSelectorChannel(v),...S})}async drag(v,S,Q){await this._channel.drag({selector:toSelectorChannel(v),dest:S,...Q})}async fling(v,S,Q){await this._channel.fling({selector:toSelectorChannel(v),direction:S,...Q})}async longTap(v,S){await this._channel.longTap({selector:toSelectorChannel(v),...S})}async pinchClose(v,S,Q){await this._channel.pinchClose({selector:toSelectorChannel(v),percent:S,...Q})}async pinchOpen(v,S,Q){await this._channel.pinchOpen({selector:toSelectorChannel(v),percent:S,...Q})}async scroll(v,S,Q,O){await this._channel.scroll({selector:toSelectorChannel(v),direction:S,percent:Q,...O})}async swipe(v,S,Q,O){await this._channel.swipe({selector:toSelectorChannel(v),direction:S,percent:Q,...O})}async info(v){return(await this._channel.info({selector:toSelectorChannel(v)})).info}async screenshot(v={}){const{binary:S}=await this._channel.screenshot();if(v.path)await O.default.promises.writeFile(v.path,S);return S}async[ke](){await this.close()}async close(){try{if(this._shouldCloseConnectionOnClose)this._connection.close();else await this._channel.close()}catch(v){if((0,Ee.isTargetClosedError)(v))return;throw v}}_didClose(){this.emit(V.Events.AndroidDevice.Close,this)}async shell(v){const{result:S}=await this._channel.shell({command:v});return S}async open(v){return AndroidSocket.from((await this._channel.open({command:v})).socket)}async installApk(v,S){await this._channel.installApk({file:await loadFile(v),args:S&&S.args})}async push(v,S,Q){await this._channel.push({file:await loadFile(v),path:S,mode:Q?Q.mode:undefined})}async launchBrowser(v={}){const S=await(0,J.prepareBrowserContextParams)(v);const Q=await this._channel.launchBrowser(S);const O=J.BrowserContext.from(Q.context);O._setOptions(S,{});return O}async waitForEvent(v,S={}){return await this._wrapApiCall((async()=>{const Q=this._timeoutSettings.timeout(typeof S==="function"?{}:S);const O=typeof S==="function"?S:S.predicate;const H=ee.Waiter.createForEvent(this,v);H.rejectOnTimeout(Q,`Timeout ${Q}ms exceeded while waiting for event "${v}"`);if(v!==V.Events.AndroidDevice.Close)H.rejectOnEvent(this,V.Events.AndroidDevice.Close,(()=>new Ee.TargetClosedError));const J=await H.waitForEvent(this,v,O);H.dispose();return J}))}}S.AndroidDevice=AndroidDevice;class AndroidSocket extends Y.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._channel.on("data",(({data:v})=>this.emit(V.Events.AndroidSocket.Data,v)));this._channel.on("close",(()=>this.emit(V.Events.AndroidSocket.Close)))}async write(v){await this._channel.write({data:v})}async close(){await this._channel.close()}async[Symbol.asyncDispose](){await this.close()}}S.AndroidSocket=AndroidSocket;async function loadFile(v){if((0,H.isString)(v))return await O.default.promises.readFile(v);return v}class AndroidInput{constructor(v){this._device=void 0;this._device=v}async type(v){await this._device._channel.inputType({text:v})}async press(v){await this._device._channel.inputPress({key:v})}async tap(v){await this._device._channel.inputTap({point:v})}async swipe(v,S,Q){await this._device._channel.inputSwipe({segments:S,steps:Q})}async drag(v,S,Q){await this._device._channel.inputDrag({from:v,to:S,steps:Q})}}S.AndroidInput=AndroidInput;function toSelectorChannel(v){const{checkable:S,checked:Q,clazz:O,clickable:V,depth:J,desc:Y,enabled:X,focusable:ee,focused:ae,hasChild:he,hasDescendant:Ee,longClickable:Be,pkg:ke,res:Re,scrollable:Oe,selected:Pe,text:Le}=v;const toRegex=v=>{if(v===undefined)return undefined;if((0,H.isRegExp)(v))return v.source;return"^"+v.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")+"$"};return{checkable:S,checked:Q,clazz:toRegex(O),pkg:toRegex(ke),desc:toRegex(Y),res:toRegex(Re),text:toRegex(Le),clickable:V,depth:J,enabled:X,focusable:ee,focused:ae,hasChild:he?{selector:toSelectorChannel(he.selector)}:undefined,hasDescendant:Ee?{selector:toSelectorChannel(Ee.selector),maxDepth:Ee.maxDepth}:undefined,longClickable:Be,scrollable:Oe,selected:Pe}}class AndroidWebView extends ae.EventEmitter{constructor(v,S){super();this._device=void 0;this._data=void 0;this._pagePromise=void 0;this._device=v;this._data=S}pid(){return this._data.pid}pkg(){return this._data.pkg}_socketName(){return this._data.socketName}async page(){if(!this._pagePromise)this._pagePromise=this._fetchPage();return await this._pagePromise}async _fetchPage(){const{context:v}=await this._device._channel.connectToWebView({socketName:this._data.socketName});return J.BrowserContext.from(v).pages()[0]}}S.AndroidWebView=AndroidWebView},5043:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Artifact=void 0;var O=_interopRequireWildcard(Q(7147));var H=Q(8423);var V=Q(6034);var J=Q(1578);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class Artifact extends J.ChannelOwner{static from(v){return v._object}async pathAfterFinished(){if(this._connection.isRemote())throw new Error(`Path is not available when connecting remotely. Use saveAs() to save a local copy.`);return(await this._channel.pathAfterFinished()).value}async saveAs(v){if(!this._connection.isRemote()){await this._channel.saveAs({path:v});return}const S=await this._channel.saveAsStream();const Q=H.Stream.from(S.stream);await(0,V.mkdirIfNeeded)(v);await new Promise(((S,H)=>{Q.stream().pipe(O.createWriteStream(v)).on("finish",S).on("error",H)}))}async failure(){return(await this._channel.failure()).error||null}async createReadStream(){const v=await this._channel.stream();const S=H.Stream.from(v.stream);return S.stream()}async readIntoBuffer(){const v=await this.createReadStream();return await new Promise(((S,Q)=>{const O=[];v.on("data",(v=>{O.push(v)}));v.on("end",(()=>{S(Buffer.concat(O))}));v.on("error",Q)}))}async cancel(){return await this._channel.cancel()}async delete(){return await this._channel.delete()}}S.Artifact=Artifact},8960:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Browser=void 0;var O=_interopRequireDefault(Q(7147));var H=Q(4096);var V=Q(1578);var J=Q(8289);var Y=Q(7447);var X=Q(5128);var ee=Q(5043);var ae=Q(3557);let he;function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}he=Symbol.asyncDispose;class Browser extends V.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._contexts=new Set;this._isConnected=true;this._closedPromise=void 0;this._shouldCloseConnectionOnClose=false;this._browserType=void 0;this._options={};this._name=void 0;this._path=void 0;this._connectHeaders=void 0;this._closeReason=void 0;this._name=O.name;this._channel.on("close",(()=>this._didClose()));this._closedPromise=new Promise((v=>this.once(J.Events.Browser.Disconnected,v)))}browserType(){return this._browserType}async newContext(v={}){return await this._innerNewContext(v,false)}async _newContextForReuse(v={}){return await this._wrapApiCall((async()=>{for(const v of this._contexts){await this._browserType._willCloseContext(v);for(const S of v.pages())S._onClose();v._onClose()}return await this._innerNewContext(v,true)}),true)}async _stopPendingOperations(v){return await this._wrapApiCall((async()=>{await this._channel.stopPendingOperations({reason:v})}),true)}async _innerNewContext(v={},S){v={...this._browserType._defaultContextOptions,...v};const Q=await(0,H.prepareBrowserContextParams)(v);const O=S?await this._channel.newContextForReuse(Q):await this._channel.newContext(Q);const V=H.BrowserContext.from(O.context);await this._browserType._didCreateContext(V,Q,this._options,v.logger||this._logger);return V}contexts(){return[...this._contexts]}version(){return this._initializer.version}async newPage(v={}){return await this._wrapApiCall((async()=>{const S=await this.newContext(v);const Q=await S.newPage();Q._ownedContext=S;S._ownerPage=Q;return Q}))}isConnected(){return this._isConnected}async newBrowserCDPSession(){return X.CDPSession.from((await this._channel.newBrowserCDPSession()).session)}async startTracing(v,S={}){this._path=S.path;await this._channel.startTracing({...S,page:v?v._channel:undefined})}async stopTracing(){const v=ee.Artifact.from((await this._channel.stopTracing()).artifact);const S=await v.readIntoBuffer();await v.delete();if(this._path){await(0,ae.mkdirIfNeeded)(this._path);await O.default.promises.writeFile(this._path,S);this._path=undefined}return S}async[he](){await this.close()}async close(v={}){this._closeReason=v.reason;try{if(this._shouldCloseConnectionOnClose)this._connection.close();else await this._channel.close(v);await this._closedPromise}catch(v){if((0,Y.isTargetClosedError)(v))return;throw v}}_didClose(){this._isConnected=false;this.emit(J.Events.Browser.Disconnected,this)}}S.Browser=Browser},4096:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.BrowserContext=void 0;S.prepareBrowserContextParams=prepareBrowserContextParams;var O=Q(2374);var H=Q(1730);var V=_interopRequireWildcard(Q(6529));var J=_interopRequireDefault(Q(7147));var Y=_interopRequireDefault(Q(1017));var X=Q(1578);var ee=Q(6886);var ae=Q(8960);var he=Q(395);var Ee=Q(8289);var Be=Q(9053);var ke=Q(7991);var Re=Q(3557);var Oe=Q(6034);var Pe=Q(5128);var Le=Q(2303);var je=Q(5043);var qe=Q(3750);var Ve=Q(9030);var ze=Q(4810);var $e=Q(359);var Ye=Q(1468);var et=Q(9558);var tt=Q(7447);let nt;function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}nt=Symbol.asyncDispose;class BrowserContext extends X.ChannelOwner{static from(v){return v._object}static fromNullable(v){return v?BrowserContext.from(v):null}constructor(v,S,Q,H){var J,Y;super(v,S,Q,H);this._pages=new Set;this._routes=[];this._browser=null;this._browserType=void 0;this._bindings=new Map;this._timeoutSettings=new Be.TimeoutSettings;this._ownerPage=void 0;this._closedPromise=void 0;this._options={};this.request=void 0;this.tracing=void 0;this._backgroundPages=new Set;this._serviceWorkers=new Set;this._isChromium=void 0;this._harRecorders=new Map;this._closeWasCalled=false;this._closeReason=void 0;this._harRouters=[];if(v instanceof ae.Browser)this._browser=v;(J=this._browser)===null||J===void 0?void 0:J._contexts.add(this);this._isChromium=((Y=this._browser)===null||Y===void 0?void 0:Y._name)==="chromium";this.tracing=Le.Tracing.from(H.tracing);this.request=qe.APIRequestContext.from(H.requestContext);this._channel.on("bindingCall",(({binding:v})=>this._onBinding(O.BindingCall.from(v))));this._channel.on("close",(()=>this._onClose()));this._channel.on("page",(({page:v})=>this._onPage(O.Page.from(v))));this._channel.on("route",(({route:v})=>this._onRoute(V.Route.from(v))));this._channel.on("backgroundPage",(({page:v})=>{const S=O.Page.from(v);this._backgroundPages.add(S);this.emit(Ee.Events.BrowserContext.BackgroundPage,S)}));this._channel.on("serviceWorker",(({worker:v})=>{const S=he.Worker.from(v);S._context=this;this._serviceWorkers.add(S);this.emit(Ee.Events.BrowserContext.ServiceWorker,S)}));this._channel.on("console",(v=>{const S=new $e.ConsoleMessage(v);this.emit(Ee.Events.BrowserContext.Console,S);const Q=S.page();if(Q)Q.emit(Ee.Events.Page.Console,S)}));this._channel.on("pageError",(({error:v,page:S})=>{const Q=O.Page.from(S);const H=(0,tt.parseError)(v);this.emit(Ee.Events.BrowserContext.WebError,new et.WebError(Q,H));if(Q)Q.emit(Ee.Events.Page.PageError,H)}));this._channel.on("dialog",(({dialog:v})=>{const S=Ye.Dialog.from(v);let Q=this.emit(Ee.Events.BrowserContext.Dialog,S);const O=S.page();if(O)Q=O.emit(Ee.Events.Page.Dialog,S)||Q;if(!Q){if(S.type()==="beforeunload")v.accept({}).catch((()=>{}));else v.dismiss().catch((()=>{}))}}));this._channel.on("request",(({request:v,page:S})=>this._onRequest(V.Request.from(v),O.Page.fromNullable(S))));this._channel.on("requestFailed",(({request:v,failureText:S,responseEndTiming:Q,page:H})=>this._onRequestFailed(V.Request.from(v),Q,S,O.Page.fromNullable(H))));this._channel.on("requestFinished",(v=>this._onRequestFinished(v)));this._channel.on("response",(({response:v,page:S})=>this._onResponse(V.Response.from(v),O.Page.fromNullable(S))));this._closedPromise=new Promise((v=>this.once(Ee.Events.BrowserContext.Close,v)));this._setEventToSubscriptionMapping(new Map([[Ee.Events.BrowserContext.Console,"console"],[Ee.Events.BrowserContext.Dialog,"dialog"],[Ee.Events.BrowserContext.Request,"request"],[Ee.Events.BrowserContext.Response,"response"],[Ee.Events.BrowserContext.RequestFinished,"requestFinished"],[Ee.Events.BrowserContext.RequestFailed,"requestFailed"]]))}_setOptions(v,S){this._options=v;if(this._options.recordHar)this._harRecorders.set("",{path:this._options.recordHar.path,content:this._options.recordHar.content});this.tracing._tracesDir=S.tracesDir}_onPage(v){this._pages.add(v);this.emit(Ee.Events.BrowserContext.Page,v);if(v._opener&&!v._opener.isClosed())v._opener.emit(Ee.Events.Page.Popup,v)}_onRequest(v,S){this.emit(Ee.Events.BrowserContext.Request,v);if(S)S.emit(Ee.Events.Page.Request,v)}_onResponse(v,S){this.emit(Ee.Events.BrowserContext.Response,v);if(S)S.emit(Ee.Events.Page.Response,v)}_onRequestFailed(v,S,Q,O){v._failureText=Q||null;v._setResponseEndTiming(S);this.emit(Ee.Events.BrowserContext.RequestFailed,v);if(O)O.emit(Ee.Events.Page.RequestFailed,v)}_onRequestFinished(v){const{responseEndTiming:S}=v;const Q=V.Request.from(v.request);const H=V.Response.fromNullable(v.response);const J=O.Page.fromNullable(v.page);Q._setResponseEndTiming(S);this.emit(Ee.Events.BrowserContext.RequestFinished,Q);if(J)J.emit(Ee.Events.Page.RequestFinished,Q);if(H)H._finishedPromise.resolve(null)}async _onRoute(v){v._context=this;const S=v.request()._safePage();const Q=this._routes.slice();for(const O of Q){if(S!==null&&S!==void 0&&S._closeWasCalled||this._closeWasCalled)return;if(!O.matches(v.request().url()))continue;const Q=this._routes.indexOf(O);if(Q===-1)continue;if(O.willExpire())this._routes.splice(Q,1);const H=await O.handle(v);if(!this._routes.length)this._wrapApiCall((()=>this._updateInterceptionPatterns()),true).catch((()=>{}));if(H)return}await v._innerContinue(true).catch((()=>{}))}async _onBinding(v){const S=this._bindings.get(v._initializer.name);if(!S)return;await v.call(S)}setDefaultNavigationTimeout(v){this._timeoutSettings.setDefaultNavigationTimeout(v);this._wrapApiCall((async()=>{this._channel.setDefaultNavigationTimeoutNoReply({timeout:v}).catch((()=>{}))}),true)}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v);this._wrapApiCall((async()=>{this._channel.setDefaultTimeoutNoReply({timeout:v}).catch((()=>{}))}),true)}browser(){return this._browser}pages(){return[...this._pages]}async newPage(){if(this._ownerPage)throw new Error("Please use browser.newContext()");return O.Page.from((await this._channel.newPage()).page)}async cookies(v){if(!v)v=[];if(v&&typeof v==="string")v=[v];return(await this._channel.cookies({urls:v})).cookies}async addCookies(v){await this._channel.addCookies({cookies:v})}async clearCookies(){await this._channel.clearCookies()}async grantPermissions(v,S){await this._channel.grantPermissions({permissions:v,...S})}async clearPermissions(){await this._channel.clearPermissions()}async setGeolocation(v){await this._channel.setGeolocation({geolocation:v||undefined})}async setExtraHTTPHeaders(v){V.validateHeaders(v);await this._channel.setExtraHTTPHeaders({headers:(0,Re.headersObjectToArray)(v)})}async setOffline(v){await this._channel.setOffline({offline:v})}async setHTTPCredentials(v){await this._channel.setHTTPCredentials({httpCredentials:v||undefined})}async addInitScript(v,S){const Q=await(0,ee.evaluationScript)(v,S);await this._channel.addInitScript({source:Q})}async exposeBinding(v,S,Q={}){await this._channel.exposeBinding({name:v,needsHandle:Q.handle});this._bindings.set(v,S)}async exposeFunction(v,S){await this._channel.exposeBinding({name:v});const binding=(v,...Q)=>S(...Q);this._bindings.set(v,binding)}async route(v,S,Q={}){this._routes.unshift(new V.RouteHandler(this._options.baseURL,v,S,Q.times));await this._updateInterceptionPatterns()}async _recordIntoHAR(v,S,Q={}){var O,H,V;const{harId:J}=await this._channel.harStart({page:S===null||S===void 0?void 0:S._channel,options:prepareRecordHarOptions({path:v,content:(O=Q.updateContent)!==null&&O!==void 0?O:"attach",mode:(H=Q.updateMode)!==null&&H!==void 0?H:"minimal",urlFilter:Q.url})});this._harRecorders.set(J,{path:v,content:(V=Q.updateContent)!==null&&V!==void 0?V:"attach"})}async routeFromHAR(v,S={}){if(S.update){await this._recordIntoHAR(v,null,S);return}const Q=await ze.HarRouter.create(this._connection.localUtils(),v,S.notFound||"abort",{urlMatch:S.url});this._harRouters.push(Q);await Q.addContextRoute(this)}_disposeHarRouters(){this._harRouters.forEach((v=>v.dispose()));this._harRouters=[]}async unrouteAll(v){await this._unrouteInternal(this._routes,[],v===null||v===void 0?void 0:v.behavior);this._disposeHarRouters()}async unroute(v,S){const Q=[];const O=[];for(const H of this._routes){if((0,Re.urlMatchesEqual)(H.url,v)&&(!S||H.handler===S))Q.push(H);else O.push(H)}await this._unrouteInternal(Q,O,"default")}async _unrouteInternal(v,S,Q){this._routes=S;await this._updateInterceptionPatterns();if(!Q||Q==="default")return;const O=v.map((v=>v.stop(Q)));await Promise.all(O)}async _updateInterceptionPatterns(){const v=V.RouteHandler.prepareInterceptionPatterns(this._routes);await this._channel.setNetworkInterceptionPatterns({patterns:v})}_effectiveCloseReason(){var v;return this._closeReason||((v=this._browser)===null||v===void 0?void 0:v._closeReason)}async waitForEvent(v,S={}){return await this._wrapApiCall((async()=>{const Q=this._timeoutSettings.timeout(typeof S==="function"?{}:S);const O=typeof S==="function"?S:S.predicate;const H=ke.Waiter.createForEvent(this,v);H.rejectOnTimeout(Q,`Timeout ${Q}ms exceeded while waiting for event "${v}"`);if(v!==Ee.Events.BrowserContext.Close)H.rejectOnEvent(this,Ee.Events.BrowserContext.Close,(()=>new tt.TargetClosedError(this._effectiveCloseReason())));const V=await H.waitForEvent(this,v,O);H.dispose();return V}))}async storageState(v={}){const S=await this._channel.storageState();if(v.path){await(0,Oe.mkdirIfNeeded)(v.path);await J.default.promises.writeFile(v.path,JSON.stringify(S,undefined,2),"utf8")}return S}backgroundPages(){return[...this._backgroundPages]}serviceWorkers(){return[...this._serviceWorkers]}async newCDPSession(v){if(!(v instanceof O.Page)&&!(v instanceof H.Frame))throw new Error("page: expected Page or Frame");const S=await this._channel.newCDPSession(v instanceof O.Page?{page:v._channel}:{frame:v._channel});return Pe.CDPSession.from(S.session)}_onClose(){var v,S;if(this._browser)this._browser._contexts.delete(this);(v=this._browserType)===null||v===void 0?void 0:(S=v._contexts)===null||S===void 0?void 0:S.delete(this);this._disposeHarRouters();this.emit(Ee.Events.BrowserContext.Close,this)}async[nt](){await this.close()}async close(v={}){if(this._closeWasCalled)return;this._closeReason=v.reason;this._closeWasCalled=true;await this._wrapApiCall((async()=>{var v;await((v=this._browserType)===null||v===void 0?void 0:v._willCloseContext(this));for(const[v,S]of this._harRecorders){const Q=await this._channel.harExport({harId:v});const O=je.Artifact.from(Q.artifact);const H=S.content==="attach"||S.path.endsWith(".zip");const V=S.path.endsWith(".zip");if(H&&!V){await O.saveAs(S.path+".tmp");await this._connection.localUtils()._channel.harUnzip({zipFile:S.path+".tmp",harFile:S.path})}else{await O.saveAs(S.path)}await O.delete()}}),true);await this._channel.close(v);await this._closedPromise}async _enableRecorder(v){await this._channel.recorderSupplementEnable(v)}}S.BrowserContext=BrowserContext;async function prepareStorageState(v){if(typeof v.storageState!=="string")return v.storageState;try{return JSON.parse(await J.default.promises.readFile(v.storageState,"utf8"))}catch(S){(0,Ve.rewriteErrorMessage)(S,`Error reading storage state from ${v.storageState}:\n`+S.message);throw S}}function prepareRecordHarOptions(v){if(!v)return;return{path:v.path,content:v.content||(v.omitContent?"omit":undefined),urlGlob:(0,Re.isString)(v.urlFilter)?v.urlFilter:undefined,urlRegexSource:(0,Re.isRegExp)(v.urlFilter)?v.urlFilter.source:undefined,urlRegexFlags:(0,Re.isRegExp)(v.urlFilter)?v.urlFilter.flags:undefined,mode:v.mode}}async function prepareBrowserContextParams(v){if(v.videoSize&&!v.videosPath)throw new Error(`"videoSize" option requires "videosPath" to be specified`);if(v.extraHTTPHeaders)V.validateHeaders(v.extraHTTPHeaders);const S={...v,viewport:v.viewport===null?undefined:v.viewport,noDefaultViewport:v.viewport===null,extraHTTPHeaders:v.extraHTTPHeaders?(0,Re.headersObjectToArray)(v.extraHTTPHeaders):undefined,storageState:await prepareStorageState(v),serviceWorkers:v.serviceWorkers,recordHar:prepareRecordHarOptions(v.recordHar),colorScheme:v.colorScheme===null?"no-override":v.colorScheme,reducedMotion:v.reducedMotion===null?"no-override":v.reducedMotion,forcedColors:v.forcedColors===null?"no-override":v.forcedColors,acceptDownloads:toAcceptDownloadsProtocol(v.acceptDownloads)};if(!S.recordVideo&&v.videosPath){S.recordVideo={dir:v.videosPath,size:v.videoSize}}if(S.recordVideo&&S.recordVideo.dir)S.recordVideo.dir=Y.default.resolve(process.cwd(),S.recordVideo.dir);return S}function toAcceptDownloadsProtocol(v){if(v===undefined)return undefined;if(v===true)return"accept";return"deny"}},2450:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.BrowserType=void 0;var O=Q(8960);var H=Q(4096);var V=Q(1578);var J=Q(1776);var Y=Q(8289);var X=Q(6886);var ee=Q(3557);var ae=Q(803);class BrowserType extends V.ChannelOwner{constructor(...v){super(...v);this._serverLauncher=void 0;this._contexts=new Set;this._playwright=void 0;this._defaultContextOptions=void 0;this._defaultContextTimeout=void 0;this._defaultContextNavigationTimeout=void 0;this._defaultLaunchOptions=void 0}static from(v){return v._object}executablePath(){if(!this._initializer.executablePath)throw new Error("Browser is not supported on current platform");return this._initializer.executablePath}name(){return this._initializer.name}async launch(v={}){var S;(0,ee.assert)(!v.userDataDir,"userDataDir option is not supported in `browserType.launch`. Use `browserType.launchPersistentContext` instead");(0,ee.assert)(!v.port,"Cannot specify a port without launching as a server.");const Q=v.logger||((S=this._defaultLaunchOptions)===null||S===void 0?void 0:S.logger);v={...this._defaultLaunchOptions,...v};const H={...v,ignoreDefaultArgs:Array.isArray(v.ignoreDefaultArgs)?v.ignoreDefaultArgs:undefined,ignoreAllDefaultArgs:!!v.ignoreDefaultArgs&&!Array.isArray(v.ignoreDefaultArgs),env:v.env?(0,X.envObjectToArray)(v.env):undefined};return await this._wrapApiCall((async()=>{const S=O.Browser.from((await this._channel.launch(H)).browser);this._didLaunchBrowser(S,v,Q);return S}))}async launchServer(v={}){if(!this._serverLauncher)throw new Error("Launching server is not supported");v={...this._defaultLaunchOptions,...v};return await this._serverLauncher.launchServer(v)}async launchPersistentContext(v,S={}){var Q;const O=S.logger||((Q=this._defaultLaunchOptions)===null||Q===void 0?void 0:Q.logger);(0,ee.assert)(!S.port,"Cannot specify a port without launching as a server.");S={...this._defaultLaunchOptions,...this._defaultContextOptions,...S};const V=await(0,H.prepareBrowserContextParams)(S);const J={...V,ignoreDefaultArgs:Array.isArray(S.ignoreDefaultArgs)?S.ignoreDefaultArgs:undefined,ignoreAllDefaultArgs:!!S.ignoreDefaultArgs&&!Array.isArray(S.ignoreDefaultArgs),env:S.env?(0,X.envObjectToArray)(S.env):undefined,channel:S.channel,userDataDir:v};return await this._wrapApiCall((async()=>{const v=await this._channel.launchPersistentContext(J);const Q=H.BrowserContext.from(v.context);await this._didCreateContext(Q,V,S,O);return Q}))}async connect(v,S){if(typeof v==="string")return await this._connect({...S,wsEndpoint:v});(0,ee.assert)(v.wsEndpoint,"options.wsEndpoint is required");return await this._connect(v)}async _connect(v){const S=v.logger;return await this._wrapApiCall((async()=>{var Q;const H=v.timeout?(0,ee.monotonicTime)()+v.timeout:0;const V={"x-playwright-browser":this.name(),...v.headers};const X=this._connection.localUtils();const he={wsEndpoint:v.wsEndpoint,headers:V,exposeNetwork:(Q=v.exposeNetwork)!==null&&Q!==void 0?Q:v._exposeNetwork,slowMo:v.slowMo,timeout:v.timeout};if(v.__testHookRedirectPortForwarding)he.socksProxyRedirectPortForTest=v.__testHookRedirectPortForwarding;const{pipe:Ee,headers:Be}=await X._channel.connect(he);const closePipe=()=>Ee.close().catch((()=>{}));const ke=new J.Connection(X,this._instrumentation);ke.markAsRemote();ke.on("close",closePipe);let Re;let Oe;const onPipeClosed=()=>{var v;for(const v of((S=Re)===null||S===void 0?void 0:S.contexts())||[]){var S;for(const S of v.pages())S._onClose();v._onClose()}(v=Re)===null||v===void 0?void 0:v._didClose();ke.close(Oe)};Ee.on("closed",onPipeClosed);ke.onmessage=v=>Ee.send({message:v}).catch(onPipeClosed);Ee.on("message",(({message:v})=>{try{ke.dispatch(v)}catch(v){Oe=v;closePipe()}}));const Pe=await(0,ae.raceAgainstDeadline)((async()=>{if(v.__testHookBeforeCreateBrowser)await v.__testHookBeforeCreateBrowser();const Q=await ke.initializePlaywright();if(!Q._initializer.preLaunchedBrowser){closePipe();throw new Error("Malformed endpoint. Did you use BrowserType.launchServer method?")}Q._setSelectors(this._playwright.selectors);Re=O.Browser.from(Q._initializer.preLaunchedBrowser);this._didLaunchBrowser(Re,{},S);Re._shouldCloseConnectionOnClose=true;Re._connectHeaders=Be;Re.on(Y.Events.Browser.Disconnected,closePipe);return Re}),H);if(!Pe.timedOut){return Pe.result}else{closePipe();throw new Error(`Timeout ${v.timeout}ms exceeded`)}}))}async connectOverCDP(v,S){if(typeof v==="string")return await this._connectOverCDP(v,S);const Q="endpointURL"in v?v.endpointURL:v.wsEndpoint;(0,ee.assert)(Q,"Cannot connect over CDP without wsEndpoint.");return await this.connectOverCDP(Q,v)}async _connectOverCDP(v,S={}){if(this.name()!=="chromium")throw new Error("Connecting over CDP is only supported in Chromium.");const Q=S.headers?(0,ee.headersObjectToArray)(S.headers):undefined;const V=await this._channel.connectOverCDP({endpointURL:v,headers:Q,slowMo:S.slowMo,timeout:S.timeout});const J=O.Browser.from(V.browser);this._didLaunchBrowser(J,{},S.logger);if(V.defaultContext)await this._didCreateContext(H.BrowserContext.from(V.defaultContext),{},{},S.logger);return J}_didLaunchBrowser(v,S,Q){v._browserType=this;v._options=S;v._logger=Q}async _didCreateContext(v,S,Q,O){v._logger=O;v._browserType=this;this._contexts.add(v);v._setOptions(S,Q);if(this._defaultContextTimeout!==undefined)v.setDefaultTimeout(this._defaultContextTimeout);if(this._defaultContextNavigationTimeout!==undefined)v.setDefaultNavigationTimeout(this._defaultContextNavigationTimeout);await this._instrumentation.onDidCreateBrowserContext(v)}async _willCloseContext(v){this._contexts.delete(v);await this._instrumentation.onWillCloseBrowserContext(v)}}S.BrowserType=BrowserType},5128:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CDPSession=void 0;var O=Q(1578);class CDPSession extends O.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._channel.on("event",(({method:v,params:S})=>{this.emit(v,S)}));this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}async send(v,S){const Q=await this._channel.send({method:v,params:S});return Q.result}async detach(){return await this._channel.detach()}}S.CDPSession=CDPSession},1578:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ChannelOwner=void 0;var O=Q(2361);var H=Q(7989);var V=Q(2003);var J=Q(9030);var Y=Q(3557);var X=Q(4940);class ChannelOwner extends O.EventEmitter{constructor(v,S,Q,H){super();this._connection=void 0;this._parent=void 0;this._objects=new Map;this._type=void 0;this._guid=void 0;this._channel=void 0;this._initializer=void 0;this._logger=void 0;this._instrumentation=void 0;this._eventToSubscriptionMapping=new Map;this._wasCollected=false;this.setMaxListeners(0);this._connection=v instanceof ChannelOwner?v._connection:v;this._type=S;this._guid=Q;this._parent=v instanceof ChannelOwner?v:undefined;this._instrumentation=this._connection._instrumentation;this._connection._objects.set(Q,this);if(this._parent){this._parent._objects.set(Q,this);this._logger=this._parent._logger}this._channel=this._createChannel(new O.EventEmitter);this._initializer=H}_setEventToSubscriptionMapping(v){this._eventToSubscriptionMapping=v}_updateSubscription(v,S){const Q=this._eventToSubscriptionMapping.get(String(v));if(Q){this._wrapApiCall((async()=>{await this._channel.updateSubscription({event:Q,enabled:S})}),true).catch((()=>{}))}}on(v,S){if(!this.listenerCount(v))this._updateSubscription(v,true);super.on(v,S);return this}addListener(v,S){if(!this.listenerCount(v))this._updateSubscription(v,true);super.addListener(v,S);return this}prependListener(v,S){if(!this.listenerCount(v))this._updateSubscription(v,true);super.prependListener(v,S);return this}off(v,S){super.off(v,S);if(!this.listenerCount(v))this._updateSubscription(v,false);return this}removeListener(v,S){super.removeListener(v,S);if(!this.listenerCount(v))this._updateSubscription(v,false);return this}_adopt(v){v._parent._objects.delete(v._guid);this._objects.set(v._guid,v);v._parent=this}_dispose(v){if(this._parent)this._parent._objects.delete(this._guid);this._connection._objects.delete(this._guid);this._wasCollected=v==="gc";for(const S of[...this._objects.values()])S._dispose(v);this._objects.clear()}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._objects.values()).map((v=>v._debugScopeState()))}}_createChannel(v){const S=new Proxy(v,{get:(v,S)=>{if(typeof S==="string"){const v=(0,H.maybeFindValidator)(this._type,S,"Params");if(v){return async Q=>await this._wrapApiCall((async O=>{const{apiName:H,frames:V,csi:J,callCookie:Y,wallTime:X}=O.reported?{apiName:undefined,csi:undefined,callCookie:undefined,frames:[],wallTime:undefined}:O;O.reported=true;if(J&&H)J.onApiCallBegin(H,Q,V,X,Y);return await this._connection.sendMessageToServer(this,S,v(Q,"",{tChannelImpl:tChannelImplToWire,binary:this._connection.rawBuffers()?"buffer":"toBase64"}),H,V,X)}))}}return v[S]}});S._object=this;return S}async _wrapApiCall(v,S=false){const Q=this._logger;const O=(0,J.captureRawStack)();const H=X.zones.zoneData("apiZone",O);if(H)return await v(H);const V=(0,J.captureLibraryStackTrace)(O);let ee=V.apiName;const ae=V.frames;S=S||this._type==="LocalUtils";if(S)ee=undefined;const he=X.zones.zoneData("expectZone",O);const Ee=he?he.wallTime:Date.now();if(!S&&he)ee=he.title;const Be=S||he?undefined:this._instrumentation;const ke={};try{logApiCall(Q,`=> ${ee} started`,S);const O={apiName:ee,frames:ae,isInternal:S,reported:false,csi:Be,callCookie:ke,wallTime:Ee};const H=await X.zones.run("apiZone",O,(async()=>await v(O)));Be===null||Be===void 0?void 0:Be.onApiCallEnd(ke);logApiCall(Q,`<= ${ee} succeeded`,S);return H}catch(v){const O=(process.env.PWDEBUGIMPL||(0,Y.isUnderTest)())&&v.stack?"\n<inner error>\n"+v.stack:"";if(ee&&!ee.includes("<anonymous>"))v.message=ee+": "+v.message;const H="\n"+(0,J.stringifyStackFrames)(V.frames).join("\n")+O;if(H.trim())v.stack=v.message+H;else v.stack="";Be===null||Be===void 0?void 0:Be.onApiCallEnd(ke,v);logApiCall(Q,`<= ${ee} failed`,S);throw v}}_toImpl(){var v,S;return(v=(S=this._connection).toImpl)===null||v===void 0?void 0:v.call(S,this)}toJSON(){return{_type:this._type,_guid:this._guid}}}S.ChannelOwner=ChannelOwner;function logApiCall(v,S,Q){if(Q)return;if(v&&v.isEnabled("api","info"))v.log("api","info",S,[],{color:"cyan"});V.debugLogger.log("api",S)}function tChannelImplToWire(v,S,Q,O){if(S._object instanceof ChannelOwner&&(v==="*"||v.includes(S._object._type)))return{guid:S._object._guid};throw new H.ValidationError(`${Q}: expected channel ${v.toString()}`)}},6886:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.envObjectToArray=envObjectToArray;S.evaluationScript=evaluationScript;var O=_interopRequireDefault(Q(7147));var H=Q(3557);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function envObjectToArray(v){const S=[];for(const Q in v){if(!Object.is(v[Q],undefined))S.push({name:Q,value:String(v[Q])})}return S}async function evaluationScript(v,S,Q=true){if(typeof v==="function"){const Q=v.toString();const O=Object.is(S,undefined)?"undefined":JSON.stringify(S);return`(${Q})(${O})`}if(S!==undefined)throw new Error("Cannot evaluate a string with arguments");if((0,H.isString)(v))return v;if(v.content!==undefined)return v.content;if(v.path!==undefined){let S=await O.default.promises.readFile(v.path,"utf8");if(Q)S+="\n//# sourceURL="+v.path.replace(/\n/g,"");return S}throw new Error("Either path or content property must be present")}},6389:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.createInstrumentation=createInstrumentation;function createInstrumentation(){const v=[];return new Proxy({},{get:(S,Q)=>{if(typeof Q!=="string")return S[Q];if(Q==="addListener")return S=>v.push(S);if(Q==="removeListener")return S=>v.splice(v.indexOf(S),1);if(Q==="removeAllListeners")return()=>v.splice(0,v.length);if(!Q.startsWith("on"))return S[Q];return async(...S)=>{for(const V of v){var O,H;await((O=(H=V)[Q])===null||O===void 0?void 0:O.call(H,...S))}}}})}},1776:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Connection=void 0;var O=Q(8960);var H=Q(4096);var V=Q(2450);var J=Q(1578);var Y=Q(9634);var X=Q(1730);var ee=Q(6594);var ae=Q(6529);var he=Q(2374);var Ee=Q(395);var Be=Q(1468);var ke=Q(7447);var Re=Q(5128);var Oe=Q(5983);var Pe=Q(1181);var Le=Q(8423);var je=Q(4493);var qe=Q(2003);var Ve=Q(6212);var ze=Q(8068);var $e=Q(5043);var Ye=Q(2361);var et=Q(4772);var tt=Q(3750);var nt=Q(3075);var it=Q(2303);var st=Q(7989);var at=Q(6389);var lt=Q(3557);class Root extends J.ChannelOwner{constructor(v){super(v,"Root","",{})}async initialize(){return Oe.Playwright.from((await this._channel.initialize({sdkLanguage:"javascript"})).playwright)}}class DummyChannelOwner extends J.ChannelOwner{}class Connection extends Ye.EventEmitter{constructor(v,S){super();this._objects=new Map;this.onmessage=v=>{};this._lastId=0;this._callbacks=new Map;this._rootObject=void 0;this._closedError=void 0;this._isRemote=false;this._localUtils=void 0;this._rawBuffers=false;this.toImpl=void 0;this._tracingCount=0;this._instrumentation=void 0;this._rootObject=new Root(this);this._localUtils=v;this._instrumentation=S||(0,at.createInstrumentation)()}markAsRemote(){this._isRemote=true}isRemote(){return this._isRemote}useRawBuffers(){this._rawBuffers=true}rawBuffers(){return this._rawBuffers}localUtils(){return this._localUtils}async initializePlaywright(){return await this._rootObject.initialize()}getObjectWithKnownName(v){return this._objects.get(v)}setIsTracing(v){if(v)this._tracingCount++;else this._tracingCount--}async sendMessageToServer(v,S,Q,O,H,V){var J;if(this._closedError)throw this._closedError;if(v._wasCollected)throw new Error("The object has been collected to prevent unbounded heap growth.");const Y=v._guid;const X=v._type;const ee=++this._lastId;const ae={id:ee,guid:Y,method:S,params:Q};if(qe.debugLogger.isEnabled("channel")){qe.debugLogger.log("channel","SEND> "+JSON.stringify(ae))}const he=H[0]?{file:H[0].file,line:H[0].line,column:H[0].column}:undefined;const Ee={wallTime:V,apiName:O,location:he,internal:!O};if(this._tracingCount&&H&&X!=="LocalUtils")(J=this._localUtils)===null||J===void 0?void 0:J._channel.addStackToTracingNoReply({callData:{stack:H,id:ee}}).catch((()=>{}));this.onmessage({...ae,metadata:Ee});return await new Promise(((v,Q)=>this._callbacks.set(ee,{resolve:v,reject:Q,apiName:O,type:X,method:S})))}dispatch(v){if(this._closedError)return;const{id:S,guid:Q,method:O,params:H,result:V,error:J,log:Y}=v;if(S){if(qe.debugLogger.isEnabled("channel"))qe.debugLogger.log("channel","<RECV "+JSON.stringify(v));const Q=this._callbacks.get(S);if(!Q)throw new Error(`Cannot find command to respond: ${S}`);this._callbacks.delete(S);if(J&&!V){const v=(0,ke.parseError)(J);(0,lt.rewriteErrorMessage)(v,v.message+(0,lt.formatCallLog)(Y));Q.reject(v)}else{const v=(0,st.findValidator)(Q.type,Q.method,"Result");Q.resolve(v(V,"",{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._rawBuffers?"buffer":"fromBase64"}))}return}if(qe.debugLogger.isEnabled("channel"))qe.debugLogger.log("channel","<EVENT "+JSON.stringify(v));if(O==="__create__"){this._createRemoteObject(Q,H.type,H.guid,H.initializer);return}const X=this._objects.get(Q);if(!X)throw new Error(`Cannot find object to "${O}": ${Q}`);if(O==="__adopt__"){const v=this._objects.get(H.guid);if(!v)throw new Error(`Unknown new child: ${H.guid}`);X._adopt(v);return}if(O==="__dispose__"){X._dispose(H.reason);return}const ee=(0,st.findValidator)(X._type,O,"Event");X._channel.emit(O,ee(H,"",{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._rawBuffers?"buffer":"fromBase64"}))}close(v){this._closedError=new ke.TargetClosedError(v===null||v===void 0?void 0:v.toString());for(const v of this._callbacks.values())v.reject(this._closedError);this._callbacks.clear();this.emit("close")}_tChannelImplFromWire(v,S,Q,O){if(S&&typeof S==="object"&&typeof S.guid==="string"){const O=this._objects.get(S.guid);if(!O)throw new Error(`Object with guid ${S.guid} was not bound in the connection`);if(v!=="*"&&!v.includes(O._type))throw new st.ValidationError(`${Q}: expected channel ${v.toString()}`);return O._channel}throw new st.ValidationError(`${Q}: expected channel ${v.toString()}`)}_createRemoteObject(v,S,Q,J){const ke=this._objects.get(v);if(!ke)throw new Error(`Cannot find parent object ${v} to create ${Q}`);let qe;const Ye=(0,st.findValidator)(S,"","Initializer");J=Ye(J,"",{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._rawBuffers?"buffer":"fromBase64"});switch(S){case"Android":qe=new ze.Android(ke,S,Q,J);break;case"AndroidSocket":qe=new ze.AndroidSocket(ke,S,Q,J);break;case"AndroidDevice":qe=new ze.AndroidDevice(ke,S,Q,J);break;case"APIRequestContext":qe=new tt.APIRequestContext(ke,S,Q,J);break;case"Artifact":qe=new $e.Artifact(ke,S,Q,J);break;case"BindingCall":qe=new he.BindingCall(ke,S,Q,J);break;case"Browser":qe=new O.Browser(ke,S,Q,J);break;case"BrowserContext":qe=new H.BrowserContext(ke,S,Q,J);break;case"BrowserType":qe=new V.BrowserType(ke,S,Q,J);break;case"CDPSession":qe=new Re.CDPSession(ke,S,Q,J);break;case"Dialog":qe=new Be.Dialog(ke,S,Q,J);break;case"Electron":qe=new Pe.Electron(ke,S,Q,J);break;case"ElectronApplication":qe=new Pe.ElectronApplication(ke,S,Q,J);break;case"ElementHandle":qe=new Y.ElementHandle(ke,S,Q,J);break;case"Frame":qe=new X.Frame(ke,S,Q,J);break;case"JSHandle":qe=new ee.JSHandle(ke,S,Q,J);break;case"JsonPipe":qe=new et.JsonPipe(ke,S,Q,J);break;case"LocalUtils":qe=new nt.LocalUtils(ke,S,Q,J);if(!this._localUtils)this._localUtils=qe;break;case"Page":qe=new he.Page(ke,S,Q,J);break;case"Playwright":qe=new Oe.Playwright(ke,S,Q,J);break;case"Request":qe=new ae.Request(ke,S,Q,J);break;case"Response":qe=new ae.Response(ke,S,Q,J);break;case"Route":qe=new ae.Route(ke,S,Q,J);break;case"Stream":qe=new Le.Stream(ke,S,Q,J);break;case"Selectors":qe=new Ve.SelectorsOwner(ke,S,Q,J);break;case"SocksSupport":qe=new DummyChannelOwner(ke,S,Q,J);break;case"Tracing":qe=new it.Tracing(ke,S,Q,J);break;case"WebSocket":qe=new ae.WebSocket(ke,S,Q,J);break;case"Worker":qe=new Ee.Worker(ke,S,Q,J);break;case"WritableStream":qe=new je.WritableStream(ke,S,Q,J);break;default:throw new Error("Missing type "+S)}return qe}}S.Connection=Connection},359:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ConsoleMessage=void 0;var O=_interopRequireWildcard(Q(3837));var H=Q(6594);var V=Q(2374);let J;function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}J=O.inspect.custom;class ConsoleMessage{constructor(v){this._page=void 0;this._event=void 0;this._page=v.page?V.Page.from(v.page):null;this._event=v}page(){return this._page}type(){return this._event.type}text(){return this._event.text}args(){return this._event.args.map(H.JSHandle.from)}location(){return this._event.location}[J](){return this.text()}}S.ConsoleMessage=ConsoleMessage},9679:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Coverage=void 0;class Coverage{constructor(v){this._channel=void 0;this._channel=v}async startJSCoverage(v={}){await this._channel.startJSCoverage(v)}async stopJSCoverage(){return(await this._channel.stopJSCoverage()).entries}async startCSSCoverage(v={}){await this._channel.startCSSCoverage(v)}async stopCSSCoverage(){return(await this._channel.stopCSSCoverage()).entries}}S.Coverage=Coverage},1468:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Dialog=void 0;var O=Q(1578);var H=Q(2374);class Dialog extends O.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._page=void 0;this._page=H.Page.fromNullable(O.page)}page(){return this._page}type(){return this._initializer.type}message(){return this._initializer.message}defaultValue(){return this._initializer.defaultValue}async accept(v){await this._channel.accept({promptText:v})}async dismiss(){await this._channel.dismiss()}}S.Dialog=Dialog},9551:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Download=void 0;class Download{constructor(v,S,Q,O){this._page=void 0;this._url=void 0;this._suggestedFilename=void 0;this._artifact=void 0;this._page=v;this._url=S;this._suggestedFilename=Q;this._artifact=O}page(){return this._page}url(){return this._url}suggestedFilename(){return this._suggestedFilename}async path(){return await this._artifact.pathAfterFinished()}async saveAs(v){return await this._artifact.saveAs(v)}async failure(){return await this._artifact.failure()}async createReadStream(){return await this._artifact.createReadStream()}async cancel(){return await this._artifact.cancel()}async delete(){return await this._artifact.delete()}}S.Download=Download},1181:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ElectronApplication=S.Electron=void 0;var O=Q(9053);var H=Q(4096);var V=Q(1578);var J=Q(6886);var Y=Q(8289);var X=Q(6594);var ee=Q(7991);var ae=Q(7447);let he;class Electron extends V.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O)}async launch(v={}){const S={...await(0,H.prepareBrowserContextParams)(v),env:(0,J.envObjectToArray)(v.env?v.env:process.env),tracesDir:v.tracesDir};const Q=ElectronApplication.from((await this._channel.launch(S)).electronApplication);Q._context._options=S;return Q}}S.Electron=Electron;he=Symbol.asyncDispose;class ElectronApplication extends V.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,V){super(v,S,Q,V);this._context=void 0;this._windows=new Set;this._timeoutSettings=new O.TimeoutSettings;this._isClosed=false;this._context=H.BrowserContext.from(V.context);for(const v of this._context._pages)this._onPage(v);this._context.on(Y.Events.BrowserContext.Page,(v=>this._onPage(v)));this._channel.on("close",(()=>{this._isClosed=true;this.emit(Y.Events.ElectronApplication.Close)}))}process(){return this._toImpl().process()}_onPage(v){this._windows.add(v);this.emit(Y.Events.ElectronApplication.Window,v);v.once(Y.Events.Page.Close,(()=>this._windows.delete(v)))}windows(){return[...this._windows]}async firstWindow(v){if(this._windows.size)return this._windows.values().next().value;return await this.waitForEvent("window",v)}context(){return this._context}async[he](){await this.close()}async close(){if(this._isClosed)return;await this._channel.close().catch((()=>{}))}async waitForEvent(v,S={}){return await this._wrapApiCall((async()=>{const Q=this._timeoutSettings.timeout(typeof S==="function"?{}:S);const O=typeof S==="function"?S:S.predicate;const H=ee.Waiter.createForEvent(this,v);H.rejectOnTimeout(Q,`Timeout ${Q}ms exceeded while waiting for event "${v}"`);if(v!==Y.Events.ElectronApplication.Close)H.rejectOnEvent(this,Y.Events.ElectronApplication.Close,(()=>new ae.TargetClosedError));const V=await H.waitForEvent(this,v,O);H.dispose();return V}))}async browserWindow(v){const S=await this._channel.browserWindow({page:v._channel});return X.JSHandle.from(S.handle)}async evaluate(v,S){const Q=await this._channel.evaluateExpression({expression:String(v),isFunction:typeof v==="function",arg:(0,X.serializeArgument)(S)});return(0,X.parseResult)(Q.value)}async evaluateHandle(v,S){const Q=await this._channel.evaluateExpressionHandle({expression:String(v),isFunction:typeof v==="function",arg:(0,X.serializeArgument)(S)});return X.JSHandle.from(Q.handle)}}S.ElectronApplication=ElectronApplication},9634:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ElementHandle=void 0;S.convertInputFiles=convertInputFiles;S.convertSelectOptionValues=convertSelectOptionValues;S.determineScreenshotType=determineScreenshotType;var O=Q(1730);var H=Q(6594);var V=_interopRequireDefault(Q(7147));var J=Q(1319);var Y=_interopRequireDefault(Q(1017));var X=Q(3557);var ee=Q(6034);var ae=Q(4493);var he=Q(2781);var Ee=Q(3837);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const Be=(0,Ee.promisify)(he.pipeline);class ElementHandle extends H.JSHandle{static from(v){return v._object}static fromNullable(v){return v?ElementHandle.from(v):null}constructor(v,S,Q,O){super(v,S,Q,O);this._elementChannel=void 0;this._elementChannel=this._channel}asElement(){return this}async ownerFrame(){return O.Frame.fromNullable((await this._elementChannel.ownerFrame()).frame)}async contentFrame(){return O.Frame.fromNullable((await this._elementChannel.contentFrame()).frame)}async getAttribute(v){const S=(await this._elementChannel.getAttribute({name:v})).value;return S===undefined?null:S}async inputValue(){return(await this._elementChannel.inputValue()).value}async textContent(){const v=(await this._elementChannel.textContent()).value;return v===undefined?null:v}async innerText(){return(await this._elementChannel.innerText()).value}async innerHTML(){return(await this._elementChannel.innerHTML()).value}async isChecked(){return(await this._elementChannel.isChecked()).value}async isDisabled(){return(await this._elementChannel.isDisabled()).value}async isEditable(){return(await this._elementChannel.isEditable()).value}async isEnabled(){return(await this._elementChannel.isEnabled()).value}async isHidden(){return(await this._elementChannel.isHidden()).value}async isVisible(){return(await this._elementChannel.isVisible()).value}async dispatchEvent(v,S={}){await this._elementChannel.dispatchEvent({type:v,eventInit:(0,H.serializeArgument)(S)})}async scrollIntoViewIfNeeded(v={}){await this._elementChannel.scrollIntoViewIfNeeded(v)}async hover(v={}){await this._elementChannel.hover(v)}async click(v={}){return await this._elementChannel.click(v)}async dblclick(v={}){return await this._elementChannel.dblclick(v)}async tap(v={}){return await this._elementChannel.tap(v)}async selectOption(v,S={}){const Q=await this._elementChannel.selectOption({...convertSelectOptionValues(v),...S});return Q.values}async fill(v,S={}){return await this._elementChannel.fill({value:v,...S})}async selectText(v={}){await this._elementChannel.selectText(v)}async setInputFiles(v,S={}){const Q=await this.ownerFrame();if(!Q)throw new Error("Cannot set input files to detached element");const O=await convertInputFiles(v,Q.page().context());await this._elementChannel.setInputFiles({...O,...S})}async focus(){await this._elementChannel.focus()}async type(v,S={}){await this._elementChannel.type({text:v,...S})}async press(v,S={}){await this._elementChannel.press({key:v,...S})}async check(v={}){return await this._elementChannel.check(v)}async uncheck(v={}){return await this._elementChannel.uncheck(v)}async setChecked(v,S){if(v)await this.check(S);else await this.uncheck(S)}async boundingBox(){const v=(await this._elementChannel.boundingBox()).value;return v===undefined?null:v}async screenshot(v={}){const S={...v,mask:undefined};if(!S.type)S.type=determineScreenshotType(v);if(v.mask){S.mask=v.mask.map((v=>({frame:v._frame._channel,selector:v._selector})))}const Q=await this._elementChannel.screenshot(S);if(v.path){await(0,ee.mkdirIfNeeded)(v.path);await V.default.promises.writeFile(v.path,Q.binary)}return Q.binary}async $(v){return ElementHandle.fromNullable((await this._elementChannel.querySelector({selector:v})).element)}async $$(v){const S=await this._elementChannel.querySelectorAll({selector:v});return S.elements.map((v=>ElementHandle.from(v)))}async $eval(v,S,Q){const O=await this._elementChannel.evalOnSelector({selector:v,expression:String(S),isFunction:typeof S==="function",arg:(0,H.serializeArgument)(Q)});return(0,H.parseResult)(O.value)}async $$eval(v,S,Q){const O=await this._elementChannel.evalOnSelectorAll({selector:v,expression:String(S),isFunction:typeof S==="function",arg:(0,H.serializeArgument)(Q)});return(0,H.parseResult)(O.value)}async waitForElementState(v,S={}){return await this._elementChannel.waitForElementState({state:v,...S})}async waitForSelector(v,S={}){const Q=await this._elementChannel.waitForSelector({selector:v,...S});return ElementHandle.fromNullable(Q.element)}}S.ElementHandle=ElementHandle;function convertSelectOptionValues(v){if(v===null)return{};if(!Array.isArray(v))v=[v];if(!v.length)return{};for(let S=0;S<v.length;S++)(0,X.assert)(v[S]!==null,`options[${S}]: expected object, got null`);if(v[0]instanceof ElementHandle)return{elements:v.map((v=>v._elementChannel))};if((0,X.isString)(v[0]))return{options:v.map((v=>({valueOrLabel:v})))};return{options:v}}function filePayloadExceedsSizeLimit(v){return v.reduce(((v,S)=>v+(S.buffer?S.buffer.byteLength:0)),0)>=ee.fileUploadSizeLimit}async function convertInputFiles(v,S){const Q=Array.isArray(v)?v.slice():[v];if(Q.some((v=>typeof v==="string"))){if(!Q.every((v=>typeof v==="string")))throw new Error("File paths cannot be mixed with buffers");if(S._connection.isRemote()){const v=await Promise.all(Q.map((async v=>{const Q=(await V.default.promises.stat(v)).mtimeMs;const{writableStream:O}=await S._wrapApiCall((()=>S._channel.createTempFile({name:Y.default.basename(v),lastModifiedMs:Q})),true);const H=ae.WritableStream.from(O);await Be(V.default.createReadStream(v),H.stream());return O})));return{streams:v}}return{localPaths:Q.map((v=>Y.default.resolve(v)))}}const O=Q;if(filePayloadExceedsSizeLimit(O))throw new Error("Cannot set buffer larger than 50Mb, please write it to a file and pass its path instead.");return{payloads:O}}function determineScreenshotType(v){if(v.path){const S=J.mime.getType(v.path);if(S==="image/png")return"png";else if(S==="image/jpeg")return"jpeg";throw new Error(`path: unsupported mime type "${S}"`)}return v.type}},7447:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.TimeoutError=S.TargetClosedError=void 0;S.isTargetClosedError=isTargetClosedError;S.parseError=parseError;S.serializeError=serializeError;var O=Q(3557);var H=Q(5644);class TimeoutError extends Error{constructor(v){super(v);this.name="TimeoutError"}}S.TimeoutError=TimeoutError;class TargetClosedError extends Error{constructor(v){super(v||"Target page, context or browser has been closed")}}S.TargetClosedError=TargetClosedError;function isTargetClosedError(v){return v instanceof TargetClosedError}function serializeError(v){if((0,O.isError)(v))return{error:{message:v.message,stack:v.stack,name:v.name}};return{value:(0,H.serializeValue)(v,(v=>({fallThrough:v})))}}function parseError(v){if(!v.error){if(v.value===undefined)throw new Error("Serialized error must have either an error or a value");return(0,H.parseSerializedValue)(v.value,undefined)}if(v.error.name==="TimeoutError"){const S=new TimeoutError(v.error.message);S.stack=v.error.stack||"";return S}if(v.error.name==="TargetClosedError"){const S=new TargetClosedError(v.error.message);S.stack=v.error.stack||"";return S}const S=new Error(v.error.message);S.stack=v.error.stack||"";S.name=v.error.name;return S}},8289:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Events=void 0;const Q=S.Events={AndroidDevice:{WebView:"webview",Close:"close"},AndroidSocket:{Data:"data",Close:"close"},AndroidWebView:{Close:"close"},Browser:{Disconnected:"disconnected"},BrowserContext:{Console:"console",Close:"close",Dialog:"dialog",Page:"page",WebError:"weberror",BackgroundPage:"backgroundpage",ServiceWorker:"serviceworker",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished"},BrowserServer:{Close:"close"},Page:{Close:"close",Crash:"crash",Console:"console",Dialog:"dialog",Download:"download",FileChooser:"filechooser",DOMContentLoaded:"domcontentloaded",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",FrameAttached:"frameattached",FrameDetached:"framedetached",FrameNavigated:"framenavigated",Load:"load",Popup:"popup",WebSocket:"websocket",Worker:"worker"},WebSocket:{Close:"close",Error:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"},Worker:{Close:"close"},ElectronApplication:{Close:"close",Window:"window"}}},3750:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.APIResponse=S.APIRequestContext=S.APIRequest=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=_interopRequireWildcard(Q(3837));var J=Q(3557);var Y=Q(6034);var X=Q(1578);var ee=Q(6529);var ae=Q(2303);var he=Q(7447);let Ee,Be,ke;function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class APIRequest{constructor(v){this._playwright=void 0;this._contexts=new Set;this._defaultContextOptions=void 0;this._playwright=v}async newContext(v={}){var S;v={...this._defaultContextOptions,...v};const Q=typeof v.storageState==="string"?JSON.parse(await O.default.promises.readFile(v.storageState,"utf8")):v.storageState;const H=(S=this._defaultContextOptions)===null||S===void 0?void 0:S.tracesDir;const V=APIRequestContext.from((await this._playwright._channel.newRequest({...v,extraHTTPHeaders:v.extraHTTPHeaders?(0,J.headersObjectToArray)(v.extraHTTPHeaders):undefined,storageState:Q,tracesDir:H})).request);this._contexts.add(V);V._request=this;V._tracing._tracesDir=H;await V._instrumentation.onDidCreateRequestContext(V);return V}}S.APIRequest=APIRequest;Ee=Symbol.asyncDispose;class APIRequestContext extends X.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._request=void 0;this._tracing=void 0;this._tracing=ae.Tracing.from(O.tracing)}async[Ee](){await this.dispose()}async dispose(){var v;await this._instrumentation.onWillCloseRequestContext(this);await this._channel.dispose();(v=this._request)===null||v===void 0?void 0:v._contexts.delete(this)}async delete(v,S){return await this.fetch(v,{...S,method:"DELETE"})}async head(v,S){return await this.fetch(v,{...S,method:"HEAD"})}async get(v,S){return await this.fetch(v,{...S,method:"GET"})}async patch(v,S){return await this.fetch(v,{...S,method:"PATCH"})}async post(v,S){return await this.fetch(v,{...S,method:"POST"})}async put(v,S){return await this.fetch(v,{...S,method:"PUT"})}async fetch(v,S={}){const Q=(0,J.isString)(v)?v:undefined;const O=(0,J.isString)(v)?undefined:v;return await this._innerFetch({url:Q,request:O,...S})}async _innerFetch(v={}){return await this._wrapApiCall((async()=>{var S,Q,H;(0,J.assert)(v.request||typeof v.url==="string","First argument must be either URL string or Request");(0,J.assert)((v.data===undefined?0:1)+(v.form===undefined?0:1)+(v.multipart===undefined?0:1)<=1,`Only one of 'data', 'form' or 'multipart' can be specified`);(0,J.assert)(v.maxRedirects===undefined||v.maxRedirects>=0,`'maxRedirects' should be greater than or equal to '0'`);const V=v.url!==undefined?v.url:v.request.url();const Y=objectToArray(v.params);const X=v.method||((S=v.request)===null||S===void 0?void 0:S.method());const ee=v.maxRedirects;const ae=v.headers||((Q=v.request)===null||Q===void 0?void 0:Q.headers());const he=ae?(0,J.headersObjectToArray)(ae):undefined;let Ee;let Be;let ke;let Re;if(v.data!==undefined){if((0,J.isString)(v.data)){if(isJsonContentType(he))Ee=isJsonParsable(v.data)?v.data:JSON.stringify(v.data);else Re=Buffer.from(v.data,"utf8")}else if(Buffer.isBuffer(v.data)){Re=v.data}else if(typeof v.data==="object"||typeof v.data==="number"||typeof v.data==="boolean"){Ee=JSON.stringify(v.data)}else{throw new Error(`Unexpected 'data' type`)}}else if(v.form){Be=objectToArray(v.form)}else if(v.multipart){ke=[];for(const[S,Q]of Object.entries(v.multipart)){if(isFilePayload(Q)){const v=Q;if(!Buffer.isBuffer(v.buffer))throw new Error(`Unexpected buffer type of 'data.${S}'`);ke.push({name:S,file:filePayloadToJson(v)})}else if(Q instanceof O.default.ReadStream){ke.push({name:S,file:await readStreamToJson(Q)})}else{ke.push({name:S,value:String(Q)})}}}if(Re===undefined&&Ee===undefined&&Be===undefined&&ke===undefined)Re=((H=v.request)===null||H===void 0?void 0:H.postDataBuffer())||undefined;const Oe={__testHookLookup:v.__testHookLookup};const Pe=await this._channel.fetch({url:V,params:Y,method:X,headers:he,postData:Re,jsonData:Ee,formData:Be,multipartData:ke,timeout:v.timeout,failOnStatusCode:v.failOnStatusCode,ignoreHTTPSErrors:v.ignoreHTTPSErrors,maxRedirects:ee,...Oe});return new APIResponse(this,Pe.response)}))}async storageState(v={}){const S=await this._channel.storageState();if(v.path){await(0,Y.mkdirIfNeeded)(v.path);await O.default.promises.writeFile(v.path,JSON.stringify(S,undefined,2),"utf8")}return S}}S.APIRequestContext=APIRequestContext;function isJsonParsable(v){if(typeof v!=="string")return false;try{JSON.parse(v);return true}catch(v){if(v instanceof SyntaxError)return false;else throw v}}Be=Symbol.asyncDispose;ke=V.inspect.custom;class APIResponse{constructor(v,S){this._initializer=void 0;this._headers=void 0;this._request=void 0;this._request=v;this._initializer=S;this._headers=new ee.RawHeaders(this._initializer.headers)}ok(){return this._initializer.status>=200&&this._initializer.status<=299}url(){return this._initializer.url}status(){return this._initializer.status}statusText(){return this._initializer.statusText}headers(){return this._headers.headers()}headersArray(){return this._headers.headersArray()}async body(){try{const v=await this._request._channel.fetchResponseBody({fetchUid:this._fetchUid()});if(v.binary===undefined)throw new Error("Response has been disposed");return v.binary}catch(v){if((0,he.isTargetClosedError)(v))throw new Error("Response has been disposed");throw v}}async text(){const v=await this.body();return v.toString("utf8")}async json(){const v=await this.text();return JSON.parse(v)}async[Be](){await this.dispose()}async dispose(){await this._request._channel.disposeAPIResponse({fetchUid:this._fetchUid()})}[ke](){const v=this.headersArray().map((({name:v,value:S})=>`  ${v}: ${S}`));return`APIResponse: ${this.status()} ${this.statusText()}\n${v.join("\n")}`}_fetchUid(){return this._initializer.fetchUid}async _fetchLog(){const{log:v}=await this._request._channel.fetchLog({fetchUid:this._fetchUid()});return v}}S.APIResponse=APIResponse;function filePayloadToJson(v){return{name:v.name,mimeType:v.mimeType,buffer:v.buffer}}async function readStreamToJson(v){const S=await new Promise(((S,Q)=>{const O=[];v.on("data",(v=>O.push(v)));v.on("end",(()=>S(Buffer.concat(O))));v.on("error",(v=>Q(v)))}));const Q=Buffer.isBuffer(v.path)?v.path.toString("utf8"):v.path;return{name:H.default.basename(Q),buffer:S}}function isJsonContentType(v){if(!v)return false;for(const{name:S,value:Q}of v){if(S.toLocaleLowerCase()==="content-type")return Q==="application/json"}return false}function objectToArray(v){if(!v)return undefined;const S=[];for(const[Q,O]of Object.entries(v))S.push({name:Q,value:String(O)});return S}function isFilePayload(v){return typeof v==="object"&&v["name"]&&v["mimeType"]&&v["buffer"]}},7105:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FileChooser=void 0;class FileChooser{constructor(v,S,Q){this._page=void 0;this._elementHandle=void 0;this._isMultiple=void 0;this._page=v;this._elementHandle=S;this._isMultiple=Q}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}async setFiles(v,S){return await this._elementHandle.setInputFiles(v,S)}}S.FileChooser=FileChooser},1730:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Frame=void 0;S.verifyLoadState=verifyLoadState;var O=Q(3557);var H=Q(1578);var V=Q(2495);var J=Q(7675);var Y=Q(9634);var X=Q(6594);var ee=_interopRequireDefault(Q(7147));var ae=_interopRequireWildcard(Q(6529));var he=Q(2361);var Ee=Q(7991);var Be=Q(8289);var ke=Q(7825);var Re=Q(9965);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class Frame extends H.ChannelOwner{static from(v){return v._object}static fromNullable(v){return v?Frame.from(v):null}constructor(v,S,Q,O){super(v,S,Q,O);this._eventEmitter=void 0;this._loadStates=void 0;this._parentFrame=null;this._url="";this._name="";this._detached=false;this._childFrames=new Set;this._page=void 0;this._eventEmitter=new he.EventEmitter;this._eventEmitter.setMaxListeners(0);this._parentFrame=Frame.fromNullable(O.parentFrame);if(this._parentFrame)this._parentFrame._childFrames.add(this);this._name=O.name;this._url=O.url;this._loadStates=new Set(O.loadStates);this._channel.on("loadstate",(v=>{if(v.add){this._loadStates.add(v.add);this._eventEmitter.emit("loadstate",v.add)}if(v.remove)this._loadStates.delete(v.remove);if(!this._parentFrame&&v.add==="load"&&this._page)this._page.emit(Be.Events.Page.Load,this._page);if(!this._parentFrame&&v.add==="domcontentloaded"&&this._page)this._page.emit(Be.Events.Page.DOMContentLoaded,this._page)}));this._channel.on("navigated",(v=>{this._url=v.url;this._name=v.name;this._eventEmitter.emit("navigated",v);if(!v.error&&this._page)this._page.emit(Be.Events.Page.FrameNavigated,this)}))}page(){return this._page}async goto(v,S={}){const Q=verifyLoadState("waitUntil",S.waitUntil===undefined?"load":S.waitUntil);return ae.Response.fromNullable((await this._channel.goto({url:v,...S,waitUntil:Q})).response)}_setupNavigationWaiter(v){const S=new Ee.Waiter(this._page,"");if(this._page.isClosed())S.rejectImmediately(this._page._closeErrorWithReason());S.rejectOnEvent(this._page,Be.Events.Page.Close,(()=>this._page._closeErrorWithReason()));S.rejectOnEvent(this._page,Be.Events.Page.Crash,new Error("Navigation failed because page crashed!"));S.rejectOnEvent(this._page,Be.Events.Page.FrameDetached,new Error("Navigating frame was detached!"),(v=>v===this));const Q=this._page._timeoutSettings.navigationTimeout(v);S.rejectOnTimeout(Q,`Timeout ${Q}ms exceeded.`);return S}async waitForNavigation(v={}){return await this._page._wrapApiCall((async()=>{const S=verifyLoadState("waitUntil",v.waitUntil===undefined?"load":v.waitUntil);const Q=this._setupNavigationWaiter(v);const O=typeof v.url==="string"?` to "${v.url}"`:"";Q.log(`waiting for navigation${O} until "${S}"`);const H=await Q.waitForEvent(this._eventEmitter,"navigated",(S=>{var O;if(S.error)return true;Q.log(`  navigated to "${S.url}"`);return(0,Re.urlMatches)((O=this._page)===null||O===void 0?void 0:O.context()._options.baseURL,S.url,v.url)}));if(H.error){const v=new Error(H.error);v.stack="";await Q.waitForPromise(Promise.reject(v))}if(!this._loadStates.has(S)){await Q.waitForEvent(this._eventEmitter,"loadstate",(v=>{Q.log(`  "${v}" event fired`);return v===S}))}const V=H.newDocument?ae.Request.fromNullable(H.newDocument.request):null;const J=V?await Q.waitForPromise(V._finalRequest()._internalResponse()):null;Q.dispose();return J}))}async waitForLoadState(v="load",S={}){v=verifyLoadState("state",v);return await this._page._wrapApiCall((async()=>{const Q=this._setupNavigationWaiter(S);if(this._loadStates.has(v)){Q.log(`  not waiting, "${v}" event already fired`)}else{await Q.waitForEvent(this._eventEmitter,"loadstate",(S=>{Q.log(`  "${S}" event fired`);return S===v}))}Q.dispose()}))}async waitForURL(v,S={}){var Q;if((0,Re.urlMatches)((Q=this._page)===null||Q===void 0?void 0:Q.context()._options.baseURL,this.url(),v))return await this.waitForLoadState(S.waitUntil,S);await this.waitForNavigation({url:v,...S})}async frameElement(){return Y.ElementHandle.from((await this._channel.frameElement()).element)}async evaluateHandle(v,S){(0,X.assertMaxArguments)(arguments.length,2);const Q=await this._channel.evaluateExpressionHandle({expression:String(v),isFunction:typeof v==="function",arg:(0,X.serializeArgument)(S)});return X.JSHandle.from(Q.handle)}async evaluate(v,S){(0,X.assertMaxArguments)(arguments.length,2);const Q=await this._channel.evaluateExpression({expression:String(v),isFunction:typeof v==="function",arg:(0,X.serializeArgument)(S)});return(0,X.parseResult)(Q.value)}async _evaluateExposeUtilityScript(v,S){(0,X.assertMaxArguments)(arguments.length,2);const Q=await this._channel.evaluateExpression({expression:String(v),isFunction:typeof v==="function",exposeUtilityScript:true,arg:(0,X.serializeArgument)(S)});return(0,X.parseResult)(Q.value)}async $(v,S){const Q=await this._channel.querySelector({selector:v,...S});return Y.ElementHandle.fromNullable(Q.element)}async waitForSelector(v,S={}){if(S.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(S.waitFor&&S.waitFor!=="visible")throw new Error("options.waitFor is not supported, did you mean options.state?");const Q=await this._channel.waitForSelector({selector:v,...S});return Y.ElementHandle.fromNullable(Q.element)}async dispatchEvent(v,S,Q,O={}){await this._channel.dispatchEvent({selector:v,type:S,eventInit:(0,X.serializeArgument)(Q),...O})}async $eval(v,S,Q){(0,X.assertMaxArguments)(arguments.length,3);const O=await this._channel.evalOnSelector({selector:v,expression:String(S),isFunction:typeof S==="function",arg:(0,X.serializeArgument)(Q)});return(0,X.parseResult)(O.value)}async $$eval(v,S,Q){(0,X.assertMaxArguments)(arguments.length,3);const O=await this._channel.evalOnSelectorAll({selector:v,expression:String(S),isFunction:typeof S==="function",arg:(0,X.serializeArgument)(Q)});return(0,X.parseResult)(O.value)}async $$(v){const S=await this._channel.querySelectorAll({selector:v});return S.elements.map((v=>Y.ElementHandle.from(v)))}async _queryCount(v){return(await this._channel.queryCount({selector:v})).value}async content(){return(await this._channel.content()).value}async setContent(v,S={}){const Q=verifyLoadState("waitUntil",S.waitUntil===undefined?"load":S.waitUntil);await this._channel.setContent({html:v,...S,waitUntil:Q})}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(v={}){const S={...v};if(S.path){S.content=(await ee.default.promises.readFile(S.path)).toString();S.content+="//# sourceURL="+S.path.replace(/\n/g,"")}return Y.ElementHandle.from((await this._channel.addScriptTag({...S})).element)}async addStyleTag(v={}){const S={...v};if(S.path){S.content=(await ee.default.promises.readFile(S.path)).toString();S.content+="/*# sourceURL="+S.path.replace(/\n/g,"")+"*/"}return Y.ElementHandle.from((await this._channel.addStyleTag({...S})).element)}async click(v,S={}){return await this._channel.click({selector:v,...S})}async dblclick(v,S={}){return await this._channel.dblclick({selector:v,...S})}async dragAndDrop(v,S,Q={}){return await this._channel.dragAndDrop({source:v,target:S,...Q})}async tap(v,S={}){return await this._channel.tap({selector:v,...S})}async fill(v,S,Q={}){return await this._channel.fill({selector:v,value:S,...Q})}async _highlight(v){return await this._channel.highlight({selector:v})}locator(v,S){return new V.Locator(this,v,S)}getByTestId(v){return this.locator((0,J.getByTestIdSelector)((0,V.testIdAttributeName)(),v))}getByAltText(v,S){return this.locator((0,J.getByAltTextSelector)(v,S))}getByLabel(v,S){return this.locator((0,J.getByLabelSelector)(v,S))}getByPlaceholder(v,S){return this.locator((0,J.getByPlaceholderSelector)(v,S))}getByText(v,S){return this.locator((0,J.getByTextSelector)(v,S))}getByTitle(v,S){return this.locator((0,J.getByTitleSelector)(v,S))}getByRole(v,S={}){return this.locator((0,J.getByRoleSelector)(v,S))}frameLocator(v){return new V.FrameLocator(this,v)}async focus(v,S={}){await this._channel.focus({selector:v,...S})}async textContent(v,S={}){const Q=(await this._channel.textContent({selector:v,...S})).value;return Q===undefined?null:Q}async innerText(v,S={}){return(await this._channel.innerText({selector:v,...S})).value}async innerHTML(v,S={}){return(await this._channel.innerHTML({selector:v,...S})).value}async getAttribute(v,S,Q={}){const O=(await this._channel.getAttribute({selector:v,name:S,...Q})).value;return O===undefined?null:O}async inputValue(v,S={}){return(await this._channel.inputValue({selector:v,...S})).value}async isChecked(v,S={}){return(await this._channel.isChecked({selector:v,...S})).value}async isDisabled(v,S={}){return(await this._channel.isDisabled({selector:v,...S})).value}async isEditable(v,S={}){return(await this._channel.isEditable({selector:v,...S})).value}async isEnabled(v,S={}){return(await this._channel.isEnabled({selector:v,...S})).value}async isHidden(v,S={}){return(await this._channel.isHidden({selector:v,...S})).value}async isVisible(v,S={}){return(await this._channel.isVisible({selector:v,...S})).value}async hover(v,S={}){await this._channel.hover({selector:v,...S})}async selectOption(v,S,Q={}){return(await this._channel.selectOption({selector:v,...(0,Y.convertSelectOptionValues)(S),...Q})).values}async setInputFiles(v,S,Q={}){const O=await(0,Y.convertInputFiles)(S,this.page().context());await this._channel.setInputFiles({selector:v,...O,...Q})}async type(v,S,Q={}){await this._channel.type({selector:v,text:S,...Q})}async press(v,S,Q={}){await this._channel.press({selector:v,key:S,...Q})}async check(v,S={}){await this._channel.check({selector:v,...S})}async uncheck(v,S={}){await this._channel.uncheck({selector:v,...S})}async setChecked(v,S,Q){if(S)await this.check(v,Q);else await this.uncheck(v,Q)}async waitForTimeout(v){await this._channel.waitForTimeout({timeout:v})}async waitForFunction(v,S,Q={}){if(typeof Q.polling==="string")(0,O.assert)(Q.polling==="raf","Unknown polling option: "+Q.polling);const H=await this._channel.waitForFunction({...Q,pollingInterval:Q.polling==="raf"?undefined:Q.polling,expression:String(v),isFunction:typeof v==="function",arg:(0,X.serializeArgument)(S)});return X.JSHandle.from(H.handle)}async title(){return(await this._channel.title()).value}}S.Frame=Frame;function verifyLoadState(v,S){if(S==="networkidle0")S="networkidle";if(!ke.kLifecycleEvents.has(S))throw new Error(`${v}: expected one of (load|domcontentloaded|networkidle|commit)`);return S}},4810:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.HarRouter=void 0;var O=Q(2003);let H;H=Symbol.asyncDispose;class HarRouter{static async create(v,S,Q,O){const{harId:H,error:V}=await v._channel.harOpen({file:S});if(V)throw new Error(V);return new HarRouter(v,H,Q,O)}constructor(v,S,Q,O){this._localUtils=void 0;this._harId=void 0;this._notFoundAction=void 0;this._options=void 0;this._localUtils=v;this._harId=S;this._options=O;this._notFoundAction=Q}async _handle(v){const S=v.request();const Q=await this._localUtils._channel.harLookup({harId:this._harId,url:S.url(),method:S.method(),headers:await S.headersArray(),postData:S.postDataBuffer()||undefined,isNavigationRequest:S.isNavigationRequest()});if(Q.action==="redirect"){O.debugLogger.log("api",`HAR: ${v.request().url()} redirected to ${Q.redirectURL}`);await v._redirectNavigationRequest(Q.redirectURL);return}if(Q.action==="fulfill"){await v.fulfill({status:Q.status,headers:Object.fromEntries(Q.headers.map((v=>[v.name,v.value]))),body:Q.body});return}if(Q.action==="error")O.debugLogger.log("api","HAR: "+Q.message);if(this._notFoundAction==="abort"){await v.abort();return}await v.fallback()}async addContextRoute(v){await v.route(this._options.urlMatch||"**/*",(v=>this._handle(v)))}async addPageRoute(v){await v.route(this._options.urlMatch||"**/*",(v=>this._handle(v)))}async[H](){await this.dispose()}dispose(){this._localUtils._channel.harClose({harId:this._harId}).catch((()=>{}))}}S.HarRouter=HarRouter},4507:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Touchscreen=S.Mouse=S.Keyboard=void 0;class Keyboard{constructor(v){this._page=void 0;this._page=v}async down(v){await this._page._channel.keyboardDown({key:v})}async up(v){await this._page._channel.keyboardUp({key:v})}async insertText(v){await this._page._channel.keyboardInsertText({text:v})}async type(v,S={}){await this._page._channel.keyboardType({text:v,...S})}async press(v,S={}){await this._page._channel.keyboardPress({key:v,...S})}}S.Keyboard=Keyboard;class Mouse{constructor(v){this._page=void 0;this._page=v}async move(v,S,Q={}){await this._page._channel.mouseMove({x:v,y:S,...Q})}async down(v={}){await this._page._channel.mouseDown({...v})}async up(v={}){await this._page._channel.mouseUp(v)}async click(v,S,Q={}){await this._page._channel.mouseClick({x:v,y:S,...Q})}async dblclick(v,S,Q={}){await this.click(v,S,{...Q,clickCount:2})}async wheel(v,S){await this._page._channel.mouseWheel({deltaX:v,deltaY:S})}}S.Mouse=Mouse;class Touchscreen{constructor(v){this._page=void 0;this._page=v}async tap(v,S){await this._page._channel.touchscreenTap({x:v,y:S})}}S.Touchscreen=Touchscreen},6594:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JSHandle=void 0;S.assertMaxArguments=assertMaxArguments;S.parseResult=parseResult;S.serializeArgument=serializeArgument;var O=Q(1578);var H=Q(5644);let V;V=Symbol.asyncDispose;class JSHandle extends O.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._preview=void 0;this._preview=this._initializer.preview;this._channel.on("previewUpdated",(({preview:v})=>this._preview=v))}async evaluate(v,S){const Q=await this._channel.evaluateExpression({expression:String(v),isFunction:typeof v==="function",arg:serializeArgument(S)});return parseResult(Q.value)}async evaluateHandle(v,S){const Q=await this._channel.evaluateExpressionHandle({expression:String(v),isFunction:typeof v==="function",arg:serializeArgument(S)});return JSHandle.from(Q.handle)}async getProperty(v){const S=await this._channel.getProperty({name:v});return JSHandle.from(S.handle)}async getProperties(){const v=new Map;for(const{name:S,value:Q}of(await this._channel.getPropertyList()).properties)v.set(S,JSHandle.from(Q));return v}async jsonValue(){return parseResult((await this._channel.jsonValue()).value)}asElement(){return null}async[V](){await this.dispose()}async dispose(){return await this._channel.dispose()}async _objectCount(){return await this._wrapApiCall((async()=>{const{count:v}=await this._channel.objectCount();return v}))}toString(){return this._preview}}S.JSHandle=JSHandle;function serializeArgument(v){const S=[];const pushHandle=v=>{S.push(v);return S.length-1};const Q=(0,H.serializeValue)(v,(v=>{if(v instanceof JSHandle)return{h:pushHandle(v._channel)};return{fallThrough:v}}));return{value:Q,handles:S}}function parseResult(v){return(0,H.parseSerializedValue)(v,undefined)}function assertMaxArguments(v,S){if(v>S)throw new Error("Too many arguments. If you need to pass more than 1 argument to the function wrap them in an object.")}},4772:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JsonPipe=void 0;var O=Q(1578);class JsonPipe extends O.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O)}channel(){return this._channel}}S.JsonPipe=JsonPipe},3075:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.LocalUtils=void 0;var O=Q(1578);class LocalUtils extends O.ChannelOwner{constructor(v,S,Q,O){super(v,S,Q,O);this.devices=void 0;this.devices={};for(const{name:v,descriptor:S}of O.deviceDescriptors)this.devices[v]=S}}S.LocalUtils=LocalUtils},2495:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Locator=S.FrameLocator=void 0;S.setTestIdAttribute=setTestIdAttribute;S.testIdAttributeName=testIdAttributeName;var O=_interopRequireWildcard(Q(3837));var H=Q(3557);var V=Q(9634);var J=Q(6594);var Y=Q(7517);var X=Q(7675);let ee;function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}ee=O.inspect.custom;class Locator{constructor(v,S,Q){this._frame=void 0;this._selector=void 0;this._frame=v;this._selector=S;if(Q!==null&&Q!==void 0&&Q.hasText)this._selector+=` >> internal:has-text=${(0,Y.escapeForTextSelector)(Q.hasText,false)}`;if(Q!==null&&Q!==void 0&&Q.hasNotText)this._selector+=` >> internal:has-not-text=${(0,Y.escapeForTextSelector)(Q.hasNotText,false)}`;if(Q!==null&&Q!==void 0&&Q.has){const S=Q.has;if(S._frame!==v)throw new Error(`Inner "has" locator must belong to the same frame.`);this._selector+=` >> internal:has=`+JSON.stringify(S._selector)}if(Q!==null&&Q!==void 0&&Q.hasNot){const S=Q.hasNot;if(S._frame!==v)throw new Error(`Inner "hasNot" locator must belong to the same frame.`);this._selector+=` >> internal:has-not=`+JSON.stringify(S._selector)}}async _withElement(v,S){S=this._frame.page()._timeoutSettings.timeout({timeout:S});const Q=S?(0,H.monotonicTime)()+S:0;return await this._frame._wrapApiCall((async()=>{const O=await this._frame._channel.waitForSelector({selector:this._selector,strict:true,state:"attached",timeout:S});const J=V.ElementHandle.fromNullable(O.element);if(!J)throw new Error(`Could not resolve ${this._selector} to DOM Element`);try{return await v(J,Q?Q-(0,H.monotonicTime)():0)}finally{await J.dispose()}}))}page(){return this._frame.page()}async boundingBox(v){return await this._withElement((v=>v.boundingBox()),v===null||v===void 0?void 0:v.timeout)}async check(v={}){return await this._frame.check(this._selector,{strict:true,...v})}async click(v={}){return await this._frame.click(this._selector,{strict:true,...v})}async dblclick(v={}){return await this._frame.dblclick(this._selector,{strict:true,...v})}async dispatchEvent(v,S={},Q){return await this._frame.dispatchEvent(this._selector,v,S,{strict:true,...Q})}async dragTo(v,S={}){return await this._frame.dragAndDrop(this._selector,v._selector,{strict:true,...S})}async evaluate(v,S,Q){return await this._withElement((Q=>Q.evaluate(v,S)),Q===null||Q===void 0?void 0:Q.timeout)}async evaluateAll(v,S){return await this._frame.$$eval(this._selector,v,S)}async evaluateHandle(v,S,Q){return await this._withElement((Q=>Q.evaluateHandle(v,S)),Q===null||Q===void 0?void 0:Q.timeout)}async fill(v,S={}){return await this._frame.fill(this._selector,v,{strict:true,...S})}async clear(v={}){return await this.fill("",v)}async _highlight(){return await this._frame._highlight(this._selector)}async highlight(){return await this._frame._highlight(this._selector)}locator(v,S){if((0,H.isString)(v))return new Locator(this._frame,this._selector+" >> "+v,S);if(v._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+" >> internal:chain="+JSON.stringify(v._selector),S)}getByTestId(v){return this.locator((0,X.getByTestIdSelector)(testIdAttributeName(),v))}getByAltText(v,S){return this.locator((0,X.getByAltTextSelector)(v,S))}getByLabel(v,S){return this.locator((0,X.getByLabelSelector)(v,S))}getByPlaceholder(v,S){return this.locator((0,X.getByPlaceholderSelector)(v,S))}getByText(v,S){return this.locator((0,X.getByTextSelector)(v,S))}getByTitle(v,S){return this.locator((0,X.getByTitleSelector)(v,S))}getByRole(v,S={}){return this.locator((0,X.getByRoleSelector)(v,S))}frameLocator(v){return new FrameLocator(this._frame,this._selector+" >> "+v)}filter(v){return new Locator(this._frame,this._selector,v)}async elementHandle(v){return await this._frame.waitForSelector(this._selector,{strict:true,state:"attached",...v})}async elementHandles(){return await this._frame.$$(this._selector)}first(){return new Locator(this._frame,this._selector+" >> nth=0")}last(){return new Locator(this._frame,this._selector+` >> nth=-1`)}nth(v){return new Locator(this._frame,this._selector+` >> nth=${v}`)}and(v){if(v._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+` >> internal:and=`+JSON.stringify(v._selector))}or(v){if(v._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._selector+` >> internal:or=`+JSON.stringify(v._selector))}async focus(v){return await this._frame.focus(this._selector,{strict:true,...v})}async blur(v){await this._frame._channel.blur({selector:this._selector,strict:true,...v})}async count(){return await this._frame._queryCount(this._selector)}async getAttribute(v,S){return await this._frame.getAttribute(this._selector,v,{strict:true,...S})}async hover(v={}){return await this._frame.hover(this._selector,{strict:true,...v})}async innerHTML(v){return await this._frame.innerHTML(this._selector,{strict:true,...v})}async innerText(v){return await this._frame.innerText(this._selector,{strict:true,...v})}async inputValue(v){return await this._frame.inputValue(this._selector,{strict:true,...v})}async isChecked(v){return await this._frame.isChecked(this._selector,{strict:true,...v})}async isDisabled(v){return await this._frame.isDisabled(this._selector,{strict:true,...v})}async isEditable(v){return await this._frame.isEditable(this._selector,{strict:true,...v})}async isEnabled(v){return await this._frame.isEnabled(this._selector,{strict:true,...v})}async isHidden(v){return await this._frame.isHidden(this._selector,{strict:true,...v})}async isVisible(v){return await this._frame.isVisible(this._selector,{strict:true,...v})}async press(v,S={}){return await this._frame.press(this._selector,v,{strict:true,...S})}async screenshot(v={}){return await this._withElement(((S,Q)=>S.screenshot({...v,timeout:Q})),v.timeout)}async scrollIntoViewIfNeeded(v={}){return await this._withElement(((S,Q)=>S.scrollIntoViewIfNeeded({...v,timeout:Q})),v.timeout)}async selectOption(v,S={}){return await this._frame.selectOption(this._selector,v,{strict:true,...S})}async selectText(v={}){return await this._withElement(((S,Q)=>S.selectText({...v,timeout:Q})),v.timeout)}async setChecked(v,S){if(v)await this.check(S);else await this.uncheck(S)}async setInputFiles(v,S={}){return await this._frame.setInputFiles(this._selector,v,{strict:true,...S})}async tap(v={}){return await this._frame.tap(this._selector,{strict:true,...v})}async textContent(v){return await this._frame.textContent(this._selector,{strict:true,...v})}async type(v,S={}){return await this._frame.type(this._selector,v,{strict:true,...S})}async pressSequentially(v,S={}){return await this.type(v,S)}async uncheck(v={}){return await this._frame.uncheck(this._selector,{strict:true,...v})}async all(){return new Array(await this.count()).fill(0).map(((v,S)=>this.nth(S)))}async allInnerTexts(){return await this._frame.$$eval(this._selector,(v=>v.map((v=>v.innerText))))}async allTextContents(){return await this._frame.$$eval(this._selector,(v=>v.map((v=>v.textContent||""))))}async waitFor(v){await this._frame._channel.waitForSelector({selector:this._selector,strict:true,omitReturnValue:true,...v})}async _expect(v,S){const Q={selector:this._selector,expression:v,...S,isNot:!!S.isNot};Q.expectedValue=(0,J.serializeArgument)(S.expectedValue);const O=await this._frame._channel.expect(Q);if(O.received!==undefined)O.received=(0,J.parseResult)(O.received);return O}[ee](){return this.toString()}toString(){return(0,H.asLocator)("javascript",this._selector)}}S.Locator=Locator;class FrameLocator{constructor(v,S){this._frame=void 0;this._frameSelector=void 0;this._frame=v;this._frameSelector=S}locator(v,S){if((0,H.isString)(v))return new Locator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+v,S);if(v._frame!==this._frame)throw new Error(`Locators must belong to the same frame.`);return new Locator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+v._selector,S)}getByTestId(v){return this.locator((0,X.getByTestIdSelector)(testIdAttributeName(),v))}getByAltText(v,S){return this.locator((0,X.getByAltTextSelector)(v,S))}getByLabel(v,S){return this.locator((0,X.getByLabelSelector)(v,S))}getByPlaceholder(v,S){return this.locator((0,X.getByPlaceholderSelector)(v,S))}getByText(v,S){return this.locator((0,X.getByTextSelector)(v,S))}getByTitle(v,S){return this.locator((0,X.getByTitleSelector)(v,S))}getByRole(v,S={}){return this.locator((0,X.getByRoleSelector)(v,S))}frameLocator(v){return new FrameLocator(this._frame,this._frameSelector+" >> internal:control=enter-frame >> "+v)}first(){return new FrameLocator(this._frame,this._frameSelector+" >> nth=0")}last(){return new FrameLocator(this._frame,this._frameSelector+` >> nth=-1`)}nth(v){return new FrameLocator(this._frame,this._frameSelector+` >> nth=${v}`)}}S.FrameLocator=FrameLocator;let ae="data-testid";function testIdAttributeName(){return ae}function setTestIdAttribute(v){ae=v}},6529:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WebSocket=S.RouteHandler=S.Route=S.Response=S.Request=S.RawHeaders=void 0;S.validateHeaders=validateHeaders;var O=Q(7310);var H=Q(1578);var V=Q(1730);var J=Q(395);var Y=_interopRequireDefault(Q(7147));var X=Q(1319);var ee=Q(3557);var ae=Q(6729);var he=Q(8289);var Ee=Q(7991);var Be=Q(9965);var ke=Q(2391);var Re=Q(3750);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class Request extends H.ChannelOwner{static from(v){return v._object}static fromNullable(v){return v?Request.from(v):null}constructor(v,S,Q,O){super(v,S,Q,O);this._redirectedFrom=null;this._redirectedTo=null;this._failureText=null;this._provisionalHeaders=void 0;this._actualHeadersPromise=void 0;this._timing=void 0;this._fallbackOverrides={};this._redirectedFrom=Request.fromNullable(O.redirectedFrom);if(this._redirectedFrom)this._redirectedFrom._redirectedTo=this;this._provisionalHeaders=new RawHeaders(O.headers);this._fallbackOverrides.postDataBuffer=O.postData;this._timing={startTime:0,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1,responseEnd:-1}}url(){return this._fallbackOverrides.url||this._initializer.url}resourceType(){return this._initializer.resourceType}method(){return this._fallbackOverrides.method||this._initializer.method}postData(){var v;return((v=this._fallbackOverrides.postDataBuffer)===null||v===void 0?void 0:v.toString("utf-8"))||null}postDataBuffer(){return this._fallbackOverrides.postDataBuffer||null}postDataJSON(){const v=this.postData();if(!v)return null;const S=this.headers()["content-type"];if(S==="application/x-www-form-urlencoded"){const S={};const Q=new O.URLSearchParams(v);for(const[v,O]of Q.entries())S[v]=O;return S}try{return JSON.parse(v)}catch(S){throw new Error("POST data is not a valid JSON object: "+v)}}headers(){if(this._fallbackOverrides.headers)return RawHeaders._fromHeadersObjectLossy(this._fallbackOverrides.headers).headers();return this._provisionalHeaders.headers()}async _actualHeaders(){if(this._fallbackOverrides.headers)return RawHeaders._fromHeadersObjectLossy(this._fallbackOverrides.headers);if(!this._actualHeadersPromise){this._actualHeadersPromise=this._wrapApiCall((async()=>new RawHeaders((await this._channel.rawRequestHeaders()).headers)))}return await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray()}async headerValue(v){return(await this._actualHeaders()).get(v)}async response(){return Response.fromNullable((await this._channel.response()).response)}async _internalResponse(){return await this._wrapApiCall((async()=>Response.fromNullable((await this._channel.response()).response)),true)}frame(){if(!this._initializer.frame){(0,ee.assert)(this.serviceWorker());throw new Error("Service Worker requests do not have an associated frame.")}const v=V.Frame.from(this._initializer.frame);if(!v._page){throw new Error(["Frame for this navigation request is not available, because the request","was issued before the frame is created. You can check whether the request","is a navigation request by calling isNavigationRequest() method."].join("\n"))}return v}_safePage(){var v;return((v=V.Frame.fromNullable(this._initializer.frame))===null||v===void 0?void 0:v._page)||null}serviceWorker(){return this._initializer.serviceWorker?J.Worker.from(this._initializer.serviceWorker):null}isNavigationRequest(){return this._initializer.isNavigationRequest}redirectedFrom(){return this._redirectedFrom}redirectedTo(){return this._redirectedTo}failure(){if(this._failureText===null)return null;return{errorText:this._failureText}}timing(){return this._timing}async sizes(){const v=await this.response();if(!v)throw new Error("Unable to fetch sizes for failed request");return(await v._channel.sizes()).sizes}_setResponseEndTiming(v){this._timing.responseEnd=v;if(this._timing.responseStart===-1)this._timing.responseStart=v}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}_applyFallbackOverrides(v){if(v.url)this._fallbackOverrides.url=v.url;if(v.method)this._fallbackOverrides.method=v.method;if(v.headers)this._fallbackOverrides.headers=v.headers;if((0,ee.isString)(v.postData))this._fallbackOverrides.postDataBuffer=Buffer.from(v.postData,"utf-8");else if(v.postData instanceof Buffer)this._fallbackOverrides.postDataBuffer=v.postData;else if(v.postData)this._fallbackOverrides.postDataBuffer=Buffer.from(JSON.stringify(v.postData),"utf-8")}_fallbackOverridesForContinue(){return this._fallbackOverrides}_targetClosedScope(){var v,S;return((v=this.serviceWorker())===null||v===void 0?void 0:v._closedScope)||((S=this._safePage())===null||S===void 0?void 0:S._closedOrCrashedScope)||new ae.LongStandingScope}}S.Request=Request;class Route extends H.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._handlingPromise=null;this._context=void 0;this._didThrow=false}request(){return Request.from(this._initializer.request)}async _raceWithTargetClose(v){return await this.request()._targetClosedScope().safeRace(v)}async _startHandling(){this._handlingPromise=new ae.ManualPromise;return await this._handlingPromise}async fallback(v={}){this._checkNotHandled();this.request()._applyFallbackOverrides(v);this._reportHandled(false)}async abort(v){await this._handleRoute((async()=>{await this._raceWithTargetClose(this._channel.abort({requestUrl:this.request()._initializer.url,errorCode:v}))}))}async _redirectNavigationRequest(v){await this._handleRoute((async()=>{await this._raceWithTargetClose(this._channel.redirectNavigationRequest({url:v}))}))}async fetch(v={}){return await this._wrapApiCall((async()=>await this._context.request._innerFetch({request:this.request(),data:v.postData,...v})))}async fulfill(v={}){await this._handleRoute((async()=>{await this._wrapApiCall((async()=>{await this._innerFulfill(v)}))}))}async _handleRoute(v){this._checkNotHandled();try{await v();this._reportHandled(true)}catch(v){this._didThrow=true;throw v}}async _innerFulfill(v={}){let S;let{status:Q,headers:O,body:H}=v;if(v.json!==undefined){(0,ee.assert)(v.body===undefined,"Can specify either body or json parameters");H=JSON.stringify(v.json)}if(v.response instanceof Re.APIResponse){var V,J;(V=Q)!==null&&V!==void 0?V:Q=v.response.status();(J=O)!==null&&J!==void 0?J:O=v.response.headers();if(H===undefined&&v.path===undefined){if(v.response._request._connection===this._connection)S=v.response._fetchUid();else H=await v.response.body()}}let ae=false;let he=0;if(v.path){const S=await Y.default.promises.readFile(v.path);H=S.toString("base64");ae=true;he=S.length}else if((0,ee.isString)(H)){ae=false;he=Buffer.byteLength(H)}else if(H){he=H.length;H=H.toString("base64");ae=true}const Ee={};for(const v of Object.keys(O||{}))Ee[v.toLowerCase()]=String(O[v]);if(v.contentType)Ee["content-type"]=String(v.contentType);else if(v.json)Ee["content-type"]="application/json";else if(v.path)Ee["content-type"]=X.mime.getType(v.path)||"application/octet-stream";if(he&&!("content-length"in Ee))Ee["content-length"]=String(he);await this._raceWithTargetClose(this._channel.fulfill({requestUrl:this.request()._initializer.url,status:Q||200,headers:(0,ee.headersObjectToArray)(Ee),body:H,isBase64:ae,fetchResponseUid:S}))}async continue(v={}){await this._handleRoute((async()=>{this.request()._applyFallbackOverrides(v);await this._innerContinue()}))}_checkNotHandled(){if(!this._handlingPromise)throw new Error("Route is already handled!")}_reportHandled(v){const S=this._handlingPromise;this._handlingPromise=null;S.resolve(v)}async _innerContinue(v=false){const S=this.request()._fallbackOverridesForContinue();return await this._wrapApiCall((async()=>{await this._raceWithTargetClose(this._channel.continue({requestUrl:this.request()._initializer.url,url:S.url,method:S.method,headers:S.headers?(0,ee.headersObjectToArray)(S.headers):undefined,postData:S.postDataBuffer,isFallback:v}))}),!!v)}}S.Route=Route;class Response extends H.ChannelOwner{static from(v){return v._object}static fromNullable(v){return v?Response.from(v):null}constructor(v,S,Q,O){super(v,S,Q,O);this._provisionalHeaders=void 0;this._actualHeadersPromise=void 0;this._request=void 0;this._finishedPromise=new ae.ManualPromise;this._provisionalHeaders=new RawHeaders(O.headers);this._request=Request.from(this._initializer.request);Object.assign(this._request._timing,this._initializer.timing)}url(){return this._initializer.url}ok(){return this._initializer.status===0||this._initializer.status>=200&&this._initializer.status<=299}status(){return this._initializer.status}statusText(){return this._initializer.statusText}fromServiceWorker(){return this._initializer.fromServiceWorker}headers(){return this._provisionalHeaders.headers()}async _actualHeaders(){if(!this._actualHeadersPromise){this._actualHeadersPromise=(async()=>new RawHeaders((await this._channel.rawResponseHeaders()).headers))()}return await this._actualHeadersPromise}async allHeaders(){return(await this._actualHeaders()).headers()}async headersArray(){return(await this._actualHeaders()).headersArray().slice()}async headerValue(v){return(await this._actualHeaders()).get(v)}async headerValues(v){return(await this._actualHeaders()).getAll(v)}async finished(){return await this.request()._targetClosedScope().race(this._finishedPromise)}async body(){return(await this._channel.body()).binary}async text(){const v=await this.body();return v.toString("utf8")}async json(){const v=await this.text();return JSON.parse(v)}request(){return this._request}frame(){return this._request.frame()}async serverAddr(){return(await this._channel.serverAddr()).value||null}async securityDetails(){return(await this._channel.securityDetails()).value||null}}S.Response=Response;class WebSocket extends H.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._page=void 0;this._isClosed=void 0;this._isClosed=false;this._page=v;this._channel.on("frameSent",(v=>{if(v.opcode===1)this.emit(he.Events.WebSocket.FrameSent,{payload:v.data});else if(v.opcode===2)this.emit(he.Events.WebSocket.FrameSent,{payload:Buffer.from(v.data,"base64")})}));this._channel.on("frameReceived",(v=>{if(v.opcode===1)this.emit(he.Events.WebSocket.FrameReceived,{payload:v.data});else if(v.opcode===2)this.emit(he.Events.WebSocket.FrameReceived,{payload:Buffer.from(v.data,"base64")})}));this._channel.on("socketError",(({error:v})=>this.emit(he.Events.WebSocket.Error,v)));this._channel.on("close",(()=>{this._isClosed=true;this.emit(he.Events.WebSocket.Close,this)}))}url(){return this._initializer.url}isClosed(){return this._isClosed}async waitForEvent(v,S={}){return await this._wrapApiCall((async()=>{const Q=this._page._timeoutSettings.timeout(typeof S==="function"?{}:S);const O=typeof S==="function"?S:S.predicate;const H=Ee.Waiter.createForEvent(this,v);H.rejectOnTimeout(Q,`Timeout ${Q}ms exceeded while waiting for event "${v}"`);if(v!==he.Events.WebSocket.Error)H.rejectOnEvent(this,he.Events.WebSocket.Error,new Error("Socket error"));if(v!==he.Events.WebSocket.Close)H.rejectOnEvent(this,he.Events.WebSocket.Close,new Error("Socket closed"));H.rejectOnEvent(this._page,he.Events.Page.Close,(()=>this._page._closeErrorWithReason()));const V=await H.waitForEvent(this,v,O);H.dispose();return V}))}}S.WebSocket=WebSocket;function validateHeaders(v){for(const S of Object.keys(v)){const Q=v[S];if(!Object.is(Q,undefined)&&!(0,ee.isString)(Q))throw new Error(`Expected value of header "${S}" to be String, but "${typeof Q}" is found.`)}}class RouteHandler{constructor(v,S,Q,O=Number.MAX_SAFE_INTEGER){this.handledCount=0;this._baseURL=void 0;this._times=void 0;this.url=void 0;this.handler=void 0;this._ignoreException=false;this._activeInvocations=new Set;this._baseURL=v;this._times=O;this.url=S;this.handler=Q}static prepareInterceptionPatterns(v){const S=[];let Q=false;for(const O of v){if((0,ee.isString)(O.url))S.push({glob:O.url});else if((0,ee.isRegExp)(O.url))S.push({regexSource:O.url.source,regexFlags:O.url.flags});else Q=true}if(Q)return[{glob:"**/*"}];return S}matches(v){return(0,Be.urlMatches)(this._baseURL,v,this.url)}async handle(v){const S={complete:new ae.ManualPromise,route:v};this._activeInvocations.add(S);try{return await this._handleInternal(v)}catch(v){if(this._ignoreException)return false;throw v}finally{S.complete.resolve();this._activeInvocations.delete(S)}}async stop(v){if(v==="ignoreErrors"){this._ignoreException=true}else{const v=[];for(const S of this._activeInvocations){if(!S.route._didThrow)v.push(S.complete)}await Promise.all(v)}}async _handleInternal(v){++this.handledCount;const S=v._startHandling();const Q=this.handler;const[O]=await Promise.all([S,Q(v,v.request())]);return O}willExpire(){return this.handledCount+1>=this._times}}S.RouteHandler=RouteHandler;class RawHeaders{static _fromHeadersObjectLossy(v){const S=Object.entries(v).map((([v,S])=>({name:v,value:S}))).filter((v=>v.value!==undefined));return new RawHeaders(S)}constructor(v){this._headersArray=void 0;this._headersMap=new ke.MultiMap;this._headersArray=v;for(const S of v)this._headersMap.set(S.name.toLowerCase(),S.value)}get(v){const S=this.getAll(v);if(!S||!S.length)return null;return S.join(v.toLowerCase()==="set-cookie"?"\n":", ")}getAll(v){return[...this._headersMap.get(v.toLowerCase())]}headers(){const v={};for(const S of this._headersMap.keys())v[S]=this.get(S);return v}headersArray(){return this._headersArray}}S.RawHeaders=RawHeaders},2374:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Page=S.BindingCall=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=Q(7447);var J=Q(9965);var Y=Q(9053);var X=Q(3557);var ee=Q(6034);var ae=Q(9996);var he=Q(5043);var Ee=Q(1578);var Be=Q(6886);var ke=Q(9679);var Re=Q(9551);var Oe=Q(9634);var Pe=Q(8289);var Le=Q(7105);var je=Q(1730);var qe=Q(4507);var Ve=Q(6594);var ze=Q(7517);var $e=Q(6529);var Ye=Q(4359);var et=Q(7991);var tt=Q(395);var nt=Q(4810);let it;function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}it=Symbol.asyncDispose;class Page extends Ee.ChannelOwner{static from(v){return v._object}static fromNullable(v){return v?Page.from(v):null}constructor(v,S,Q,O){super(v,S,Q,O);this._browserContext=void 0;this._ownedContext=void 0;this._mainFrame=void 0;this._frames=new Set;this._workers=new Set;this._closed=false;this._closedOrCrashedScope=new X.LongStandingScope;this._viewportSize=void 0;this._routes=[];this.accessibility=void 0;this.coverage=void 0;this.keyboard=void 0;this.mouse=void 0;this.request=void 0;this.touchscreen=void 0;this._bindings=new Map;this._timeoutSettings=void 0;this._video=null;this._opener=void 0;this._closeReason=void 0;this._closeWasCalled=false;this._harRouters=[];this._browserContext=v;this._timeoutSettings=new Y.TimeoutSettings(this._browserContext._timeoutSettings);this.accessibility=new ae.Accessibility(this._channel);this.keyboard=new qe.Keyboard(this);this.mouse=new qe.Mouse(this);this.request=this._browserContext.request;this.touchscreen=new qe.Touchscreen(this);this._mainFrame=je.Frame.from(O.mainFrame);this._mainFrame._page=this;this._frames.add(this._mainFrame);this._viewportSize=O.viewportSize||null;this._closed=O.isClosed;this._opener=Page.fromNullable(O.opener);this._channel.on("bindingCall",(({binding:v})=>this._onBinding(BindingCall.from(v))));this._channel.on("close",(()=>this._onClose()));this._channel.on("crash",(()=>this._onCrash()));this._channel.on("download",(({url:v,suggestedFilename:S,artifact:Q})=>{const O=he.Artifact.from(Q);this.emit(Pe.Events.Page.Download,new Re.Download(this,v,S,O))}));this._channel.on("fileChooser",(({element:v,isMultiple:S})=>this.emit(Pe.Events.Page.FileChooser,new Le.FileChooser(this,Oe.ElementHandle.from(v),S))));this._channel.on("frameAttached",(({frame:v})=>this._onFrameAttached(je.Frame.from(v))));this._channel.on("frameDetached",(({frame:v})=>this._onFrameDetached(je.Frame.from(v))));this._channel.on("route",(({route:v})=>this._onRoute($e.Route.from(v))));this._channel.on("video",(({artifact:v})=>{const S=he.Artifact.from(v);this._forceVideo()._artifactReady(S)}));this._channel.on("webSocket",(({webSocket:v})=>this.emit(Pe.Events.Page.WebSocket,$e.WebSocket.from(v))));this._channel.on("worker",(({worker:v})=>this._onWorker(tt.Worker.from(v))));this.coverage=new ke.Coverage(this._channel);this.once(Pe.Events.Page.Close,(()=>this._closedOrCrashedScope.close(this._closeErrorWithReason())));this.once(Pe.Events.Page.Crash,(()=>this._closedOrCrashedScope.close(new V.TargetClosedError)));this._setEventToSubscriptionMapping(new Map([[Pe.Events.Page.Console,"console"],[Pe.Events.Page.Dialog,"dialog"],[Pe.Events.Page.Request,"request"],[Pe.Events.Page.Response,"response"],[Pe.Events.Page.RequestFinished,"requestFinished"],[Pe.Events.Page.RequestFailed,"requestFailed"],[Pe.Events.Page.FileChooser,"fileChooser"]]))}_onFrameAttached(v){v._page=this;this._frames.add(v);if(v._parentFrame)v._parentFrame._childFrames.add(v);this.emit(Pe.Events.Page.FrameAttached,v)}_onFrameDetached(v){this._frames.delete(v);v._detached=true;if(v._parentFrame)v._parentFrame._childFrames.delete(v);this.emit(Pe.Events.Page.FrameDetached,v)}async _onRoute(v){v._context=this.context();const S=this._routes.slice();for(const Q of S){if(this._closeWasCalled||this._browserContext._closeWasCalled)return;if(!Q.matches(v.request().url()))continue;const S=this._routes.indexOf(Q);if(S===-1)continue;if(Q.willExpire())this._routes.splice(S,1);const O=await Q.handle(v);if(!this._routes.length)this._wrapApiCall((()=>this._updateInterceptionPatterns()),true).catch((()=>{}));if(O)return}await this._browserContext._onRoute(v)}async _onBinding(v){const S=this._bindings.get(v._initializer.name);if(S){await v.call(S);return}await this._browserContext._onBinding(v)}_onWorker(v){this._workers.add(v);v._page=this;this.emit(Pe.Events.Page.Worker,v)}_onClose(){this._closed=true;this._browserContext._pages.delete(this);this._browserContext._backgroundPages.delete(this);this._disposeHarRouters();this.emit(Pe.Events.Page.Close,this)}_onCrash(){this.emit(Pe.Events.Page.Crash,this)}context(){return this._browserContext}async opener(){if(!this._opener||this._opener.isClosed())return null;return this._opener}mainFrame(){return this._mainFrame}frame(v){const S=(0,X.isString)(v)?v:v.name;const Q=(0,X.isObject)(v)?v.url:undefined;(0,X.assert)(S||Q,"Either name or url matcher should be specified");return this.frames().find((v=>{if(S)return v.name()===S;return(0,J.urlMatches)(this._browserContext._options.baseURL,v.url(),Q)}))||null}frames(){return[...this._frames]}setDefaultNavigationTimeout(v){this._timeoutSettings.setDefaultNavigationTimeout(v);this._wrapApiCall((async()=>{this._channel.setDefaultNavigationTimeoutNoReply({timeout:v}).catch((()=>{}))}),true)}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v);this._wrapApiCall((async()=>{this._channel.setDefaultTimeoutNoReply({timeout:v}).catch((()=>{}))}),true)}_forceVideo(){if(!this._video)this._video=new Ye.Video(this,this._connection);return this._video}video(){if(!this._browserContext._options.recordVideo)return null;return this._forceVideo()}async $(v,S){return await this._mainFrame.$(v,S)}async waitForSelector(v,S){return await this._mainFrame.waitForSelector(v,S)}async dispatchEvent(v,S,Q,O){return await this._mainFrame.dispatchEvent(v,S,Q,O)}async evaluateHandle(v,S){(0,Ve.assertMaxArguments)(arguments.length,2);return await this._mainFrame.evaluateHandle(v,S)}async $eval(v,S,Q){(0,Ve.assertMaxArguments)(arguments.length,3);return await this._mainFrame.$eval(v,S,Q)}async $$eval(v,S,Q){(0,Ve.assertMaxArguments)(arguments.length,3);return await this._mainFrame.$$eval(v,S,Q)}async $$(v){return await this._mainFrame.$$(v)}async addScriptTag(v={}){return await this._mainFrame.addScriptTag(v)}async addStyleTag(v={}){return await this._mainFrame.addStyleTag(v)}async exposeFunction(v,S){await this._channel.exposeBinding({name:v});const binding=(v,...Q)=>S(...Q);this._bindings.set(v,binding)}async exposeBinding(v,S,Q={}){await this._channel.exposeBinding({name:v,needsHandle:Q.handle});this._bindings.set(v,S)}async setExtraHTTPHeaders(v){(0,$e.validateHeaders)(v);await this._channel.setExtraHTTPHeaders({headers:(0,X.headersObjectToArray)(v)})}url(){return this._mainFrame.url()}async content(){return await this._mainFrame.content()}async setContent(v,S){return await this._mainFrame.setContent(v,S)}async goto(v,S){return await this._mainFrame.goto(v,S)}async reload(v={}){const S=(0,je.verifyLoadState)("waitUntil",v.waitUntil===undefined?"load":v.waitUntil);return $e.Response.fromNullable((await this._channel.reload({...v,waitUntil:S})).response)}async waitForLoadState(v,S){return await this._mainFrame.waitForLoadState(v,S)}async waitForNavigation(v){return await this._mainFrame.waitForNavigation(v)}async waitForURL(v,S){return await this._mainFrame.waitForURL(v,S)}async waitForRequest(v,S={}){const predicate=async S=>{if((0,X.isString)(v)||(0,X.isRegExp)(v))return(0,J.urlMatches)(this._browserContext._options.baseURL,S.url(),v);return await v(S)};const Q=trimUrl(v);const O=Q?`waiting for request ${Q}`:undefined;return await this._waitForEvent(Pe.Events.Page.Request,{predicate:predicate,timeout:S.timeout},O)}async waitForResponse(v,S={}){const predicate=async S=>{if((0,X.isString)(v)||(0,X.isRegExp)(v))return(0,J.urlMatches)(this._browserContext._options.baseURL,S.url(),v);return await v(S)};const Q=trimUrl(v);const O=Q?`waiting for response ${Q}`:undefined;return await this._waitForEvent(Pe.Events.Page.Response,{predicate:predicate,timeout:S.timeout},O)}async waitForEvent(v,S={}){return await this._waitForEvent(v,S,`waiting for event "${v}"`)}_closeErrorWithReason(){return new V.TargetClosedError(this._closeReason||this._browserContext._effectiveCloseReason())}async _waitForEvent(v,S,Q){return await this._wrapApiCall((async()=>{const O=this._timeoutSettings.timeout(typeof S==="function"?{}:S);const H=typeof S==="function"?S:S.predicate;const V=et.Waiter.createForEvent(this,v);if(Q)V.log(Q);V.rejectOnTimeout(O,`Timeout ${O}ms exceeded while waiting for event "${v}"`);if(v!==Pe.Events.Page.Crash)V.rejectOnEvent(this,Pe.Events.Page.Crash,new Error("Page crashed"));if(v!==Pe.Events.Page.Close)V.rejectOnEvent(this,Pe.Events.Page.Close,(()=>this._closeErrorWithReason()));const J=await V.waitForEvent(this,v,H);V.dispose();return J}))}async goBack(v={}){const S=(0,je.verifyLoadState)("waitUntil",v.waitUntil===undefined?"load":v.waitUntil);return $e.Response.fromNullable((await this._channel.goBack({...v,waitUntil:S})).response)}async goForward(v={}){const S=(0,je.verifyLoadState)("waitUntil",v.waitUntil===undefined?"load":v.waitUntil);return $e.Response.fromNullable((await this._channel.goForward({...v,waitUntil:S})).response)}async emulateMedia(v={}){await this._channel.emulateMedia({media:v.media===null?"no-override":v.media,colorScheme:v.colorScheme===null?"no-override":v.colorScheme,reducedMotion:v.reducedMotion===null?"no-override":v.reducedMotion,forcedColors:v.forcedColors===null?"no-override":v.forcedColors})}async setViewportSize(v){this._viewportSize=v;await this._channel.setViewportSize({viewportSize:v})}viewportSize(){return this._viewportSize}async evaluate(v,S){(0,Ve.assertMaxArguments)(arguments.length,2);return await this._mainFrame.evaluate(v,S)}async addInitScript(v,S){const Q=await(0,Be.evaluationScript)(v,S);await this._channel.addInitScript({source:Q})}async route(v,S,Q={}){this._routes.unshift(new $e.RouteHandler(this._browserContext._options.baseURL,v,S,Q.times));await this._updateInterceptionPatterns()}async routeFromHAR(v,S={}){if(S.update){await this._browserContext._recordIntoHAR(v,this,S);return}const Q=await nt.HarRouter.create(this._connection.localUtils(),v,S.notFound||"abort",{urlMatch:S.url});this._harRouters.push(Q);await Q.addPageRoute(this)}_disposeHarRouters(){this._harRouters.forEach((v=>v.dispose()));this._harRouters=[]}async unrouteAll(v){await this._unrouteInternal(this._routes,[],v===null||v===void 0?void 0:v.behavior);this._disposeHarRouters()}async unroute(v,S){const Q=[];const O=[];for(const H of this._routes){if((0,X.urlMatchesEqual)(H.url,v)&&(!S||H.handler===S))Q.push(H);else O.push(H)}await this._unrouteInternal(Q,O,"default")}async _unrouteInternal(v,S,Q){this._routes=S;await this._updateInterceptionPatterns();if(!Q||Q==="default")return;const O=v.map((v=>v.stop(Q)));await Promise.all(O)}async _updateInterceptionPatterns(){const v=$e.RouteHandler.prepareInterceptionPatterns(this._routes);await this._channel.setNetworkInterceptionPatterns({patterns:v})}async screenshot(v={}){const S={...v,mask:undefined};if(!S.type)S.type=(0,Oe.determineScreenshotType)(v);if(v.mask){S.mask=v.mask.map((v=>({frame:v._frame._channel,selector:v._selector})))}const Q=await this._channel.screenshot(S);if(v.path){await(0,ee.mkdirIfNeeded)(v.path);await O.default.promises.writeFile(v.path,Q.binary)}return Q.binary}async _expectScreenshot(v){var S,Q;const O=(S=v.screenshotOptions)!==null&&S!==void 0&&S.mask?(Q=v.screenshotOptions)===null||Q===void 0?void 0:Q.mask.map((v=>({frame:v._frame._channel,selector:v._selector}))):undefined;const H=v.locator?{frame:v.locator._frame._channel,selector:v.locator._selector}:undefined;return await this._channel.expectScreenshot({...v,isNot:!!v.isNot,locator:H,screenshotOptions:{...v.screenshotOptions,mask:O}})}async title(){return await this._mainFrame.title()}async bringToFront(){await this._channel.bringToFront()}async[it](){await this.close()}async close(v={}){this._closeReason=v.reason;this._closeWasCalled=true;try{if(this._ownedContext)await this._ownedContext.close();else await this._channel.close(v)}catch(S){if((0,V.isTargetClosedError)(S)&&!v.runBeforeUnload)return;throw S}}isClosed(){return this._closed}async click(v,S){return await this._mainFrame.click(v,S)}async dragAndDrop(v,S,Q){return await this._mainFrame.dragAndDrop(v,S,Q)}async dblclick(v,S){return await this._mainFrame.dblclick(v,S)}async tap(v,S){return await this._mainFrame.tap(v,S)}async fill(v,S,Q){return await this._mainFrame.fill(v,S,Q)}locator(v,S){return this.mainFrame().locator(v,S)}getByTestId(v){return this.mainFrame().getByTestId(v)}getByAltText(v,S){return this.mainFrame().getByAltText(v,S)}getByLabel(v,S){return this.mainFrame().getByLabel(v,S)}getByPlaceholder(v,S){return this.mainFrame().getByPlaceholder(v,S)}getByText(v,S){return this.mainFrame().getByText(v,S)}getByTitle(v,S){return this.mainFrame().getByTitle(v,S)}getByRole(v,S={}){return this.mainFrame().getByRole(v,S)}frameLocator(v){return this.mainFrame().frameLocator(v)}async focus(v,S){return await this._mainFrame.focus(v,S)}async textContent(v,S){return await this._mainFrame.textContent(v,S)}async innerText(v,S){return await this._mainFrame.innerText(v,S)}async innerHTML(v,S){return await this._mainFrame.innerHTML(v,S)}async getAttribute(v,S,Q){return await this._mainFrame.getAttribute(v,S,Q)}async inputValue(v,S){return await this._mainFrame.inputValue(v,S)}async isChecked(v,S){return await this._mainFrame.isChecked(v,S)}async isDisabled(v,S){return await this._mainFrame.isDisabled(v,S)}async isEditable(v,S){return await this._mainFrame.isEditable(v,S)}async isEnabled(v,S){return await this._mainFrame.isEnabled(v,S)}async isHidden(v,S){return await this._mainFrame.isHidden(v,S)}async isVisible(v,S){return await this._mainFrame.isVisible(v,S)}async hover(v,S){return await this._mainFrame.hover(v,S)}async selectOption(v,S,Q){return await this._mainFrame.selectOption(v,S,Q)}async setInputFiles(v,S,Q){return await this._mainFrame.setInputFiles(v,S,Q)}async type(v,S,Q){return await this._mainFrame.type(v,S,Q)}async press(v,S,Q){return await this._mainFrame.press(v,S,Q)}async check(v,S){return await this._mainFrame.check(v,S)}async uncheck(v,S){return await this._mainFrame.uncheck(v,S)}async setChecked(v,S,Q){return await this._mainFrame.setChecked(v,S,Q)}async waitForTimeout(v){return await this._mainFrame.waitForTimeout(v)}async waitForFunction(v,S,Q){return await this._mainFrame.waitForFunction(v,S,Q)}workers(){return[...this._workers]}async pause(){var v;if(Q(1405).url())return;const S=this._browserContext._timeoutSettings.defaultNavigationTimeout();const O=this._browserContext._timeoutSettings.defaultTimeout();this._browserContext.setDefaultNavigationTimeout(0);this._browserContext.setDefaultTimeout(0);(v=this._instrumentation)===null||v===void 0?void 0:v.onWillPause();await this._closedOrCrashedScope.safeRace(this.context()._channel.pause());this._browserContext.setDefaultNavigationTimeout(S);this._browserContext.setDefaultTimeout(O)}async pdf(v={}){const S={...v};if(S.margin)S.margin={...S.margin};if(typeof v.width==="number")S.width=v.width+"px";if(typeof v.height==="number")S.height=v.height+"px";for(const Q of["top","right","bottom","left"]){const O=Q;if(v.margin&&typeof v.margin[O]==="number")S.margin[O]=S.margin[O]+"px"}const Q=await this._channel.pdf(S);if(v.path){await O.default.promises.mkdir(H.default.dirname(v.path),{recursive:true});await O.default.promises.writeFile(v.path,Q.pdf)}return Q.pdf}}S.Page=Page;class BindingCall extends Ee.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O)}async call(v){try{const S=je.Frame.from(this._initializer.frame);const Q={context:S._page.context(),page:S._page,frame:S};let O;if(this._initializer.handle)O=await v(Q,Ve.JSHandle.from(this._initializer.handle));else O=await v(Q,...this._initializer.args.map(Ve.parseResult));this._channel.resolve({result:(0,Ve.serializeArgument)(O)}).catch((()=>{}))}catch(v){this._channel.reject({error:(0,V.serializeError)(v)}).catch((()=>{}))}}}S.BindingCall=BindingCall;function trimUrl(v){if((0,X.isRegExp)(v))return`/${(0,ze.trimStringWithEllipsis)(v.source,50)}/${v.flags}`;if((0,X.isString)(v))return`"${(0,ze.trimStringWithEllipsis)(v,50)}"`}},5983:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Playwright=void 0;var O=Q(7447);var H=Q(8068);var V=Q(2450);var J=Q(1578);var Y=Q(1181);var X=Q(3750);var ee=Q(6212);class Playwright extends J.ChannelOwner{constructor(v,S,Q,J){var ae,he;super(v,S,Q,J);this._android=void 0;this._electron=void 0;this.chromium=void 0;this.firefox=void 0;this.webkit=void 0;this.devices=void 0;this.selectors=void 0;this.request=void 0;this.errors=void 0;this.request=new X.APIRequest(this);this.chromium=V.BrowserType.from(J.chromium);this.chromium._playwright=this;this.firefox=V.BrowserType.from(J.firefox);this.firefox._playwright=this;this.webkit=V.BrowserType.from(J.webkit);this.webkit._playwright=this;this._android=H.Android.from(J.android);this._electron=Y.Electron.from(J.electron);this.devices=(ae=(he=this._connection.localUtils())===null||he===void 0?void 0:he.devices)!==null&&ae!==void 0?ae:{};this.selectors=new ee.Selectors;this.errors={TimeoutError:O.TimeoutError};const Ee=ee.SelectorsOwner.from(J.selectors);this.selectors._addChannel(Ee);this._connection.on("close",(()=>{this.selectors._removeChannel(Ee)}));global._playwrightInstance=this}_setSelectors(v){const S=ee.SelectorsOwner.from(this._initializer.selectors);this.selectors._removeChannel(S);this.selectors=v;this.selectors._addChannel(S)}static from(v){return v._object}}S.Playwright=Playwright},6212:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.SelectorsOwner=S.Selectors=void 0;var O=Q(6886);var H=Q(1578);var V=Q(2495);class Selectors{constructor(){this._channels=new Set;this._registrations=[]}async register(v,S,Q={}){const H=await(0,O.evaluationScript)(S,undefined,false);const V={...Q,name:v,source:H};for(const v of this._channels)await v._channel.register(V);this._registrations.push(V)}setTestIdAttribute(v){(0,V.setTestIdAttribute)(v);for(const S of this._channels)S._channel.setTestIdAttributeName({testIdAttributeName:v}).catch((()=>{}))}_addChannel(v){this._channels.add(v);for(const S of this._registrations){v._channel.register(S).catch((()=>{}));v._channel.setTestIdAttributeName({testIdAttributeName:(0,V.testIdAttributeName)()}).catch((()=>{}))}}_removeChannel(v){this._channels.delete(v)}}S.Selectors=Selectors;class SelectorsOwner extends H.ChannelOwner{static from(v){return v._object}}S.SelectorsOwner=SelectorsOwner},8423:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Stream=void 0;var O=Q(2781);var H=Q(1578);class Stream extends H.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O)}stream(){return new StreamImpl(this._channel)}}S.Stream=Stream;class StreamImpl extends O.Readable{constructor(v){super();this._channel=void 0;this._channel=v}async _read(){const v=await this._channel.read({size:1024*1024});if(v.binary.byteLength)this.push(v.binary);else this.push(null)}_destroy(v,S){this._channel.close().catch((v=>null));super._destroy(v,S)}}},2303:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Tracing=void 0;var O=Q(5043);var H=Q(1578);class Tracing extends H.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O);this._includeSources=false;this._tracesDir=void 0;this._stacksId=void 0;this._isTracing=false}async start(v={}){this._includeSources=!!v.sources;const S=await this._wrapApiCall((async()=>{await this._channel.tracingStart({name:v.name,snapshots:v.snapshots,screenshots:v.screenshots,live:v._live});const S=await this._channel.tracingStartChunk({name:v.name,title:v.title});return S.traceName}),true);await this._startCollectingStacks(S)}async startChunk(v={}){const{traceName:S}=await this._channel.tracingStartChunk(v);await this._startCollectingStacks(S)}async _startCollectingStacks(v){if(!this._isTracing){this._isTracing=true;this._connection.setIsTracing(true)}const S=await this._connection.localUtils()._channel.tracingStarted({tracesDir:this._tracesDir,traceName:v});this._stacksId=S.stacksId}async stopChunk(v={}){await this._wrapApiCall((async()=>{await this._doStopChunk(v.path)}),true)}async stop(v={}){await this._wrapApiCall((async()=>{await this._doStopChunk(v.path);await this._channel.tracingStop()}),true)}async _doStopChunk(v){if(this._isTracing){this._isTracing=false;this._connection.setIsTracing(false)}if(!v){await this._channel.tracingStopChunk({mode:"discard"});if(this._stacksId)await this._connection.localUtils()._channel.traceDiscarded({stacksId:this._stacksId});return}const S=!this._connection.isRemote();if(S){const S=await this._channel.tracingStopChunk({mode:"entries"});await this._connection.localUtils()._channel.zip({zipFile:v,entries:S.entries,mode:"write",stacksId:this._stacksId,includeSources:this._includeSources});return}const Q=await this._channel.tracingStopChunk({mode:"archive"});if(!Q.artifact){if(this._stacksId)await this._connection.localUtils()._channel.traceDiscarded({stacksId:this._stacksId});return}const H=O.Artifact.from(Q.artifact);await H.saveAs(v);await H.delete();await this._connection.localUtils()._channel.zip({zipFile:v,entries:[],mode:"append",stacksId:this._stacksId,includeSources:this._includeSources})}}S.Tracing=Tracing},7825:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.kLifecycleEvents=void 0;const Q=S.kLifecycleEvents=new Set(["load","domcontentloaded","networkidle","commit"])},4359:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Video=void 0;var O=Q(3557);class Video{constructor(v,S){this._artifact=null;this._artifactReadyPromise=new O.ManualPromise;this._isRemote=false;this._isRemote=S.isRemote();this._artifact=v._closedOrCrashedScope.safeRace(this._artifactReadyPromise)}_artifactReady(v){this._artifactReadyPromise.resolve(v)}async path(){if(this._isRemote)throw new Error(`Path is not available when connecting remotely. Use saveAs() to save a local copy.`);const v=await this._artifact;if(!v)throw new Error("Page did not produce any video frames");return v._initializer.absolutePath}async saveAs(v){const S=await this._artifact;if(!S)throw new Error("Page did not produce any video frames");return await S.saveAs(v)}async delete(){const v=await this._artifact;if(v)await v.delete()}}S.Video=Video},7991:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Waiter=void 0;var O=Q(9030);var H=Q(7447);var V=Q(3557);class Waiter{constructor(v,S){this._dispose=void 0;this._failures=[];this._immediateError=void 0;this._logs=[];this._channelOwner=void 0;this._waitId=void 0;this._error=void 0;this._waitId=(0,V.createGuid)();this._channelOwner=v;this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"before",event:S}}).catch((()=>{}));this._dispose=[()=>this._channelOwner._wrapApiCall((async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"after",error:this._error}})}),true).catch((()=>{}))]}static createForEvent(v,S){return new Waiter(v,S)}async waitForEvent(v,S,Q){const{promise:O,dispose:H}=waitForEvent(v,S,Q);return await this.waitForPromise(O,H)}rejectOnEvent(v,S,Q,O){const{promise:H,dispose:V}=waitForEvent(v,S,O);this._rejectOn(H.then((()=>{throw typeof Q==="function"?Q():Q})),V)}rejectOnTimeout(v,S){if(!v)return;const{promise:Q,dispose:O}=waitForTimeout(v);this._rejectOn(Q.then((()=>{throw new H.TimeoutError(S)})),O)}rejectImmediately(v){this._immediateError=v}dispose(){for(const v of this._dispose)v()}async waitForPromise(v,S){try{if(this._immediateError)throw this._immediateError;const Q=await Promise.race([v,...this._failures]);if(S)S();return Q}catch(v){if(S)S();this._error=v.message;this.dispose();(0,O.rewriteErrorMessage)(v,v.message+formatLogRecording(this._logs));throw v}}log(v){this._logs.push(v);this._channelOwner._wrapApiCall((async()=>{await this._channelOwner._channel.waitForEventInfo({info:{waitId:this._waitId,phase:"log",message:v}}).catch((()=>{}))}),true)}_rejectOn(v,S){this._failures.push(v);if(S)this._dispose.push(S)}}S.Waiter=Waiter;function waitForEvent(v,S,Q){let O;const H=new Promise(((H,V)=>{O=async J=>{try{if(Q&&!await Q(J))return;v.removeListener(S,O);H(J)}catch(Q){v.removeListener(S,O);V(Q)}};v.addListener(S,O)}));const dispose=()=>v.removeListener(S,O);return{promise:H,dispose:dispose}}function waitForTimeout(v){let S;const Q=new Promise((Q=>S=setTimeout(Q,v)));const dispose=()=>clearTimeout(S);return{promise:Q,dispose:dispose}}function formatLogRecording(v){if(!v.length)return"";const S=` logs `;const Q=60;const O=(Q-S.length)/2;const H=Q-S.length-O;return`\n${"=".repeat(O)}${S}${"=".repeat(H)}\n${v.join("\n")}\n${"=".repeat(Q)}`}},9558:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WebError=void 0;class WebError{constructor(v,S){this._page=void 0;this._error=void 0;this._page=v;this._error=S}page(){return this._page}error(){return this._error}}S.WebError=WebError},395:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Worker=void 0;var O=Q(8289);var H=Q(1578);var V=Q(6594);var J=Q(3557);var Y=Q(7447);class Worker extends H.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,H){super(v,S,Q,H);this._page=void 0;this._context=void 0;this._closedScope=new J.LongStandingScope;this._channel.on("close",(()=>{if(this._page)this._page._workers.delete(this);if(this._context)this._context._serviceWorkers.delete(this);this.emit(O.Events.Worker.Close,this)}));this.once(O.Events.Worker.Close,(()=>{var v;return this._closedScope.close(((v=this._page)===null||v===void 0?void 0:v._closeErrorWithReason())||new Y.TargetClosedError)}))}url(){return this._initializer.url}async evaluate(v,S){(0,V.assertMaxArguments)(arguments.length,2);const Q=await this._channel.evaluateExpression({expression:String(v),isFunction:typeof v==="function",arg:(0,V.serializeArgument)(S)});return(0,V.parseResult)(Q.value)}async evaluateHandle(v,S){(0,V.assertMaxArguments)(arguments.length,2);const Q=await this._channel.evaluateExpressionHandle({expression:String(v),isFunction:typeof v==="function",arg:(0,V.serializeArgument)(S)});return V.JSHandle.from(Q.handle)}}S.Worker=Worker},4493:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WritableStream=void 0;var O=Q(2781);var H=Q(1578);class WritableStream extends H.ChannelOwner{static from(v){return v._object}constructor(v,S,Q,O){super(v,S,Q,O)}stream(){return new WritableStreamImpl(this._channel)}}S.WritableStream=WritableStream;class WritableStreamImpl extends O.Writable{constructor(v){super();this._channel=void 0;this._channel=v}async _write(v,S,Q){const O=await this._channel.write({binary:typeof v==="string"?Buffer.from(v):v}).catch((v=>v));Q(O||null)}async _final(v){const S=await this._channel.close().catch((v=>v));v(S||null)}}},2003:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.debugLogger=S.RecentLogsCollector=void 0;var O=Q(1319);var H=_interopRequireDefault(Q(7147));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const V={api:45,protocol:34,install:34,download:34,browser:0,socks:92,error:160,channel:33,server:45,"server:channel":34,"server:metadata":33};class DebugLogger{constructor(){this._debuggers=new Map;if(process.env.DEBUG_FILE){const v=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g");const S=H.default.createWriteStream(process.env.DEBUG_FILE);O.debug.log=Q=>{S.write(Q.replace(v,""));S.write("\n")}}}log(v,S){let Q=this._debuggers.get(v);if(!Q){Q=(0,O.debug)(`pw:${v}`);this._debuggers.set(v,Q);Q.color=V[v]||0}Q(S)}isEnabled(v){return O.debug.enabled(`pw:${v}`)}}const J=S.debugLogger=new DebugLogger;const Y=150;class RecentLogsCollector{constructor(){this._logs=[]}log(v){this._logs.push(v);if(this._logs.length===Y*2)this._logs.splice(0,Y)}recentLogs(){if(this._logs.length>Y)return this._logs.slice(-Y);return this._logs}}S.RecentLogsCollector=RecentLogsCollector},1570:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.SocksProxyHandler=S.SocksProxy=void 0;S.parsePattern=parsePattern;var O=_interopRequireDefault(Q(2361));var H=_interopRequireDefault(Q(1808));var V=Q(2003);var J=Q(7363);var Y=Q(3557);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}var X=function(v){v[v["NO_AUTHENTICATION_REQUIRED"]=0]="NO_AUTHENTICATION_REQUIRED";v[v["GSSAPI"]=1]="GSSAPI";v[v["USERNAME_PASSWORD"]=2]="USERNAME_PASSWORD";v[v["NO_ACCEPTABLE_METHODS"]=255]="NO_ACCEPTABLE_METHODS";return v}(X||{});var ee=function(v){v[v["IPv4"]=1]="IPv4";v[v["FqName"]=3]="FqName";v[v["IPv6"]=4]="IPv6";return v}(ee||{});var ae=function(v){v[v["CONNECT"]=1]="CONNECT";v[v["BIND"]=2]="BIND";v[v["UDP_ASSOCIATE"]=3]="UDP_ASSOCIATE";return v}(ae||{});var he=function(v){v[v["Succeeded"]=0]="Succeeded";v[v["GeneralServerFailure"]=1]="GeneralServerFailure";v[v["NotAllowedByRuleSet"]=2]="NotAllowedByRuleSet";v[v["NetworkUnreachable"]=3]="NetworkUnreachable";v[v["HostUnreachable"]=4]="HostUnreachable";v[v["ConnectionRefused"]=5]="ConnectionRefused";v[v["TtlExpired"]=6]="TtlExpired";v[v["CommandNotSupported"]=7]="CommandNotSupported";v[v["AddressTypeNotSupported"]=8]="AddressTypeNotSupported";return v}(he||{});class SocksConnection{constructor(v,S,Q){this._buffer=Buffer.from([]);this._offset=0;this._fence=0;this._fenceCallback=void 0;this._socket=void 0;this._boundOnData=void 0;this._uid=void 0;this._client=void 0;this._uid=v;this._socket=S;this._client=Q;this._boundOnData=this._onData.bind(this);S.on("data",this._boundOnData);S.on("close",(()=>this._onClose()));S.on("end",(()=>this._onClose()));S.on("error",(()=>this._onClose()));this._run().catch((()=>this._socket.end()))}async _run(){(0,Y.assert)(await this._authenticate());const{command:v,host:S,port:Q}=await this._parseRequest();if(v!==ae.CONNECT){this._writeBytes(Buffer.from([5,he.CommandNotSupported,0,1,0,0,0,0,0,0]));return}this._socket.off("data",this._boundOnData);this._client.onSocketRequested({uid:this._uid,host:S,port:Q})}async _authenticate(){const v=await this._readByte();(0,Y.assert)(v===5,"The VER field must be set to x05 for this version of the protocol, was "+v);const S=await this._readByte();(0,Y.assert)(S,"No authentication methods specified");const Q=await this._readBytes(S);for(const S of Q){if(S===0){this._writeBytes(Buffer.from([v,S]));return true}}this._writeBytes(Buffer.from([v,X.NO_ACCEPTABLE_METHODS]));return false}async _parseRequest(){const v=await this._readByte();(0,Y.assert)(v===5,"The VER field must be set to x05 for this version of the protocol, was "+v);const S=await this._readByte();await this._readByte();const Q=await this._readByte();let O="";switch(Q){case ee.IPv4:O=(await this._readBytes(4)).join(".");break;case ee.FqName:const v=await this._readByte();O=(await this._readBytes(v)).toString();break;case ee.IPv6:const S=await this._readBytes(16);const Q=[];for(let v=0;v<8;++v)Q.push(S.readUInt16BE(v*2).toString(16));O=Q.join(":");break}const H=(await this._readBytes(2)).readUInt16BE(0);this._buffer=Buffer.from([]);this._offset=0;this._fence=0;return{command:S,host:O,port:H}}async _readByte(){const v=await this._readBytes(1);return v[0]}async _readBytes(v){this._fence=this._offset+v;if(!this._buffer||this._buffer.length<this._fence)await new Promise((v=>this._fenceCallback=v));this._offset+=v;return this._buffer.slice(this._offset-v,this._offset)}_writeBytes(v){if(this._socket.writable)this._socket.write(v)}_onClose(){this._client.onSocketClosed({uid:this._uid})}_onData(v){this._buffer=Buffer.concat([this._buffer,v]);if(this._fenceCallback&&this._buffer.length>=this._fence){const v=this._fenceCallback;this._fenceCallback=undefined;v()}}socketConnected(v,S){this._writeBytes(Buffer.from([5,he.Succeeded,0,...ipToSocksAddress(v),S>>8,S&255]));this._socket.on("data",(v=>this._client.onSocketData({uid:this._uid,data:v})))}socketFailed(v){const S=Buffer.from([5,0,0,...ipToSocksAddress("0.0.0.0"),0,0]);switch(v){case"ENOENT":case"ENOTFOUND":case"ETIMEDOUT":case"EHOSTUNREACH":S[1]=he.HostUnreachable;break;case"ENETUNREACH":S[1]=he.NetworkUnreachable;break;case"ECONNREFUSED":S[1]=he.ConnectionRefused;break;case"ERULESET":S[1]=he.NotAllowedByRuleSet;break}this._writeBytes(S);this._socket.end()}sendData(v){this._socket.write(v)}end(){this._socket.end()}error(v){this._socket.destroy(new Error(v))}}function hexToNumber(v){return[...v].reduce(((S,Q)=>{const O=Q.charCodeAt(0);if(O>=48&&O<=57)return S+O;if(O>=97&&O<=102)return S+(O-97)+10;if(O>=65&&O<=70)return S+(O-65)+10;throw new Error("Invalid IPv6 token "+v)}),0)}function ipToSocksAddress(v){if(H.default.isIPv4(v)){return[1,...v.split(".",4).map((v=>+v&255))]}if(H.default.isIPv6(v)){const S=[4];const Q=v.split(":",8);while(Q.length<8)Q.unshift("");for(const v of Q){const Q=hexToNumber(v);S.push(Q>>8&255,Q&255)}return S}throw new Error("Only IPv4 and IPv6 addresses are supported")}function starMatchToRegex(v){const S=v.split("*").map((v=>v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join(".*");return new RegExp("^"+S+"$")}function parsePattern(v){if(!v)return()=>false;const S=v.split(",").map((S=>{const Q=S.match(/^(.*?)(?::(\d+))?$/);if(!Q)throw new Error(`Unsupported token "${S}" in pattern "${v}"`);const O=Q[2]?+Q[2]:undefined;const portMatches=v=>O===undefined||O===v;let V=Q[1];if(V==="<loopback>"){return(v,S)=>{if(!portMatches(S))return false;return v==="localhost"||v.endsWith(".localhost")||v==="127.0.0.1"||v==="[::1]"}}if(V==="*")return(v,S)=>portMatches(S);if(H.default.isIPv4(V)||H.default.isIPv6(V))return(v,S)=>v===V&&portMatches(S);if(V[0]===".")V="*"+V;const J=starMatchToRegex(V);return(v,S)=>{if(!portMatches(S))return false;if(H.default.isIPv4(v)||H.default.isIPv6(v))return false;return!!v.match(J)}}));return(v,Q)=>S.some((S=>S(v,Q)))}class SocksProxy extends O.default{constructor(){super();this._server=void 0;this._connections=new Map;this._sockets=new Set;this._closed=false;this._port=void 0;this._patternMatcher=()=>false;this._directSockets=new Map;this._server=new H.default.Server((v=>{const S=(0,Y.createGuid)();const Q=new SocksConnection(S,v,this);this._connections.set(S,Q)}));this._server.on("connection",(v=>{if(this._closed){v.destroy();return}this._sockets.add(v);v.once("close",(()=>this._sockets.delete(v)))}))}setPattern(v){try{this._patternMatcher=parsePattern(v)}catch(v){this._patternMatcher=()=>false}}async _handleDirect(v){try{var S;const Q=await(0,J.createSocket)(v.host,v.port);Q.on("data",(S=>{var Q;return(Q=this._connections.get(v.uid))===null||Q===void 0?void 0:Q.sendData(S)}));Q.on("error",(S=>{var Q;(Q=this._connections.get(v.uid))===null||Q===void 0?void 0:Q.error(S.message);this._directSockets.delete(v.uid)}));Q.on("end",(()=>{var S;(S=this._connections.get(v.uid))===null||S===void 0?void 0:S.end();this._directSockets.delete(v.uid)}));const O=Q.localAddress;const H=Q.localPort;this._directSockets.set(v.uid,Q);(S=this._connections.get(v.uid))===null||S===void 0?void 0:S.socketConnected(O,H)}catch(S){var Q;(Q=this._connections.get(v.uid))===null||Q===void 0?void 0:Q.socketFailed(S.code)}}port(){return this._port}async listen(v){return new Promise((S=>{this._server.listen(v,(()=>{const v=this._server.address().port;this._port=v;S(v)}))}))}async close(){if(this._closed)return;this._closed=true;for(const v of this._sockets)v.destroy();this._sockets.clear();await new Promise((v=>this._server.close(v)))}onSocketRequested(v){if(!this._patternMatcher(v.host,v.port)){this._handleDirect(v);return}this.emit(SocksProxy.Events.SocksRequested,v)}onSocketData(v){const S=this._directSockets.get(v.uid);if(S){S.write(v.data);return}this.emit(SocksProxy.Events.SocksData,v)}onSocketClosed(v){const S=this._directSockets.get(v.uid);if(S){S.destroy();this._directSockets.delete(v.uid);return}this.emit(SocksProxy.Events.SocksClosed,v)}socketConnected({uid:v,host:S,port:Q}){var O;(O=this._connections.get(v))===null||O===void 0?void 0:O.socketConnected(S,Q)}socketFailed({uid:v,errorCode:S}){var Q;(Q=this._connections.get(v))===null||Q===void 0?void 0:Q.socketFailed(S)}sendSocketData({uid:v,data:S}){var Q;(Q=this._connections.get(v))===null||Q===void 0?void 0:Q.sendData(S)}sendSocketEnd({uid:v}){var S;(S=this._connections.get(v))===null||S===void 0?void 0:S.end()}sendSocketError({uid:v,error:S}){var Q;(Q=this._connections.get(v))===null||Q===void 0?void 0:Q.error(S)}}S.SocksProxy=SocksProxy;SocksProxy.Events={SocksRequested:"socksRequested",SocksData:"socksData",SocksClosed:"socksClosed"};class SocksProxyHandler extends O.default{constructor(v,S){super();this._sockets=new Map;this._patternMatcher=()=>false;this._redirectPortForTest=void 0;this._patternMatcher=parsePattern(v);this._redirectPortForTest=S}cleanup(){for(const v of this._sockets.keys())this.socketClosed({uid:v})}async socketRequested({uid:v,host:S,port:Q}){V.debugLogger.log("socks",`[${v}] => request ${S}:${Q}`);if(!this._patternMatcher(S,Q)){const S={uid:v,errorCode:"ERULESET"};V.debugLogger.log("socks",`[${v}] <= pattern error ${S.errorCode}`);this.emit(SocksProxyHandler.Events.SocksFailed,S);return}if(S==="local.playwright")S="localhost";try{if(this._redirectPortForTest)Q=this._redirectPortForTest;const O=await(0,J.createSocket)(S,Q);O.on("data",(S=>{const Q={uid:v,data:S};this.emit(SocksProxyHandler.Events.SocksData,Q)}));O.on("error",(S=>{const Q={uid:v,error:S.message};V.debugLogger.log("socks",`[${v}] <= network socket error ${Q.error}`);this.emit(SocksProxyHandler.Events.SocksError,Q);this._sockets.delete(v)}));O.on("end",(()=>{const S={uid:v};V.debugLogger.log("socks",`[${v}] <= network socket closed`);this.emit(SocksProxyHandler.Events.SocksEnd,S);this._sockets.delete(v)}));const H=O.localAddress;const Y=O.localPort;this._sockets.set(v,O);const X={uid:v,host:H,port:Y};V.debugLogger.log("socks",`[${v}] <= connected to network ${X.host}:${X.port}`);this.emit(SocksProxyHandler.Events.SocksConnected,X)}catch(S){const Q={uid:v,errorCode:S.code};V.debugLogger.log("socks",`[${v}] <= connect error ${Q.errorCode}`);this.emit(SocksProxyHandler.Events.SocksFailed,Q)}}sendSocketData({uid:v,data:S}){var Q;(Q=this._sockets.get(v))===null||Q===void 0?void 0:Q.write(S)}socketClosed({uid:v}){var S;V.debugLogger.log("socks",`[${v}] <= browser socket closed`);(S=this._sockets.get(v))===null||S===void 0?void 0:S.destroy();this._sockets.delete(v)}}S.SocksProxyHandler=SocksProxyHandler;SocksProxyHandler.Events={SocksConnected:"socksConnected",SocksData:"socksData",SocksError:"socksError",SocksFailed:"socksFailed",SocksEnd:"socksEnd"}},9053:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.TimeoutSettings=S.DEFAULT_TIMEOUT=S.DEFAULT_LAUNCH_TIMEOUT=void 0;var O=Q(3557);const H=S.DEFAULT_TIMEOUT=3e4;const V=S.DEFAULT_LAUNCH_TIMEOUT=3*60*1e3;class TimeoutSettings{constructor(v){this._parent=void 0;this._defaultTimeout=void 0;this._defaultNavigationTimeout=void 0;this._parent=v}setDefaultTimeout(v){this._defaultTimeout=v}setDefaultNavigationTimeout(v){this._defaultNavigationTimeout=v}defaultNavigationTimeout(){return this._defaultNavigationTimeout}defaultTimeout(){return this._defaultTimeout}navigationTimeout(v){if(typeof v.timeout==="number")return v.timeout;if(this._defaultNavigationTimeout!==undefined)return this._defaultNavigationTimeout;if((0,O.debugMode)())return 0;if(this._defaultTimeout!==undefined)return this._defaultTimeout;if(this._parent)return this._parent.navigationTimeout(v);return H}timeout(v){if(typeof v.timeout==="number")return v.timeout;if((0,O.debugMode)())return 0;if(this._defaultTimeout!==undefined)return this._defaultTimeout;if(this._parent)return this._parent.timeout(v);return H}static timeout(v){if(typeof v.timeout==="number")return v.timeout;if((0,O.debugMode)())return 0;return H}static launchTimeout(v){if(typeof v.timeout==="number")return v.timeout;if((0,O.debugMode)())return 0;return V}}S.TimeoutSettings=TimeoutSettings},4989:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.source=void 0;const Q=S.source='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/playwright-core/src/server/injected/consoleApi.ts\nvar consoleApi_exports = {};\n__export(consoleApi_exports, {\n  default: () => consoleApi_default\n});\nmodule.exports = __toCommonJS(consoleApi_exports);\n\n// packages/playwright-core/src/utils/isomorphic/stringUtils.ts\nfunction escapeWithQuotes(text, char = "\'") {\n  const stringified = JSON.stringify(text);\n  const escapedText = stringified.substring(1, stringified.length - 1).replace(/\\\\"/g, \'"\');\n  if (char === "\'")\n    return char + escapedText.replace(/[\']/g, "\\\\\'") + char;\n  if (char === \'"\')\n    return char + escapedText.replace(/["]/g, \'\\\\"\') + char;\n  if (char === "`")\n    return char + escapedText.replace(/[`]/g, "`") + char;\n  throw new Error("Invalid escape char");\n}\nfunction toTitleCase(name) {\n  return name.charAt(0).toUpperCase() + name.substring(1);\n}\nfunction toSnakeCase(name) {\n  return name.replace(/([a-z0-9])([A-Z])/g, "$1_$2").replace(/([A-Z])([A-Z][a-z])/g, "$1_$2").toLowerCase();\n}\nfunction normalizeEscapedRegexQuotes(source) {\n  return source.replace(/(^|[^\\\\])(\\\\\\\\)*\\\\([\'"`])/g, "$1$2$3");\n}\nfunction escapeRegexForSelector(re) {\n  if (re.unicode || re.unicodeSets)\n    return String(re);\n  return String(re).replace(/(^|[^\\\\])(\\\\\\\\)*(["\'`])/g, "$1$2\\\\$3").replace(/>>/g, "\\\\>\\\\>");\n}\nfunction escapeForTextSelector(text, exact) {\n  if (typeof text !== "string")\n    return escapeRegexForSelector(text);\n  return `${JSON.stringify(text)}${exact ? "s" : "i"}`;\n}\nfunction escapeForAttributeSelector(value, exact) {\n  if (typeof value !== "string")\n    return escapeRegexForSelector(value);\n  return `"${value.replace(/\\\\/g, "\\\\\\\\").replace(/["]/g, \'\\\\"\')}"${exact ? "s" : "i"}`;\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorUtils.ts\nfunction getByAttributeTextSelector(attrName, text, options) {\n  return `internal:attr=[${attrName}=${escapeForAttributeSelector(text, (options == null ? void 0 : options.exact) || false)}]`;\n}\nfunction getByTestIdSelector(testIdAttributeName, testId) {\n  return `internal:testid=[${testIdAttributeName}=${escapeForAttributeSelector(testId, true)}]`;\n}\nfunction getByLabelSelector(text, options) {\n  return "internal:label=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByAltTextSelector(text, options) {\n  return getByAttributeTextSelector("alt", text, options);\n}\nfunction getByTitleSelector(text, options) {\n  return getByAttributeTextSelector("title", text, options);\n}\nfunction getByPlaceholderSelector(text, options) {\n  return getByAttributeTextSelector("placeholder", text, options);\n}\nfunction getByTextSelector(text, options) {\n  return "internal:text=" + escapeForTextSelector(text, !!(options == null ? void 0 : options.exact));\n}\nfunction getByRoleSelector(role, options = {}) {\n  const props = [];\n  if (options.checked !== void 0)\n    props.push(["checked", String(options.checked)]);\n  if (options.disabled !== void 0)\n    props.push(["disabled", String(options.disabled)]);\n  if (options.selected !== void 0)\n    props.push(["selected", String(options.selected)]);\n  if (options.expanded !== void 0)\n    props.push(["expanded", String(options.expanded)]);\n  if (options.includeHidden !== void 0)\n    props.push(["include-hidden", String(options.includeHidden)]);\n  if (options.level !== void 0)\n    props.push(["level", String(options.level)]);\n  if (options.name !== void 0)\n    props.push(["name", escapeForAttributeSelector(options.name, !!options.exact)]);\n  if (options.pressed !== void 0)\n    props.push(["pressed", String(options.pressed)]);\n  return `internal:role=${role}${props.map(([n, v]) => `[${n}=${v}]`).join("")}`;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssTokenizer.ts\nvar between = function(num, first, last) {\n  return num >= first && num <= last;\n};\nfunction digit(code) {\n  return between(code, 48, 57);\n}\nfunction hexdigit(code) {\n  return digit(code) || between(code, 65, 70) || between(code, 97, 102);\n}\nfunction uppercaseletter(code) {\n  return between(code, 65, 90);\n}\nfunction lowercaseletter(code) {\n  return between(code, 97, 122);\n}\nfunction letter(code) {\n  return uppercaseletter(code) || lowercaseletter(code);\n}\nfunction nonascii(code) {\n  return code >= 128;\n}\nfunction namestartchar(code) {\n  return letter(code) || nonascii(code) || code === 95;\n}\nfunction namechar(code) {\n  return namestartchar(code) || digit(code) || code === 45;\n}\nfunction nonprintable(code) {\n  return between(code, 0, 8) || code === 11 || between(code, 14, 31) || code === 127;\n}\nfunction newline(code) {\n  return code === 10;\n}\nfunction whitespace(code) {\n  return newline(code) || code === 9 || code === 32;\n}\nvar maximumallowedcodepoint = 1114111;\nvar InvalidCharacterError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = "InvalidCharacterError";\n  }\n};\nfunction preprocess(str) {\n  const codepoints = [];\n  for (let i = 0; i < str.length; i++) {\n    let code = str.charCodeAt(i);\n    if (code === 13 && str.charCodeAt(i + 1) === 10) {\n      code = 10;\n      i++;\n    }\n    if (code === 13 || code === 12)\n      code = 10;\n    if (code === 0)\n      code = 65533;\n    if (between(code, 55296, 56319) && between(str.charCodeAt(i + 1), 56320, 57343)) {\n      const lead = code - 55296;\n      const trail = str.charCodeAt(i + 1) - 56320;\n      code = Math.pow(2, 16) + lead * Math.pow(2, 10) + trail;\n      i++;\n    }\n    codepoints.push(code);\n  }\n  return codepoints;\n}\nfunction stringFromCode(code) {\n  if (code <= 65535)\n    return String.fromCharCode(code);\n  code -= Math.pow(2, 16);\n  const lead = Math.floor(code / Math.pow(2, 10)) + 55296;\n  const trail = code % Math.pow(2, 10) + 56320;\n  return String.fromCharCode(lead) + String.fromCharCode(trail);\n}\nfunction tokenize(str1) {\n  const str = preprocess(str1);\n  let i = -1;\n  const tokens = [];\n  let code;\n  let line = 0;\n  let column = 0;\n  let lastLineLength = 0;\n  const incrLineno = function() {\n    line += 1;\n    lastLineLength = column;\n    column = 0;\n  };\n  const locStart = { line, column };\n  const codepoint = function(i2) {\n    if (i2 >= str.length)\n      return -1;\n    return str[i2];\n  };\n  const next = function(num) {\n    if (num === void 0)\n      num = 1;\n    if (num > 3)\n      throw "Spec Error: no more than three codepoints of lookahead.";\n    return codepoint(i + num);\n  };\n  const consume = function(num) {\n    if (num === void 0)\n      num = 1;\n    i += num;\n    code = codepoint(i);\n    if (newline(code))\n      incrLineno();\n    else\n      column += num;\n    return true;\n  };\n  const reconsume = function() {\n    i -= 1;\n    if (newline(code)) {\n      line -= 1;\n      column = lastLineLength;\n    } else {\n      column -= 1;\n    }\n    locStart.line = line;\n    locStart.column = column;\n    return true;\n  };\n  const eof = function(codepoint2) {\n    if (codepoint2 === void 0)\n      codepoint2 = code;\n    return codepoint2 === -1;\n  };\n  const donothing = function() {\n  };\n  const parseerror = function() {\n  };\n  const consumeAToken = function() {\n    consumeComments();\n    consume();\n    if (whitespace(code)) {\n      while (whitespace(next()))\n        consume();\n      return new WhitespaceToken();\n    } else if (code === 34) {\n      return consumeAStringToken();\n    } else if (code === 35) {\n      if (namechar(next()) || areAValidEscape(next(1), next(2))) {\n        const token = new HashToken("");\n        if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n          token.type = "id";\n        token.value = consumeAName();\n        return token;\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 36) {\n      if (next() === 61) {\n        consume();\n        return new SuffixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 39) {\n      return consumeAStringToken();\n    } else if (code === 40) {\n      return new OpenParenToken();\n    } else if (code === 41) {\n      return new CloseParenToken();\n    } else if (code === 42) {\n      if (next() === 61) {\n        consume();\n        return new SubstringMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 43) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 44) {\n      return new CommaToken();\n    } else if (code === 45) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else if (next(1) === 45 && next(2) === 62) {\n        consume(2);\n        return new CDCToken();\n      } else if (startsWithAnIdentifier()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 46) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 58) {\n      return new ColonToken();\n    } else if (code === 59) {\n      return new SemicolonToken();\n    } else if (code === 60) {\n      if (next(1) === 33 && next(2) === 45 && next(3) === 45) {\n        consume(3);\n        return new CDOToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 64) {\n      if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n        return new AtKeywordToken(consumeAName());\n      else\n        return new DelimToken(code);\n    } else if (code === 91) {\n      return new OpenSquareToken();\n    } else if (code === 92) {\n      if (startsWithAValidEscape()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        parseerror();\n        return new DelimToken(code);\n      }\n    } else if (code === 93) {\n      return new CloseSquareToken();\n    } else if (code === 94) {\n      if (next() === 61) {\n        consume();\n        return new PrefixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 123) {\n      return new OpenCurlyToken();\n    } else if (code === 124) {\n      if (next() === 61) {\n        consume();\n        return new DashMatchToken();\n      } else if (next() === 124) {\n        consume();\n        return new ColumnToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 125) {\n      return new CloseCurlyToken();\n    } else if (code === 126) {\n      if (next() === 61) {\n        consume();\n        return new IncludeMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (digit(code)) {\n      reconsume();\n      return consumeANumericToken();\n    } else if (namestartchar(code)) {\n      reconsume();\n      return consumeAnIdentlikeToken();\n    } else if (eof()) {\n      return new EOFToken();\n    } else {\n      return new DelimToken(code);\n    }\n  };\n  const consumeComments = function() {\n    while (next(1) === 47 && next(2) === 42) {\n      consume(2);\n      while (true) {\n        consume();\n        if (code === 42 && next() === 47) {\n          consume();\n          break;\n        } else if (eof()) {\n          parseerror();\n          return;\n        }\n      }\n    }\n  };\n  const consumeANumericToken = function() {\n    const num = consumeANumber();\n    if (wouldStartAnIdentifier(next(1), next(2), next(3))) {\n      const token = new DimensionToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      token.unit = consumeAName();\n      return token;\n    } else if (next() === 37) {\n      consume();\n      const token = new PercentageToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      return token;\n    } else {\n      const token = new NumberToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      return token;\n    }\n  };\n  const consumeAnIdentlikeToken = function() {\n    const str2 = consumeAName();\n    if (str2.toLowerCase() === "url" && next() === 40) {\n      consume();\n      while (whitespace(next(1)) && whitespace(next(2)))\n        consume();\n      if (next() === 34 || next() === 39)\n        return new FunctionToken(str2);\n      else if (whitespace(next()) && (next(2) === 34 || next(2) === 39))\n        return new FunctionToken(str2);\n      else\n        return consumeAURLToken();\n    } else if (next() === 40) {\n      consume();\n      return new FunctionToken(str2);\n    } else {\n      return new IdentToken(str2);\n    }\n  };\n  const consumeAStringToken = function(endingCodePoint) {\n    if (endingCodePoint === void 0)\n      endingCodePoint = code;\n    let string = "";\n    while (consume()) {\n      if (code === endingCodePoint || eof()) {\n        return new StringToken(string);\n      } else if (newline(code)) {\n        parseerror();\n        reconsume();\n        return new BadStringToken();\n      } else if (code === 92) {\n        if (eof(next()))\n          donothing();\n        else if (newline(next()))\n          consume();\n        else\n          string += stringFromCode(consumeEscape());\n      } else {\n        string += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeAURLToken = function() {\n    const token = new URLToken("");\n    while (whitespace(next()))\n      consume();\n    if (eof(next()))\n      return token;\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return token;\n      } else if (whitespace(code)) {\n        while (whitespace(next()))\n          consume();\n        if (next() === 41 || eof(next())) {\n          consume();\n          return token;\n        } else {\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else if (code === 34 || code === 39 || code === 40 || nonprintable(code)) {\n        parseerror();\n        consumeTheRemnantsOfABadURL();\n        return new BadURLToken();\n      } else if (code === 92) {\n        if (startsWithAValidEscape()) {\n          token.value += stringFromCode(consumeEscape());\n        } else {\n          parseerror();\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else {\n        token.value += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeEscape = function() {\n    consume();\n    if (hexdigit(code)) {\n      const digits = [code];\n      for (let total = 0; total < 5; total++) {\n        if (hexdigit(next())) {\n          consume();\n          digits.push(code);\n        } else {\n          break;\n        }\n      }\n      if (whitespace(next()))\n        consume();\n      let value = parseInt(digits.map(function(x) {\n        return String.fromCharCode(x);\n      }).join(""), 16);\n      if (value > maximumallowedcodepoint)\n        value = 65533;\n      return value;\n    } else if (eof()) {\n      return 65533;\n    } else {\n      return code;\n    }\n  };\n  const areAValidEscape = function(c1, c2) {\n    if (c1 !== 92)\n      return false;\n    if (newline(c2))\n      return false;\n    return true;\n  };\n  const startsWithAValidEscape = function() {\n    return areAValidEscape(code, next());\n  };\n  const wouldStartAnIdentifier = function(c1, c2, c3) {\n    if (c1 === 45)\n      return namestartchar(c2) || c2 === 45 || areAValidEscape(c2, c3);\n    else if (namestartchar(c1))\n      return true;\n    else if (c1 === 92)\n      return areAValidEscape(c1, c2);\n    else\n      return false;\n  };\n  const startsWithAnIdentifier = function() {\n    return wouldStartAnIdentifier(code, next(1), next(2));\n  };\n  const wouldStartANumber = function(c1, c2, c3) {\n    if (c1 === 43 || c1 === 45) {\n      if (digit(c2))\n        return true;\n      if (c2 === 46 && digit(c3))\n        return true;\n      return false;\n    } else if (c1 === 46) {\n      if (digit(c2))\n        return true;\n      return false;\n    } else if (digit(c1)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const startsWithANumber = function() {\n    return wouldStartANumber(code, next(1), next(2));\n  };\n  const consumeAName = function() {\n    let result = "";\n    while (consume()) {\n      if (namechar(code)) {\n        result += stringFromCode(code);\n      } else if (startsWithAValidEscape()) {\n        result += stringFromCode(consumeEscape());\n      } else {\n        reconsume();\n        return result;\n      }\n    }\n    throw new Error("Internal parse error");\n  };\n  const consumeANumber = function() {\n    let repr = "";\n    let type = "integer";\n    if (next() === 43 || next() === 45) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    while (digit(next())) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    if (next(1) === 46 && digit(next(2))) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const c1 = next(1), c2 = next(2), c3 = next(3);\n    if ((c1 === 69 || c1 === 101) && digit(c2)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    } else if ((c1 === 69 || c1 === 101) && (c2 === 43 || c2 === 45) && digit(c3)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const value = convertAStringToANumber(repr);\n    return { type, value, repr };\n  };\n  const convertAStringToANumber = function(string) {\n    return +string;\n  };\n  const consumeTheRemnantsOfABadURL = function() {\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return;\n      } else if (startsWithAValidEscape()) {\n        consumeEscape();\n        donothing();\n      } else {\n        donothing();\n      }\n    }\n  };\n  let iterationCount = 0;\n  while (!eof(next())) {\n    tokens.push(consumeAToken());\n    iterationCount++;\n    if (iterationCount > str.length * 2)\n      throw new Error("I\'m infinite-looping!");\n  }\n  return tokens;\n}\nvar CSSParserToken = class {\n  constructor() {\n    this.tokenType = "";\n  }\n  toJSON() {\n    return { token: this.tokenType };\n  }\n  toString() {\n    return this.tokenType;\n  }\n  toSource() {\n    return "" + this;\n  }\n};\nvar BadStringToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADSTRING";\n  }\n};\nvar BadURLToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADURL";\n  }\n};\nvar WhitespaceToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "WHITESPACE";\n  }\n  toString() {\n    return "WS";\n  }\n  toSource() {\n    return " ";\n  }\n};\nvar CDOToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDO";\n  }\n  toSource() {\n    return "\x3c!--";\n  }\n};\nvar CDCToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDC";\n  }\n  toSource() {\n    return "--\x3e";\n  }\n};\nvar ColonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ":";\n  }\n};\nvar SemicolonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ";";\n  }\n};\nvar CommaToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ",";\n  }\n};\nvar GroupingToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n    this.mirror = "";\n  }\n};\nvar OpenCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "{";\n    this.value = "{";\n    this.mirror = "}";\n  }\n};\nvar CloseCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "}";\n    this.value = "}";\n    this.mirror = "{";\n  }\n};\nvar OpenSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "[";\n    this.value = "[";\n    this.mirror = "]";\n  }\n};\nvar CloseSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "]";\n    this.value = "]";\n    this.mirror = "[";\n  }\n};\nvar OpenParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "(";\n    this.value = "(";\n    this.mirror = ")";\n  }\n};\nvar CloseParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = ")";\n    this.value = ")";\n    this.mirror = "(";\n  }\n};\nvar IncludeMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "~=";\n  }\n};\nvar DashMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "|=";\n  }\n};\nvar PrefixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "^=";\n  }\n};\nvar SuffixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "$=";\n  }\n};\nvar SubstringMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "*=";\n  }\n};\nvar ColumnToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "||";\n  }\n};\nvar EOFToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "EOF";\n  }\n  toSource() {\n    return "";\n  }\n};\nvar DelimToken = class extends CSSParserToken {\n  constructor(code) {\n    super();\n    this.tokenType = "DELIM";\n    this.value = "";\n    this.value = stringFromCode(code);\n  }\n  toString() {\n    return "DELIM(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n  toSource() {\n    if (this.value === "\\\\")\n      return "\\\\\\n";\n    else\n      return this.value;\n  }\n};\nvar StringValuedToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n  }\n  ASCIIMatch(str) {\n    return this.value.toLowerCase() === str.toLowerCase();\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n};\nvar IdentToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "IDENT";\n    this.value = val;\n  }\n  toString() {\n    return "IDENT(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value);\n  }\n};\nvar FunctionToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "FUNCTION";\n    this.value = val;\n    this.mirror = ")";\n  }\n  toString() {\n    return "FUNCTION(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value) + "(";\n  }\n};\nvar AtKeywordToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "AT-KEYWORD";\n    this.value = val;\n  }\n  toString() {\n    return "AT(" + this.value + ")";\n  }\n  toSource() {\n    return "@" + escapeIdent(this.value);\n  }\n};\nvar HashToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "HASH";\n    this.value = val;\n    this.type = "unrestricted";\n  }\n  toString() {\n    return "HASH(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    return json;\n  }\n  toSource() {\n    if (this.type === "id")\n      return "#" + escapeIdent(this.value);\n    else\n      return "#" + escapeHash(this.value);\n  }\n};\nvar StringToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "STRING";\n    this.value = val;\n  }\n  toString() {\n    return \'"\' + escapeString(this.value) + \'"\';\n  }\n};\nvar URLToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "URL";\n    this.value = val;\n  }\n  toString() {\n    return "URL(" + this.value + ")";\n  }\n  toSource() {\n    return \'url("\' + escapeString(this.value) + \'")\';\n  }\n};\nvar NumberToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "NUMBER";\n    this.type = "integer";\n    this.repr = "";\n  }\n  toString() {\n    if (this.type === "integer")\n      return "INT(" + this.value + ")";\n    return "NUMBER(" + this.value + ")";\n  }\n  toJSON() {\n    const json = super.toJSON();\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr;\n  }\n};\nvar PercentageToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "PERCENTAGE";\n    this.repr = "";\n  }\n  toString() {\n    return "PERCENTAGE(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr + "%";\n  }\n};\nvar DimensionToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "DIMENSION";\n    this.type = "integer";\n    this.repr = "";\n    this.unit = "";\n  }\n  toString() {\n    return "DIM(" + this.value + "," + this.unit + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    json.unit = this.unit;\n    return json;\n  }\n  toSource() {\n    const source = this.repr;\n    let unit = escapeIdent(this.unit);\n    if (unit[0].toLowerCase() === "e" && (unit[1] === "-" || between(unit.charCodeAt(1), 48, 57))) {\n      unit = "\\\\65 " + unit.slice(1, unit.length);\n    }\n    return source + unit;\n  }\n};\nfunction escapeIdent(string) {\n  string = "" + string;\n  let result = "";\n  const firstcode = string.charCodeAt(0);\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127 || i === 0 && between(code, 48, 57) || i === 1 && between(code, 48, 57) && firstcode === 45)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + string[i];\n  }\n  return result;\n}\nfunction escapeHash(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + code.toString(16) + " ";\n  }\n  return result;\n}\nfunction escapeString(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code === 34 || code === 92)\n      result += "\\\\" + string[i];\n    else\n      result += string[i];\n  }\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssParser.ts\nvar InvalidSelectorError = class extends Error {\n};\nfunction parseCSS(selector, customNames) {\n  let tokens;\n  try {\n    tokens = tokenize(selector);\n    if (!(tokens[tokens.length - 1] instanceof EOFToken))\n      tokens.push(new EOFToken());\n  } catch (e) {\n    const newMessage = e.message + ` while parsing selector "${selector}"`;\n    const index = (e.stack || "").indexOf(e.message);\n    if (index !== -1)\n      e.stack = e.stack.substring(0, index) + newMessage + e.stack.substring(index + e.message.length);\n    e.message = newMessage;\n    throw e;\n  }\n  const unsupportedToken = tokens.find((token) => {\n    return token instanceof AtKeywordToken || token instanceof BadStringToken || token instanceof BadURLToken || token instanceof ColumnToken || token instanceof CDOToken || token instanceof CDCToken || token instanceof SemicolonToken || // TODO: Consider using these for something, e.g. to escape complex strings.\n    // For example :xpath{ (//div/bar[@attr="foo"])[2]/baz }\n    // Or this way :xpath( {complex-xpath-goes-here("hello")} )\n    token instanceof OpenCurlyToken || token instanceof CloseCurlyToken || // TODO: Consider treating these as strings?\n    token instanceof URLToken || token instanceof PercentageToken;\n  });\n  if (unsupportedToken)\n    throw new InvalidSelectorError(`Unsupported token "${unsupportedToken.toSource()}" while parsing selector "${selector}"`);\n  let pos = 0;\n  const names = /* @__PURE__ */ new Set();\n  function unexpected() {\n    return new InvalidSelectorError(`Unexpected token "${tokens[pos].toSource()}" while parsing selector "${selector}"`);\n  }\n  function skipWhitespace() {\n    while (tokens[pos] instanceof WhitespaceToken)\n      pos++;\n  }\n  function isIdent(p = pos) {\n    return tokens[p] instanceof IdentToken;\n  }\n  function isString(p = pos) {\n    return tokens[p] instanceof StringToken;\n  }\n  function isNumber(p = pos) {\n    return tokens[p] instanceof NumberToken;\n  }\n  function isComma(p = pos) {\n    return tokens[p] instanceof CommaToken;\n  }\n  function isOpenParen(p = pos) {\n    return tokens[p] instanceof OpenParenToken;\n  }\n  function isCloseParen(p = pos) {\n    return tokens[p] instanceof CloseParenToken;\n  }\n  function isFunction(p = pos) {\n    return tokens[p] instanceof FunctionToken;\n  }\n  function isStar(p = pos) {\n    return tokens[p] instanceof DelimToken && tokens[p].value === "*";\n  }\n  function isEOF(p = pos) {\n    return tokens[p] instanceof EOFToken;\n  }\n  function isClauseCombinator(p = pos) {\n    return tokens[p] instanceof DelimToken && [">", "+", "~"].includes(tokens[p].value);\n  }\n  function isSelectorClauseEnd(p = pos) {\n    return isComma(p) || isCloseParen(p) || isEOF(p) || isClauseCombinator(p) || tokens[p] instanceof WhitespaceToken;\n  }\n  function consumeFunctionArguments() {\n    const result2 = [consumeArgument()];\n    while (true) {\n      skipWhitespace();\n      if (!isComma())\n        break;\n      pos++;\n      result2.push(consumeArgument());\n    }\n    return result2;\n  }\n  function consumeArgument() {\n    skipWhitespace();\n    if (isNumber())\n      return tokens[pos++].value;\n    if (isString())\n      return tokens[pos++].value;\n    return consumeComplexSelector();\n  }\n  function consumeComplexSelector() {\n    const result2 = { simples: [] };\n    skipWhitespace();\n    if (isClauseCombinator()) {\n      result2.simples.push({ selector: { functions: [{ name: "scope", args: [] }] }, combinator: "" });\n    } else {\n      result2.simples.push({ selector: consumeSimpleSelector(), combinator: "" });\n    }\n    while (true) {\n      skipWhitespace();\n      if (isClauseCombinator()) {\n        result2.simples[result2.simples.length - 1].combinator = tokens[pos++].value;\n        skipWhitespace();\n      } else if (isSelectorClauseEnd()) {\n        break;\n      }\n      result2.simples.push({ combinator: "", selector: consumeSimpleSelector() });\n    }\n    return result2;\n  }\n  function consumeSimpleSelector() {\n    let rawCSSString = "";\n    const functions = [];\n    while (!isSelectorClauseEnd()) {\n      if (isIdent() || isStar()) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof HashToken) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof DelimToken && tokens[pos].value === ".") {\n        pos++;\n        if (isIdent())\n          rawCSSString += "." + tokens[pos++].toSource();\n        else\n          throw unexpected();\n      } else if (tokens[pos] instanceof ColonToken) {\n        pos++;\n        if (isIdent()) {\n          if (!customNames.has(tokens[pos].value.toLowerCase())) {\n            rawCSSString += ":" + tokens[pos++].toSource();\n          } else {\n            const name = tokens[pos++].value.toLowerCase();\n            functions.push({ name, args: [] });\n            names.add(name);\n          }\n        } else if (isFunction()) {\n          const name = tokens[pos++].value.toLowerCase();\n          if (!customNames.has(name)) {\n            rawCSSString += `:${name}(${consumeBuiltinFunctionArguments()})`;\n          } else {\n            functions.push({ name, args: consumeFunctionArguments() });\n            names.add(name);\n          }\n          skipWhitespace();\n          if (!isCloseParen())\n            throw unexpected();\n          pos++;\n        } else {\n          throw unexpected();\n        }\n      } else if (tokens[pos] instanceof OpenSquareToken) {\n        rawCSSString += "[";\n        pos++;\n        while (!(tokens[pos] instanceof CloseSquareToken) && !isEOF())\n          rawCSSString += tokens[pos++].toSource();\n        if (!(tokens[pos] instanceof CloseSquareToken))\n          throw unexpected();\n        rawCSSString += "]";\n        pos++;\n      } else {\n        throw unexpected();\n      }\n    }\n    if (!rawCSSString && !functions.length)\n      throw unexpected();\n    return { css: rawCSSString || void 0, functions };\n  }\n  function consumeBuiltinFunctionArguments() {\n    let s = "";\n    let balance = 1;\n    while (!isEOF()) {\n      if (isOpenParen() || isFunction())\n        balance++;\n      if (isCloseParen())\n        balance--;\n      if (!balance)\n        break;\n      s += tokens[pos++].toSource();\n    }\n    return s;\n  }\n  const result = consumeFunctionArguments();\n  if (!isEOF())\n    throw unexpected();\n  if (result.some((arg) => typeof arg !== "object" || !("simples" in arg)))\n    throw new InvalidSelectorError(`Error while parsing selector "${selector}"`);\n  return { selector: result, names: Array.from(names) };\n}\n\n// packages/playwright-core/src/utils/isomorphic/selectorParser.ts\nvar kNestedSelectorNames = /* @__PURE__ */ new Set(["internal:has", "internal:has-not", "internal:and", "internal:or", "internal:chain", "left-of", "right-of", "above", "below", "near"]);\nvar kNestedSelectorNamesWithDistance = /* @__PURE__ */ new Set(["left-of", "right-of", "above", "below", "near"]);\nvar customCSSNames = /* @__PURE__ */ new Set(["not", "is", "where", "has", "scope", "light", "visible", "text", "text-matches", "text-is", "has-text", "above", "below", "right-of", "left-of", "near", "nth-match"]);\nfunction parseSelector(selector) {\n  const parsedStrings = parseSelectorString(selector);\n  const parts = [];\n  for (const part of parsedStrings.parts) {\n    if (part.name === "css" || part.name === "css:light") {\n      if (part.name === "css:light")\n        part.body = ":light(" + part.body + ")";\n      const parsedCSS = parseCSS(part.body, customCSSNames);\n      parts.push({\n        name: "css",\n        body: parsedCSS.selector,\n        source: part.body\n      });\n      continue;\n    }\n    if (kNestedSelectorNames.has(part.name)) {\n      let innerSelector;\n      let distance;\n      try {\n        const unescaped = JSON.parse("[" + part.body + "]");\n        if (!Array.isArray(unescaped) || unescaped.length < 1 || unescaped.length > 2 || typeof unescaped[0] !== "string")\n          throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n        innerSelector = unescaped[0];\n        if (unescaped.length === 2) {\n          if (typeof unescaped[1] !== "number" || !kNestedSelectorNamesWithDistance.has(part.name))\n            throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n          distance = unescaped[1];\n        }\n      } catch (e) {\n        throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n      }\n      const nested = { name: part.name, source: part.body, body: { parsed: parseSelector(innerSelector), distance } };\n      const lastFrame = [...nested.body.parsed.parts].reverse().find((part2) => part2.name === "internal:control" && part2.body === "enter-frame");\n      const lastFrameIndex = lastFrame ? nested.body.parsed.parts.indexOf(lastFrame) : -1;\n      if (lastFrameIndex !== -1 && selectorPartsEqual(nested.body.parsed.parts.slice(0, lastFrameIndex + 1), parts.slice(0, lastFrameIndex + 1)))\n        nested.body.parsed.parts.splice(0, lastFrameIndex + 1);\n      parts.push(nested);\n      continue;\n    }\n    parts.push({ ...part, source: part.body });\n  }\n  if (kNestedSelectorNames.has(parts[0].name))\n    throw new InvalidSelectorError(`"${parts[0].name}" selector cannot be first`);\n  return {\n    capture: parsedStrings.capture,\n    parts\n  };\n}\nfunction selectorPartsEqual(list1, list2) {\n  return stringifySelector({ parts: list1 }) === stringifySelector({ parts: list2 });\n}\nfunction stringifySelector(selector, forceEngineName) {\n  if (typeof selector === "string")\n    return selector;\n  return selector.parts.map((p, i) => {\n    let includeEngine = true;\n    if (!forceEngineName && i !== selector.capture) {\n      if (p.name === "css")\n        includeEngine = false;\n      else if (p.name === "xpath" && p.source.startsWith("//") || p.source.startsWith(".."))\n        includeEngine = false;\n    }\n    const prefix = includeEngine ? p.name + "=" : "";\n    return `${i === selector.capture ? "*" : ""}${prefix}${p.source}`;\n  }).join(" >> ");\n}\nfunction parseSelectorString(selector) {\n  let index = 0;\n  let quote;\n  let start = 0;\n  const result = { parts: [] };\n  const append = () => {\n    const part = selector.substring(start, index).trim();\n    const eqIndex = part.indexOf("=");\n    let name;\n    let body;\n    if (eqIndex !== -1 && part.substring(0, eqIndex).trim().match(/^[a-zA-Z_0-9-+:*]+$/)) {\n      name = part.substring(0, eqIndex).trim();\n      body = part.substring(eqIndex + 1);\n    } else if (part.length > 1 && part[0] === \'"\' && part[part.length - 1] === \'"\') {\n      name = "text";\n      body = part;\n    } else if (part.length > 1 && part[0] === "\'" && part[part.length - 1] === "\'") {\n      name = "text";\n      body = part;\n    } else if (/^\\(*\\/\\//.test(part) || part.startsWith("..")) {\n      name = "xpath";\n      body = part;\n    } else {\n      name = "css";\n      body = part;\n    }\n    let capture = false;\n    if (name[0] === "*") {\n      capture = true;\n      name = name.substring(1);\n    }\n    result.parts.push({ name, body });\n    if (capture) {\n      if (result.capture !== void 0)\n        throw new InvalidSelectorError(`Only one of the selectors can capture using * modifier`);\n      result.capture = result.parts.length - 1;\n    }\n  };\n  if (!selector.includes(">>")) {\n    index = selector.length;\n    append();\n    return result;\n  }\n  const shouldIgnoreTextSelectorQuote = () => {\n    const prefix = selector.substring(start, index);\n    const match = prefix.match(/^\\s*text\\s*=(.*)$/);\n    return !!match && !!match[1];\n  };\n  while (index < selector.length) {\n    const c = selector[index];\n    if (c === "\\\\" && index + 1 < selector.length) {\n      index += 2;\n    } else if (c === quote) {\n      quote = void 0;\n      index++;\n    } else if (!quote && (c === \'"\' || c === "\'" || c === "`") && !shouldIgnoreTextSelectorQuote()) {\n      quote = c;\n      index++;\n    } else if (!quote && c === ">" && selector[index + 1] === ">") {\n      append();\n      index += 2;\n      start = index;\n    } else {\n      index++;\n    }\n  }\n  append();\n  return result;\n}\nfunction parseAttributeSelector(selector, allowUnquotedStrings) {\n  let wp = 0;\n  let EOL = selector.length === 0;\n  const next = () => selector[wp] || "";\n  const eat1 = () => {\n    const result2 = next();\n    ++wp;\n    EOL = wp >= selector.length;\n    return result2;\n  };\n  const syntaxError = (stage) => {\n    if (EOL)\n      throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \\`${selector}\\``);\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - unexpected symbol "${next()}" at position ${wp}` + (stage ? " during " + stage : ""));\n  };\n  function skipSpaces() {\n    while (!EOL && /\\s/.test(next()))\n      eat1();\n  }\n  function isCSSNameChar(char) {\n    return char >= "\\x80" || char >= "0" && char <= "9" || char >= "A" && char <= "Z" || char >= "a" && char <= "z" || char >= "0" && char <= "9" || char === "_" || char === "-";\n  }\n  function readIdentifier() {\n    let result2 = "";\n    skipSpaces();\n    while (!EOL && isCSSNameChar(next()))\n      result2 += eat1();\n    return result2;\n  }\n  function readQuotedString(quote) {\n    let result2 = eat1();\n    if (result2 !== quote)\n      syntaxError("parsing quoted string");\n    while (!EOL && next() !== quote) {\n      if (next() === "\\\\")\n        eat1();\n      result2 += eat1();\n    }\n    if (next() !== quote)\n      syntaxError("parsing quoted string");\n    result2 += eat1();\n    return result2;\n  }\n  function readRegularExpression() {\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let source = "";\n    let inClass = false;\n    while (!EOL) {\n      if (next() === "\\\\") {\n        source += eat1();\n        if (EOL)\n          syntaxError("parsing regular expression");\n      } else if (inClass && next() === "]") {\n        inClass = false;\n      } else if (!inClass && next() === "[") {\n        inClass = true;\n      } else if (!inClass && next() === "/") {\n        break;\n      }\n      source += eat1();\n    }\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let flags = "";\n    while (!EOL && next().match(/[dgimsuy]/))\n      flags += eat1();\n    try {\n      return new RegExp(source, flags);\n    } catch (e) {\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\`: ${e.message}`);\n    }\n  }\n  function readAttributeToken() {\n    let token = "";\n    skipSpaces();\n    if (next() === `\'` || next() === `"`)\n      token = readQuotedString(next()).slice(1, -1);\n    else\n      token = readIdentifier();\n    if (!token)\n      syntaxError("parsing property path");\n    return token;\n  }\n  function readOperator() {\n    skipSpaces();\n    let op = "";\n    if (!EOL)\n      op += eat1();\n    if (!EOL && op !== "=")\n      op += eat1();\n    if (!["=", "*=", "^=", "$=", "|=", "~="].includes(op))\n      syntaxError("parsing operator");\n    return op;\n  }\n  function readAttribute() {\n    eat1();\n    const jsonPath = [];\n    jsonPath.push(readAttributeToken());\n    skipSpaces();\n    while (next() === ".") {\n      eat1();\n      jsonPath.push(readAttributeToken());\n      skipSpaces();\n    }\n    if (next() === "]") {\n      eat1();\n      return { name: jsonPath.join("."), jsonPath, op: "<truthy>", value: null, caseSensitive: false };\n    }\n    const operator = readOperator();\n    let value = void 0;\n    let caseSensitive = true;\n    skipSpaces();\n    if (next() === "/") {\n      if (operator !== "=")\n        throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with regular expression`);\n      value = readRegularExpression();\n    } else if (next() === `\'` || next() === `"`) {\n      value = readQuotedString(next()).slice(1, -1);\n      skipSpaces();\n      if (next() === "i" || next() === "I") {\n        caseSensitive = false;\n        eat1();\n      } else if (next() === "s" || next() === "S") {\n        caseSensitive = true;\n        eat1();\n      }\n    } else {\n      value = "";\n      while (!EOL && (isCSSNameChar(next()) || next() === "+" || next() === "."))\n        value += eat1();\n      if (value === "true") {\n        value = true;\n      } else if (value === "false") {\n        value = false;\n      } else {\n        if (!allowUnquotedStrings) {\n          value = +value;\n          if (Number.isNaN(value))\n            syntaxError("parsing attribute value");\n        }\n      }\n    }\n    skipSpaces();\n    if (next() !== "]")\n      syntaxError("parsing attribute value");\n    eat1();\n    if (operator !== "=" && typeof value !== "string")\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with non-string matching value - ${value}`);\n    return { name: jsonPath.join("."), jsonPath, op: operator, value, caseSensitive };\n  }\n  const result = {\n    name: "",\n    attributes: []\n  };\n  result.name = readIdentifier();\n  skipSpaces();\n  while (next() === "[") {\n    result.attributes.push(readAttribute());\n    skipSpaces();\n  }\n  if (!EOL)\n    syntaxError(void 0);\n  if (!result.name && !result.attributes.length)\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - selector cannot be empty`);\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorGenerators.ts\nfunction asLocator(lang, selector, isFrameLocator = false) {\n  return asLocators(lang, selector, isFrameLocator)[0];\n}\nfunction asLocators(lang, selector, isFrameLocator = false, maxOutputSize = 20, preferredQuote) {\n  try {\n    return innerAsLocators(new generators[lang](preferredQuote), parseSelector(selector), isFrameLocator, maxOutputSize);\n  } catch (e) {\n    return [selector];\n  }\n}\nfunction innerAsLocators(factory, parsed, isFrameLocator = false, maxOutputSize = 20) {\n  const parts = [...parsed.parts];\n  for (let index = 0; index < parts.length - 1; index++) {\n    if (parts[index].name === "nth" && parts[index + 1].name === "internal:control" && parts[index + 1].body === "enter-frame") {\n      const [nth] = parts.splice(index, 1);\n      parts.splice(index + 1, 0, nth);\n    }\n  }\n  const tokens = [];\n  let nextBase = isFrameLocator ? "frame-locator" : "page";\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const base = nextBase;\n    nextBase = "locator";\n    if (part.name === "nth") {\n      if (part.body === "0")\n        tokens.push([factory.generateLocator(base, "first", ""), factory.generateLocator(base, "nth", "0")]);\n      else if (part.body === "-1")\n        tokens.push([factory.generateLocator(base, "last", ""), factory.generateLocator(base, "nth", "-1")]);\n      else\n        tokens.push([factory.generateLocator(base, "nth", part.body)]);\n      continue;\n    }\n    if (part.name === "internal:text") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "text", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:has-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has-not-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-not-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "has", inner)));\n      continue;\n    }\n    if (part.name === "internal:has-not") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "hasNot", inner)));\n      continue;\n    }\n    if (part.name === "internal:and") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "and", inner)));\n      continue;\n    }\n    if (part.name === "internal:or") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "or", inner)));\n      continue;\n    }\n    if (part.name === "internal:chain") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "chain", inner)));\n      continue;\n    }\n    if (part.name === "internal:label") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "label", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:role") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const options = { attrs: [] };\n      for (const attr of attrSelector.attributes) {\n        if (attr.name === "name") {\n          options.exact = attr.caseSensitive;\n          options.name = attr.value;\n        } else {\n          if (attr.name === "level" && typeof attr.value === "string")\n            attr.value = +attr.value;\n          options.attrs.push({ name: attr.name === "include-hidden" ? "includeHidden" : attr.name, value: attr.value });\n        }\n      }\n      tokens.push([factory.generateLocator(base, "role", attrSelector.name, options)]);\n      continue;\n    }\n    if (part.name === "internal:testid") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { value } = attrSelector.attributes[0];\n      tokens.push([factory.generateLocator(base, "test-id", value)]);\n      continue;\n    }\n    if (part.name === "internal:attr") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { name, value, caseSensitive } = attrSelector.attributes[0];\n      const text = value;\n      const exact = !!caseSensitive;\n      if (name === "placeholder") {\n        tokens.push([factory.generateLocator(base, "placeholder", text, { exact })]);\n        continue;\n      }\n      if (name === "alt") {\n        tokens.push([factory.generateLocator(base, "alt", text, { exact })]);\n        continue;\n      }\n      if (name === "title") {\n        tokens.push([factory.generateLocator(base, "title", text, { exact })]);\n        continue;\n      }\n    }\n    let locatorType = "default";\n    const nextPart = parts[index + 1];\n    if (nextPart && nextPart.name === "internal:control" && nextPart.body === "enter-frame") {\n      locatorType = "frame";\n      nextBase = "frame-locator";\n      index++;\n    }\n    const selectorPart = stringifySelector({ parts: [part] });\n    const locatorPart = factory.generateLocator(base, locatorType, selectorPart);\n    if (locatorType === "default" && nextPart && ["internal:has-text", "internal:has-not-text"].includes(nextPart.name)) {\n      const { exact, text } = detectExact(nextPart.body);\n      if (!exact) {\n        const nextLocatorPart = factory.generateLocator("locator", nextPart.name === "internal:has-text" ? "has-text" : "has-not-text", text, { exact });\n        const options = {};\n        if (nextPart.name === "internal:has-text")\n          options.hasText = text;\n        else\n          options.hasNotText = text;\n        const combinedPart = factory.generateLocator(base, "default", selectorPart, options);\n        tokens.push([factory.chainLocators([locatorPart, nextLocatorPart]), combinedPart]);\n        index++;\n        continue;\n      }\n    }\n    let locatorPartWithEngine;\n    if (["xpath", "css"].includes(part.name)) {\n      const selectorPart2 = stringifySelector(\n        { parts: [part] },\n        /* forceEngineName */\n        true\n      );\n      locatorPartWithEngine = factory.generateLocator(base, locatorType, selectorPart2);\n    }\n    tokens.push([locatorPart, locatorPartWithEngine].filter(Boolean));\n  }\n  return combineTokens(factory, tokens, maxOutputSize);\n}\nfunction combineTokens(factory, tokens, maxOutputSize) {\n  const currentTokens = tokens.map(() => "");\n  const result = [];\n  const visit = (index) => {\n    if (index === tokens.length) {\n      result.push(factory.chainLocators(currentTokens));\n      return currentTokens.length < maxOutputSize;\n    }\n    for (const taken of tokens[index]) {\n      currentTokens[index] = taken;\n      if (!visit(index + 1))\n        return false;\n    }\n    return true;\n  };\n  visit(0);\n  return result;\n}\nfunction detectExact(text) {\n  let exact = false;\n  const match = text.match(/^\\/(.*)\\/([igm]*)$/);\n  if (match)\n    return { text: new RegExp(match[1], match[2]) };\n  if (text.endsWith(\'"\')) {\n    text = JSON.parse(text);\n    exact = true;\n  } else if (text.endsWith(\'"s\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = true;\n  } else if (text.endsWith(\'"i\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = false;\n  }\n  return { exact, text };\n}\nvar JavaScriptLocatorFactory = class {\n  constructor(preferredQuote) {\n    this.preferredQuote = preferredQuote;\n  }\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, { hasText: ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, { hasNotText: ${this.toHasText(options.hasNotText)} })`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frameLocator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name: ${this.regexToSourceString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name: ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact: true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${name}: ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, { ${attrs.join(", ")} }` : "";\n        return `getByRole(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter({ hasText: ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `filter({ hasNotText: ${this.toHasText(body)} })`;\n      case "has":\n        return `filter({ has: ${body} })`;\n      case "hasNot":\n        return `filter({ hasNot: ${body} })`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToSourceString(re) {\n    return normalizeEscapedRegexQuotes(String(re));\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToSourceString(body)})`;\n    return exact ? `${method}(${this.quote(body)}, { exact: true })` : `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToSourceString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToSourceString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    var _a;\n    return escapeWithQuotes(text, (_a = this.preferredQuote) != null ? _a : "\'");\n  }\n};\nvar PythonLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, has_text=${this.toHasText(options.hasText)})`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, has_not_text=${this.toHasText(options.hasNotText)})`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frame_locator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first`;\n      case "last":\n        return `last`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name=${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name=${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact=True`);\n        }\n        for (const { name, value } of options.attrs) {\n          let valueString = typeof value === "string" ? this.quote(value) : value;\n          if (typeof value === "boolean")\n            valueString = value ? "True" : "False";\n          attrs.push(`${toSnakeCase(name)}=${valueString}`);\n        }\n        const attrString = attrs.length ? `, ${attrs.join(", ")}` : "";\n        return `get_by_role(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter(has_text=${this.toHasText(body)})`;\n      case "has-not-text":\n        return `filter(has_not_text=${this.toHasText(body)})`;\n      case "has":\n        return `filter(has=${body})`;\n      case "hasNot":\n        return `filter(has_not=${body})`;\n      case "and":\n        return `and_(${body})`;\n      case "or":\n        return `or_(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `get_by_test_id(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("get_by_text", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("get_by_alt_text", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("get_by_placeholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("get_by_label", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("get_by_title", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", re.IGNORECASE" : "";\n    return `re.compile(r"${normalizeEscapedRegexQuotes(body.source).replace(/\\\\\\//, "/").replace(/"/g, \'\\\\"\')}"${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, exact=True)`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return `${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JavaLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    let clazz;\n    switch (base) {\n      case "page":\n        clazz = "Page";\n        break;\n      case "frame-locator":\n        clazz = "FrameLocator";\n        break;\n      case "locator":\n        clazz = "Locator";\n        break;\n    }\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasText(${this.toHasText(options.hasText)}))`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasNotText(${this.toHasText(options.hasNotText)}))`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frameLocator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`.setName(${this.regexToString(options.name)})`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`.setName(${this.quote(options.name)})`);\n          if (options.exact)\n            attrs.push(`.setExact(true)`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`.set${toTitleCase(name)}(${typeof value === "string" ? this.quote(value) : value})`);\n        const attrString = attrs.length ? `, new ${clazz}.GetByRoleOptions()${attrs.join("")}` : "";\n        return `getByRole(AriaRole.${toSnakeCase(body).toUpperCase()}${attrString})`;\n      case "has-text":\n        return `filter(new ${clazz}.FilterOptions().setHasText(${this.toHasText(body)}))`;\n      case "has-not-text":\n        return `filter(new ${clazz}.FilterOptions().setHasNotText(${this.toHasText(body)}))`;\n      case "has":\n        return `filter(new ${clazz}.FilterOptions().setHas(${body}))`;\n      case "hasNot":\n        return `filter(new ${clazz}.FilterOptions().setHasNot(${body}))`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact(clazz, "getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact(clazz, "getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact(clazz, "getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact(clazz, "getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact(clazz, "getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", Pattern.CASE_INSENSITIVE" : "";\n    return `Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(clazz, method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new ${clazz}.${toTitleCase(method)}Options().setExact(true))`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar CSharpLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasNotText(options.hasNotText)} })`;\n        return `Locator(${this.quote(body)})`;\n      case "frame":\n        return `FrameLocator(${this.quote(body)})`;\n      case "nth":\n        return `Nth(${body})`;\n      case "first":\n        return `First`;\n      case "last":\n        return `Last`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`NameRegex = ${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`Name = ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`Exact = true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${toTitleCase(name)} = ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, new() { ${attrs.join(", ")} }` : "";\n        return `GetByRole(AriaRole.${toTitleCase(body)}${attrString})`;\n      case "has-text":\n        return `Filter(new() { ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `Filter(new() { ${this.toHasNotText(body)} })`;\n      case "has":\n        return `Filter(new() { Has = ${body} })`;\n      case "hasNot":\n        return `Filter(new() { HasNot = ${body} })`;\n      case "and":\n        return `And(${body})`;\n      case "or":\n        return `Or(${body})`;\n      case "chain":\n        return `Locator(${body})`;\n      case "test-id":\n        return `GetByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("GetByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("GetByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("GetByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("GetByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("GetByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", RegexOptions.IgnoreCase" : "";\n    return `new Regex(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new() { Exact = true })`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return `HasTextRegex = ${this.regexToString(body)}`;\n    return `HasText = ${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  toHasNotText(body) {\n    if (isRegExp(body))\n      return `HasNotTextRegex = ${this.regexToString(body)}`;\n    return `HasNotText = ${this.quote(body)}`;\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JsonlLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    return JSON.stringify({\n      kind,\n      body,\n      options\n    });\n  }\n  chainLocators(locators) {\n    const objects = locators.map((l) => JSON.parse(l));\n    for (let i = 0; i < objects.length - 1; ++i)\n      objects[i].next = objects[i + 1];\n    return JSON.stringify(objects[0]);\n  }\n};\nvar generators = {\n  javascript: JavaScriptLocatorFactory,\n  python: PythonLocatorFactory,\n  java: JavaLocatorFactory,\n  csharp: CSharpLocatorFactory,\n  jsonl: JsonlLocatorFactory\n};\nfunction isRegExp(obj) {\n  return obj instanceof RegExp;\n}\n\n// packages/playwright-core/src/server/injected/consoleApi.ts\nvar selectorSymbol = Symbol("selector");\nvar injectedScriptSymbol = Symbol("injectedScript");\nvar Locator = class _Locator {\n  constructor(injectedScript, selector, options) {\n    this[selectorSymbol] = selector;\n    this[injectedScriptSymbol] = injectedScript;\n    if (options == null ? void 0 : options.hasText)\n      selector += ` >> internal:has-text=${escapeForTextSelector(options.hasText, false)}`;\n    if (options == null ? void 0 : options.hasNotText)\n      selector += ` >> internal:has-not-text=${escapeForTextSelector(options.hasNotText, false)}`;\n    if (options == null ? void 0 : options.has)\n      selector += ` >> internal:has=` + JSON.stringify(options.has[selectorSymbol]);\n    if (options == null ? void 0 : options.hasNot)\n      selector += ` >> internal:has-not=` + JSON.stringify(options.hasNot[selectorSymbol]);\n    if (selector) {\n      const parsed = injectedScript.parseSelector(selector);\n      this.element = injectedScript.querySelector(parsed, injectedScript.document, false);\n      this.elements = injectedScript.querySelectorAll(parsed, injectedScript.document);\n    }\n    const selectorBase = selector;\n    const self = this;\n    self.locator = (selector2, options2) => {\n      return new _Locator(injectedScript, selectorBase ? selectorBase + " >> " + selector2 : selector2, options2);\n    };\n    self.getByTestId = (testId) => self.locator(getByTestIdSelector(injectedScript.testIdAttributeNameForStrictErrorAndConsoleCodegen(), testId));\n    self.getByAltText = (text, options2) => self.locator(getByAltTextSelector(text, options2));\n    self.getByLabel = (text, options2) => self.locator(getByLabelSelector(text, options2));\n    self.getByPlaceholder = (text, options2) => self.locator(getByPlaceholderSelector(text, options2));\n    self.getByText = (text, options2) => self.locator(getByTextSelector(text, options2));\n    self.getByTitle = (text, options2) => self.locator(getByTitleSelector(text, options2));\n    self.getByRole = (role, options2 = {}) => self.locator(getByRoleSelector(role, options2));\n    self.filter = (options2) => new _Locator(injectedScript, selector, options2);\n    self.first = () => self.locator("nth=0");\n    self.last = () => self.locator("nth=-1");\n    self.nth = (index) => self.locator(`nth=${index}`);\n    self.and = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:and=` + JSON.stringify(locator[selectorSymbol]));\n    self.or = (locator) => new _Locator(injectedScript, selectorBase + ` >> internal:or=` + JSON.stringify(locator[selectorSymbol]));\n  }\n};\nvar ConsoleAPI = class {\n  constructor(injectedScript) {\n    this._injectedScript = injectedScript;\n    if (this._injectedScript.window.playwright)\n      return;\n    this._injectedScript.window.playwright = {\n      $: (selector, strict) => this._querySelector(selector, !!strict),\n      $$: (selector) => this._querySelectorAll(selector),\n      inspect: (selector) => this._inspect(selector),\n      selector: (element) => this._selector(element),\n      generateLocator: (element, language) => this._generateLocator(element, language),\n      resume: () => this._resume(),\n      ...new Locator(injectedScript, "")\n    };\n    delete this._injectedScript.window.playwright.filter;\n    delete this._injectedScript.window.playwright.first;\n    delete this._injectedScript.window.playwright.last;\n    delete this._injectedScript.window.playwright.nth;\n    delete this._injectedScript.window.playwright.and;\n    delete this._injectedScript.window.playwright.or;\n  }\n  _querySelector(selector, strict) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.query(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelector(parsed, this._injectedScript.document, strict);\n  }\n  _querySelectorAll(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.$$(\'Playwright >> selector\').`);\n    const parsed = this._injectedScript.parseSelector(selector);\n    return this._injectedScript.querySelectorAll(parsed, this._injectedScript.document);\n  }\n  _inspect(selector) {\n    if (typeof selector !== "string")\n      throw new Error(`Usage: playwright.inspect(\'Playwright >> selector\').`);\n    this._injectedScript.window.inspect(this._querySelector(selector, false));\n  }\n  _selector(element) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.selector(element).`);\n    return this._injectedScript.generateSelector(element);\n  }\n  _generateLocator(element, language) {\n    if (!(element instanceof Element))\n      throw new Error(`Usage: playwright.locator(element).`);\n    const selector = this._injectedScript.generateSelector(element);\n    return asLocator(language || "javascript", selector);\n  }\n  _resume() {\n    this._injectedScript.window.__pw_resume().catch(() => {\n    });\n  }\n};\nvar consoleApi_default = ConsoleAPI;\n'},6390:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.source=void 0;const Q=S.source='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/playwright-core/src/server/injected/injectedScript.ts\nvar injectedScript_exports = {};\n__export(injectedScript_exports, {\n  InjectedScript: () => InjectedScript\n});\nmodule.exports = __toCommonJS(injectedScript_exports);\n\n// packages/playwright-core/src/server/injected/xpathSelectorEngine.ts\nvar XPathEngine = {\n  queryAll(root, selector) {\n    if (selector.startsWith("/") && root.nodeType !== Node.DOCUMENT_NODE)\n      selector = "." + selector;\n    const result = [];\n    const document = root.ownerDocument || root;\n    if (!document)\n      return result;\n    const it = document.evaluate(selector, root, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE);\n    for (let node = it.iterateNext(); node; node = it.iterateNext()) {\n      if (node.nodeType === Node.ELEMENT_NODE)\n        result.push(node);\n    }\n    return result;\n  }\n};\n\n// packages/playwright-core/src/server/injected/domUtils.ts\nvar browserNameForWorkarounds = "";\nfunction setBrowserName(name) {\n  browserNameForWorkarounds = name;\n}\nfunction isInsideScope(scope, element) {\n  while (element) {\n    if (scope.contains(element))\n      return true;\n    element = enclosingShadowHost(element);\n  }\n  return false;\n}\nfunction parentElementOrShadowHost(element) {\n  if (element.parentElement)\n    return element.parentElement;\n  if (!element.parentNode)\n    return;\n  if (element.parentNode.nodeType === 11 && element.parentNode.host)\n    return element.parentNode.host;\n}\nfunction enclosingShadowRootOrDocument(element) {\n  let node = element;\n  while (node.parentNode)\n    node = node.parentNode;\n  if (node.nodeType === 11 || node.nodeType === 9)\n    return node;\n}\nfunction enclosingShadowHost(element) {\n  while (element.parentElement)\n    element = element.parentElement;\n  return parentElementOrShadowHost(element);\n}\nfunction closestCrossShadow(element, css, scope) {\n  while (element) {\n    const closest = element.closest(css);\n    if (scope && closest !== scope && (closest == null ? void 0 : closest.contains(scope)))\n      return;\n    if (closest)\n      return closest;\n    element = enclosingShadowHost(element);\n  }\n}\nfunction getElementComputedStyle(element, pseudo) {\n  return element.ownerDocument && element.ownerDocument.defaultView ? element.ownerDocument.defaultView.getComputedStyle(element, pseudo) : void 0;\n}\nfunction isElementStyleVisibilityVisible(element, style) {\n  style = style != null ? style : getElementComputedStyle(element);\n  if (!style)\n    return true;\n  if (Element.prototype.checkVisibility && browserNameForWorkarounds !== "webkit") {\n    if (!element.checkVisibility({ checkOpacity: false, checkVisibilityCSS: false }))\n      return false;\n  } else {\n    const detailsOrSummary = element.closest("details,summary");\n    if (detailsOrSummary !== element && (detailsOrSummary == null ? void 0 : detailsOrSummary.nodeName) === "DETAILS" && !detailsOrSummary.open)\n      return false;\n  }\n  if (style.visibility !== "visible")\n    return false;\n  return true;\n}\nfunction isElementVisible(element) {\n  const style = getElementComputedStyle(element);\n  if (!style)\n    return true;\n  if (style.display === "contents") {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && isElementVisible(child))\n        return true;\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return true;\n    }\n    return false;\n  }\n  if (!isElementStyleVisibilityVisible(element, style))\n    return false;\n  const rect = element.getBoundingClientRect();\n  return rect.width > 0 && rect.height > 0;\n}\nfunction isVisibleTextNode(node) {\n  const range = node.ownerDocument.createRange();\n  range.selectNode(node);\n  const rect = range.getBoundingClientRect();\n  return rect.width > 0 && rect.height > 0;\n}\n\n// packages/playwright-core/src/server/injected/roleUtils.ts\nfunction hasExplicitAccessibleName(e) {\n  return e.hasAttribute("aria-label") || e.hasAttribute("aria-labelledby");\n}\nvar kAncestorPreventingLandmark = "article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]";\nvar kGlobalAriaAttributes = [\n  "aria-atomic",\n  "aria-busy",\n  "aria-controls",\n  "aria-current",\n  "aria-describedby",\n  "aria-details",\n  "aria-disabled",\n  "aria-dropeffect",\n  "aria-errormessage",\n  "aria-flowto",\n  "aria-grabbed",\n  "aria-haspopup",\n  "aria-hidden",\n  "aria-invalid",\n  "aria-keyshortcuts",\n  "aria-label",\n  "aria-labelledby",\n  "aria-live",\n  "aria-owns",\n  "aria-relevant",\n  "aria-roledescription"\n];\nfunction hasGlobalAriaAttribute(e) {\n  return kGlobalAriaAttributes.some((a) => e.hasAttribute(a));\n}\nvar kImplicitRoleByTagName = {\n  "A": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "AREA": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "ARTICLE": () => "article",\n  "ASIDE": () => "complementary",\n  "BLOCKQUOTE": () => "blockquote",\n  "BUTTON": () => "button",\n  "CAPTION": () => "caption",\n  "CODE": () => "code",\n  "DATALIST": () => "listbox",\n  "DD": () => "definition",\n  "DEL": () => "deletion",\n  "DETAILS": () => "group",\n  "DFN": () => "term",\n  "DIALOG": () => "dialog",\n  "DT": () => "term",\n  "EM": () => "emphasis",\n  "FIELDSET": () => "group",\n  "FIGURE": () => "figure",\n  "FOOTER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "contentinfo",\n  "FORM": (e) => hasExplicitAccessibleName(e) ? "form" : null,\n  "H1": () => "heading",\n  "H2": () => "heading",\n  "H3": () => "heading",\n  "H4": () => "heading",\n  "H5": () => "heading",\n  "H6": () => "heading",\n  "HEADER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "banner",\n  "HR": () => "separator",\n  "HTML": () => "document",\n  "IMG": (e) => e.getAttribute("alt") === "" && !hasGlobalAriaAttribute(e) && Number.isNaN(Number(String(e.getAttribute("tabindex")))) ? "presentation" : "img",\n  "INPUT": (e) => {\n    const type = e.type.toLowerCase();\n    if (type === "search")\n      return e.hasAttribute("list") ? "combobox" : "searchbox";\n    if (["email", "tel", "text", "url", ""].includes(type)) {\n      const list = getIdRefs(e, e.getAttribute("list"))[0];\n      return list && list.tagName === "DATALIST" ? "combobox" : "textbox";\n    }\n    if (type === "hidden")\n      return "";\n    return {\n      "button": "button",\n      "checkbox": "checkbox",\n      "image": "button",\n      "number": "spinbutton",\n      "radio": "radio",\n      "range": "slider",\n      "reset": "button",\n      "submit": "button"\n    }[type] || "textbox";\n  },\n  "INS": () => "insertion",\n  "LI": () => "listitem",\n  "MAIN": () => "main",\n  "MARK": () => "mark",\n  "MATH": () => "math",\n  "MENU": () => "list",\n  "METER": () => "meter",\n  "NAV": () => "navigation",\n  "OL": () => "list",\n  "OPTGROUP": () => "group",\n  "OPTION": () => "option",\n  "OUTPUT": () => "status",\n  "P": () => "paragraph",\n  "PROGRESS": () => "progressbar",\n  "SECTION": (e) => hasExplicitAccessibleName(e) ? "region" : null,\n  "SELECT": (e) => e.hasAttribute("multiple") || e.size > 1 ? "listbox" : "combobox",\n  "STRONG": () => "strong",\n  "SUB": () => "subscript",\n  "SUP": () => "superscript",\n  // For <svg> we default to Chrome behavior:\n  // - Chrome reports \'img\'.\n  // - Firefox reports \'diagram\' that is not in official ARIA spec yet.\n  // - Safari reports \'no role\', but still computes accessible name.\n  "SVG": () => "img",\n  "TABLE": () => "table",\n  "TBODY": () => "rowgroup",\n  "TD": (e) => {\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "TEXTAREA": () => "textbox",\n  "TFOOT": () => "rowgroup",\n  "TH": (e) => {\n    if (e.getAttribute("scope") === "col")\n      return "columnheader";\n    if (e.getAttribute("scope") === "row")\n      return "rowheader";\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "THEAD": () => "rowgroup",\n  "TIME": () => "time",\n  "TR": () => "row",\n  "UL": () => "list"\n};\nvar kPresentationInheritanceParents = {\n  "DD": ["DL", "DIV"],\n  "DIV": ["DL"],\n  "DT": ["DL", "DIV"],\n  "LI": ["OL", "UL"],\n  "TBODY": ["TABLE"],\n  "TD": ["TR"],\n  "TFOOT": ["TABLE"],\n  "TH": ["TR"],\n  "THEAD": ["TABLE"],\n  "TR": ["THEAD", "TBODY", "TFOOT", "TABLE"]\n};\nfunction getImplicitAriaRole(element) {\n  var _a;\n  const implicitRole = ((_a = kImplicitRoleByTagName[element.tagName.toUpperCase()]) == null ? void 0 : _a.call(kImplicitRoleByTagName, element)) || "";\n  if (!implicitRole)\n    return null;\n  let ancestor = element;\n  while (ancestor) {\n    const parent = parentElementOrShadowHost(ancestor);\n    const parents = kPresentationInheritanceParents[ancestor.tagName];\n    if (!parents || !parent || !parents.includes(parent.tagName))\n      break;\n    const parentExplicitRole = getExplicitAriaRole(parent);\n    if ((parentExplicitRole === "none" || parentExplicitRole === "presentation") && !hasPresentationConflictResolution(parent))\n      return parentExplicitRole;\n    ancestor = parent;\n  }\n  return implicitRole;\n}\nvar allRoles = [\n  "alert",\n  "alertdialog",\n  "application",\n  "article",\n  "banner",\n  "blockquote",\n  "button",\n  "caption",\n  "cell",\n  "checkbox",\n  "code",\n  "columnheader",\n  "combobox",\n  "command",\n  "complementary",\n  "composite",\n  "contentinfo",\n  "definition",\n  "deletion",\n  "dialog",\n  "directory",\n  "document",\n  "emphasis",\n  "feed",\n  "figure",\n  "form",\n  "generic",\n  "grid",\n  "gridcell",\n  "group",\n  "heading",\n  "img",\n  "input",\n  "insertion",\n  "landmark",\n  "link",\n  "list",\n  "listbox",\n  "listitem",\n  "log",\n  "main",\n  "marquee",\n  "math",\n  "meter",\n  "menu",\n  "menubar",\n  "menuitem",\n  "menuitemcheckbox",\n  "menuitemradio",\n  "navigation",\n  "none",\n  "note",\n  "option",\n  "paragraph",\n  "presentation",\n  "progressbar",\n  "radio",\n  "radiogroup",\n  "range",\n  "region",\n  "roletype",\n  "row",\n  "rowgroup",\n  "rowheader",\n  "scrollbar",\n  "search",\n  "searchbox",\n  "section",\n  "sectionhead",\n  "select",\n  "separator",\n  "slider",\n  "spinbutton",\n  "status",\n  "strong",\n  "structure",\n  "subscript",\n  "superscript",\n  "switch",\n  "tab",\n  "table",\n  "tablist",\n  "tabpanel",\n  "term",\n  "textbox",\n  "time",\n  "timer",\n  "toolbar",\n  "tooltip",\n  "tree",\n  "treegrid",\n  "treeitem",\n  "widget",\n  "window"\n];\nvar abstractRoles = ["command", "composite", "input", "landmark", "range", "roletype", "section", "sectionhead", "select", "structure", "widget", "window"];\nvar validRoles = allRoles.filter((role) => !abstractRoles.includes(role));\nfunction getExplicitAriaRole(element) {\n  const roles = (element.getAttribute("role") || "").split(" ").map((role) => role.trim());\n  return roles.find((role) => validRoles.includes(role)) || null;\n}\nfunction hasPresentationConflictResolution(element) {\n  return !hasGlobalAriaAttribute(element);\n}\nfunction getAriaRole(element) {\n  const explicitRole = getExplicitAriaRole(element);\n  if (!explicitRole)\n    return getImplicitAriaRole(element);\n  if ((explicitRole === "none" || explicitRole === "presentation") && hasPresentationConflictResolution(element))\n    return getImplicitAriaRole(element);\n  return explicitRole;\n}\nfunction getAriaBoolean(attr) {\n  return attr === null ? void 0 : attr.toLowerCase() === "true";\n}\nfunction isElementHiddenForAria(element) {\n  if (["STYLE", "SCRIPT", "NOSCRIPT", "TEMPLATE"].includes(element.tagName))\n    return true;\n  const style = getElementComputedStyle(element);\n  const isSlot = element.nodeName === "SLOT";\n  if ((style == null ? void 0 : style.display) === "contents" && !isSlot) {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && !isElementHiddenForAria(child))\n        return false;\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return false;\n    }\n    return true;\n  }\n  const isOptionInsideSelect = element.nodeName === "OPTION" && !!element.closest("select");\n  if (!isOptionInsideSelect && !isSlot && !isElementStyleVisibilityVisible(element, style))\n    return true;\n  return belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element);\n}\nfunction belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element) {\n  let hidden = cacheIsHidden == null ? void 0 : cacheIsHidden.get(element);\n  if (hidden === void 0) {\n    hidden = false;\n    if (element.parentElement && element.parentElement.shadowRoot && !element.assignedSlot)\n      hidden = true;\n    if (!hidden) {\n      const style = getElementComputedStyle(element);\n      hidden = !style || style.display === "none" || getAriaBoolean(element.getAttribute("aria-hidden")) === true;\n    }\n    if (!hidden) {\n      const parent = parentElementOrShadowHost(element);\n      if (parent)\n        hidden = belongsToDisplayNoneOrAriaHiddenOrNonSlotted(parent);\n    }\n    cacheIsHidden == null ? void 0 : cacheIsHidden.set(element, hidden);\n  }\n  return hidden;\n}\nfunction getIdRefs(element, ref) {\n  if (!ref)\n    return [];\n  const root = enclosingShadowRootOrDocument(element);\n  if (!root)\n    return [];\n  try {\n    const ids = ref.split(" ").filter((id) => !!id);\n    const set = /* @__PURE__ */ new Set();\n    for (const id of ids) {\n      const firstElement = root.querySelector("#" + CSS.escape(id));\n      if (firstElement)\n        set.add(firstElement);\n    }\n    return [...set];\n  } catch (e) {\n    return [];\n  }\n}\nfunction normalizeAccessbileName(s) {\n  return s.replace(/\\r\\n/g, "\\n").replace(/\\u00A0/g, " ").replace(/\\s\\s+/g, " ").trim();\n}\nfunction queryInAriaOwned(element, selector) {\n  const result = [...element.querySelectorAll(selector)];\n  for (const owned of getIdRefs(element, element.getAttribute("aria-owns"))) {\n    if (owned.matches(selector))\n      result.push(owned);\n    result.push(...owned.querySelectorAll(selector));\n  }\n  return result;\n}\nfunction getPseudoContent(pseudoStyle) {\n  if (!pseudoStyle)\n    return "";\n  const content = pseudoStyle.content;\n  if (content[0] === "\'" && content[content.length - 1] === "\'" || content[0] === \'"\' && content[content.length - 1] === \'"\') {\n    const unquoted = content.substring(1, content.length - 1);\n    const display = pseudoStyle.display || "inline";\n    if (display !== "inline")\n      return " " + unquoted + " ";\n    return unquoted;\n  }\n  return "";\n}\nfunction getAriaLabelledByElements(element) {\n  const ref = element.getAttribute("aria-labelledby");\n  if (ref === null)\n    return null;\n  return getIdRefs(element, ref);\n}\nfunction allowsNameFromContent(role, targetDescendant) {\n  const alwaysAllowsNameFromContent = ["button", "cell", "checkbox", "columnheader", "gridcell", "heading", "link", "menuitem", "menuitemcheckbox", "menuitemradio", "option", "radio", "row", "rowheader", "switch", "tab", "tooltip", "treeitem"].includes(role);\n  const descendantAllowsNameFromContent = targetDescendant && ["", "caption", "code", "contentinfo", "definition", "deletion", "emphasis", "insertion", "list", "listitem", "mark", "none", "paragraph", "presentation", "region", "row", "rowgroup", "section", "strong", "subscript", "superscript", "table", "term", "time"].includes(role);\n  return alwaysAllowsNameFromContent || descendantAllowsNameFromContent;\n}\nfunction getElementAccessibleName(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleNameHidden : cacheAccessibleName;\n  let accessibleName = cache == null ? void 0 : cache.get(element);\n  if (accessibleName === void 0) {\n    accessibleName = "";\n    const elementProhibitsNaming = ["caption", "code", "definition", "deletion", "emphasis", "generic", "insertion", "mark", "paragraph", "presentation", "strong", "subscript", "suggestion", "superscript", "term", "time"].includes(getAriaRole(element) || "");\n    if (!elementProhibitsNaming) {\n      accessibleName = normalizeAccessbileName(getElementAccessibleNameInternal(element, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInLabelledBy: "none",\n        embeddedInLabel: "none",\n        embeddedInTextAlternativeElement: false,\n        embeddedInTargetElement: "self"\n      }));\n    }\n    cache == null ? void 0 : cache.set(element, accessibleName);\n  }\n  return accessibleName;\n}\nfunction getElementAccessibleNameInternal(element, options) {\n  if (options.visitedElements.has(element))\n    return "";\n  const childOptions = {\n    ...options,\n    embeddedInLabel: options.embeddedInLabel === "self" ? "descendant" : options.embeddedInLabel,\n    embeddedInLabelledBy: options.embeddedInLabelledBy === "self" ? "descendant" : options.embeddedInLabelledBy,\n    embeddedInTargetElement: options.embeddedInTargetElement === "self" ? "descendant" : options.embeddedInTargetElement\n  };\n  if (!options.includeHidden && options.embeddedInLabelledBy !== "self" && isElementHiddenForAria(element)) {\n    options.visitedElements.add(element);\n    return "";\n  }\n  const labelledBy = getAriaLabelledByElements(element);\n  if (options.embeddedInLabelledBy === "none") {\n    const accessibleName = (labelledBy || []).map((ref) => getElementAccessibleNameInternal(ref, {\n      ...options,\n      embeddedInLabelledBy: "self",\n      embeddedInTargetElement: "none",\n      embeddedInLabel: "none",\n      embeddedInTextAlternativeElement: false\n    })).join(" ");\n    if (accessibleName)\n      return accessibleName;\n  }\n  const role = getAriaRole(element) || "";\n  if (options.embeddedInLabel !== "none" || options.embeddedInLabelledBy !== "none") {\n    const isOwnLabel = [...element.labels || []].includes(element);\n    const isOwnLabelledBy = (labelledBy || []).includes(element);\n    if (!isOwnLabel && !isOwnLabelledBy) {\n      if (role === "textbox") {\n        options.visitedElements.add(element);\n        if (element.tagName === "INPUT" || element.tagName === "TEXTAREA")\n          return element.value;\n        return element.textContent || "";\n      }\n      if (["combobox", "listbox"].includes(role)) {\n        options.visitedElements.add(element);\n        let selectedOptions;\n        if (element.tagName === "SELECT") {\n          selectedOptions = [...element.selectedOptions];\n          if (!selectedOptions.length && element.options.length)\n            selectedOptions.push(element.options[0]);\n        } else {\n          const listbox = role === "combobox" ? queryInAriaOwned(element, "*").find((e) => getAriaRole(e) === "listbox") : element;\n          selectedOptions = listbox ? queryInAriaOwned(listbox, \'[aria-selected="true"]\').filter((e) => getAriaRole(e) === "option") : [];\n        }\n        return selectedOptions.map((option) => getElementAccessibleNameInternal(option, childOptions)).join(" ");\n      }\n      if (["progressbar", "scrollbar", "slider", "spinbutton", "meter"].includes(role)) {\n        options.visitedElements.add(element);\n        if (element.hasAttribute("aria-valuetext"))\n          return element.getAttribute("aria-valuetext") || "";\n        if (element.hasAttribute("aria-valuenow"))\n          return element.getAttribute("aria-valuenow") || "";\n        return element.getAttribute("value") || "";\n      }\n      if (["menu"].includes(role)) {\n        options.visitedElements.add(element);\n        return "";\n      }\n    }\n  }\n  const ariaLabel = element.getAttribute("aria-label") || "";\n  if (ariaLabel.trim()) {\n    options.visitedElements.add(element);\n    return ariaLabel;\n  }\n  if (!["presentation", "none"].includes(role)) {\n    if (element.tagName === "INPUT" && ["button", "submit", "reset"].includes(element.type)) {\n      options.visitedElements.add(element);\n      const value = element.value || "";\n      if (value.trim())\n        return value;\n      if (element.type === "submit")\n        return "Submit";\n      if (element.type === "reset")\n        return "Reset";\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName === "INPUT" && element.type === "image") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && options.embeddedInLabelledBy === "none")\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const alt = element.getAttribute("alt") || "";\n      if (alt.trim())\n        return alt;\n      const title = element.getAttribute("title") || "";\n      if (title.trim())\n        return title;\n      return "Submit";\n    }\n    if (!labelledBy && element.tagName === "BUTTON") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n    }\n    if (!labelledBy && element.tagName === "OUTPUT") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return element.getAttribute("title") || "";\n    }\n    if (!labelledBy && (element.tagName === "TEXTAREA" || element.tagName === "SELECT" || element.tagName === "INPUT")) {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const usePlaceholder = element.tagName === "INPUT" && ["text", "password", "search", "tel", "email", "url"].includes(element.type) || element.tagName === "TEXTAREA";\n      const placeholder = element.getAttribute("placeholder") || "";\n      const title = element.getAttribute("title") || "";\n      if (!usePlaceholder || title)\n        return title;\n      return placeholder;\n    }\n    if (!labelledBy && element.tagName === "FIELDSET") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName === "LEGEND") {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInTextAlternativeElement: true\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (!labelledBy && element.tagName === "FIGURE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName === "FIGCAPTION") {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInTextAlternativeElement: true\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName === "IMG") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (alt.trim())\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName === "TABLE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName === "CAPTION") {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInTextAlternativeElement: true\n          });\n        }\n      }\n      const summary = element.getAttribute("summary") || "";\n      if (summary)\n        return summary;\n    }\n    if (element.tagName === "AREA") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (alt.trim())\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName.toUpperCase() === "SVG" || element.ownerSVGElement) {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName.toUpperCase() === "TITLE" && child.ownerSVGElement) {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInLabelledBy: "self"\n          });\n        }\n      }\n    }\n    if (element.ownerSVGElement && element.tagName.toUpperCase() === "A") {\n      const title = element.getAttribute("xlink:title") || "";\n      if (title.trim()) {\n        options.visitedElements.add(element);\n        return title;\n      }\n    }\n  }\n  if (allowsNameFromContent(role, options.embeddedInTargetElement === "descendant") || options.embeddedInLabelledBy !== "none" || options.embeddedInLabel !== "none" || options.embeddedInTextAlternativeElement) {\n    options.visitedElements.add(element);\n    const tokens = [];\n    const visit = (node, skipSlotted) => {\n      var _a;\n      if (skipSlotted && node.assignedSlot)\n        return;\n      if (node.nodeType === 1) {\n        const display = ((_a = getElementComputedStyle(node)) == null ? void 0 : _a.display) || "inline";\n        let token = getElementAccessibleNameInternal(node, childOptions);\n        if (display !== "inline" || node.nodeName === "BR")\n          token = " " + token + " ";\n        tokens.push(token);\n      } else if (node.nodeType === 3) {\n        tokens.push(node.textContent || "");\n      }\n    };\n    tokens.push(getPseudoContent(getElementComputedStyle(element, "::before")));\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(child, false);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling)\n        visit(child, true);\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(child, true);\n      }\n      for (const owned of getIdRefs(element, element.getAttribute("aria-owns")))\n        visit(owned, true);\n    }\n    tokens.push(getPseudoContent(getElementComputedStyle(element, "::after")));\n    const accessibleName = tokens.join("");\n    if (accessibleName.trim())\n      return accessibleName;\n  }\n  if (!["presentation", "none"].includes(role) || element.tagName === "IFRAME") {\n    options.visitedElements.add(element);\n    const title = element.getAttribute("title") || "";\n    if (title.trim())\n      return title;\n  }\n  options.visitedElements.add(element);\n  return "";\n}\nvar kAriaSelectedRoles = ["gridcell", "option", "row", "tab", "rowheader", "columnheader", "treeitem"];\nfunction getAriaSelected(element) {\n  if (element.tagName === "OPTION")\n    return element.selected;\n  if (kAriaSelectedRoles.includes(getAriaRole(element) || ""))\n    return getAriaBoolean(element.getAttribute("aria-selected")) === true;\n  return false;\n}\nvar kAriaCheckedRoles = ["checkbox", "menuitemcheckbox", "option", "radio", "switch", "menuitemradio", "treeitem"];\nfunction getAriaChecked(element) {\n  const result = getChecked(element, true);\n  return result === "error" ? false : result;\n}\nfunction getChecked(element, allowMixed) {\n  if (allowMixed && element.tagName === "INPUT" && element.indeterminate)\n    return "mixed";\n  if (element.tagName === "INPUT" && ["checkbox", "radio"].includes(element.type))\n    return element.checked;\n  if (kAriaCheckedRoles.includes(getAriaRole(element) || "")) {\n    const checked = element.getAttribute("aria-checked");\n    if (checked === "true")\n      return true;\n    if (allowMixed && checked === "mixed")\n      return "mixed";\n    return false;\n  }\n  return "error";\n}\nvar kAriaPressedRoles = ["button"];\nfunction getAriaPressed(element) {\n  if (kAriaPressedRoles.includes(getAriaRole(element) || "")) {\n    const pressed = element.getAttribute("aria-pressed");\n    if (pressed === "true")\n      return true;\n    if (pressed === "mixed")\n      return "mixed";\n  }\n  return false;\n}\nvar kAriaExpandedRoles = ["application", "button", "checkbox", "combobox", "gridcell", "link", "listbox", "menuitem", "row", "rowheader", "tab", "treeitem", "columnheader", "menuitemcheckbox", "menuitemradio", "rowheader", "switch"];\nfunction getAriaExpanded(element) {\n  if (element.tagName === "DETAILS")\n    return element.open;\n  if (kAriaExpandedRoles.includes(getAriaRole(element) || "")) {\n    const expanded = element.getAttribute("aria-expanded");\n    if (expanded === null)\n      return "none";\n    if (expanded === "true")\n      return true;\n    return false;\n  }\n  return "none";\n}\nvar kAriaLevelRoles = ["heading", "listitem", "row", "treeitem"];\nfunction getAriaLevel(element) {\n  const native = { "H1": 1, "H2": 2, "H3": 3, "H4": 4, "H5": 5, "H6": 6 }[element.tagName];\n  if (native)\n    return native;\n  if (kAriaLevelRoles.includes(getAriaRole(element) || "")) {\n    const attr = element.getAttribute("aria-level");\n    const value = attr === null ? Number.NaN : Number(attr);\n    if (Number.isInteger(value) && value >= 1)\n      return value;\n  }\n  return 0;\n}\nvar kAriaDisabledRoles = ["application", "button", "composite", "gridcell", "group", "input", "link", "menuitem", "scrollbar", "separator", "tab", "checkbox", "columnheader", "combobox", "grid", "listbox", "menu", "menubar", "menuitemcheckbox", "menuitemradio", "option", "radio", "radiogroup", "row", "rowheader", "searchbox", "select", "slider", "spinbutton", "switch", "tablist", "textbox", "toolbar", "tree", "treegrid", "treeitem"];\nfunction getAriaDisabled(element) {\n  const isNativeFormControl = ["BUTTON", "INPUT", "SELECT", "TEXTAREA", "OPTION", "OPTGROUP"].includes(element.tagName);\n  if (isNativeFormControl && (element.hasAttribute("disabled") || belongsToDisabledFieldSet(element)))\n    return true;\n  return hasExplicitAriaDisabled(element);\n}\nfunction belongsToDisabledFieldSet(element) {\n  if (!element)\n    return false;\n  if (element.tagName === "FIELDSET" && element.hasAttribute("disabled"))\n    return true;\n  return belongsToDisabledFieldSet(element.parentElement);\n}\nfunction hasExplicitAriaDisabled(element) {\n  if (!element)\n    return false;\n  if (kAriaDisabledRoles.includes(getAriaRole(element) || "")) {\n    const attribute = (element.getAttribute("aria-disabled") || "").toLowerCase();\n    if (attribute === "true")\n      return true;\n    if (attribute === "false")\n      return false;\n  }\n  return hasExplicitAriaDisabled(parentElementOrShadowHost(element));\n}\nfunction getAccessibleNameFromAssociatedLabels(labels, options) {\n  return [...labels].map((label) => getElementAccessibleNameInternal(label, {\n    ...options,\n    embeddedInLabel: "self",\n    embeddedInTextAlternativeElement: false,\n    embeddedInLabelledBy: "none",\n    embeddedInTargetElement: "none"\n  })).filter((accessibleName) => !!accessibleName).join(" ");\n}\nvar cacheAccessibleName;\nvar cacheAccessibleNameHidden;\nvar cacheIsHidden;\nvar cachesCounter = 0;\nfunction beginAriaCaches() {\n  ++cachesCounter;\n  cacheAccessibleName != null ? cacheAccessibleName : cacheAccessibleName = /* @__PURE__ */ new Map();\n  cacheAccessibleNameHidden != null ? cacheAccessibleNameHidden : cacheAccessibleNameHidden = /* @__PURE__ */ new Map();\n  cacheIsHidden != null ? cacheIsHidden : cacheIsHidden = /* @__PURE__ */ new Map();\n}\nfunction endAriaCaches() {\n  if (!--cachesCounter) {\n    cacheAccessibleName = void 0;\n    cacheAccessibleNameHidden = void 0;\n    cacheIsHidden = void 0;\n  }\n}\n\n// packages/playwright-core/src/server/injected/selectorUtils.ts\nfunction matchesComponentAttribute(obj, attr) {\n  for (const token of attr.jsonPath) {\n    if (obj !== void 0 && obj !== null)\n      obj = obj[token];\n  }\n  return matchesAttributePart(obj, attr);\n}\nfunction matchesAttributePart(value, attr) {\n  const objValue = typeof value === "string" && !attr.caseSensitive ? value.toUpperCase() : value;\n  const attrValue = typeof attr.value === "string" && !attr.caseSensitive ? attr.value.toUpperCase() : attr.value;\n  if (attr.op === "<truthy>")\n    return !!objValue;\n  if (attr.op === "=") {\n    if (attrValue instanceof RegExp)\n      return typeof objValue === "string" && !!objValue.match(attrValue);\n    return objValue === attrValue;\n  }\n  if (typeof objValue !== "string" || typeof attrValue !== "string")\n    return false;\n  if (attr.op === "*=")\n    return objValue.includes(attrValue);\n  if (attr.op === "^=")\n    return objValue.startsWith(attrValue);\n  if (attr.op === "$=")\n    return objValue.endsWith(attrValue);\n  if (attr.op === "|=")\n    return objValue === attrValue || objValue.startsWith(attrValue + "-");\n  if (attr.op === "~=")\n    return objValue.split(" ").includes(attrValue);\n  return false;\n}\nfunction shouldSkipForTextMatching(element) {\n  const document = element.ownerDocument;\n  return element.nodeName === "SCRIPT" || element.nodeName === "NOSCRIPT" || element.nodeName === "STYLE" || document.head && document.head.contains(element);\n}\nfunction elementText(cache, root) {\n  let value = cache.get(root);\n  if (value === void 0) {\n    value = { full: "", immediate: [] };\n    if (!shouldSkipForTextMatching(root)) {\n      let currentImmediate = "";\n      if (root instanceof HTMLInputElement && (root.type === "submit" || root.type === "button")) {\n        value = { full: root.value, immediate: [root.value] };\n      } else {\n        for (let child = root.firstChild; child; child = child.nextSibling) {\n          if (child.nodeType === Node.TEXT_NODE) {\n            value.full += child.nodeValue || "";\n            currentImmediate += child.nodeValue || "";\n          } else {\n            if (currentImmediate)\n              value.immediate.push(currentImmediate);\n            currentImmediate = "";\n            if (child.nodeType === Node.ELEMENT_NODE)\n              value.full += elementText(cache, child).full;\n          }\n        }\n        if (currentImmediate)\n          value.immediate.push(currentImmediate);\n        if (root.shadowRoot)\n          value.full += elementText(cache, root.shadowRoot).full;\n      }\n    }\n    cache.set(root, value);\n  }\n  return value;\n}\nfunction elementMatchesText(cache, element, matcher) {\n  if (shouldSkipForTextMatching(element))\n    return "none";\n  if (!matcher(elementText(cache, element)))\n    return "none";\n  for (let child = element.firstChild; child; child = child.nextSibling) {\n    if (child.nodeType === Node.ELEMENT_NODE && matcher(elementText(cache, child)))\n      return "selfAndChildren";\n  }\n  if (element.shadowRoot && matcher(elementText(cache, element.shadowRoot)))\n    return "selfAndChildren";\n  return "self";\n}\nfunction getElementLabels(textCache, element) {\n  const labels = getAriaLabelledByElements(element);\n  if (labels)\n    return labels.map((label) => elementText(textCache, label));\n  const ariaLabel = element.getAttribute("aria-label");\n  if (ariaLabel !== null && !!ariaLabel.trim())\n    return [{ full: ariaLabel, immediate: [ariaLabel] }];\n  const isNonHiddenInput = element.nodeName === "INPUT" && element.type !== "hidden";\n  if (["BUTTON", "METER", "OUTPUT", "PROGRESS", "SELECT", "TEXTAREA"].includes(element.nodeName) || isNonHiddenInput) {\n    const labels2 = element.labels;\n    if (labels2)\n      return [...labels2].map((label) => elementText(textCache, label));\n  }\n  return [];\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssTokenizer.ts\nvar between = function(num, first, last) {\n  return num >= first && num <= last;\n};\nfunction digit(code) {\n  return between(code, 48, 57);\n}\nfunction hexdigit(code) {\n  return digit(code) || between(code, 65, 70) || between(code, 97, 102);\n}\nfunction uppercaseletter(code) {\n  return between(code, 65, 90);\n}\nfunction lowercaseletter(code) {\n  return between(code, 97, 122);\n}\nfunction letter(code) {\n  return uppercaseletter(code) || lowercaseletter(code);\n}\nfunction nonascii(code) {\n  return code >= 128;\n}\nfunction namestartchar(code) {\n  return letter(code) || nonascii(code) || code === 95;\n}\nfunction namechar(code) {\n  return namestartchar(code) || digit(code) || code === 45;\n}\nfunction nonprintable(code) {\n  return between(code, 0, 8) || code === 11 || between(code, 14, 31) || code === 127;\n}\nfunction newline(code) {\n  return code === 10;\n}\nfunction whitespace(code) {\n  return newline(code) || code === 9 || code === 32;\n}\nvar maximumallowedcodepoint = 1114111;\nvar InvalidCharacterError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = "InvalidCharacterError";\n  }\n};\nfunction preprocess(str) {\n  const codepoints = [];\n  for (let i = 0; i < str.length; i++) {\n    let code = str.charCodeAt(i);\n    if (code === 13 && str.charCodeAt(i + 1) === 10) {\n      code = 10;\n      i++;\n    }\n    if (code === 13 || code === 12)\n      code = 10;\n    if (code === 0)\n      code = 65533;\n    if (between(code, 55296, 56319) && between(str.charCodeAt(i + 1), 56320, 57343)) {\n      const lead = code - 55296;\n      const trail = str.charCodeAt(i + 1) - 56320;\n      code = Math.pow(2, 16) + lead * Math.pow(2, 10) + trail;\n      i++;\n    }\n    codepoints.push(code);\n  }\n  return codepoints;\n}\nfunction stringFromCode(code) {\n  if (code <= 65535)\n    return String.fromCharCode(code);\n  code -= Math.pow(2, 16);\n  const lead = Math.floor(code / Math.pow(2, 10)) + 55296;\n  const trail = code % Math.pow(2, 10) + 56320;\n  return String.fromCharCode(lead) + String.fromCharCode(trail);\n}\nfunction tokenize(str1) {\n  const str = preprocess(str1);\n  let i = -1;\n  const tokens = [];\n  let code;\n  let line = 0;\n  let column = 0;\n  let lastLineLength = 0;\n  const incrLineno = function() {\n    line += 1;\n    lastLineLength = column;\n    column = 0;\n  };\n  const locStart = { line, column };\n  const codepoint = function(i2) {\n    if (i2 >= str.length)\n      return -1;\n    return str[i2];\n  };\n  const next = function(num) {\n    if (num === void 0)\n      num = 1;\n    if (num > 3)\n      throw "Spec Error: no more than three codepoints of lookahead.";\n    return codepoint(i + num);\n  };\n  const consume = function(num) {\n    if (num === void 0)\n      num = 1;\n    i += num;\n    code = codepoint(i);\n    if (newline(code))\n      incrLineno();\n    else\n      column += num;\n    return true;\n  };\n  const reconsume = function() {\n    i -= 1;\n    if (newline(code)) {\n      line -= 1;\n      column = lastLineLength;\n    } else {\n      column -= 1;\n    }\n    locStart.line = line;\n    locStart.column = column;\n    return true;\n  };\n  const eof = function(codepoint2) {\n    if (codepoint2 === void 0)\n      codepoint2 = code;\n    return codepoint2 === -1;\n  };\n  const donothing = function() {\n  };\n  const parseerror = function() {\n  };\n  const consumeAToken = function() {\n    consumeComments();\n    consume();\n    if (whitespace(code)) {\n      while (whitespace(next()))\n        consume();\n      return new WhitespaceToken();\n    } else if (code === 34) {\n      return consumeAStringToken();\n    } else if (code === 35) {\n      if (namechar(next()) || areAValidEscape(next(1), next(2))) {\n        const token = new HashToken("");\n        if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n          token.type = "id";\n        token.value = consumeAName();\n        return token;\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 36) {\n      if (next() === 61) {\n        consume();\n        return new SuffixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 39) {\n      return consumeAStringToken();\n    } else if (code === 40) {\n      return new OpenParenToken();\n    } else if (code === 41) {\n      return new CloseParenToken();\n    } else if (code === 42) {\n      if (next() === 61) {\n        consume();\n        return new SubstringMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 43) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 44) {\n      return new CommaToken();\n    } else if (code === 45) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else if (next(1) === 45 && next(2) === 62) {\n        consume(2);\n        return new CDCToken();\n      } else if (startsWithAnIdentifier()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 46) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 58) {\n      return new ColonToken();\n    } else if (code === 59) {\n      return new SemicolonToken();\n    } else if (code === 60) {\n      if (next(1) === 33 && next(2) === 45 && next(3) === 45) {\n        consume(3);\n        return new CDOToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 64) {\n      if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n        return new AtKeywordToken(consumeAName());\n      else\n        return new DelimToken(code);\n    } else if (code === 91) {\n      return new OpenSquareToken();\n    } else if (code === 92) {\n      if (startsWithAValidEscape()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        parseerror();\n        return new DelimToken(code);\n      }\n    } else if (code === 93) {\n      return new CloseSquareToken();\n    } else if (code === 94) {\n      if (next() === 61) {\n        consume();\n        return new PrefixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 123) {\n      return new OpenCurlyToken();\n    } else if (code === 124) {\n      if (next() === 61) {\n        consume();\n        return new DashMatchToken();\n      } else if (next() === 124) {\n        consume();\n        return new ColumnToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 125) {\n      return new CloseCurlyToken();\n    } else if (code === 126) {\n      if (next() === 61) {\n        consume();\n        return new IncludeMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (digit(code)) {\n      reconsume();\n      return consumeANumericToken();\n    } else if (namestartchar(code)) {\n      reconsume();\n      return consumeAnIdentlikeToken();\n    } else if (eof()) {\n      return new EOFToken();\n    } else {\n      return new DelimToken(code);\n    }\n  };\n  const consumeComments = function() {\n    while (next(1) === 47 && next(2) === 42) {\n      consume(2);\n      while (true) {\n        consume();\n        if (code === 42 && next() === 47) {\n          consume();\n          break;\n        } else if (eof()) {\n          parseerror();\n          return;\n        }\n      }\n    }\n  };\n  const consumeANumericToken = function() {\n    const num = consumeANumber();\n    if (wouldStartAnIdentifier(next(1), next(2), next(3))) {\n      const token = new DimensionToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      token.unit = consumeAName();\n      return token;\n    } else if (next() === 37) {\n      consume();\n      const token = new PercentageToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      return token;\n    } else {\n      const token = new NumberToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      return token;\n    }\n  };\n  const consumeAnIdentlikeToken = function() {\n    const str2 = consumeAName();\n    if (str2.toLowerCase() === "url" && next() === 40) {\n      consume();\n      while (whitespace(next(1)) && whitespace(next(2)))\n        consume();\n      if (next() === 34 || next() === 39)\n        return new FunctionToken(str2);\n      else if (whitespace(next()) && (next(2) === 34 || next(2) === 39))\n        return new FunctionToken(str2);\n      else\n        return consumeAURLToken();\n    } else if (next() === 40) {\n      consume();\n      return new FunctionToken(str2);\n    } else {\n      return new IdentToken(str2);\n    }\n  };\n  const consumeAStringToken = function(endingCodePoint) {\n    if (endingCodePoint === void 0)\n      endingCodePoint = code;\n    let string = "";\n    while (consume()) {\n      if (code === endingCodePoint || eof()) {\n        return new StringToken(string);\n      } else if (newline(code)) {\n        parseerror();\n        reconsume();\n        return new BadStringToken();\n      } else if (code === 92) {\n        if (eof(next()))\n          donothing();\n        else if (newline(next()))\n          consume();\n        else\n          string += stringFromCode(consumeEscape());\n      } else {\n        string += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeAURLToken = function() {\n    const token = new URLToken("");\n    while (whitespace(next()))\n      consume();\n    if (eof(next()))\n      return token;\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return token;\n      } else if (whitespace(code)) {\n        while (whitespace(next()))\n          consume();\n        if (next() === 41 || eof(next())) {\n          consume();\n          return token;\n        } else {\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else if (code === 34 || code === 39 || code === 40 || nonprintable(code)) {\n        parseerror();\n        consumeTheRemnantsOfABadURL();\n        return new BadURLToken();\n      } else if (code === 92) {\n        if (startsWithAValidEscape()) {\n          token.value += stringFromCode(consumeEscape());\n        } else {\n          parseerror();\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else {\n        token.value += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeEscape = function() {\n    consume();\n    if (hexdigit(code)) {\n      const digits = [code];\n      for (let total = 0; total < 5; total++) {\n        if (hexdigit(next())) {\n          consume();\n          digits.push(code);\n        } else {\n          break;\n        }\n      }\n      if (whitespace(next()))\n        consume();\n      let value = parseInt(digits.map(function(x) {\n        return String.fromCharCode(x);\n      }).join(""), 16);\n      if (value > maximumallowedcodepoint)\n        value = 65533;\n      return value;\n    } else if (eof()) {\n      return 65533;\n    } else {\n      return code;\n    }\n  };\n  const areAValidEscape = function(c1, c2) {\n    if (c1 !== 92)\n      return false;\n    if (newline(c2))\n      return false;\n    return true;\n  };\n  const startsWithAValidEscape = function() {\n    return areAValidEscape(code, next());\n  };\n  const wouldStartAnIdentifier = function(c1, c2, c3) {\n    if (c1 === 45)\n      return namestartchar(c2) || c2 === 45 || areAValidEscape(c2, c3);\n    else if (namestartchar(c1))\n      return true;\n    else if (c1 === 92)\n      return areAValidEscape(c1, c2);\n    else\n      return false;\n  };\n  const startsWithAnIdentifier = function() {\n    return wouldStartAnIdentifier(code, next(1), next(2));\n  };\n  const wouldStartANumber = function(c1, c2, c3) {\n    if (c1 === 43 || c1 === 45) {\n      if (digit(c2))\n        return true;\n      if (c2 === 46 && digit(c3))\n        return true;\n      return false;\n    } else if (c1 === 46) {\n      if (digit(c2))\n        return true;\n      return false;\n    } else if (digit(c1)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const startsWithANumber = function() {\n    return wouldStartANumber(code, next(1), next(2));\n  };\n  const consumeAName = function() {\n    let result = "";\n    while (consume()) {\n      if (namechar(code)) {\n        result += stringFromCode(code);\n      } else if (startsWithAValidEscape()) {\n        result += stringFromCode(consumeEscape());\n      } else {\n        reconsume();\n        return result;\n      }\n    }\n    throw new Error("Internal parse error");\n  };\n  const consumeANumber = function() {\n    let repr = "";\n    let type = "integer";\n    if (next() === 43 || next() === 45) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    while (digit(next())) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    if (next(1) === 46 && digit(next(2))) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const c1 = next(1), c2 = next(2), c3 = next(3);\n    if ((c1 === 69 || c1 === 101) && digit(c2)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    } else if ((c1 === 69 || c1 === 101) && (c2 === 43 || c2 === 45) && digit(c3)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const value = convertAStringToANumber(repr);\n    return { type, value, repr };\n  };\n  const convertAStringToANumber = function(string) {\n    return +string;\n  };\n  const consumeTheRemnantsOfABadURL = function() {\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return;\n      } else if (startsWithAValidEscape()) {\n        consumeEscape();\n        donothing();\n      } else {\n        donothing();\n      }\n    }\n  };\n  let iterationCount = 0;\n  while (!eof(next())) {\n    tokens.push(consumeAToken());\n    iterationCount++;\n    if (iterationCount > str.length * 2)\n      throw new Error("I\'m infinite-looping!");\n  }\n  return tokens;\n}\nvar CSSParserToken = class {\n  constructor() {\n    this.tokenType = "";\n  }\n  toJSON() {\n    return { token: this.tokenType };\n  }\n  toString() {\n    return this.tokenType;\n  }\n  toSource() {\n    return "" + this;\n  }\n};\nvar BadStringToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADSTRING";\n  }\n};\nvar BadURLToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADURL";\n  }\n};\nvar WhitespaceToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "WHITESPACE";\n  }\n  toString() {\n    return "WS";\n  }\n  toSource() {\n    return " ";\n  }\n};\nvar CDOToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDO";\n  }\n  toSource() {\n    return "\x3c!--";\n  }\n};\nvar CDCToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDC";\n  }\n  toSource() {\n    return "--\x3e";\n  }\n};\nvar ColonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ":";\n  }\n};\nvar SemicolonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ";";\n  }\n};\nvar CommaToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ",";\n  }\n};\nvar GroupingToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n    this.mirror = "";\n  }\n};\nvar OpenCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "{";\n    this.value = "{";\n    this.mirror = "}";\n  }\n};\nvar CloseCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "}";\n    this.value = "}";\n    this.mirror = "{";\n  }\n};\nvar OpenSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "[";\n    this.value = "[";\n    this.mirror = "]";\n  }\n};\nvar CloseSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "]";\n    this.value = "]";\n    this.mirror = "[";\n  }\n};\nvar OpenParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "(";\n    this.value = "(";\n    this.mirror = ")";\n  }\n};\nvar CloseParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = ")";\n    this.value = ")";\n    this.mirror = "(";\n  }\n};\nvar IncludeMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "~=";\n  }\n};\nvar DashMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "|=";\n  }\n};\nvar PrefixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "^=";\n  }\n};\nvar SuffixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "$=";\n  }\n};\nvar SubstringMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "*=";\n  }\n};\nvar ColumnToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "||";\n  }\n};\nvar EOFToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "EOF";\n  }\n  toSource() {\n    return "";\n  }\n};\nvar DelimToken = class extends CSSParserToken {\n  constructor(code) {\n    super();\n    this.tokenType = "DELIM";\n    this.value = "";\n    this.value = stringFromCode(code);\n  }\n  toString() {\n    return "DELIM(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n  toSource() {\n    if (this.value === "\\\\")\n      return "\\\\\\n";\n    else\n      return this.value;\n  }\n};\nvar StringValuedToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n  }\n  ASCIIMatch(str) {\n    return this.value.toLowerCase() === str.toLowerCase();\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n};\nvar IdentToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "IDENT";\n    this.value = val;\n  }\n  toString() {\n    return "IDENT(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value);\n  }\n};\nvar FunctionToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "FUNCTION";\n    this.value = val;\n    this.mirror = ")";\n  }\n  toString() {\n    return "FUNCTION(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value) + "(";\n  }\n};\nvar AtKeywordToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "AT-KEYWORD";\n    this.value = val;\n  }\n  toString() {\n    return "AT(" + this.value + ")";\n  }\n  toSource() {\n    return "@" + escapeIdent(this.value);\n  }\n};\nvar HashToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "HASH";\n    this.value = val;\n    this.type = "unrestricted";\n  }\n  toString() {\n    return "HASH(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    return json;\n  }\n  toSource() {\n    if (this.type === "id")\n      return "#" + escapeIdent(this.value);\n    else\n      return "#" + escapeHash(this.value);\n  }\n};\nvar StringToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "STRING";\n    this.value = val;\n  }\n  toString() {\n    return \'"\' + escapeString(this.value) + \'"\';\n  }\n};\nvar URLToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "URL";\n    this.value = val;\n  }\n  toString() {\n    return "URL(" + this.value + ")";\n  }\n  toSource() {\n    return \'url("\' + escapeString(this.value) + \'")\';\n  }\n};\nvar NumberToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "NUMBER";\n    this.type = "integer";\n    this.repr = "";\n  }\n  toString() {\n    if (this.type === "integer")\n      return "INT(" + this.value + ")";\n    return "NUMBER(" + this.value + ")";\n  }\n  toJSON() {\n    const json = super.toJSON();\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr;\n  }\n};\nvar PercentageToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "PERCENTAGE";\n    this.repr = "";\n  }\n  toString() {\n    return "PERCENTAGE(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr + "%";\n  }\n};\nvar DimensionToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "DIMENSION";\n    this.type = "integer";\n    this.repr = "";\n    this.unit = "";\n  }\n  toString() {\n    return "DIM(" + this.value + "," + this.unit + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    json.unit = this.unit;\n    return json;\n  }\n  toSource() {\n    const source = this.repr;\n    let unit = escapeIdent(this.unit);\n    if (unit[0].toLowerCase() === "e" && (unit[1] === "-" || between(unit.charCodeAt(1), 48, 57))) {\n      unit = "\\\\65 " + unit.slice(1, unit.length);\n    }\n    return source + unit;\n  }\n};\nfunction escapeIdent(string) {\n  string = "" + string;\n  let result = "";\n  const firstcode = string.charCodeAt(0);\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127 || i === 0 && between(code, 48, 57) || i === 1 && between(code, 48, 57) && firstcode === 45)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + string[i];\n  }\n  return result;\n}\nfunction escapeHash(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + code.toString(16) + " ";\n  }\n  return result;\n}\nfunction escapeString(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code === 34 || code === 92)\n      result += "\\\\" + string[i];\n    else\n      result += string[i];\n  }\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssParser.ts\nvar InvalidSelectorError = class extends Error {\n};\nfunction parseCSS(selector, customNames) {\n  let tokens;\n  try {\n    tokens = tokenize(selector);\n    if (!(tokens[tokens.length - 1] instanceof EOFToken))\n      tokens.push(new EOFToken());\n  } catch (e) {\n    const newMessage = e.message + ` while parsing selector "${selector}"`;\n    const index = (e.stack || "").indexOf(e.message);\n    if (index !== -1)\n      e.stack = e.stack.substring(0, index) + newMessage + e.stack.substring(index + e.message.length);\n    e.message = newMessage;\n    throw e;\n  }\n  const unsupportedToken = tokens.find((token) => {\n    return token instanceof AtKeywordToken || token instanceof BadStringToken || token instanceof BadURLToken || token instanceof ColumnToken || token instanceof CDOToken || token instanceof CDCToken || token instanceof SemicolonToken || // TODO: Consider using these for something, e.g. to escape complex strings.\n    // For example :xpath{ (//div/bar[@attr="foo"])[2]/baz }\n    // Or this way :xpath( {complex-xpath-goes-here("hello")} )\n    token instanceof OpenCurlyToken || token instanceof CloseCurlyToken || // TODO: Consider treating these as strings?\n    token instanceof URLToken || token instanceof PercentageToken;\n  });\n  if (unsupportedToken)\n    throw new InvalidSelectorError(`Unsupported token "${unsupportedToken.toSource()}" while parsing selector "${selector}"`);\n  let pos = 0;\n  const names = /* @__PURE__ */ new Set();\n  function unexpected() {\n    return new InvalidSelectorError(`Unexpected token "${tokens[pos].toSource()}" while parsing selector "${selector}"`);\n  }\n  function skipWhitespace() {\n    while (tokens[pos] instanceof WhitespaceToken)\n      pos++;\n  }\n  function isIdent(p = pos) {\n    return tokens[p] instanceof IdentToken;\n  }\n  function isString(p = pos) {\n    return tokens[p] instanceof StringToken;\n  }\n  function isNumber(p = pos) {\n    return tokens[p] instanceof NumberToken;\n  }\n  function isComma(p = pos) {\n    return tokens[p] instanceof CommaToken;\n  }\n  function isOpenParen(p = pos) {\n    return tokens[p] instanceof OpenParenToken;\n  }\n  function isCloseParen(p = pos) {\n    return tokens[p] instanceof CloseParenToken;\n  }\n  function isFunction(p = pos) {\n    return tokens[p] instanceof FunctionToken;\n  }\n  function isStar(p = pos) {\n    return tokens[p] instanceof DelimToken && tokens[p].value === "*";\n  }\n  function isEOF(p = pos) {\n    return tokens[p] instanceof EOFToken;\n  }\n  function isClauseCombinator(p = pos) {\n    return tokens[p] instanceof DelimToken && [">", "+", "~"].includes(tokens[p].value);\n  }\n  function isSelectorClauseEnd(p = pos) {\n    return isComma(p) || isCloseParen(p) || isEOF(p) || isClauseCombinator(p) || tokens[p] instanceof WhitespaceToken;\n  }\n  function consumeFunctionArguments() {\n    const result2 = [consumeArgument()];\n    while (true) {\n      skipWhitespace();\n      if (!isComma())\n        break;\n      pos++;\n      result2.push(consumeArgument());\n    }\n    return result2;\n  }\n  function consumeArgument() {\n    skipWhitespace();\n    if (isNumber())\n      return tokens[pos++].value;\n    if (isString())\n      return tokens[pos++].value;\n    return consumeComplexSelector();\n  }\n  function consumeComplexSelector() {\n    const result2 = { simples: [] };\n    skipWhitespace();\n    if (isClauseCombinator()) {\n      result2.simples.push({ selector: { functions: [{ name: "scope", args: [] }] }, combinator: "" });\n    } else {\n      result2.simples.push({ selector: consumeSimpleSelector(), combinator: "" });\n    }\n    while (true) {\n      skipWhitespace();\n      if (isClauseCombinator()) {\n        result2.simples[result2.simples.length - 1].combinator = tokens[pos++].value;\n        skipWhitespace();\n      } else if (isSelectorClauseEnd()) {\n        break;\n      }\n      result2.simples.push({ combinator: "", selector: consumeSimpleSelector() });\n    }\n    return result2;\n  }\n  function consumeSimpleSelector() {\n    let rawCSSString = "";\n    const functions = [];\n    while (!isSelectorClauseEnd()) {\n      if (isIdent() || isStar()) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof HashToken) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof DelimToken && tokens[pos].value === ".") {\n        pos++;\n        if (isIdent())\n          rawCSSString += "." + tokens[pos++].toSource();\n        else\n          throw unexpected();\n      } else if (tokens[pos] instanceof ColonToken) {\n        pos++;\n        if (isIdent()) {\n          if (!customNames.has(tokens[pos].value.toLowerCase())) {\n            rawCSSString += ":" + tokens[pos++].toSource();\n          } else {\n            const name = tokens[pos++].value.toLowerCase();\n            functions.push({ name, args: [] });\n            names.add(name);\n          }\n        } else if (isFunction()) {\n          const name = tokens[pos++].value.toLowerCase();\n          if (!customNames.has(name)) {\n            rawCSSString += `:${name}(${consumeBuiltinFunctionArguments()})`;\n          } else {\n            functions.push({ name, args: consumeFunctionArguments() });\n            names.add(name);\n          }\n          skipWhitespace();\n          if (!isCloseParen())\n            throw unexpected();\n          pos++;\n        } else {\n          throw unexpected();\n        }\n      } else if (tokens[pos] instanceof OpenSquareToken) {\n        rawCSSString += "[";\n        pos++;\n        while (!(tokens[pos] instanceof CloseSquareToken) && !isEOF())\n          rawCSSString += tokens[pos++].toSource();\n        if (!(tokens[pos] instanceof CloseSquareToken))\n          throw unexpected();\n        rawCSSString += "]";\n        pos++;\n      } else {\n        throw unexpected();\n      }\n    }\n    if (!rawCSSString && !functions.length)\n      throw unexpected();\n    return { css: rawCSSString || void 0, functions };\n  }\n  function consumeBuiltinFunctionArguments() {\n    let s = "";\n    let balance = 1;\n    while (!isEOF()) {\n      if (isOpenParen() || isFunction())\n        balance++;\n      if (isCloseParen())\n        balance--;\n      if (!balance)\n        break;\n      s += tokens[pos++].toSource();\n    }\n    return s;\n  }\n  const result = consumeFunctionArguments();\n  if (!isEOF())\n    throw unexpected();\n  if (result.some((arg) => typeof arg !== "object" || !("simples" in arg)))\n    throw new InvalidSelectorError(`Error while parsing selector "${selector}"`);\n  return { selector: result, names: Array.from(names) };\n}\n\n// packages/playwright-core/src/utils/isomorphic/selectorParser.ts\nvar kNestedSelectorNames = /* @__PURE__ */ new Set(["internal:has", "internal:has-not", "internal:and", "internal:or", "internal:chain", "left-of", "right-of", "above", "below", "near"]);\nvar kNestedSelectorNamesWithDistance = /* @__PURE__ */ new Set(["left-of", "right-of", "above", "below", "near"]);\nvar customCSSNames = /* @__PURE__ */ new Set(["not", "is", "where", "has", "scope", "light", "visible", "text", "text-matches", "text-is", "has-text", "above", "below", "right-of", "left-of", "near", "nth-match"]);\nfunction parseSelector(selector) {\n  const parsedStrings = parseSelectorString(selector);\n  const parts = [];\n  for (const part of parsedStrings.parts) {\n    if (part.name === "css" || part.name === "css:light") {\n      if (part.name === "css:light")\n        part.body = ":light(" + part.body + ")";\n      const parsedCSS = parseCSS(part.body, customCSSNames);\n      parts.push({\n        name: "css",\n        body: parsedCSS.selector,\n        source: part.body\n      });\n      continue;\n    }\n    if (kNestedSelectorNames.has(part.name)) {\n      let innerSelector;\n      let distance;\n      try {\n        const unescaped = JSON.parse("[" + part.body + "]");\n        if (!Array.isArray(unescaped) || unescaped.length < 1 || unescaped.length > 2 || typeof unescaped[0] !== "string")\n          throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n        innerSelector = unescaped[0];\n        if (unescaped.length === 2) {\n          if (typeof unescaped[1] !== "number" || !kNestedSelectorNamesWithDistance.has(part.name))\n            throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n          distance = unescaped[1];\n        }\n      } catch (e) {\n        throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n      }\n      const nested = { name: part.name, source: part.body, body: { parsed: parseSelector(innerSelector), distance } };\n      const lastFrame = [...nested.body.parsed.parts].reverse().find((part2) => part2.name === "internal:control" && part2.body === "enter-frame");\n      const lastFrameIndex = lastFrame ? nested.body.parsed.parts.indexOf(lastFrame) : -1;\n      if (lastFrameIndex !== -1 && selectorPartsEqual(nested.body.parsed.parts.slice(0, lastFrameIndex + 1), parts.slice(0, lastFrameIndex + 1)))\n        nested.body.parsed.parts.splice(0, lastFrameIndex + 1);\n      parts.push(nested);\n      continue;\n    }\n    parts.push({ ...part, source: part.body });\n  }\n  if (kNestedSelectorNames.has(parts[0].name))\n    throw new InvalidSelectorError(`"${parts[0].name}" selector cannot be first`);\n  return {\n    capture: parsedStrings.capture,\n    parts\n  };\n}\nfunction selectorPartsEqual(list1, list2) {\n  return stringifySelector({ parts: list1 }) === stringifySelector({ parts: list2 });\n}\nfunction stringifySelector(selector, forceEngineName) {\n  if (typeof selector === "string")\n    return selector;\n  return selector.parts.map((p, i) => {\n    let includeEngine = true;\n    if (!forceEngineName && i !== selector.capture) {\n      if (p.name === "css")\n        includeEngine = false;\n      else if (p.name === "xpath" && p.source.startsWith("//") || p.source.startsWith(".."))\n        includeEngine = false;\n    }\n    const prefix = includeEngine ? p.name + "=" : "";\n    return `${i === selector.capture ? "*" : ""}${prefix}${p.source}`;\n  }).join(" >> ");\n}\nfunction visitAllSelectorParts(selector, visitor) {\n  const visit = (selector2, nested) => {\n    for (const part of selector2.parts) {\n      visitor(part, nested);\n      if (kNestedSelectorNames.has(part.name))\n        visit(part.body.parsed, true);\n    }\n  };\n  visit(selector, false);\n}\nfunction parseSelectorString(selector) {\n  let index = 0;\n  let quote;\n  let start = 0;\n  const result = { parts: [] };\n  const append = () => {\n    const part = selector.substring(start, index).trim();\n    const eqIndex = part.indexOf("=");\n    let name;\n    let body;\n    if (eqIndex !== -1 && part.substring(0, eqIndex).trim().match(/^[a-zA-Z_0-9-+:*]+$/)) {\n      name = part.substring(0, eqIndex).trim();\n      body = part.substring(eqIndex + 1);\n    } else if (part.length > 1 && part[0] === \'"\' && part[part.length - 1] === \'"\') {\n      name = "text";\n      body = part;\n    } else if (part.length > 1 && part[0] === "\'" && part[part.length - 1] === "\'") {\n      name = "text";\n      body = part;\n    } else if (/^\\(*\\/\\//.test(part) || part.startsWith("..")) {\n      name = "xpath";\n      body = part;\n    } else {\n      name = "css";\n      body = part;\n    }\n    let capture = false;\n    if (name[0] === "*") {\n      capture = true;\n      name = name.substring(1);\n    }\n    result.parts.push({ name, body });\n    if (capture) {\n      if (result.capture !== void 0)\n        throw new InvalidSelectorError(`Only one of the selectors can capture using * modifier`);\n      result.capture = result.parts.length - 1;\n    }\n  };\n  if (!selector.includes(">>")) {\n    index = selector.length;\n    append();\n    return result;\n  }\n  const shouldIgnoreTextSelectorQuote = () => {\n    const prefix = selector.substring(start, index);\n    const match = prefix.match(/^\\s*text\\s*=(.*)$/);\n    return !!match && !!match[1];\n  };\n  while (index < selector.length) {\n    const c = selector[index];\n    if (c === "\\\\" && index + 1 < selector.length) {\n      index += 2;\n    } else if (c === quote) {\n      quote = void 0;\n      index++;\n    } else if (!quote && (c === \'"\' || c === "\'" || c === "`") && !shouldIgnoreTextSelectorQuote()) {\n      quote = c;\n      index++;\n    } else if (!quote && c === ">" && selector[index + 1] === ">") {\n      append();\n      index += 2;\n      start = index;\n    } else {\n      index++;\n    }\n  }\n  append();\n  return result;\n}\nfunction parseAttributeSelector(selector, allowUnquotedStrings) {\n  let wp = 0;\n  let EOL = selector.length === 0;\n  const next = () => selector[wp] || "";\n  const eat1 = () => {\n    const result2 = next();\n    ++wp;\n    EOL = wp >= selector.length;\n    return result2;\n  };\n  const syntaxError = (stage) => {\n    if (EOL)\n      throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \\`${selector}\\``);\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - unexpected symbol "${next()}" at position ${wp}` + (stage ? " during " + stage : ""));\n  };\n  function skipSpaces() {\n    while (!EOL && /\\s/.test(next()))\n      eat1();\n  }\n  function isCSSNameChar(char) {\n    return char >= "\\x80" || char >= "0" && char <= "9" || char >= "A" && char <= "Z" || char >= "a" && char <= "z" || char >= "0" && char <= "9" || char === "_" || char === "-";\n  }\n  function readIdentifier() {\n    let result2 = "";\n    skipSpaces();\n    while (!EOL && isCSSNameChar(next()))\n      result2 += eat1();\n    return result2;\n  }\n  function readQuotedString(quote) {\n    let result2 = eat1();\n    if (result2 !== quote)\n      syntaxError("parsing quoted string");\n    while (!EOL && next() !== quote) {\n      if (next() === "\\\\")\n        eat1();\n      result2 += eat1();\n    }\n    if (next() !== quote)\n      syntaxError("parsing quoted string");\n    result2 += eat1();\n    return result2;\n  }\n  function readRegularExpression() {\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let source = "";\n    let inClass = false;\n    while (!EOL) {\n      if (next() === "\\\\") {\n        source += eat1();\n        if (EOL)\n          syntaxError("parsing regular expression");\n      } else if (inClass && next() === "]") {\n        inClass = false;\n      } else if (!inClass && next() === "[") {\n        inClass = true;\n      } else if (!inClass && next() === "/") {\n        break;\n      }\n      source += eat1();\n    }\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let flags = "";\n    while (!EOL && next().match(/[dgimsuy]/))\n      flags += eat1();\n    try {\n      return new RegExp(source, flags);\n    } catch (e) {\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\`: ${e.message}`);\n    }\n  }\n  function readAttributeToken() {\n    let token = "";\n    skipSpaces();\n    if (next() === `\'` || next() === `"`)\n      token = readQuotedString(next()).slice(1, -1);\n    else\n      token = readIdentifier();\n    if (!token)\n      syntaxError("parsing property path");\n    return token;\n  }\n  function readOperator() {\n    skipSpaces();\n    let op = "";\n    if (!EOL)\n      op += eat1();\n    if (!EOL && op !== "=")\n      op += eat1();\n    if (!["=", "*=", "^=", "$=", "|=", "~="].includes(op))\n      syntaxError("parsing operator");\n    return op;\n  }\n  function readAttribute() {\n    eat1();\n    const jsonPath = [];\n    jsonPath.push(readAttributeToken());\n    skipSpaces();\n    while (next() === ".") {\n      eat1();\n      jsonPath.push(readAttributeToken());\n      skipSpaces();\n    }\n    if (next() === "]") {\n      eat1();\n      return { name: jsonPath.join("."), jsonPath, op: "<truthy>", value: null, caseSensitive: false };\n    }\n    const operator = readOperator();\n    let value = void 0;\n    let caseSensitive = true;\n    skipSpaces();\n    if (next() === "/") {\n      if (operator !== "=")\n        throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with regular expression`);\n      value = readRegularExpression();\n    } else if (next() === `\'` || next() === `"`) {\n      value = readQuotedString(next()).slice(1, -1);\n      skipSpaces();\n      if (next() === "i" || next() === "I") {\n        caseSensitive = false;\n        eat1();\n      } else if (next() === "s" || next() === "S") {\n        caseSensitive = true;\n        eat1();\n      }\n    } else {\n      value = "";\n      while (!EOL && (isCSSNameChar(next()) || next() === "+" || next() === "."))\n        value += eat1();\n      if (value === "true") {\n        value = true;\n      } else if (value === "false") {\n        value = false;\n      } else {\n        if (!allowUnquotedStrings) {\n          value = +value;\n          if (Number.isNaN(value))\n            syntaxError("parsing attribute value");\n        }\n      }\n    }\n    skipSpaces();\n    if (next() !== "]")\n      syntaxError("parsing attribute value");\n    eat1();\n    if (operator !== "=" && typeof value !== "string")\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with non-string matching value - ${value}`);\n    return { name: jsonPath.join("."), jsonPath, op: operator, value, caseSensitive };\n  }\n  const result = {\n    name: "",\n    attributes: []\n  };\n  result.name = readIdentifier();\n  skipSpaces();\n  while (next() === "[") {\n    result.attributes.push(readAttribute());\n    skipSpaces();\n  }\n  if (!EOL)\n    syntaxError(void 0);\n  if (!result.name && !result.attributes.length)\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - selector cannot be empty`);\n  return result;\n}\n\n// packages/playwright-core/src/server/injected/reactSelectorEngine.ts\nfunction getFunctionComponentName(component) {\n  return component.displayName || component.name || "Anonymous";\n}\nfunction getComponentName(reactElement) {\n  if (reactElement.type) {\n    switch (typeof reactElement.type) {\n      case "function":\n        return getFunctionComponentName(reactElement.type);\n      case "string":\n        return reactElement.type;\n      case "object":\n        return reactElement.type.displayName || (reactElement.type.render ? getFunctionComponentName(reactElement.type.render) : "");\n    }\n  }\n  if (reactElement._currentElement) {\n    const elementType = reactElement._currentElement.type;\n    if (typeof elementType === "string")\n      return elementType;\n    if (typeof elementType === "function")\n      return elementType.displayName || elementType.name || "Anonymous";\n  }\n  return "";\n}\nfunction getComponentKey(reactElement) {\n  var _a, _b;\n  return (_b = reactElement.key) != null ? _b : (_a = reactElement._currentElement) == null ? void 0 : _a.key;\n}\nfunction getChildren(reactElement) {\n  if (reactElement.child) {\n    const children = [];\n    for (let child = reactElement.child; child; child = child.sibling)\n      children.push(child);\n    return children;\n  }\n  if (!reactElement._currentElement)\n    return [];\n  const isKnownElement = (reactElement2) => {\n    var _a;\n    const elementType = (_a = reactElement2._currentElement) == null ? void 0 : _a.type;\n    return typeof elementType === "function" || typeof elementType === "string";\n  };\n  if (reactElement._renderedComponent) {\n    const child = reactElement._renderedComponent;\n    return isKnownElement(child) ? [child] : [];\n  }\n  if (reactElement._renderedChildren)\n    return [...Object.values(reactElement._renderedChildren)].filter(isKnownElement);\n  return [];\n}\nfunction getProps(reactElement) {\n  var _a;\n  const props = (\n    // React 16+\n    reactElement.memoizedProps || // React 15\n    ((_a = reactElement._currentElement) == null ? void 0 : _a.props)\n  );\n  if (!props || typeof props === "string")\n    return props;\n  const result = { ...props };\n  delete result.children;\n  return result;\n}\nfunction buildComponentsTree(reactElement) {\n  var _a;\n  const treeNode = {\n    key: getComponentKey(reactElement),\n    name: getComponentName(reactElement),\n    children: getChildren(reactElement).map(buildComponentsTree),\n    rootElements: [],\n    props: getProps(reactElement)\n  };\n  const rootElement = (\n    // React 16+\n    // @see https://github.com/baruchvlz/resq/blob/5c15a5e04d3f7174087248f5a158c3d6dcc1ec72/src/utils.js#L29\n    reactElement.stateNode || // React 15\n    reactElement._hostNode || ((_a = reactElement._renderedComponent) == null ? void 0 : _a._hostNode)\n  );\n  if (rootElement instanceof Element) {\n    treeNode.rootElements.push(rootElement);\n  } else {\n    for (const child of treeNode.children)\n      treeNode.rootElements.push(...child.rootElements);\n  }\n  return treeNode;\n}\nfunction filterComponentsTree(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree(child, searchFn, result);\n  return result;\n}\nfunction findReactRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  do {\n    const node = walker.currentNode;\n    const reactNode = node;\n    const rootKey = Object.keys(reactNode).find((key) => key.startsWith("__reactContainer") && reactNode[key] !== null);\n    if (rootKey) {\n      roots.push(reactNode[rootKey].stateNode.current);\n    } else {\n      const legacyRootKey = "_reactRootContainer";\n      if (reactNode.hasOwnProperty(legacyRootKey) && reactNode[legacyRootKey] !== null) {\n        roots.push(reactNode[legacyRootKey]._internalRoot.current);\n      }\n    }\n    if (node instanceof Element && node.hasAttribute("data-reactroot")) {\n      for (const key of Object.keys(node)) {\n        if (key.startsWith("__reactInternalInstance") || key.startsWith("__reactFiber"))\n          roots.push(node[key]);\n      }\n    }\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findReactRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  return roots;\n}\nvar ReactEngine = {\n  queryAll(scope, selector) {\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const reactRoots = findReactRoots(scope.ownerDocument || scope);\n    const trees = reactRoots.map((reactRoot) => buildComponentsTree(reactRoot));\n    const treeNodes = trees.map((tree) => filterComponentsTree(tree, (treeNode) => {\n      var _a;\n      const props = (_a = treeNode.props) != null ? _a : {};\n      if (treeNode.key !== void 0)\n        props.key = treeNode.key;\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((domNode) => !isInsideScope(scope, domNode)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const domNode of treeNode.rootElements)\n        allRootElements.add(domNode);\n    }\n    return [...allRootElements];\n  }\n};\n\n// packages/playwright-core/src/server/injected/vueSelectorEngine.ts\nfunction basename(filename, ext) {\n  const normalized = filename.replace(/^[a-zA-Z]:/, "").replace(/\\\\/g, "/");\n  let result = normalized.substring(normalized.lastIndexOf("/") + 1);\n  if (ext && result.endsWith(ext))\n    result = result.substring(0, result.length - ext.length);\n  return result;\n}\nfunction toUpper(_, c) {\n  return c ? c.toUpperCase() : "";\n}\nvar classifyRE = /(?:^|[-_/])(\\w)/g;\nvar classify = (str) => {\n  return str && str.replace(classifyRE, toUpper);\n};\nfunction buildComponentsTreeVue3(instance) {\n  function getComponentTypeName(options) {\n    const name = options.name || options._componentTag || options.__playwright_guessedName;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function saveComponentName(instance2, key) {\n    instance2.type.__playwright_guessedName = key;\n    return key;\n  }\n  function getInstanceName(instance2) {\n    var _a, _b, _c, _d;\n    const name = getComponentTypeName(instance2.type || {});\n    if (name)\n      return name;\n    if (instance2.root === instance2)\n      return "Root";\n    for (const key in (_b = (_a = instance2.parent) == null ? void 0 : _a.type) == null ? void 0 : _b.components)\n      if (((_c = instance2.parent) == null ? void 0 : _c.type.components[key]) === instance2.type)\n        return saveComponentName(instance2, key);\n    for (const key in (_d = instance2.appContext) == null ? void 0 : _d.components)\n      if (instance2.appContext.components[key] === instance2.type)\n        return saveComponentName(instance2, key);\n    return "Anonymous Component";\n  }\n  function isBeingDestroyed(instance2) {\n    return instance2._isBeingDestroyed || instance2.isUnmounted;\n  }\n  function isFragment(instance2) {\n    return instance2.subTree.type.toString() === "Symbol(Fragment)";\n  }\n  function getInternalInstanceChildren(subTree) {\n    const list = [];\n    if (subTree.component)\n      list.push(subTree.component);\n    if (subTree.suspense)\n      list.push(...getInternalInstanceChildren(subTree.suspense.activeBranch));\n    if (Array.isArray(subTree.children)) {\n      subTree.children.forEach((childSubTree) => {\n        if (childSubTree.component)\n          list.push(childSubTree.component);\n        else\n          list.push(...getInternalInstanceChildren(childSubTree));\n      });\n    }\n    return list.filter((child) => {\n      var _a;\n      return !isBeingDestroyed(child) && !((_a = child.type.devtools) == null ? void 0 : _a.hide);\n    });\n  }\n  function getRootElementsFromComponentInstance(instance2) {\n    if (isFragment(instance2))\n      return getFragmentRootElements(instance2.subTree);\n    return [instance2.subTree.el];\n  }\n  function getFragmentRootElements(vnode) {\n    if (!vnode.children)\n      return [];\n    const list = [];\n    for (let i = 0, l = vnode.children.length; i < l; i++) {\n      const childVnode = vnode.children[i];\n      if (childVnode.component)\n        list.push(...getRootElementsFromComponentInstance(childVnode.component));\n      else if (childVnode.el)\n        list.push(childVnode.el);\n    }\n    return list;\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2.subTree).map(buildComponentsTree2),\n      rootElements: getRootElementsFromComponentInstance(instance2),\n      props: instance2.props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction buildComponentsTreeVue2(instance) {\n  function getComponentName2(options) {\n    const name = options.displayName || options.name || options._componentTag;\n    if (name)\n      return name;\n    const file = options.__file;\n    if (file)\n      return classify(basename(file, ".vue"));\n  }\n  function getInstanceName(instance2) {\n    const name = getComponentName2(instance2.$options || instance2.fnOptions || {});\n    if (name)\n      return name;\n    return instance2.$root === instance2 ? "Root" : "Anonymous Component";\n  }\n  function getInternalInstanceChildren(instance2) {\n    if (instance2.$children)\n      return instance2.$children;\n    if (Array.isArray(instance2.subTree.children))\n      return instance2.subTree.children.filter((vnode) => !!vnode.component).map((vnode) => vnode.component);\n    return [];\n  }\n  function buildComponentsTree2(instance2) {\n    return {\n      name: getInstanceName(instance2),\n      children: getInternalInstanceChildren(instance2).map(buildComponentsTree2),\n      rootElements: [instance2.$el],\n      props: instance2._props\n    };\n  }\n  return buildComponentsTree2(instance);\n}\nfunction filterComponentsTree2(treeNode, searchFn, result = []) {\n  if (searchFn(treeNode))\n    result.push(treeNode);\n  for (const child of treeNode.children)\n    filterComponentsTree2(child, searchFn, result);\n  return result;\n}\nfunction findVueRoots(root, roots = []) {\n  const document = root.ownerDocument || root;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT);\n  const vue2Roots = /* @__PURE__ */ new Set();\n  do {\n    const node = walker.currentNode;\n    if (node.__vue__)\n      vue2Roots.add(node.__vue__.$root);\n    if (node.__vue_app__ && node._vnode && node._vnode.component)\n      roots.push({ root: node._vnode.component, version: 3 });\n    const shadowRoot = node instanceof Element ? node.shadowRoot : null;\n    if (shadowRoot)\n      findVueRoots(shadowRoot, roots);\n  } while (walker.nextNode());\n  for (const vue2root of vue2Roots) {\n    roots.push({\n      version: 2,\n      root: vue2root\n    });\n  }\n  return roots;\n}\nvar VueEngine = {\n  queryAll(scope, selector) {\n    const document = scope.ownerDocument || scope;\n    const { name, attributes } = parseAttributeSelector(selector, false);\n    const vueRoots = findVueRoots(document);\n    const trees = vueRoots.map((vueRoot) => vueRoot.version === 3 ? buildComponentsTreeVue3(vueRoot.root) : buildComponentsTreeVue2(vueRoot.root));\n    const treeNodes = trees.map((tree) => filterComponentsTree2(tree, (treeNode) => {\n      if (name && treeNode.name !== name)\n        return false;\n      if (treeNode.rootElements.some((rootElement) => !isInsideScope(scope, rootElement)))\n        return false;\n      for (const attr of attributes) {\n        if (!matchesComponentAttribute(treeNode.props, attr))\n          return false;\n      }\n      return true;\n    })).flat();\n    const allRootElements = /* @__PURE__ */ new Set();\n    for (const treeNode of treeNodes) {\n      for (const rootElement of treeNode.rootElements)\n        allRootElements.add(rootElement);\n    }\n    return [...allRootElements];\n  }\n};\n\n// packages/playwright-core/src/utils/isomorphic/stringUtils.ts\nfunction escapeWithQuotes(text, char = "\'") {\n  const stringified = JSON.stringify(text);\n  const escapedText = stringified.substring(1, stringified.length - 1).replace(/\\\\"/g, \'"\');\n  if (char === "\'")\n    return char + escapedText.replace(/[\']/g, "\\\\\'") + char;\n  if (char === \'"\')\n    return char + escapedText.replace(/["]/g, \'\\\\"\') + char;\n  if (char === "`")\n    return char + escapedText.replace(/[`]/g, "`") + char;\n  throw new Error("Invalid escape char");\n}\nfunction toTitleCase(name) {\n  return name.charAt(0).toUpperCase() + name.substring(1);\n}\nfunction toSnakeCase(name) {\n  return name.replace(/([a-z0-9])([A-Z])/g, "$1_$2").replace(/([A-Z])([A-Z][a-z])/g, "$1_$2").toLowerCase();\n}\nfunction cssEscape(s) {\n  let result = "";\n  for (let i = 0; i < s.length; i++)\n    result += cssEscapeOne(s, i);\n  return result;\n}\nfunction quoteCSSAttributeValue(text) {\n  return `"${cssEscape(text).replace(/\\\\ /g, " ")}"`;\n}\nfunction cssEscapeOne(s, i) {\n  const c = s.charCodeAt(i);\n  if (c === 0)\n    return "\\uFFFD";\n  if (c >= 1 && c <= 31 || c >= 48 && c <= 57 && (i === 0 || i === 1 && s.charCodeAt(0) === 45))\n    return "\\\\" + c.toString(16) + " ";\n  if (i === 0 && c === 45 && s.length === 1)\n    return "\\\\" + s.charAt(i);\n  if (c >= 128 || c === 45 || c === 95 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122)\n    return s.charAt(i);\n  return "\\\\" + s.charAt(i);\n}\nfunction normalizeWhiteSpace(text) {\n  return text.replace(/\\u200b/g, "").trim().replace(/\\s+/g, " ");\n}\nfunction normalizeEscapedRegexQuotes(source) {\n  return source.replace(/(^|[^\\\\])(\\\\\\\\)*\\\\([\'"`])/g, "$1$2$3");\n}\nfunction escapeRegexForSelector(re) {\n  if (re.unicode || re.unicodeSets)\n    return String(re);\n  return String(re).replace(/(^|[^\\\\])(\\\\\\\\)*(["\'`])/g, "$1$2\\\\$3").replace(/>>/g, "\\\\>\\\\>");\n}\nfunction escapeForTextSelector(text, exact) {\n  if (typeof text !== "string")\n    return escapeRegexForSelector(text);\n  return `${JSON.stringify(text)}${exact ? "s" : "i"}`;\n}\nfunction escapeForAttributeSelector(value, exact) {\n  if (typeof value !== "string")\n    return escapeRegexForSelector(value);\n  return `"${value.replace(/\\\\/g, "\\\\\\\\").replace(/["]/g, \'\\\\"\')}"${exact ? "s" : "i"}`;\n}\nfunction trimString(input, cap, suffix = "") {\n  if (input.length <= cap)\n    return input;\n  const chars = [...input];\n  if (chars.length > cap)\n    return chars.slice(0, cap - suffix.length).join("") + suffix;\n  return chars.join("");\n}\nfunction trimStringWithEllipsis(input, cap) {\n  return trimString(input, cap, "\\u2026");\n}\n\n// packages/playwright-core/src/server/injected/roleSelectorEngine.ts\nvar kSupportedAttributes = ["selected", "checked", "pressed", "expanded", "level", "disabled", "name", "include-hidden"];\nkSupportedAttributes.sort();\nfunction validateSupportedRole(attr, roles, role) {\n  if (!roles.includes(role))\n    throw new Error(`"${attr}" attribute is only supported for roles: ${roles.slice().sort().map((role2) => `"${role2}"`).join(", ")}`);\n}\nfunction validateSupportedValues(attr, values) {\n  if (attr.op !== "<truthy>" && !values.includes(attr.value))\n    throw new Error(`"${attr.name}" must be one of ${values.map((v) => JSON.stringify(v)).join(", ")}`);\n}\nfunction validateSupportedOp(attr, ops) {\n  if (!ops.includes(attr.op))\n    throw new Error(`"${attr.name}" does not support "${attr.op}" matcher`);\n}\nfunction validateAttributes(attrs, role) {\n  const options = { role };\n  for (const attr of attrs) {\n    switch (attr.name) {\n      case "checked": {\n        validateSupportedRole(attr.name, kAriaCheckedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.checked = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "pressed": {\n        validateSupportedRole(attr.name, kAriaPressedRoles, role);\n        validateSupportedValues(attr, [true, false, "mixed"]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.pressed = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "selected": {\n        validateSupportedRole(attr.name, kAriaSelectedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.selected = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "expanded": {\n        validateSupportedRole(attr.name, kAriaExpandedRoles, role);\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.expanded = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "level": {\n        validateSupportedRole(attr.name, kAriaLevelRoles, role);\n        if (typeof attr.value === "string")\n          attr.value = +attr.value;\n        if (attr.op !== "=" || typeof attr.value !== "number" || Number.isNaN(attr.value))\n          throw new Error(`"level" attribute must be compared to a number`);\n        options.level = attr.value;\n        break;\n      }\n      case "disabled": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.disabled = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      case "name": {\n        if (attr.op === "<truthy>")\n          throw new Error(`"name" attribute must have a value`);\n        if (typeof attr.value !== "string" && !(attr.value instanceof RegExp))\n          throw new Error(`"name" attribute must be a string or a regular expression`);\n        options.name = attr.value;\n        options.nameOp = attr.op;\n        options.exact = attr.caseSensitive;\n        break;\n      }\n      case "include-hidden": {\n        validateSupportedValues(attr, [true, false]);\n        validateSupportedOp(attr, ["<truthy>", "="]);\n        options.includeHidden = attr.op === "<truthy>" ? true : attr.value;\n        break;\n      }\n      default: {\n        throw new Error(`Unknown attribute "${attr.name}", must be one of ${kSupportedAttributes.map((a) => `"${a}"`).join(", ")}.`);\n      }\n    }\n  }\n  return options;\n}\nfunction queryRole(scope, options, internal) {\n  const result = [];\n  const match = (element) => {\n    if (getAriaRole(element) !== options.role)\n      return;\n    if (options.selected !== void 0 && getAriaSelected(element) !== options.selected)\n      return;\n    if (options.checked !== void 0 && getAriaChecked(element) !== options.checked)\n      return;\n    if (options.pressed !== void 0 && getAriaPressed(element) !== options.pressed)\n      return;\n    if (options.expanded !== void 0 && getAriaExpanded(element) !== options.expanded)\n      return;\n    if (options.level !== void 0 && getAriaLevel(element) !== options.level)\n      return;\n    if (options.disabled !== void 0 && getAriaDisabled(element) !== options.disabled)\n      return;\n    if (!options.includeHidden) {\n      const isHidden = isElementHiddenForAria(element);\n      if (isHidden)\n        return;\n    }\n    if (options.name !== void 0) {\n      const accessibleName = normalizeWhiteSpace(getElementAccessibleName(element, !!options.includeHidden));\n      if (typeof options.name === "string")\n        options.name = normalizeWhiteSpace(options.name);\n      if (internal && !options.exact && options.nameOp === "=")\n        options.nameOp = "*=";\n      if (!matchesAttributePart(accessibleName, { name: "", jsonPath: [], op: options.nameOp || "=", value: options.name, caseSensitive: !!options.exact }))\n        return;\n    }\n    result.push(element);\n  };\n  const query = (root) => {\n    const shadows = [];\n    if (root.shadowRoot)\n      shadows.push(root.shadowRoot);\n    for (const element of root.querySelectorAll("*")) {\n      match(element);\n      if (element.shadowRoot)\n        shadows.push(element.shadowRoot);\n    }\n    shadows.forEach(query);\n  };\n  query(scope);\n  return result;\n}\nfunction createRoleEngine(internal) {\n  return {\n    queryAll: (scope, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      const role = parsed.name.toLowerCase();\n      if (!role)\n        throw new Error(`Role must not be empty`);\n      const options = validateAttributes(parsed.attributes, role);\n      beginAriaCaches();\n      try {\n        return queryRole(scope, options, internal);\n      } finally {\n        endAriaCaches();\n      }\n    }\n  };\n}\n\n// packages/playwright-core/src/server/injected/layoutSelectorUtils.ts\nfunction boxRightOf(box1, box2, maxDistance) {\n  const distance = box1.left - box2.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxLeftOf(box1, box2, maxDistance) {\n  const distance = box2.left - box1.right;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box2.bottom - box1.bottom, 0) + Math.max(box1.top - box2.top, 0);\n}\nfunction boxAbove(box1, box2, maxDistance) {\n  const distance = box2.top - box1.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxBelow(box1, box2, maxDistance) {\n  const distance = box1.top - box2.bottom;\n  if (distance < 0 || maxDistance !== void 0 && distance > maxDistance)\n    return;\n  return distance + Math.max(box1.left - box2.left, 0) + Math.max(box2.right - box1.right, 0);\n}\nfunction boxNear(box1, box2, maxDistance) {\n  const kThreshold = maxDistance === void 0 ? 50 : maxDistance;\n  let score = 0;\n  if (box1.left - box2.right >= 0)\n    score += box1.left - box2.right;\n  if (box2.left - box1.right >= 0)\n    score += box2.left - box1.right;\n  if (box2.top - box1.bottom >= 0)\n    score += box2.top - box1.bottom;\n  if (box1.top - box2.bottom >= 0)\n    score += box1.top - box2.bottom;\n  return score > kThreshold ? void 0 : score;\n}\nvar kLayoutSelectorNames = ["left-of", "right-of", "above", "below", "near"];\nfunction layoutSelectorScore(name, element, inner, maxDistance) {\n  const box = element.getBoundingClientRect();\n  const scorer = { "left-of": boxLeftOf, "right-of": boxRightOf, "above": boxAbove, "below": boxBelow, "near": boxNear }[name];\n  let bestScore;\n  for (const e of inner) {\n    if (e === element)\n      continue;\n    const score = scorer(box, e.getBoundingClientRect(), maxDistance);\n    if (score === void 0)\n      continue;\n    if (bestScore === void 0 || score < bestScore)\n      bestScore = score;\n  }\n  return bestScore;\n}\n\n// packages/playwright-core/src/server/injected/selectorEvaluator.ts\nvar SelectorEvaluatorImpl = class {\n  constructor(extraEngines) {\n    this._engines = /* @__PURE__ */ new Map();\n    this._cacheQueryCSS = /* @__PURE__ */ new Map();\n    this._cacheMatches = /* @__PURE__ */ new Map();\n    this._cacheQuery = /* @__PURE__ */ new Map();\n    this._cacheMatchesSimple = /* @__PURE__ */ new Map();\n    this._cacheMatchesParents = /* @__PURE__ */ new Map();\n    this._cacheCallMatches = /* @__PURE__ */ new Map();\n    this._cacheCallQuery = /* @__PURE__ */ new Map();\n    this._cacheQuerySimple = /* @__PURE__ */ new Map();\n    this._cacheText = /* @__PURE__ */ new Map();\n    this._retainCacheCounter = 0;\n    for (const [name, engine] of extraEngines)\n      this._engines.set(name, engine);\n    this._engines.set("not", notEngine);\n    this._engines.set("is", isEngine);\n    this._engines.set("where", isEngine);\n    this._engines.set("has", hasEngine);\n    this._engines.set("scope", scopeEngine);\n    this._engines.set("light", lightEngine);\n    this._engines.set("visible", visibleEngine);\n    this._engines.set("text", textEngine);\n    this._engines.set("text-is", textIsEngine);\n    this._engines.set("text-matches", textMatchesEngine);\n    this._engines.set("has-text", hasTextEngine);\n    this._engines.set("right-of", createLayoutEngine("right-of"));\n    this._engines.set("left-of", createLayoutEngine("left-of"));\n    this._engines.set("above", createLayoutEngine("above"));\n    this._engines.set("below", createLayoutEngine("below"));\n    this._engines.set("near", createLayoutEngine("near"));\n    this._engines.set("nth-match", nthMatchEngine);\n    const allNames = [...this._engines.keys()];\n    allNames.sort();\n    const parserNames = [...customCSSNames];\n    parserNames.sort();\n    if (allNames.join("|") !== parserNames.join("|"))\n      throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${allNames.join("|")} vs ${parserNames.join("|")}`);\n  }\n  begin() {\n    ++this._retainCacheCounter;\n  }\n  end() {\n    --this._retainCacheCounter;\n    if (!this._retainCacheCounter) {\n      this._cacheQueryCSS.clear();\n      this._cacheMatches.clear();\n      this._cacheQuery.clear();\n      this._cacheMatchesSimple.clear();\n      this._cacheMatchesParents.clear();\n      this._cacheCallMatches.clear();\n      this._cacheCallQuery.clear();\n      this._cacheQuerySimple.clear();\n      this._cacheText.clear();\n    }\n  }\n  _cached(cache, main, rest, cb) {\n    if (!cache.has(main))\n      cache.set(main, []);\n    const entries = cache.get(main);\n    const entry = entries.find((e) => rest.every((value, index) => e.rest[index] === value));\n    if (entry)\n      return entry.result;\n    const result = cb();\n    entries.push({ rest, result });\n    return result;\n  }\n  _checkSelector(s) {\n    const wellFormed = typeof s === "object" && s && (Array.isArray(s) || "simples" in s && s.simples.length);\n    if (!wellFormed)\n      throw new Error(`Malformed selector "${s}"`);\n    return s;\n  }\n  matches(element, s, context) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheMatches, element, [selector, context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._matchesEngine(isEngine, element, selector, context);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        if (!this._matchesSimple(element, selector.simples[selector.simples.length - 1].selector, context))\n          return false;\n        return this._matchesParents(element, selector, selector.simples.length - 2, context);\n      });\n    } finally {\n      this.end();\n    }\n  }\n  query(context, s) {\n    const selector = this._checkSelector(s);\n    this.begin();\n    try {\n      return this._cached(this._cacheQuery, selector, [context.scope, context.pierceShadow, context.originalScope], () => {\n        if (Array.isArray(selector))\n          return this._queryEngine(isEngine, context, selector);\n        if (this._hasScopeClause(selector))\n          context = this._expandContextForScopeMatching(context);\n        const previousScoreMap = this._scoreMap;\n        this._scoreMap = /* @__PURE__ */ new Map();\n        let elements = this._querySimple(context, selector.simples[selector.simples.length - 1].selector);\n        elements = elements.filter((element) => this._matchesParents(element, selector, selector.simples.length - 2, context));\n        if (this._scoreMap.size) {\n          elements.sort((a, b) => {\n            const aScore = this._scoreMap.get(a);\n            const bScore = this._scoreMap.get(b);\n            if (aScore === bScore)\n              return 0;\n            if (aScore === void 0)\n              return 1;\n            if (bScore === void 0)\n              return -1;\n            return aScore - bScore;\n          });\n        }\n        this._scoreMap = previousScoreMap;\n        return elements;\n      });\n    } finally {\n      this.end();\n    }\n  }\n  _markScore(element, score) {\n    if (this._scoreMap)\n      this._scoreMap.set(element, score);\n  }\n  _hasScopeClause(selector) {\n    return selector.simples.some((simple) => simple.selector.functions.some((f) => f.name === "scope"));\n  }\n  _expandContextForScopeMatching(context) {\n    if (context.scope.nodeType !== 1)\n      return context;\n    const scope = parentElementOrShadowHost(context.scope);\n    if (!scope)\n      return context;\n    return { ...context, scope, originalScope: context.originalScope || context.scope };\n  }\n  _matchesSimple(element, simple, context) {\n    return this._cached(this._cacheMatchesSimple, element, [simple, context.scope, context.pierceShadow, context.originalScope], () => {\n      if (element === context.scope)\n        return false;\n      if (simple.css && !this._matchesCSS(element, simple.css))\n        return false;\n      for (const func of simple.functions) {\n        if (!this._matchesEngine(this._getEngine(func.name), element, func.args, context))\n          return false;\n      }\n      return true;\n    });\n  }\n  _querySimple(context, simple) {\n    if (!simple.functions.length)\n      return this._queryCSS(context, simple.css || "*");\n    return this._cached(this._cacheQuerySimple, simple, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let css = simple.css;\n      const funcs = simple.functions;\n      if (css === "*" && funcs.length)\n        css = void 0;\n      let elements;\n      let firstIndex = -1;\n      if (css !== void 0) {\n        elements = this._queryCSS(context, css);\n      } else {\n        firstIndex = funcs.findIndex((func) => this._getEngine(func.name).query !== void 0);\n        if (firstIndex === -1)\n          firstIndex = 0;\n        elements = this._queryEngine(this._getEngine(funcs[firstIndex].name), context, funcs[firstIndex].args);\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches !== void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      for (let i = 0; i < funcs.length; i++) {\n        if (i === firstIndex)\n          continue;\n        const engine = this._getEngine(funcs[i].name);\n        if (engine.matches === void 0)\n          elements = elements.filter((e) => this._matchesEngine(engine, e, funcs[i].args, context));\n      }\n      return elements;\n    });\n  }\n  _matchesParents(element, complex, index, context) {\n    if (index < 0)\n      return true;\n    return this._cached(this._cacheMatchesParents, element, [complex, index, context.scope, context.pierceShadow, context.originalScope], () => {\n      const { selector: simple, combinator } = complex.simples[index];\n      if (combinator === ">") {\n        const parent = parentElementOrShadowHostInContext(element, context);\n        if (!parent || !this._matchesSimple(parent, simple, context))\n          return false;\n        return this._matchesParents(parent, complex, index - 1, context);\n      }\n      if (combinator === "+") {\n        const previousSibling = previousSiblingInContext(element, context);\n        if (!previousSibling || !this._matchesSimple(previousSibling, simple, context))\n          return false;\n        return this._matchesParents(previousSibling, complex, index - 1, context);\n      }\n      if (combinator === "") {\n        let parent = parentElementOrShadowHostInContext(element, context);\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      if (combinator === "~") {\n        let previousSibling = previousSiblingInContext(element, context);\n        while (previousSibling) {\n          if (this._matchesSimple(previousSibling, simple, context)) {\n            if (this._matchesParents(previousSibling, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "~")\n              break;\n          }\n          previousSibling = previousSiblingInContext(previousSibling, context);\n        }\n        return false;\n      }\n      if (combinator === ">=") {\n        let parent = element;\n        while (parent) {\n          if (this._matchesSimple(parent, simple, context)) {\n            if (this._matchesParents(parent, complex, index - 1, context))\n              return true;\n            if (complex.simples[index - 1].combinator === "")\n              break;\n          }\n          parent = parentElementOrShadowHostInContext(parent, context);\n        }\n        return false;\n      }\n      throw new Error(`Unsupported combinator "${combinator}"`);\n    });\n  }\n  _matchesEngine(engine, element, args, context) {\n    if (engine.matches)\n      return this._callMatches(engine, element, args, context);\n    if (engine.query)\n      return this._callQuery(engine, args, context).includes(element);\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _queryEngine(engine, context, args) {\n    if (engine.query)\n      return this._callQuery(engine, args, context);\n    if (engine.matches)\n      return this._queryCSS(context, "*").filter((element) => this._callMatches(engine, element, args, context));\n    throw new Error(`Selector engine should implement "matches" or "query"`);\n  }\n  _callMatches(engine, element, args, context) {\n    return this._cached(this._cacheCallMatches, element, [engine, context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.matches(element, args, context, this);\n    });\n  }\n  _callQuery(engine, args, context) {\n    return this._cached(this._cacheCallQuery, engine, [context.scope, context.pierceShadow, context.originalScope, ...args], () => {\n      return engine.query(context, args, this);\n    });\n  }\n  _matchesCSS(element, css) {\n    return element.matches(css);\n  }\n  _queryCSS(context, css) {\n    return this._cached(this._cacheQueryCSS, css, [context.scope, context.pierceShadow, context.originalScope], () => {\n      let result = [];\n      function query(root) {\n        result = result.concat([...root.querySelectorAll(css)]);\n        if (!context.pierceShadow)\n          return;\n        if (root.shadowRoot)\n          query(root.shadowRoot);\n        for (const element of root.querySelectorAll("*")) {\n          if (element.shadowRoot)\n            query(element.shadowRoot);\n        }\n      }\n      query(context.scope);\n      return result;\n    });\n  }\n  _getEngine(name) {\n    const engine = this._engines.get(name);\n    if (!engine)\n      throw new Error(`Unknown selector engine "${name}"`);\n    return engine;\n  }\n};\nvar isEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    return args.some((selector) => evaluator.matches(element, selector, context));\n  },\n  query(context, args, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"is" engine expects non-empty selector list`);\n    let elements = [];\n    for (const arg of args)\n      elements = elements.concat(evaluator.query(context, arg));\n    return args.length === 1 ? elements : sortInDOMOrder(elements);\n  }\n};\nvar hasEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"has" engine expects non-empty selector list`);\n    return evaluator.query({ ...context, scope: element }, args).length > 0;\n  }\n  // TODO: we can implement efficient "query" by matching "args" and returning\n  // all parents/descendants, just have to be careful with the ":scope" matching.\n};\nvar scopeEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9)\n      return element === actualScope.documentElement;\n    return element === actualScope;\n  },\n  query(context, args, evaluator) {\n    if (args.length !== 0)\n      throw new Error(`"scope" engine expects no arguments`);\n    const actualScope = context.originalScope || context.scope;\n    if (actualScope.nodeType === 9) {\n      const root = actualScope.documentElement;\n      return root ? [root] : [];\n    }\n    if (actualScope.nodeType === 1)\n      return [actualScope];\n    return [];\n  }\n};\nvar notEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0)\n      throw new Error(`"not" engine expects non-empty selector list`);\n    return !evaluator.matches(element, args, context);\n  }\n};\nvar lightEngine = {\n  query(context, args, evaluator) {\n    return evaluator.query({ ...context, pierceShadow: false }, args);\n  },\n  matches(element, args, context, evaluator) {\n    return evaluator.matches(element, args, { ...context, pierceShadow: false });\n  }\n};\nvar visibleEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length)\n      throw new Error(`"visible" engine expects no arguments`);\n    return isElementVisible(element);\n  }\n};\nvar textEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => normalizeWhiteSpace(elementText2.full).toLowerCase().includes(text);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar textIsEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"text-is" engine expects a single string`);\n    const text = normalizeWhiteSpace(args[0]);\n    const matcher = (elementText2) => {\n      if (!text && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === text);\n    };\n    return elementMatchesText(evaluator._cacheText, element, matcher) !== "none";\n  }\n};\nvar textMatchesEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length === 0 || typeof args[0] !== "string" || args.length > 2 || args.length === 2 && typeof args[1] !== "string")\n      throw new Error(`"text-matches" engine expects a regexp body and optional regexp flags`);\n    const re = new RegExp(args[0], args.length === 2 ? args[1] : void 0);\n    const matcher = (elementText2) => re.test(elementText2.full);\n    return elementMatchesText(evaluator._cacheText, element, matcher) === "self";\n  }\n};\nvar hasTextEngine = {\n  matches(element, args, context, evaluator) {\n    if (args.length !== 1 || typeof args[0] !== "string")\n      throw new Error(`"has-text" engine expects a single string`);\n    if (shouldSkipForTextMatching(element))\n      return false;\n    const text = normalizeWhiteSpace(args[0]).toLowerCase();\n    const matcher = (elementText2) => normalizeWhiteSpace(elementText2.full).toLowerCase().includes(text);\n    return matcher(elementText(evaluator._cacheText, element));\n  }\n};\nfunction createLayoutEngine(name) {\n  return {\n    matches(element, args, context, evaluator) {\n      const maxDistance = args.length && typeof args[args.length - 1] === "number" ? args[args.length - 1] : void 0;\n      const queryArgs = maxDistance === void 0 ? args : args.slice(0, args.length - 1);\n      if (args.length < 1 + (maxDistance === void 0 ? 0 : 1))\n        throw new Error(`"${name}" engine expects a selector list and optional maximum distance in pixels`);\n      const inner = evaluator.query(context, queryArgs);\n      const score = layoutSelectorScore(name, element, inner, maxDistance);\n      if (score === void 0)\n        return false;\n      evaluator._markScore(element, score);\n      return true;\n    }\n  };\n}\nvar nthMatchEngine = {\n  query(context, args, evaluator) {\n    let index = args[args.length - 1];\n    if (args.length < 2)\n      throw new Error(`"nth-match" engine expects non-empty selector list and an index argument`);\n    if (typeof index !== "number" || index < 1)\n      throw new Error(`"nth-match" engine expects a one-based index as the last argument`);\n    const elements = isEngine.query(context, args.slice(0, args.length - 1), evaluator);\n    index--;\n    return index < elements.length ? [elements[index]] : [];\n  }\n};\nfunction parentElementOrShadowHostInContext(element, context) {\n  if (element === context.scope)\n    return;\n  if (!context.pierceShadow)\n    return element.parentElement || void 0;\n  return parentElementOrShadowHost(element);\n}\nfunction previousSiblingInContext(element, context) {\n  if (element === context.scope)\n    return;\n  return element.previousElementSibling || void 0;\n}\nfunction sortInDOMOrder(elements) {\n  const elementToEntry = /* @__PURE__ */ new Map();\n  const roots = [];\n  const result = [];\n  function append(element) {\n    let entry = elementToEntry.get(element);\n    if (entry)\n      return entry;\n    const parent = parentElementOrShadowHost(element);\n    if (parent) {\n      const parentEntry = append(parent);\n      parentEntry.children.push(element);\n    } else {\n      roots.push(element);\n    }\n    entry = { children: [], taken: false };\n    elementToEntry.set(element, entry);\n    return entry;\n  }\n  for (const e of elements)\n    append(e).taken = true;\n  function visit(element) {\n    const entry = elementToEntry.get(element);\n    if (entry.taken)\n      result.push(element);\n    if (entry.children.length > 1) {\n      const set = new Set(entry.children);\n      entry.children = [];\n      let child = element.firstElementChild;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n      child = element.shadowRoot ? element.shadowRoot.firstElementChild : null;\n      while (child && entry.children.length < set.size) {\n        if (set.has(child))\n          entry.children.push(child);\n        child = child.nextElementSibling;\n      }\n    }\n    entry.children.forEach(visit);\n  }\n  roots.forEach(visit);\n  return result;\n}\n\n// packages/playwright-core/src/server/injected/selectorGenerator.ts\nvar cacheAllowText = /* @__PURE__ */ new Map();\nvar cacheDisallowText = /* @__PURE__ */ new Map();\nvar kTextScoreRange = 10;\nvar kExactPenalty = kTextScoreRange / 2;\nvar kTestIdScore = 1;\nvar kOtherTestIdScore = 2;\nvar kIframeByAttributeScore = 10;\nvar kBeginPenalizedScore = 50;\nvar kPlaceholderScore = 100;\nvar kLabelScore = 120;\nvar kRoleWithNameScore = 140;\nvar kAltTextScore = 160;\nvar kTextScore = 180;\nvar kTitleScore = 200;\nvar kTextScoreRegex = 250;\nvar kPlaceholderScoreExact = kPlaceholderScore + kExactPenalty;\nvar kLabelScoreExact = kLabelScore + kExactPenalty;\nvar kRoleWithNameScoreExact = kRoleWithNameScore + kExactPenalty;\nvar kAltTextScoreExact = kAltTextScore + kExactPenalty;\nvar kTextScoreExact = kTextScore + kExactPenalty;\nvar kTitleScoreExact = kTitleScore + kExactPenalty;\nvar kEndPenalizedScore = 300;\nvar kCSSIdScore = 500;\nvar kRoleWithoutNameScore = 510;\nvar kCSSInputTypeNameScore = 520;\nvar kCSSTagNameScore = 530;\nvar kNthScore = 1e4;\nvar kCSSFallbackScore = 1e7;\nvar kScoreThresholdForTextExpect = 1e3;\nfunction generateSelector(injectedScript, targetElement, options) {\n  var _a;\n  injectedScript._evaluator.begin();\n  beginAriaCaches();\n  try {\n    let targetTokens;\n    if (options.forTextExpect) {\n      targetTokens = cssFallback(injectedScript, targetElement.ownerDocument.documentElement, options);\n      for (let element = targetElement; element; element = parentElementOrShadowHost(element)) {\n        const tokens = generateSelectorFor(injectedScript, element, options);\n        if (!tokens)\n          continue;\n        const score = combineScores(tokens);\n        if (score <= kScoreThresholdForTextExpect) {\n          targetTokens = tokens;\n          break;\n        }\n      }\n    } else {\n      targetElement = closestCrossShadow(targetElement, "button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]", options.root) || targetElement;\n      targetTokens = generateSelectorFor(injectedScript, targetElement, options) || cssFallback(injectedScript, targetElement, options);\n    }\n    const selector = joinTokens(targetTokens);\n    const parsedSelector = injectedScript.parseSelector(selector);\n    return {\n      selector,\n      elements: injectedScript.querySelectorAll(parsedSelector, (_a = options.root) != null ? _a : targetElement.ownerDocument)\n    };\n  } finally {\n    cacheAllowText.clear();\n    cacheDisallowText.clear();\n    endAriaCaches();\n    injectedScript._evaluator.end();\n  }\n}\nfunction filterRegexTokens(textCandidates) {\n  return textCandidates.filter((c) => c[0].selector[0] !== "/");\n}\nfunction generateSelectorFor(injectedScript, targetElement, options) {\n  if (options.root && !isInsideScope(options.root, targetElement))\n    throw new Error(`Target element must belong to the root\'s subtree`);\n  if (targetElement === options.root)\n    return [{ engine: "css", selector: ":scope", score: 1 }];\n  if (targetElement.ownerDocument.documentElement === targetElement)\n    return [{ engine: "css", selector: "html", score: 1 }];\n  const calculate = (element, allowText) => {\n    var _a;\n    const allowNthMatch = element === targetElement;\n    let textCandidates = allowText ? buildTextCandidates(injectedScript, element, element === targetElement) : [];\n    if (element !== targetElement) {\n      textCandidates = filterRegexTokens(textCandidates);\n    }\n    const noTextCandidates = buildNoTextCandidates(injectedScript, element, options).filter((token) => !options.omitInternalEngines || !token.engine.startsWith("internal:")).map((token) => [token]);\n    let result = chooseFirstSelector(injectedScript, (_a = options.root) != null ? _a : targetElement.ownerDocument, element, [...textCandidates, ...noTextCandidates], allowNthMatch);\n    textCandidates = filterRegexTokens(textCandidates);\n    const checkWithText = (textCandidatesToUse) => {\n      const allowParentText = allowText && !textCandidatesToUse.length;\n      const candidates = [...textCandidatesToUse, ...noTextCandidates].filter((c) => {\n        if (!result)\n          return true;\n        return combineScores(c) < combineScores(result);\n      });\n      let bestPossibleInParent = candidates[0];\n      if (!bestPossibleInParent)\n        return;\n      for (let parent = parentElementOrShadowHost(element); parent && parent !== options.root; parent = parentElementOrShadowHost(parent)) {\n        const parentTokens = calculateCached(parent, allowParentText);\n        if (!parentTokens)\n          continue;\n        if (result && combineScores([...parentTokens, ...bestPossibleInParent]) >= combineScores(result))\n          continue;\n        bestPossibleInParent = chooseFirstSelector(injectedScript, parent, element, candidates, allowNthMatch);\n        if (!bestPossibleInParent)\n          return;\n        const combined = [...parentTokens, ...bestPossibleInParent];\n        if (!result || combineScores(combined) < combineScores(result))\n          result = combined;\n      }\n    };\n    checkWithText(textCandidates);\n    if (element === targetElement && textCandidates.length)\n      checkWithText([]);\n    return result;\n  };\n  const calculateCached = (element, allowText) => {\n    const cache = allowText ? cacheAllowText : cacheDisallowText;\n    let value = cache.get(element);\n    if (value === void 0) {\n      value = calculate(element, allowText);\n      cache.set(element, value);\n    }\n    return value;\n  };\n  return calculate(targetElement, !options.forTextExpect);\n}\nfunction buildNoTextCandidates(injectedScript, element, options) {\n  const candidates = [];\n  {\n    for (const attr of ["data-testid", "data-test-id", "data-test"]) {\n      if (attr !== options.testIdAttributeName && element.getAttribute(attr))\n        candidates.push({ engine: "css", selector: `[${attr}=${quoteCSSAttributeValue(element.getAttribute(attr))}]`, score: kOtherTestIdScore });\n    }\n    const idAttr = element.getAttribute("id");\n    if (idAttr && !isGuidLike(idAttr))\n      candidates.push({ engine: "css", selector: makeSelectorForId(idAttr), score: kCSSIdScore });\n    candidates.push({ engine: "css", selector: cssEscape(element.nodeName.toLowerCase()), score: kCSSTagNameScore });\n  }\n  if (element.nodeName === "IFRAME") {\n    for (const attribute of ["name", "title"]) {\n      if (element.getAttribute(attribute))\n        candidates.push({ engine: "css", selector: `${cssEscape(element.nodeName.toLowerCase())}[${attribute}=${quoteCSSAttributeValue(element.getAttribute(attribute))}]`, score: kIframeByAttributeScore });\n    }\n    if (element.getAttribute(options.testIdAttributeName))\n      candidates.push({ engine: "css", selector: `[${options.testIdAttributeName}=${quoteCSSAttributeValue(element.getAttribute(options.testIdAttributeName))}]`, score: kTestIdScore });\n    penalizeScoreForLength([candidates]);\n    return candidates;\n  }\n  if (element.getAttribute(options.testIdAttributeName))\n    candidates.push({ engine: "internal:testid", selector: `[${options.testIdAttributeName}=${escapeForAttributeSelector(element.getAttribute(options.testIdAttributeName), true)}]`, score: kTestIdScore });\n  if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n    const input = element;\n    if (input.placeholder) {\n      candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(input.placeholder, true)}]`, score: kPlaceholderScoreExact });\n      for (const alternative of suitableTextAlternatives(input.placeholder))\n        candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(alternative.text, false)}]`, score: kPlaceholderScore - alternative.scoreBouns });\n    }\n  }\n  const labels = getElementLabels(injectedScript._evaluator._cacheText, element);\n  for (const label of labels) {\n    const labelText = label.full.trim();\n    candidates.push({ engine: "internal:label", selector: escapeForTextSelector(labelText, true), score: kLabelScoreExact });\n    for (const alternative of suitableTextAlternatives(labelText))\n      candidates.push({ engine: "internal:label", selector: escapeForTextSelector(alternative.text, false), score: kLabelScore - alternative.scoreBouns });\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole))\n    candidates.push({ engine: "internal:role", selector: ariaRole, score: kRoleWithoutNameScore });\n  if (element.getAttribute("name") && ["BUTTON", "FORM", "FIELDSET", "FRAME", "IFRAME", "INPUT", "KEYGEN", "OBJECT", "OUTPUT", "SELECT", "TEXTAREA", "MAP", "META", "PARAM"].includes(element.nodeName))\n    candidates.push({ engine: "css", selector: `${cssEscape(element.nodeName.toLowerCase())}[name=${quoteCSSAttributeValue(element.getAttribute("name"))}]`, score: kCSSInputTypeNameScore });\n  if (["INPUT", "TEXTAREA"].includes(element.nodeName) && element.getAttribute("type") !== "hidden") {\n    if (element.getAttribute("type"))\n      candidates.push({ engine: "css", selector: `${cssEscape(element.nodeName.toLowerCase())}[type=${quoteCSSAttributeValue(element.getAttribute("type"))}]`, score: kCSSInputTypeNameScore });\n  }\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(element.nodeName) && element.getAttribute("type") !== "hidden")\n    candidates.push({ engine: "css", selector: cssEscape(element.nodeName.toLowerCase()), score: kCSSInputTypeNameScore + 1 });\n  penalizeScoreForLength([candidates]);\n  return candidates;\n}\nfunction buildTextCandidates(injectedScript, element, isTargetNode) {\n  if (element.nodeName === "SELECT")\n    return [];\n  const candidates = [];\n  const title = element.getAttribute("title");\n  if (title) {\n    candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(title, true)}]`, score: kTitleScoreExact }]);\n    for (const alternative of suitableTextAlternatives(title))\n      candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(alternative.text, false)}]`, score: kTitleScore - alternative.scoreBouns }]);\n  }\n  const alt = element.getAttribute("alt");\n  if (alt && ["APPLET", "AREA", "IMG", "INPUT"].includes(element.nodeName)) {\n    candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alt, true)}]`, score: kAltTextScoreExact }]);\n    for (const alternative of suitableTextAlternatives(alt))\n      candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alternative.text, false)}]`, score: kAltTextScore - alternative.scoreBouns }]);\n  }\n  const text = normalizeWhiteSpace(elementText(injectedScript._evaluator._cacheText, element).full);\n  if (text) {\n    const alternatives = suitableTextAlternatives(text);\n    if (isTargetNode) {\n      if (text.length <= 80)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(text, true), score: kTextScoreExact }]);\n      for (const alternative of alternatives)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBouns }]);\n    }\n    const cssToken = { engine: "css", selector: cssEscape(element.nodeName.toLowerCase()), score: kCSSTagNameScore };\n    for (const alternative of alternatives)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBouns }]);\n    if (text.length <= 80)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: "/^" + escapeRegExp(text) + "$/", score: kTextScoreRegex }]);\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole)) {\n    const ariaName = getElementAccessibleName(element, false);\n    if (ariaName) {\n      candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(ariaName, true)}]`, score: kRoleWithNameScoreExact }]);\n      for (const alternative of suitableTextAlternatives(ariaName))\n        candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(alternative.text, false)}]`, score: kRoleWithNameScore - alternative.scoreBouns }]);\n    }\n  }\n  penalizeScoreForLength(candidates);\n  return candidates;\n}\nfunction makeSelectorForId(id) {\n  return /^[a-zA-Z][a-zA-Z0-9\\-\\_]+$/.test(id) ? "#" + id : `[id="${cssEscape(id)}"]`;\n}\nfunction cssFallback(injectedScript, targetElement, options) {\n  var _a;\n  const root = (_a = options.root) != null ? _a : targetElement.ownerDocument;\n  const tokens = [];\n  function uniqueCSSSelector(prefix) {\n    const path = tokens.slice();\n    if (prefix)\n      path.unshift(prefix);\n    const selector = path.join(" > ");\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const node = injectedScript.querySelector(parsedSelector, root, false);\n    return node === targetElement ? selector : void 0;\n  }\n  function makeStrict(selector) {\n    const token = { engine: "css", selector, score: kCSSFallbackScore };\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, root);\n    if (elements.length === 1)\n      return [token];\n    const nth = { engine: "nth", selector: String(elements.indexOf(targetElement)), score: kNthScore };\n    return [token, nth];\n  }\n  for (let element = targetElement; element && element !== root; element = parentElementOrShadowHost(element)) {\n    const nodeName = element.nodeName.toLowerCase();\n    let bestTokenForLevel = "";\n    if (element.id) {\n      const token = makeSelectorForId(element.id);\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      bestTokenForLevel = token;\n    }\n    const parent = element.parentNode;\n    const classes = [...element.classList];\n    for (let i = 0; i < classes.length; ++i) {\n      const token = "." + cssEscape(classes.slice(0, i + 1).join("."));\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel && parent) {\n        const sameClassSiblings = parent.querySelectorAll(token);\n        if (sameClassSiblings.length === 1)\n          bestTokenForLevel = token;\n      }\n    }\n    if (parent) {\n      const siblings = [...parent.children];\n      const sameTagSiblings = siblings.filter((sibling) => sibling.nodeName.toLowerCase() === nodeName);\n      const token = sameTagSiblings.indexOf(element) === 0 ? cssEscape(nodeName) : `${cssEscape(nodeName)}:nth-child(${1 + siblings.indexOf(element)})`;\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel)\n        bestTokenForLevel = token;\n    } else if (!bestTokenForLevel) {\n      bestTokenForLevel = cssEscape(nodeName);\n    }\n    tokens.unshift(bestTokenForLevel);\n  }\n  return makeStrict(uniqueCSSSelector());\n}\nfunction penalizeScoreForLength(groups) {\n  for (const group of groups) {\n    for (const token of group) {\n      if (token.score > kBeginPenalizedScore && token.score < kEndPenalizedScore)\n        token.score += Math.min(kTextScoreRange, token.selector.length / 10 | 0);\n    }\n  }\n}\nfunction joinTokens(tokens) {\n  const parts = [];\n  let lastEngine = "";\n  for (const { engine, selector } of tokens) {\n    if (parts.length && (lastEngine !== "css" || engine !== "css" || selector.startsWith(":nth-match(")))\n      parts.push(">>");\n    lastEngine = engine;\n    if (engine === "css")\n      parts.push(selector);\n    else\n      parts.push(`${engine}=${selector}`);\n  }\n  return parts.join(" ");\n}\nfunction combineScores(tokens) {\n  let score = 0;\n  for (let i = 0; i < tokens.length; i++)\n    score += tokens[i].score * (tokens.length - i);\n  return score;\n}\nfunction chooseFirstSelector(injectedScript, scope, targetElement, selectors, allowNthMatch) {\n  const joined = selectors.map((tokens) => ({ tokens, score: combineScores(tokens) }));\n  joined.sort((a, b) => a.score - b.score);\n  let bestWithIndex = null;\n  for (const { tokens } of joined) {\n    const parsedSelector = injectedScript.parseSelector(joinTokens(tokens));\n    const result = injectedScript.querySelectorAll(parsedSelector, scope);\n    if (result[0] === targetElement && result.length === 1) {\n      return tokens;\n    }\n    const index = result.indexOf(targetElement);\n    if (!allowNthMatch || bestWithIndex || index === -1 || result.length > 5)\n      continue;\n    const nth = { engine: "nth", selector: String(index), score: kNthScore };\n    bestWithIndex = [...tokens, nth];\n  }\n  return bestWithIndex;\n}\nfunction isGuidLike(id) {\n  let lastCharacterType;\n  let transitionCount = 0;\n  for (let i = 0; i < id.length; ++i) {\n    const c = id[i];\n    let characterType;\n    if (c === "-" || c === "_")\n      continue;\n    if (c >= "a" && c <= "z")\n      characterType = "lower";\n    else if (c >= "A" && c <= "Z")\n      characterType = "upper";\n    else if (c >= "0" && c <= "9")\n      characterType = "digit";\n    else\n      characterType = "other";\n    if (characterType === "lower" && lastCharacterType === "upper") {\n      lastCharacterType = characterType;\n      continue;\n    }\n    if (lastCharacterType && lastCharacterType !== characterType)\n      ++transitionCount;\n    lastCharacterType = characterType;\n  }\n  return transitionCount >= id.length / 4;\n}\nfunction escapeRegExp(s) {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&");\n}\nfunction trimWordBoundary(text, maxLength) {\n  if (text.length <= maxLength)\n    return text;\n  text = text.substring(0, maxLength);\n  const match = text.match(/^(.*)\\b(.+?)$/);\n  if (!match)\n    return "";\n  return match[1].trimEnd();\n}\nfunction suitableTextAlternatives(text) {\n  let result = [];\n  {\n    const match = text.match(/^([\\d.,]+)[^.,\\w]/);\n    const leadingNumberLength = match ? match[1].length : 0;\n    if (leadingNumberLength) {\n      const alt = text.substring(leadingNumberLength).trimStart();\n      result.push({ text: alt, scoreBouns: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  {\n    const match = text.match(/[^.,\\w]([\\d.,]+)$/);\n    const trailingNumberLength = match ? match[1].length : 0;\n    if (trailingNumberLength) {\n      const alt = text.substring(0, text.length - trailingNumberLength).trimEnd();\n      result.push({ text: alt, scoreBouns: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  if (text.length <= 30) {\n    result.push({ text, scoreBouns: 0 });\n  } else {\n    result.push({ text: trimWordBoundary(text, 80), scoreBouns: 0 });\n    result.push({ text: trimWordBoundary(text, 30), scoreBouns: 1 });\n  }\n  result = result.filter((r) => r.text);\n  if (!result.length)\n    result.push({ text: text.substring(0, 80), scoreBouns: 0 });\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorGenerators.ts\nfunction asLocator(lang, selector, isFrameLocator = false) {\n  return asLocators(lang, selector, isFrameLocator)[0];\n}\nfunction asLocators(lang, selector, isFrameLocator = false, maxOutputSize = 20, preferredQuote) {\n  try {\n    return innerAsLocators(new generators[lang](preferredQuote), parseSelector(selector), isFrameLocator, maxOutputSize);\n  } catch (e) {\n    return [selector];\n  }\n}\nfunction innerAsLocators(factory, parsed, isFrameLocator = false, maxOutputSize = 20) {\n  const parts = [...parsed.parts];\n  for (let index = 0; index < parts.length - 1; index++) {\n    if (parts[index].name === "nth" && parts[index + 1].name === "internal:control" && parts[index + 1].body === "enter-frame") {\n      const [nth] = parts.splice(index, 1);\n      parts.splice(index + 1, 0, nth);\n    }\n  }\n  const tokens = [];\n  let nextBase = isFrameLocator ? "frame-locator" : "page";\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const base = nextBase;\n    nextBase = "locator";\n    if (part.name === "nth") {\n      if (part.body === "0")\n        tokens.push([factory.generateLocator(base, "first", ""), factory.generateLocator(base, "nth", "0")]);\n      else if (part.body === "-1")\n        tokens.push([factory.generateLocator(base, "last", ""), factory.generateLocator(base, "nth", "-1")]);\n      else\n        tokens.push([factory.generateLocator(base, "nth", part.body)]);\n      continue;\n    }\n    if (part.name === "internal:text") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "text", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:has-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has-not-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-not-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "has", inner)));\n      continue;\n    }\n    if (part.name === "internal:has-not") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "hasNot", inner)));\n      continue;\n    }\n    if (part.name === "internal:and") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "and", inner)));\n      continue;\n    }\n    if (part.name === "internal:or") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "or", inner)));\n      continue;\n    }\n    if (part.name === "internal:chain") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "chain", inner)));\n      continue;\n    }\n    if (part.name === "internal:label") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "label", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:role") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const options = { attrs: [] };\n      for (const attr of attrSelector.attributes) {\n        if (attr.name === "name") {\n          options.exact = attr.caseSensitive;\n          options.name = attr.value;\n        } else {\n          if (attr.name === "level" && typeof attr.value === "string")\n            attr.value = +attr.value;\n          options.attrs.push({ name: attr.name === "include-hidden" ? "includeHidden" : attr.name, value: attr.value });\n        }\n      }\n      tokens.push([factory.generateLocator(base, "role", attrSelector.name, options)]);\n      continue;\n    }\n    if (part.name === "internal:testid") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { value } = attrSelector.attributes[0];\n      tokens.push([factory.generateLocator(base, "test-id", value)]);\n      continue;\n    }\n    if (part.name === "internal:attr") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { name, value, caseSensitive } = attrSelector.attributes[0];\n      const text = value;\n      const exact = !!caseSensitive;\n      if (name === "placeholder") {\n        tokens.push([factory.generateLocator(base, "placeholder", text, { exact })]);\n        continue;\n      }\n      if (name === "alt") {\n        tokens.push([factory.generateLocator(base, "alt", text, { exact })]);\n        continue;\n      }\n      if (name === "title") {\n        tokens.push([factory.generateLocator(base, "title", text, { exact })]);\n        continue;\n      }\n    }\n    let locatorType = "default";\n    const nextPart = parts[index + 1];\n    if (nextPart && nextPart.name === "internal:control" && nextPart.body === "enter-frame") {\n      locatorType = "frame";\n      nextBase = "frame-locator";\n      index++;\n    }\n    const selectorPart = stringifySelector({ parts: [part] });\n    const locatorPart = factory.generateLocator(base, locatorType, selectorPart);\n    if (locatorType === "default" && nextPart && ["internal:has-text", "internal:has-not-text"].includes(nextPart.name)) {\n      const { exact, text } = detectExact(nextPart.body);\n      if (!exact) {\n        const nextLocatorPart = factory.generateLocator("locator", nextPart.name === "internal:has-text" ? "has-text" : "has-not-text", text, { exact });\n        const options = {};\n        if (nextPart.name === "internal:has-text")\n          options.hasText = text;\n        else\n          options.hasNotText = text;\n        const combinedPart = factory.generateLocator(base, "default", selectorPart, options);\n        tokens.push([factory.chainLocators([locatorPart, nextLocatorPart]), combinedPart]);\n        index++;\n        continue;\n      }\n    }\n    let locatorPartWithEngine;\n    if (["xpath", "css"].includes(part.name)) {\n      const selectorPart2 = stringifySelector(\n        { parts: [part] },\n        /* forceEngineName */\n        true\n      );\n      locatorPartWithEngine = factory.generateLocator(base, locatorType, selectorPart2);\n    }\n    tokens.push([locatorPart, locatorPartWithEngine].filter(Boolean));\n  }\n  return combineTokens(factory, tokens, maxOutputSize);\n}\nfunction combineTokens(factory, tokens, maxOutputSize) {\n  const currentTokens = tokens.map(() => "");\n  const result = [];\n  const visit = (index) => {\n    if (index === tokens.length) {\n      result.push(factory.chainLocators(currentTokens));\n      return currentTokens.length < maxOutputSize;\n    }\n    for (const taken of tokens[index]) {\n      currentTokens[index] = taken;\n      if (!visit(index + 1))\n        return false;\n    }\n    return true;\n  };\n  visit(0);\n  return result;\n}\nfunction detectExact(text) {\n  let exact = false;\n  const match = text.match(/^\\/(.*)\\/([igm]*)$/);\n  if (match)\n    return { text: new RegExp(match[1], match[2]) };\n  if (text.endsWith(\'"\')) {\n    text = JSON.parse(text);\n    exact = true;\n  } else if (text.endsWith(\'"s\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = true;\n  } else if (text.endsWith(\'"i\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = false;\n  }\n  return { exact, text };\n}\nvar JavaScriptLocatorFactory = class {\n  constructor(preferredQuote) {\n    this.preferredQuote = preferredQuote;\n  }\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, { hasText: ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, { hasNotText: ${this.toHasText(options.hasNotText)} })`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frameLocator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name: ${this.regexToSourceString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name: ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact: true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${name}: ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, { ${attrs.join(", ")} }` : "";\n        return `getByRole(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter({ hasText: ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `filter({ hasNotText: ${this.toHasText(body)} })`;\n      case "has":\n        return `filter({ has: ${body} })`;\n      case "hasNot":\n        return `filter({ hasNot: ${body} })`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToSourceString(re) {\n    return normalizeEscapedRegexQuotes(String(re));\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToSourceString(body)})`;\n    return exact ? `${method}(${this.quote(body)}, { exact: true })` : `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToSourceString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToSourceString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    var _a;\n    return escapeWithQuotes(text, (_a = this.preferredQuote) != null ? _a : "\'");\n  }\n};\nvar PythonLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, has_text=${this.toHasText(options.hasText)})`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, has_not_text=${this.toHasText(options.hasNotText)})`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frame_locator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first`;\n      case "last":\n        return `last`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name=${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name=${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact=True`);\n        }\n        for (const { name, value } of options.attrs) {\n          let valueString = typeof value === "string" ? this.quote(value) : value;\n          if (typeof value === "boolean")\n            valueString = value ? "True" : "False";\n          attrs.push(`${toSnakeCase(name)}=${valueString}`);\n        }\n        const attrString = attrs.length ? `, ${attrs.join(", ")}` : "";\n        return `get_by_role(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter(has_text=${this.toHasText(body)})`;\n      case "has-not-text":\n        return `filter(has_not_text=${this.toHasText(body)})`;\n      case "has":\n        return `filter(has=${body})`;\n      case "hasNot":\n        return `filter(has_not=${body})`;\n      case "and":\n        return `and_(${body})`;\n      case "or":\n        return `or_(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `get_by_test_id(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("get_by_text", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("get_by_alt_text", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("get_by_placeholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("get_by_label", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("get_by_title", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", re.IGNORECASE" : "";\n    return `re.compile(r"${normalizeEscapedRegexQuotes(body.source).replace(/\\\\\\//, "/").replace(/"/g, \'\\\\"\')}"${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, exact=True)`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return `${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JavaLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    let clazz;\n    switch (base) {\n      case "page":\n        clazz = "Page";\n        break;\n      case "frame-locator":\n        clazz = "FrameLocator";\n        break;\n      case "locator":\n        clazz = "Locator";\n        break;\n    }\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasText(${this.toHasText(options.hasText)}))`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasNotText(${this.toHasText(options.hasNotText)}))`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frameLocator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`.setName(${this.regexToString(options.name)})`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`.setName(${this.quote(options.name)})`);\n          if (options.exact)\n            attrs.push(`.setExact(true)`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`.set${toTitleCase(name)}(${typeof value === "string" ? this.quote(value) : value})`);\n        const attrString = attrs.length ? `, new ${clazz}.GetByRoleOptions()${attrs.join("")}` : "";\n        return `getByRole(AriaRole.${toSnakeCase(body).toUpperCase()}${attrString})`;\n      case "has-text":\n        return `filter(new ${clazz}.FilterOptions().setHasText(${this.toHasText(body)}))`;\n      case "has-not-text":\n        return `filter(new ${clazz}.FilterOptions().setHasNotText(${this.toHasText(body)}))`;\n      case "has":\n        return `filter(new ${clazz}.FilterOptions().setHas(${body}))`;\n      case "hasNot":\n        return `filter(new ${clazz}.FilterOptions().setHasNot(${body}))`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact(clazz, "getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact(clazz, "getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact(clazz, "getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact(clazz, "getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact(clazz, "getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", Pattern.CASE_INSENSITIVE" : "";\n    return `Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(clazz, method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new ${clazz}.${toTitleCase(method)}Options().setExact(true))`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar CSharpLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasNotText(options.hasNotText)} })`;\n        return `Locator(${this.quote(body)})`;\n      case "frame":\n        return `FrameLocator(${this.quote(body)})`;\n      case "nth":\n        return `Nth(${body})`;\n      case "first":\n        return `First`;\n      case "last":\n        return `Last`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`NameRegex = ${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`Name = ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`Exact = true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${toTitleCase(name)} = ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, new() { ${attrs.join(", ")} }` : "";\n        return `GetByRole(AriaRole.${toTitleCase(body)}${attrString})`;\n      case "has-text":\n        return `Filter(new() { ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `Filter(new() { ${this.toHasNotText(body)} })`;\n      case "has":\n        return `Filter(new() { Has = ${body} })`;\n      case "hasNot":\n        return `Filter(new() { HasNot = ${body} })`;\n      case "and":\n        return `And(${body})`;\n      case "or":\n        return `Or(${body})`;\n      case "chain":\n        return `Locator(${body})`;\n      case "test-id":\n        return `GetByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("GetByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("GetByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("GetByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("GetByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("GetByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", RegexOptions.IgnoreCase" : "";\n    return `new Regex(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new() { Exact = true })`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return `HasTextRegex = ${this.regexToString(body)}`;\n    return `HasText = ${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  toHasNotText(body) {\n    if (isRegExp(body))\n      return `HasNotTextRegex = ${this.regexToString(body)}`;\n    return `HasNotText = ${this.quote(body)}`;\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JsonlLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    return JSON.stringify({\n      kind,\n      body,\n      options\n    });\n  }\n  chainLocators(locators) {\n    const objects = locators.map((l) => JSON.parse(l));\n    for (let i = 0; i < objects.length - 1; ++i)\n      objects[i].next = objects[i + 1];\n    return JSON.stringify(objects[0]);\n  }\n};\nvar generators = {\n  javascript: JavaScriptLocatorFactory,\n  python: PythonLocatorFactory,\n  java: JavaLocatorFactory,\n  csharp: CSharpLocatorFactory,\n  jsonl: JsonlLocatorFactory\n};\nfunction isRegExp(obj) {\n  return obj instanceof RegExp;\n}\n\n// packages/playwright-core/src/server/injected/highlight.css?inline\nvar highlight_default = `:host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}x-pw-tooltip{backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:4px}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;width:400px;height:150px;z-index:10;font-size:13px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:rgb(148 148 148 / 90%)}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:100%;height:100%;-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;-webkit-mask-size:20px;mask-repeat:no-repeat;mask-position:center;mask-size:16px;-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\' /></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\' /></svg>");background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;cursor:pointer;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.active{background-color:#8acae480}x-pw-tool-item.active:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:100%;height:100%;-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;-webkit-mask-size:20px;mask-repeat:no-repeat;mask-position:center;mask-size:16px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.active{background-color:transparent}x-pw-tool-item.record.active:hover{background-color:#dbdbdb}x-pw-tool-item.record.active>x-div{background-color:#a1260d}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z\'/></svg>")}x-pw-tool-item.pick-locator>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z\'/></svg>")}x-pw-tool-item.text>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M0 11H1V13H15V11H16V14H15H1H0V11Z\'/><path d=\'M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z\'/><path d=\'M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M0 11H1V13H15V11H16V14H15H1H0V11Z\'/><path d=\'M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z\'/><path d=\'M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z\'/></svg>")}x-pw-tool-item.visibility>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z\'/></svg>")}x-pw-tool-item.value>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M4 6h8v1H4V6zm8 3H4v1h8V9z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M4 6h8v1H4V6zm8 3H4v1h8V9z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z\'/></svg>")}x-pw-tool-item.accept>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\'/></svg>")}x-pw-tool-item.cancel>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\'/></svg>")}x-pw-tool-item.succeeded>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z\'/></svg>")!important;mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z\'/></svg>")!important;background-color:#388a34!important;-webkit-mask-size:18px!important;mask-size:18px!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}\n`;\n\n// packages/playwright-core/src/server/injected/highlight.ts\nvar Highlight = class {\n  constructor(injectedScript) {\n    this._highlightEntries = [];\n    this._language = "javascript";\n    this._injectedScript = injectedScript;\n    const document = injectedScript.document;\n    this._isUnderTest = injectedScript.isUnderTest;\n    this._glassPaneElement = document.createElement("x-pw-glass");\n    this._glassPaneElement.style.position = "fixed";\n    this._glassPaneElement.style.top = "0";\n    this._glassPaneElement.style.right = "0";\n    this._glassPaneElement.style.bottom = "0";\n    this._glassPaneElement.style.left = "0";\n    this._glassPaneElement.style.zIndex = "2147483646";\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.display = "flex";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    for (const eventName of ["click", "auxclick", "dragstart", "input", "keydown", "keyup", "pointerdown", "pointerup", "mousedown", "mouseup", "mouseleave", "focus", "scroll"]) {\n      this._glassPaneElement.addEventListener(eventName, (e) => {\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      });\n    }\n    this._actionPointElement = document.createElement("x-pw-action-point");\n    this._actionPointElement.setAttribute("hidden", "true");\n    this._glassPaneShadow = this._glassPaneElement.attachShadow({ mode: this._isUnderTest ? "open" : "closed" });\n    this._glassPaneShadow.appendChild(this._actionPointElement);\n    const styleElement = document.createElement("style");\n    styleElement.textContent = highlight_default;\n    this._glassPaneShadow.appendChild(styleElement);\n  }\n  install() {\n    this._injectedScript.document.documentElement.appendChild(this._glassPaneElement);\n  }\n  setLanguage(language) {\n    this._language = language;\n  }\n  runHighlightOnRaf(selector) {\n    if (this._rafRequest)\n      cancelAnimationFrame(this._rafRequest);\n    this.updateHighlight(this._injectedScript.querySelectorAll(selector, this._injectedScript.document.documentElement), { tooltipText: asLocator(this._language, stringifySelector(selector)) });\n    this._rafRequest = requestAnimationFrame(() => this.runHighlightOnRaf(selector));\n  }\n  uninstall() {\n    if (this._rafRequest)\n      cancelAnimationFrame(this._rafRequest);\n    this._glassPaneElement.remove();\n  }\n  showActionPoint(x, y) {\n    this._actionPointElement.style.top = y + "px";\n    this._actionPointElement.style.left = x + "px";\n    this._actionPointElement.hidden = false;\n  }\n  hideActionPoint() {\n    this._actionPointElement.hidden = true;\n  }\n  clearHighlight() {\n    var _a, _b;\n    for (const entry of this._highlightEntries) {\n      (_a = entry.highlightElement) == null ? void 0 : _a.remove();\n      (_b = entry.tooltipElement) == null ? void 0 : _b.remove();\n    }\n    this._highlightEntries = [];\n  }\n  updateHighlight(elements, options) {\n    this._innerUpdateHighlight(elements, options);\n  }\n  maskElements(elements, color) {\n    this._innerUpdateHighlight(elements, { color });\n  }\n  _innerUpdateHighlight(elements, options) {\n    let color = options.color;\n    if (!color)\n      color = elements.length > 1 ? "#f6b26b7f" : "#6fa8dc7f";\n    if (this._highlightIsUpToDate(elements, options.tooltipText))\n      return;\n    this.clearHighlight();\n    for (let i = 0; i < elements.length; ++i) {\n      const highlightElement = this._createHighlightElement();\n      this._glassPaneShadow.appendChild(highlightElement);\n      let tooltipElement;\n      if (options.tooltipText) {\n        tooltipElement = this._injectedScript.document.createElement("x-pw-tooltip");\n        this._glassPaneShadow.appendChild(tooltipElement);\n        const suffix = elements.length > 1 ? ` [${i + 1} of ${elements.length}]` : "";\n        tooltipElement.textContent = options.tooltipText + suffix;\n        tooltipElement.style.top = "0";\n        tooltipElement.style.left = "0";\n        tooltipElement.style.display = "flex";\n      }\n      this._highlightEntries.push({ targetElement: elements[i], tooltipElement, highlightElement, tooltipText: options.tooltipText });\n    }\n    for (const entry of this._highlightEntries) {\n      entry.box = entry.targetElement.getBoundingClientRect();\n      if (!entry.tooltipElement)\n        continue;\n      const { anchorLeft, anchorTop } = this.tooltipPosition(entry.box, entry.tooltipElement);\n      entry.tooltipTop = anchorTop;\n      entry.tooltipLeft = anchorLeft;\n    }\n    for (const entry of this._highlightEntries) {\n      if (entry.tooltipElement) {\n        entry.tooltipElement.style.top = entry.tooltipTop + "px";\n        entry.tooltipElement.style.left = entry.tooltipLeft + "px";\n      }\n      const box = entry.box;\n      entry.highlightElement.style.backgroundColor = color;\n      entry.highlightElement.style.left = box.x + "px";\n      entry.highlightElement.style.top = box.y + "px";\n      entry.highlightElement.style.width = box.width + "px";\n      entry.highlightElement.style.height = box.height + "px";\n      entry.highlightElement.style.display = "block";\n      if (this._isUnderTest)\n        console.error("Highlight box for test: " + JSON.stringify({ x: box.x, y: box.y, width: box.width, height: box.height }));\n    }\n  }\n  firstBox() {\n    var _a;\n    return (_a = this._highlightEntries[0]) == null ? void 0 : _a.box;\n  }\n  tooltipPosition(box, tooltipElement) {\n    const tooltipWidth = tooltipElement.offsetWidth;\n    const tooltipHeight = tooltipElement.offsetHeight;\n    const totalWidth = this._glassPaneElement.offsetWidth;\n    const totalHeight = this._glassPaneElement.offsetHeight;\n    let anchorLeft = box.left;\n    if (anchorLeft + tooltipWidth > totalWidth - 5)\n      anchorLeft = totalWidth - tooltipWidth - 5;\n    let anchorTop = box.bottom + 5;\n    if (anchorTop + tooltipHeight > totalHeight - 5) {\n      if (box.top > tooltipHeight + 5) {\n        anchorTop = box.top - tooltipHeight - 5;\n      } else {\n        anchorTop = totalHeight - 5 - tooltipHeight;\n      }\n    }\n    return { anchorLeft, anchorTop };\n  }\n  _highlightIsUpToDate(elements, tooltipText) {\n    if (elements.length !== this._highlightEntries.length)\n      return false;\n    for (let i = 0; i < this._highlightEntries.length; ++i) {\n      if (tooltipText !== this._highlightEntries[i].tooltipText)\n        return false;\n      if (elements[i] !== this._highlightEntries[i].targetElement)\n        return false;\n      const oldBox = this._highlightEntries[i].box;\n      if (!oldBox)\n        return false;\n      const box = elements[i].getBoundingClientRect();\n      if (box.top !== oldBox.top || box.right !== oldBox.right || box.bottom !== oldBox.bottom || box.left !== oldBox.left)\n        return false;\n    }\n    return true;\n  }\n  _createHighlightElement() {\n    return this._injectedScript.document.createElement("x-pw-highlight");\n  }\n  appendChild(element) {\n    this._glassPaneShadow.appendChild(element);\n  }\n};\n\n// packages/playwright-core/src/server/injected/injectedScript.ts\nvar InjectedScript = class {\n  // eslint-disable-next-line no-restricted-globals\n  constructor(window, isUnderTest, sdkLanguage, testIdAttributeNameForStrictErrorAndConsoleCodegen, stableRafCount, browserName, customEngines) {\n    this.onGlobalListenersRemoved = /* @__PURE__ */ new Set();\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = "data-testid";\n    this.window = window;\n    this.document = window.document;\n    this.isUnderTest = isUnderTest;\n    this._sdkLanguage = sdkLanguage;\n    this._testIdAttributeNameForStrictErrorAndConsoleCodegen = testIdAttributeNameForStrictErrorAndConsoleCodegen;\n    this._evaluator = new SelectorEvaluatorImpl(/* @__PURE__ */ new Map());\n    this._engines = /* @__PURE__ */ new Map();\n    this._engines.set("xpath", XPathEngine);\n    this._engines.set("xpath:light", XPathEngine);\n    this._engines.set("_react", ReactEngine);\n    this._engines.set("_vue", VueEngine);\n    this._engines.set("role", createRoleEngine(false));\n    this._engines.set("text", this._createTextEngine(true, false));\n    this._engines.set("text:light", this._createTextEngine(false, false));\n    this._engines.set("id", this._createAttributeEngine("id", true));\n    this._engines.set("id:light", this._createAttributeEngine("id", false));\n    this._engines.set("data-testid", this._createAttributeEngine("data-testid", true));\n    this._engines.set("data-testid:light", this._createAttributeEngine("data-testid", false));\n    this._engines.set("data-test-id", this._createAttributeEngine("data-test-id", true));\n    this._engines.set("data-test-id:light", this._createAttributeEngine("data-test-id", false));\n    this._engines.set("data-test", this._createAttributeEngine("data-test", true));\n    this._engines.set("data-test:light", this._createAttributeEngine("data-test", false));\n    this._engines.set("css", this._createCSSEngine());\n    this._engines.set("nth", { queryAll: () => [] });\n    this._engines.set("visible", this._createVisibleEngine());\n    this._engines.set("internal:control", this._createControlEngine());\n    this._engines.set("internal:has", this._createHasEngine());\n    this._engines.set("internal:has-not", this._createHasNotEngine());\n    this._engines.set("internal:and", { queryAll: () => [] });\n    this._engines.set("internal:or", { queryAll: () => [] });\n    this._engines.set("internal:chain", this._createInternalChainEngine());\n    this._engines.set("internal:label", this._createInternalLabelEngine());\n    this._engines.set("internal:text", this._createTextEngine(true, true));\n    this._engines.set("internal:has-text", this._createInternalHasTextEngine());\n    this._engines.set("internal:has-not-text", this._createInternalHasNotTextEngine());\n    this._engines.set("internal:attr", this._createNamedAttributeEngine());\n    this._engines.set("internal:testid", this._createNamedAttributeEngine());\n    this._engines.set("internal:role", createRoleEngine(true));\n    for (const { name, engine } of customEngines)\n      this._engines.set(name, engine);\n    this._stableRafCount = stableRafCount;\n    this._browserName = browserName;\n    setBrowserName(browserName);\n    this._setupGlobalListenersRemovalDetection();\n    this._setupHitTargetInterceptors();\n    if (isUnderTest)\n      this.window.__injectedScript = this;\n  }\n  eval(expression) {\n    return this.window.eval(expression);\n  }\n  testIdAttributeNameForStrictErrorAndConsoleCodegen() {\n    return this._testIdAttributeNameForStrictErrorAndConsoleCodegen;\n  }\n  parseSelector(selector) {\n    const result = parseSelector(selector);\n    visitAllSelectorParts(result, (part) => {\n      if (!this._engines.has(part.name))\n        throw this.createStacklessError(`Unknown engine "${part.name}" while parsing selector ${selector}`);\n    });\n    return result;\n  }\n  generateSelector(targetElement, options) {\n    return generateSelector(this, targetElement, { ...options, testIdAttributeName: this._testIdAttributeNameForStrictErrorAndConsoleCodegen }).selector;\n  }\n  querySelector(selector, root, strict) {\n    const result = this.querySelectorAll(selector, root);\n    if (strict && result.length > 1)\n      throw this.strictModeViolationError(selector, result);\n    return result[0];\n  }\n  _queryNth(elements, part) {\n    const list = [...elements];\n    let nth = +part.body;\n    if (nth === -1)\n      nth = list.length - 1;\n    return new Set(list.slice(nth, nth + 1));\n  }\n  _queryLayoutSelector(elements, part, originalRoot) {\n    const name = part.name;\n    const body = part.body;\n    const result = [];\n    const inner = this.querySelectorAll(body.parsed, originalRoot);\n    for (const element of elements) {\n      const score = layoutSelectorScore(name, element, inner, body.distance);\n      if (score !== void 0)\n        result.push({ element, score });\n    }\n    result.sort((a, b) => a.score - b.score);\n    return new Set(result.map((r) => r.element));\n  }\n  querySelectorAll(selector, root) {\n    if (selector.capture !== void 0) {\n      if (selector.parts.some((part) => part.name === "nth"))\n        throw this.createStacklessError(`Can\'t query n-th element in a request with the capture.`);\n      const withHas = { parts: selector.parts.slice(0, selector.capture + 1) };\n      if (selector.capture < selector.parts.length - 1) {\n        const parsed = { parts: selector.parts.slice(selector.capture + 1) };\n        const has = { name: "internal:has", body: { parsed }, source: stringifySelector(parsed) };\n        withHas.parts.push(has);\n      }\n      return this.querySelectorAll(withHas, root);\n    }\n    if (!root["querySelectorAll"])\n      throw this.createStacklessError("Node is not queryable.");\n    if (selector.capture !== void 0) {\n      throw this.createStacklessError("Internal error: there should not be a capture in the selector.");\n    }\n    if (root.nodeType === 11 && selector.parts.length === 1 && selector.parts[0].name === "css" && selector.parts[0].source === ":scope")\n      return [root];\n    this._evaluator.begin();\n    try {\n      let roots = /* @__PURE__ */ new Set([root]);\n      for (const part of selector.parts) {\n        if (part.name === "nth") {\n          roots = this._queryNth(roots, part);\n        } else if (part.name === "internal:and") {\n          const andElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(andElements.filter((e) => roots.has(e)));\n        } else if (part.name === "internal:or") {\n          const orElements = this.querySelectorAll(part.body.parsed, root);\n          roots = new Set(sortInDOMOrder(/* @__PURE__ */ new Set([...roots, ...orElements])));\n        } else if (kLayoutSelectorNames.includes(part.name)) {\n          roots = this._queryLayoutSelector(roots, part, root);\n        } else {\n          const next = /* @__PURE__ */ new Set();\n          for (const root2 of roots) {\n            const all = this._queryEngineAll(part, root2);\n            for (const one of all)\n              next.add(one);\n          }\n          roots = next;\n        }\n      }\n      return [...roots];\n    } finally {\n      this._evaluator.end();\n    }\n  }\n  _queryEngineAll(part, root) {\n    const result = this._engines.get(part.name).queryAll(root, part.body);\n    for (const element of result) {\n      if (!("nodeName" in element))\n        throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(element)}`);\n    }\n    return result;\n  }\n  _createAttributeEngine(attribute, shadow) {\n    const toCSS = (selector) => {\n      const css = `[${attribute}=${JSON.stringify(selector)}]`;\n      return [{ simples: [{ selector: { css, functions: [] }, combinator: "" }] }];\n    };\n    return {\n      queryAll: (root, selector) => {\n        return this._evaluator.query({ scope: root, pierceShadow: shadow }, toCSS(selector));\n      }\n    };\n  }\n  _createCSSEngine() {\n    return {\n      queryAll: (root, body) => {\n        return this._evaluator.query({ scope: root, pierceShadow: true }, body);\n      }\n    };\n  }\n  _createTextEngine(shadow, internal) {\n    const queryAll = (root, selector) => {\n      const { matcher, kind } = createTextMatcher(selector, internal);\n      const result = [];\n      let lastDidNotMatchSelf = null;\n      const appendElement = (element) => {\n        if (kind === "lax" && lastDidNotMatchSelf && lastDidNotMatchSelf.contains(element))\n          return false;\n        const matches = elementMatchesText(this._evaluator._cacheText, element, matcher);\n        if (matches === "none")\n          lastDidNotMatchSelf = element;\n        if (matches === "self" || matches === "selfAndChildren" && kind === "strict" && !internal)\n          result.push(element);\n      };\n      if (root.nodeType === Node.ELEMENT_NODE)\n        appendElement(root);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: shadow }, "*");\n      for (const element of elements)\n        appendElement(element);\n      return result;\n    };\n    return { queryAll };\n  }\n  _createInternalHasTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [element] : [];\n      }\n    };\n  }\n  _createInternalHasNotTextEngine() {\n    return {\n      queryAll: (root, selector) => {\n        if (root.nodeType !== 1)\n          return [];\n        const element = root;\n        const text = elementText(this._evaluator._cacheText, element);\n        const { matcher } = createTextMatcher(selector, true);\n        return matcher(text) ? [] : [element];\n      }\n    };\n  }\n  _createInternalLabelEngine() {\n    return {\n      queryAll: (root, selector) => {\n        const { matcher } = createTextMatcher(selector, true);\n        const allElements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, "*");\n        return allElements.filter((element) => {\n          return getElementLabels(this._evaluator._cacheText, element).some((label) => matcher(label));\n        });\n      }\n    };\n  }\n  _createNamedAttributeEngine() {\n    const queryAll = (root, selector) => {\n      const parsed = parseAttributeSelector(selector, true);\n      if (parsed.name || parsed.attributes.length !== 1)\n        throw new Error("Malformed attribute selector: " + selector);\n      const { name, value, caseSensitive } = parsed.attributes[0];\n      const lowerCaseValue = caseSensitive ? null : value.toLowerCase();\n      let matcher;\n      if (value instanceof RegExp)\n        matcher = (s) => !!s.match(value);\n      else if (caseSensitive)\n        matcher = (s) => s === value;\n      else\n        matcher = (s) => s.toLowerCase().includes(lowerCaseValue);\n      const elements = this._evaluator._queryCSS({ scope: root, pierceShadow: true }, `[${name}]`);\n      return elements.filter((e) => matcher(e.getAttribute(name)));\n    };\n    return { queryAll };\n  }\n  _createControlEngine() {\n    return {\n      queryAll(root, body) {\n        if (body === "enter-frame")\n          return [];\n        if (body === "return-empty")\n          return [];\n        if (body === "component") {\n          if (root.nodeType !== 1)\n            return [];\n          return [root.childElementCount === 1 ? root.firstElementChild : root];\n        }\n        throw new Error(`Internal error, unknown internal:control selector ${body}`);\n      }\n    };\n  }\n  _createHasEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createHasNotEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      const has = !!this.querySelector(body.parsed, root, false);\n      return has ? [] : [root];\n    };\n    return { queryAll };\n  }\n  _createVisibleEngine() {\n    const queryAll = (root, body) => {\n      if (root.nodeType !== 1)\n        return [];\n      return isElementVisible(root) === Boolean(body) ? [root] : [];\n    };\n    return { queryAll };\n  }\n  _createInternalChainEngine() {\n    const queryAll = (root, body) => {\n      return this.querySelectorAll(body.parsed, root);\n    };\n    return { queryAll };\n  }\n  extend(source, params) {\n    const constrFunction = this.window.eval(`\n    (() => {\n      const module = {};\n      ${source}\n      return module.exports.default();\n    })()`);\n    return new constrFunction(this, params);\n  }\n  isVisible(element) {\n    return isElementVisible(element);\n  }\n  async viewportRatio(element) {\n    return await new Promise((resolve) => {\n      const observer = new IntersectionObserver((entries) => {\n        resolve(entries[0].intersectionRatio);\n        observer.disconnect();\n      });\n      observer.observe(element);\n      requestAnimationFrame(() => {\n      });\n    });\n  }\n  pollRaf(predicate) {\n    return this.poll(predicate, (next) => requestAnimationFrame(next));\n  }\n  poll(predicate, scheduleNext) {\n    return this._runAbortableTask((progress) => {\n      let fulfill;\n      let reject;\n      const result = new Promise((f, r) => {\n        fulfill = f;\n        reject = r;\n      });\n      const next = () => {\n        if (progress.aborted)\n          return;\n        try {\n          const success = predicate(progress);\n          if (success !== progress.continuePolling)\n            fulfill(success);\n          else\n            scheduleNext(next);\n        } catch (e) {\n          progress.log("  " + e.message);\n          reject(e);\n        }\n      };\n      next();\n      return result;\n    });\n  }\n  _runAbortableTask(task) {\n    let unsentLog = [];\n    let takeNextLogsCallback;\n    let taskFinished = false;\n    const logReady = () => {\n      if (!takeNextLogsCallback)\n        return;\n      takeNextLogsCallback(unsentLog);\n      unsentLog = [];\n      takeNextLogsCallback = void 0;\n    };\n    const takeNextLogs = () => new Promise((fulfill) => {\n      takeNextLogsCallback = fulfill;\n      if (unsentLog.length || taskFinished)\n        logReady();\n    });\n    let lastMessage = "";\n    const progress = {\n      injectedScript: this,\n      aborted: false,\n      continuePolling: Symbol("continuePolling"),\n      log: (message) => {\n        lastMessage = message;\n        unsentLog.push({ message });\n        logReady();\n      },\n      logRepeating: (message) => {\n        if (message !== lastMessage)\n          progress.log(message);\n      }\n    };\n    const run = () => {\n      const result = task(progress);\n      result.finally(() => {\n        taskFinished = true;\n        logReady();\n      });\n      return result;\n    };\n    return {\n      takeNextLogs,\n      run,\n      cancel: () => {\n        progress.aborted = true;\n      },\n      takeLastLogs: () => unsentLog\n    };\n  }\n  getElementBorderWidth(node) {\n    if (node.nodeType !== Node.ELEMENT_NODE || !node.ownerDocument || !node.ownerDocument.defaultView)\n      return { left: 0, top: 0 };\n    const style = node.ownerDocument.defaultView.getComputedStyle(node);\n    return { left: parseInt(style.borderLeftWidth || "", 10), top: parseInt(style.borderTopWidth || "", 10) };\n  }\n  describeIFrameStyle(iframe) {\n    if (!iframe.ownerDocument || !iframe.ownerDocument.defaultView)\n      return "error:notconnected";\n    const defaultView = iframe.ownerDocument.defaultView;\n    for (let e = iframe; e; e = parentElementOrShadowHost(e)) {\n      if (defaultView.getComputedStyle(e).transform !== "none")\n        return "transformed";\n    }\n    const iframeStyle = defaultView.getComputedStyle(iframe);\n    return {\n      left: parseInt(iframeStyle.borderLeftWidth || "", 10) + parseInt(iframeStyle.paddingLeft || "", 10),\n      top: parseInt(iframeStyle.borderTopWidth || "", 10) + parseInt(iframeStyle.paddingTop || "", 10)\n    };\n  }\n  retarget(node, behavior) {\n    let element = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n    if (!element)\n      return null;\n    if (behavior === "none")\n      return element;\n    if (!element.matches("input, textarea, select")) {\n      if (behavior === "button-link")\n        element = element.closest("button, [role=button], a, [role=link]") || element;\n      else\n        element = element.closest("button, [role=button], [role=checkbox], [role=radio]") || element;\n    }\n    if (behavior === "follow-label") {\n      if (!element.matches("input, textarea, button, select, [role=button], [role=checkbox], [role=radio]") && !element.isContentEditable) {\n        element = element.closest("label") || element;\n      }\n      if (element.nodeName === "LABEL")\n        element = element.control || element;\n    }\n    return element;\n  }\n  waitForElementStatesAndPerformAction(node, states, force, callback) {\n    let lastRect;\n    let counter = 0;\n    let samePositionCounter = 0;\n    let lastTime = 0;\n    return this.pollRaf((progress) => {\n      if (force) {\n        progress.log(`    forcing action`);\n        return callback(node, progress);\n      }\n      for (const state of states) {\n        if (state !== "stable") {\n          const result = this.elementState(node, state);\n          if (typeof result !== "boolean")\n            return result;\n          if (!result) {\n            progress.logRepeating(`    element is not ${state} - waiting...`);\n            return progress.continuePolling;\n          }\n          continue;\n        }\n        const element = this.retarget(node, "no-follow-label");\n        if (!element)\n          return "error:notconnected";\n        if (++counter === 1)\n          return progress.continuePolling;\n        const time = performance.now();\n        if (this._stableRafCount > 1 && time - lastTime < 15)\n          return progress.continuePolling;\n        lastTime = time;\n        const clientRect = element.getBoundingClientRect();\n        const rect = { x: clientRect.top, y: clientRect.left, width: clientRect.width, height: clientRect.height };\n        const samePosition = lastRect && rect.x === lastRect.x && rect.y === lastRect.y && rect.width === lastRect.width && rect.height === lastRect.height;\n        if (samePosition)\n          ++samePositionCounter;\n        else\n          samePositionCounter = 0;\n        const isStable = samePositionCounter >= this._stableRafCount;\n        const isStableForLogs = isStable || !lastRect;\n        lastRect = rect;\n        if (!isStableForLogs)\n          progress.logRepeating(`    element is not stable - waiting...`);\n        if (!isStable)\n          return progress.continuePolling;\n      }\n      return callback(node, progress);\n    });\n  }\n  elementState(node, state) {\n    const element = this.retarget(node, ["stable", "visible", "hidden"].includes(state) ? "none" : "follow-label");\n    if (!element || !element.isConnected) {\n      if (state === "hidden")\n        return true;\n      return "error:notconnected";\n    }\n    if (state === "visible")\n      return this.isVisible(element);\n    if (state === "hidden")\n      return !this.isVisible(element);\n    const disabled = getAriaDisabled(element);\n    if (state === "disabled")\n      return disabled;\n    if (state === "enabled")\n      return !disabled;\n    const editable = !(["INPUT", "TEXTAREA", "SELECT"].includes(element.nodeName) && element.hasAttribute("readonly"));\n    if (state === "editable")\n      return !disabled && editable;\n    if (state === "checked" || state === "unchecked") {\n      const need = state === "checked";\n      const checked = getChecked(element, false);\n      if (checked === "error")\n        throw this.createStacklessError("Not a checkbox or radio button");\n      return need === checked;\n    }\n    throw this.createStacklessError(`Unexpected element state "${state}"`);\n  }\n  selectOptions(optionsToSelect, node, progress) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() !== "select")\n      throw this.createStacklessError("Element is not a <select> element");\n    const select = element;\n    const options = [...select.options];\n    const selectedOptions = [];\n    let remainingOptionsToSelect = optionsToSelect.slice();\n    for (let index = 0; index < options.length; index++) {\n      const option = options[index];\n      const filter = (optionToSelect) => {\n        if (optionToSelect instanceof Node)\n          return option === optionToSelect;\n        let matches = true;\n        if (optionToSelect.valueOrLabel !== void 0)\n          matches = matches && (optionToSelect.valueOrLabel === option.value || optionToSelect.valueOrLabel === option.label);\n        if (optionToSelect.value !== void 0)\n          matches = matches && optionToSelect.value === option.value;\n        if (optionToSelect.label !== void 0)\n          matches = matches && optionToSelect.label === option.label;\n        if (optionToSelect.index !== void 0)\n          matches = matches && optionToSelect.index === index;\n        return matches;\n      };\n      if (!remainingOptionsToSelect.some(filter))\n        continue;\n      selectedOptions.push(option);\n      if (select.multiple) {\n        remainingOptionsToSelect = remainingOptionsToSelect.filter((o) => !filter(o));\n      } else {\n        remainingOptionsToSelect = [];\n        break;\n      }\n    }\n    if (remainingOptionsToSelect.length) {\n      progress.logRepeating("    did not find some options - waiting... ");\n      return progress.continuePolling;\n    }\n    select.value = void 0;\n    selectedOptions.forEach((option) => option.selected = true);\n    progress.log("    selected specified option(s)");\n    select.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    select.dispatchEvent(new Event("change", { bubbles: true }));\n    return selectedOptions.map((option) => option.value);\n  }\n  fill(value, node, progress) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      const type = input.type.toLowerCase();\n      const kInputTypesToSetValue = /* @__PURE__ */ new Set(["color", "date", "time", "datetime-local", "month", "range", "week"]);\n      const kInputTypesToTypeInto = /* @__PURE__ */ new Set(["", "email", "number", "password", "search", "tel", "text", "url"]);\n      if (!kInputTypesToTypeInto.has(type) && !kInputTypesToSetValue.has(type)) {\n        progress.log(`    input of type "${type}" cannot be filled`);\n        throw this.createStacklessError(`Input of type "${type}" cannot be filled`);\n      }\n      if (type === "number") {\n        value = value.trim();\n        if (isNaN(Number(value)))\n          throw this.createStacklessError("Cannot type text into input[type=number]");\n      }\n      if (kInputTypesToSetValue.has(type)) {\n        value = value.trim();\n        input.focus();\n        input.value = value;\n        if (input.value !== value)\n          throw this.createStacklessError("Malformed value");\n        element.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n        element.dispatchEvent(new Event("change", { bubbles: true }));\n        return "done";\n      }\n    } else if (element.nodeName.toLowerCase() === "textarea") {\n    } else if (!element.isContentEditable) {\n      throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element");\n    }\n    this.selectText(element);\n    return "needsinput";\n  }\n  selectText(node) {\n    const element = this.retarget(node, "follow-label");\n    if (!element)\n      return "error:notconnected";\n    if (element.nodeName.toLowerCase() === "input") {\n      const input = element;\n      input.select();\n      input.focus();\n      return "done";\n    }\n    if (element.nodeName.toLowerCase() === "textarea") {\n      const textarea = element;\n      textarea.selectionStart = 0;\n      textarea.selectionEnd = textarea.value.length;\n      textarea.focus();\n      return "done";\n    }\n    const range = element.ownerDocument.createRange();\n    range.selectNodeContents(element);\n    const selection = element.ownerDocument.defaultView.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n    element.focus();\n    return "done";\n  }\n  _activelyFocused(node) {\n    const activeElement = node.getRootNode().activeElement;\n    const isFocused = activeElement === node && !!node.ownerDocument && node.ownerDocument.hasFocus();\n    return { activeElement, isFocused };\n  }\n  focusNode(node, resetSelectionIfNotFocused) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    const { activeElement, isFocused: wasFocused } = this._activelyFocused(node);\n    if (node.isContentEditable && !wasFocused && activeElement && activeElement.blur) {\n      activeElement.blur();\n    }\n    node.focus();\n    node.focus();\n    if (resetSelectionIfNotFocused && !wasFocused && node.nodeName.toLowerCase() === "input") {\n      try {\n        const input = node;\n        input.setSelectionRange(0, 0);\n      } catch (e) {\n      }\n    }\n    return "done";\n  }\n  blurNode(node) {\n    if (!node.isConnected)\n      return "error:notconnected";\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      throw this.createStacklessError("Node is not an element");\n    node.blur();\n    return "done";\n  }\n  setInputFiles(node, payloads) {\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return "Node is not of type HTMLElement";\n    const element = node;\n    if (element.nodeName !== "INPUT")\n      return "Not an <input> element";\n    const input = element;\n    const type = (input.getAttribute("type") || "").toLowerCase();\n    if (type !== "file")\n      return "Not an input[type=file] element";\n    const files = payloads.map((file) => {\n      const bytes = Uint8Array.from(atob(file.buffer), (c) => c.charCodeAt(0));\n      return new File([bytes], file.name, { type: file.mimeType, lastModified: file.lastModifiedMs });\n    });\n    const dt = new DataTransfer();\n    for (const file of files)\n      dt.items.add(file);\n    input.files = dt.files;\n    input.dispatchEvent(new Event("input", { bubbles: true, composed: true }));\n    input.dispatchEvent(new Event("change", { bubbles: true }));\n  }\n  expectHitTarget(hitPoint, targetElement) {\n    const roots = [];\n    let parentElement = targetElement;\n    while (parentElement) {\n      const root = enclosingShadowRootOrDocument(parentElement);\n      if (!root)\n        break;\n      roots.push(root);\n      if (root.nodeType === 9)\n        break;\n      parentElement = root.host;\n    }\n    let hitElement;\n    for (let index = roots.length - 1; index >= 0; index--) {\n      const root = roots[index];\n      const elements = root.elementsFromPoint(hitPoint.x, hitPoint.y);\n      const singleElement = root.elementFromPoint(hitPoint.x, hitPoint.y);\n      if (singleElement && elements[0] && parentElementOrShadowHost(singleElement) === elements[0]) {\n        const style = this.window.getComputedStyle(singleElement);\n        if ((style == null ? void 0 : style.display) === "contents") {\n          elements.unshift(singleElement);\n        }\n      }\n      if (elements[0] && elements[0].shadowRoot === root && elements[1] === singleElement) {\n        elements.shift();\n      }\n      const innerElement = elements[0];\n      if (!innerElement)\n        break;\n      hitElement = innerElement;\n      if (index && innerElement !== roots[index - 1].host)\n        break;\n    }\n    const hitParents = [];\n    while (hitElement && hitElement !== targetElement) {\n      hitParents.push(hitElement);\n      hitElement = parentElementOrShadowHost(hitElement);\n    }\n    if (hitElement === targetElement)\n      return "done";\n    const hitTargetDescription = this.previewNode(hitParents[0] || this.document.documentElement);\n    let rootHitTargetDescription;\n    let element = targetElement;\n    while (element) {\n      const index = hitParents.indexOf(element);\n      if (index !== -1) {\n        if (index > 1)\n          rootHitTargetDescription = this.previewNode(hitParents[index - 1]);\n        break;\n      }\n      element = parentElementOrShadowHost(element);\n    }\n    if (rootHitTargetDescription)\n      return { hitTargetDescription: `${hitTargetDescription} from ${rootHitTargetDescription} subtree` };\n    return { hitTargetDescription };\n  }\n  // Life of a pointer action, for example click.\n  //\n  // 0. Retry items 1 and 2 while action fails due to navigation or element being detached.\n  //   1. Resolve selector to an element.\n  //   2. Retry the following steps until the element is detached or frame navigates away.\n  //     2a. Wait for the element to be stable (not moving), visible and enabled.\n  //     2b. Scroll element into view. Scrolling alternates between:\n  //         - Built-in protocol scrolling.\n  //         - Anchoring to the top/left, bottom/right and center/center.\n  //         This is to scroll elements from under sticky headers/footers.\n  //     2c. Click point is calculated, either based on explicitly specified position,\n  //         or some visible point of the element based on protocol content quads.\n  //     2d. Click point relative to page viewport is converted relative to the target iframe\n  //         for the next hit-point check.\n  //     2e. (injected) Hit target at the click point must be a descendant of the target element.\n  //         This prevents mis-clicking in edge cases like <iframe> overlaying the target.\n  //     2f. (injected) Events specific for click (or some other action type) are intercepted on\n  //         the Window with capture:true. See 2i for details.\n  //         Note: this step is skipped for drag&drop (see inline comments for the reason).\n  //     2g. Necessary keyboard modifiers are pressed.\n  //     2h. Click event is issued (mousemove + mousedown + mouseup).\n  //     2i. (injected) For each event, we check that hit target at the event point\n  //         is a descendant of the target element.\n  //         This guarantees no race between issuing the event and handling it in the page,\n  //         for example due to layout shift.\n  //         When hit target check fails, we block all future events in the page.\n  //     2j. Keyboard modifiers are restored.\n  //     2k. (injected) Event interceptor is removed.\n  //     2l. All navigations triggered between 2g-2k are awaited to be either committed or canceled.\n  //     2m. If failed, wait for increasing amount of time before the next retry.\n  setupHitTargetInterceptor(node, action, hitPoint, blockAllEvents) {\n    const element = this.retarget(node, "button-link");\n    if (!element || !element.isConnected)\n      return "error:notconnected";\n    if (hitPoint) {\n      const preliminaryResult = this.expectHitTarget(hitPoint, element);\n      if (preliminaryResult !== "done")\n        return preliminaryResult.hitTargetDescription;\n    }\n    if (action === "drag")\n      return { stop: () => "done" };\n    const events = {\n      "hover": kHoverHitTargetInterceptorEvents,\n      "tap": kTapHitTargetInterceptorEvents,\n      "mouse": kMouseHitTargetInterceptorEvents\n    }[action];\n    let result;\n    const listener = (event) => {\n      if (!events.has(event.type))\n        return;\n      if (!event.isTrusted)\n        return;\n      const point = !!this.window.TouchEvent && event instanceof this.window.TouchEvent ? event.touches[0] : event;\n      if (result === void 0 && point)\n        result = this.expectHitTarget({ x: point.clientX, y: point.clientY }, element);\n      if (blockAllEvents || result !== "done" && result !== void 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n      }\n    };\n    const stop = () => {\n      if (this._hitTargetInterceptor === listener)\n        this._hitTargetInterceptor = void 0;\n      return result || "done";\n    };\n    this._hitTargetInterceptor = listener;\n    return { stop };\n  }\n  dispatchEvent(node, type, eventInit) {\n    let event;\n    eventInit = { bubbles: true, cancelable: true, composed: true, ...eventInit };\n    switch (eventType.get(type)) {\n      case "mouse":\n        event = new MouseEvent(type, eventInit);\n        break;\n      case "keyboard":\n        event = new KeyboardEvent(type, eventInit);\n        break;\n      case "touch":\n        event = new TouchEvent(type, eventInit);\n        break;\n      case "pointer":\n        event = new PointerEvent(type, eventInit);\n        break;\n      case "focus":\n        event = new FocusEvent(type, eventInit);\n        break;\n      case "drag":\n        event = new DragEvent(type, eventInit);\n        break;\n      case "wheel":\n        event = new WheelEvent(type, eventInit);\n        break;\n      case "deviceorientation":\n        try {\n          event = new DeviceOrientationEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, alpha, beta, gamma, absolute } = eventInit;\n          event = this.document.createEvent("DeviceOrientationEvent");\n          event.initDeviceOrientationEvent(type, bubbles, cancelable, alpha, beta, gamma, absolute);\n        }\n        break;\n      case "devicemotion":\n        try {\n          event = new DeviceMotionEvent(type, eventInit);\n        } catch {\n          const { bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval } = eventInit;\n          event = this.document.createEvent("DeviceMotionEvent");\n          event.initDeviceMotionEvent(type, bubbles, cancelable, acceleration, accelerationIncludingGravity, rotationRate, interval);\n        }\n        break;\n      default:\n        event = new Event(type, eventInit);\n        break;\n    }\n    node.dispatchEvent(event);\n  }\n  previewNode(node) {\n    if (node.nodeType === Node.TEXT_NODE)\n      return oneLine(`#text=${node.nodeValue || ""}`);\n    if (node.nodeType !== Node.ELEMENT_NODE)\n      return oneLine(`<${node.nodeName.toLowerCase()} />`);\n    const element = node;\n    const attrs = [];\n    for (let i = 0; i < element.attributes.length; i++) {\n      const { name, value } = element.attributes[i];\n      if (name === "style")\n        continue;\n      if (!value && booleanAttributes.has(name))\n        attrs.push(` ${name}`);\n      else\n        attrs.push(` ${name}="${value}"`);\n    }\n    attrs.sort((a, b) => a.length - b.length);\n    const attrText = trimStringWithEllipsis(attrs.join(""), 50);\n    if (autoClosingTags.has(element.nodeName))\n      return oneLine(`<${element.nodeName.toLowerCase()}${attrText}/>`);\n    const children = element.childNodes;\n    let onlyText = false;\n    if (children.length <= 5) {\n      onlyText = true;\n      for (let i = 0; i < children.length; i++)\n        onlyText = onlyText && children[i].nodeType === Node.TEXT_NODE;\n    }\n    const text = onlyText ? element.textContent || "" : children.length ? "\\u2026" : "";\n    return oneLine(`<${element.nodeName.toLowerCase()}${attrText}>${trimStringWithEllipsis(text, 50)}</${element.nodeName.toLowerCase()}>`);\n  }\n  strictModeViolationError(selector, matches) {\n    const infos = matches.slice(0, 10).map((m) => ({\n      preview: this.previewNode(m),\n      selector: this.generateSelector(m)\n    }));\n    const lines = infos.map((info, i) => `\n    ${i + 1}) ${info.preview} aka ${asLocator(this._sdkLanguage, info.selector)}`);\n    if (infos.length < matches.length)\n      lines.push("\\n    ...");\n    return this.createStacklessError(`strict mode violation: ${asLocator(this._sdkLanguage, stringifySelector(selector))} resolved to ${matches.length} elements:${lines.join("")}\n`);\n  }\n  createStacklessError(message) {\n    if (this._browserName === "firefox") {\n      const error2 = new Error("Error: " + message);\n      error2.stack = "";\n      return error2;\n    }\n    const error = new Error(message);\n    delete error.stack;\n    return error;\n  }\n  maskSelectors(selectors, color) {\n    if (this._highlight)\n      this.hideHighlight();\n    this._highlight = new Highlight(this);\n    this._highlight.install();\n    const elements = [];\n    for (const selector of selectors)\n      elements.push(this.querySelectorAll(selector, this.document.documentElement));\n    this._highlight.maskElements(elements.flat(), color);\n  }\n  highlight(selector) {\n    if (!this._highlight) {\n      this._highlight = new Highlight(this);\n      this._highlight.install();\n    }\n    this._highlight.runHighlightOnRaf(selector);\n  }\n  hideHighlight() {\n    if (this._highlight) {\n      this._highlight.uninstall();\n      delete this._highlight;\n    }\n  }\n  markTargetElements(markedElements, callId) {\n    const customEvent = new CustomEvent("__playwright_target__", {\n      bubbles: true,\n      cancelable: true,\n      detail: callId,\n      composed: true\n    });\n    for (const element of markedElements)\n      element.dispatchEvent(customEvent);\n  }\n  _setupGlobalListenersRemovalDetection() {\n    const customEventName = "__playwright_global_listeners_check__";\n    let seenEvent = false;\n    const handleCustomEvent = () => seenEvent = true;\n    this.window.addEventListener(customEventName, handleCustomEvent);\n    new MutationObserver((entries) => {\n      const newDocumentElement = entries.some((entry) => Array.from(entry.addedNodes).includes(this.document.documentElement));\n      if (!newDocumentElement)\n        return;\n      seenEvent = false;\n      this.window.dispatchEvent(new CustomEvent(customEventName));\n      if (seenEvent)\n        return;\n      this.window.addEventListener(customEventName, handleCustomEvent);\n      for (const callback of this.onGlobalListenersRemoved)\n        callback();\n    }).observe(this.document, { childList: true });\n  }\n  _setupHitTargetInterceptors() {\n    const listener = (event) => {\n      var _a;\n      return (_a = this._hitTargetInterceptor) == null ? void 0 : _a.call(this, event);\n    };\n    const addHitTargetInterceptorListeners = () => {\n      for (const event of kAllHitTargetInterceptorEvents)\n        this.window.addEventListener(event, listener, { capture: true, passive: false });\n    };\n    addHitTargetInterceptorListeners();\n    this.onGlobalListenersRemoved.add(addHitTargetInterceptorListeners);\n  }\n  async expect(element, options, elements) {\n    const isArray = options.expression === "to.have.count" || options.expression.endsWith(".array");\n    if (isArray)\n      return this.expectArray(elements, options);\n    if (!element) {\n      if (!options.isNot && options.expression === "to.be.hidden")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.visible")\n        return { matches: false };\n      if (!options.isNot && options.expression === "to.be.detached")\n        return { matches: true };\n      if (options.isNot && options.expression === "to.be.attached")\n        return { matches: false };\n      if (options.isNot && options.expression === "to.be.in.viewport")\n        return { matches: false };\n      return { matches: options.isNot, missingRecevied: true };\n    }\n    return await this.expectSingleElement(element, options);\n  }\n  async expectSingleElement(element, options) {\n    var _a, _b;\n    const expression = options.expression;\n    {\n      let elementState;\n      if (expression === "to.have.attribute") {\n        elementState = element.hasAttribute(options.expressionArg);\n      } else if (expression === "to.be.checked") {\n        elementState = this.elementState(element, "checked");\n      } else if (expression === "to.be.unchecked") {\n        elementState = this.elementState(element, "unchecked");\n      } else if (expression === "to.be.disabled") {\n        elementState = this.elementState(element, "disabled");\n      } else if (expression === "to.be.editable") {\n        elementState = this.elementState(element, "editable");\n      } else if (expression === "to.be.readonly") {\n        elementState = !this.elementState(element, "editable");\n      } else if (expression === "to.be.empty") {\n        if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA")\n          elementState = !element.value;\n        else\n          elementState = !((_a = element.textContent) == null ? void 0 : _a.trim());\n      } else if (expression === "to.be.enabled") {\n        elementState = this.elementState(element, "enabled");\n      } else if (expression === "to.be.focused") {\n        elementState = this._activelyFocused(element).isFocused;\n      } else if (expression === "to.be.hidden") {\n        elementState = this.elementState(element, "hidden");\n      } else if (expression === "to.be.visible") {\n        elementState = this.elementState(element, "visible");\n      } else if (expression === "to.be.attached") {\n        elementState = true;\n      } else if (expression === "to.be.detached") {\n        elementState = false;\n      }\n      if (elementState !== void 0) {\n        if (elementState === "error:notcheckbox")\n          throw this.createStacklessError("Element is not a checkbox");\n        if (elementState === "error:notconnected")\n          throw this.createStacklessError("Element is not connected");\n        return { received: elementState, matches: elementState };\n      }\n    }\n    {\n      if (expression === "to.have.property") {\n        let target = element;\n        const properties = options.expressionArg.split(".");\n        for (let i = 0; i < properties.length - 1; i++) {\n          if (typeof target !== "object" || !(properties[i] in target))\n            return { received: void 0, matches: false };\n          target = target[properties[i]];\n        }\n        const received = target[properties[properties.length - 1]];\n        const matches = deepEquals(received, options.expectedValue);\n        return { received, matches };\n      }\n    }\n    {\n      if (expression === "to.be.in.viewport") {\n        const ratio = await this.viewportRatio(element);\n        return { received: `viewport ratio ${ratio}`, matches: ratio > 0 && ratio > ((_b = options.expectedNumber) != null ? _b : 0) - 1e-9 };\n      }\n    }\n    {\n      if (expression === "to.have.values") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "SELECT" || !element.multiple)\n          throw this.createStacklessError("Not a select element with a multiple attribute");\n        const received = [...element.selectedOptions].map((o) => o.value);\n        if (received.length !== options.expectedText.length)\n          return { received, matches: false };\n        return { received, matches: received.map((r, i) => new ExpectedTextMatcher(options.expectedText[i]).matches(r)).every(Boolean) };\n      }\n    }\n    {\n      let received;\n      if (expression === "to.have.attribute.value") {\n        const value = element.getAttribute(options.expressionArg);\n        if (value === null)\n          return { received: null, matches: false };\n        received = value;\n      } else if (expression === "to.have.class") {\n        received = element.classList.toString();\n      } else if (expression === "to.have.css") {\n        received = this.window.getComputedStyle(element).getPropertyValue(options.expressionArg);\n      } else if (expression === "to.have.id") {\n        received = element.id;\n      } else if (expression === "to.have.text") {\n        received = options.useInnerText ? element.innerText : elementText(/* @__PURE__ */ new Map(), element).full;\n      } else if (expression === "to.have.title") {\n        received = this.document.title;\n      } else if (expression === "to.have.url") {\n        received = this.document.location.href;\n      } else if (expression === "to.have.value") {\n        element = this.retarget(element, "follow-label");\n        if (element.nodeName !== "INPUT" && element.nodeName !== "TEXTAREA" && element.nodeName !== "SELECT")\n          throw this.createStacklessError("Not an input element");\n        received = element.value;\n      }\n      if (received !== void 0 && options.expectedText) {\n        const matcher = new ExpectedTextMatcher(options.expectedText[0]);\n        return { received, matches: matcher.matches(received) };\n      }\n    }\n    throw this.createStacklessError("Unknown expect matcher: " + expression);\n  }\n  expectArray(elements, options) {\n    const expression = options.expression;\n    if (expression === "to.have.count") {\n      const received2 = elements.length;\n      const matches = received2 === options.expectedNumber;\n      return { received: received2, matches };\n    }\n    let received;\n    if (expression === "to.have.text.array" || expression === "to.contain.text.array")\n      received = elements.map((e) => options.useInnerText ? e.innerText : elementText(/* @__PURE__ */ new Map(), e).full);\n    else if (expression === "to.have.class.array")\n      received = elements.map((e) => e.classList.toString());\n    if (received && options.expectedText) {\n      const lengthShouldMatch = expression !== "to.contain.text.array";\n      const matchesLength = received.length === options.expectedText.length || !lengthShouldMatch;\n      if (!matchesLength)\n        return { received, matches: false };\n      const matchers = options.expectedText.map((e) => new ExpectedTextMatcher(e));\n      let mIndex = 0, rIndex = 0;\n      while (mIndex < matchers.length && rIndex < received.length) {\n        if (matchers[mIndex].matches(received[rIndex]))\n          ++mIndex;\n        ++rIndex;\n      }\n      return { received, matches: mIndex === matchers.length };\n    }\n    throw this.createStacklessError("Unknown expect matcher: " + expression);\n  }\n  getElementAccessibleName(element, includeHidden) {\n    return getElementAccessibleName(element, !!includeHidden);\n  }\n  getAriaRole(element) {\n    return getAriaRole(element);\n  }\n};\nvar autoClosingTags = /* @__PURE__ */ new Set(["AREA", "BASE", "BR", "COL", "COMMAND", "EMBED", "HR", "IMG", "INPUT", "KEYGEN", "LINK", "MENUITEM", "META", "PARAM", "SOURCE", "TRACK", "WBR"]);\nvar booleanAttributes = /* @__PURE__ */ new Set(["checked", "selected", "disabled", "readonly", "multiple"]);\nfunction oneLine(s) {\n  return s.replace(/\\n/g, "\\u21B5").replace(/\\t/g, "\\u21C6");\n}\nvar eventType = /* @__PURE__ */ new Map([\n  ["auxclick", "mouse"],\n  ["click", "mouse"],\n  ["dblclick", "mouse"],\n  ["mousedown", "mouse"],\n  ["mouseeenter", "mouse"],\n  ["mouseleave", "mouse"],\n  ["mousemove", "mouse"],\n  ["mouseout", "mouse"],\n  ["mouseover", "mouse"],\n  ["mouseup", "mouse"],\n  ["mouseleave", "mouse"],\n  ["mousewheel", "mouse"],\n  ["keydown", "keyboard"],\n  ["keyup", "keyboard"],\n  ["keypress", "keyboard"],\n  ["textInput", "keyboard"],\n  ["touchstart", "touch"],\n  ["touchmove", "touch"],\n  ["touchend", "touch"],\n  ["touchcancel", "touch"],\n  ["pointerover", "pointer"],\n  ["pointerout", "pointer"],\n  ["pointerenter", "pointer"],\n  ["pointerleave", "pointer"],\n  ["pointerdown", "pointer"],\n  ["pointerup", "pointer"],\n  ["pointermove", "pointer"],\n  ["pointercancel", "pointer"],\n  ["gotpointercapture", "pointer"],\n  ["lostpointercapture", "pointer"],\n  ["focus", "focus"],\n  ["blur", "focus"],\n  ["drag", "drag"],\n  ["dragstart", "drag"],\n  ["dragend", "drag"],\n  ["dragover", "drag"],\n  ["dragenter", "drag"],\n  ["dragleave", "drag"],\n  ["dragexit", "drag"],\n  ["drop", "drag"],\n  ["wheel", "wheel"],\n  ["deviceorientation", "deviceorientation"],\n  ["deviceorientationabsolute", "deviceorientation"],\n  ["devicemotion", "devicemotion"]\n]);\nvar kHoverHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousemove"]);\nvar kTapHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["pointerdown", "pointerup", "touchstart", "touchend", "touchcancel"]);\nvar kMouseHitTargetInterceptorEvents = /* @__PURE__ */ new Set(["mousedown", "mouseup", "pointerdown", "pointerup", "click", "auxclick", "dblclick", "contextmenu"]);\nvar kAllHitTargetInterceptorEvents = /* @__PURE__ */ new Set([...kHoverHitTargetInterceptorEvents, ...kTapHitTargetInterceptorEvents, ...kMouseHitTargetInterceptorEvents]);\nfunction cssUnquote(s) {\n  s = s.substring(1, s.length - 1);\n  if (!s.includes("\\\\"))\n    return s;\n  const r = [];\n  let i = 0;\n  while (i < s.length) {\n    if (s[i] === "\\\\" && i + 1 < s.length)\n      i++;\n    r.push(s[i++]);\n  }\n  return r.join("");\n}\nfunction createTextMatcher(selector, internal) {\n  if (selector[0] === "/" && selector.lastIndexOf("/") > 0) {\n    const lastSlash = selector.lastIndexOf("/");\n    const re = new RegExp(selector.substring(1, lastSlash), selector.substring(lastSlash + 1));\n    return { matcher: (elementText2) => re.test(elementText2.full), kind: "regex" };\n  }\n  const unquote = internal ? JSON.parse.bind(JSON) : cssUnquote;\n  let strict = false;\n  if (selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 1] === \'"\') {\n    selector = unquote(selector);\n    strict = true;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "i") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = false;\n  } else if (internal && selector.length > 1 && selector[0] === \'"\' && selector[selector.length - 2] === \'"\' && selector[selector.length - 1] === "s") {\n    selector = unquote(selector.substring(0, selector.length - 1));\n    strict = true;\n  } else if (selector.length > 1 && selector[0] === "\'" && selector[selector.length - 1] === "\'") {\n    selector = unquote(selector);\n    strict = true;\n  }\n  selector = normalizeWhiteSpace(selector);\n  if (strict) {\n    if (internal)\n      return { kind: "strict", matcher: (elementText2) => normalizeWhiteSpace(elementText2.full) === selector };\n    const strictTextNodeMatcher = (elementText2) => {\n      if (!selector && !elementText2.immediate.length)\n        return true;\n      return elementText2.immediate.some((s) => normalizeWhiteSpace(s) === selector);\n    };\n    return { matcher: strictTextNodeMatcher, kind: "strict" };\n  }\n  selector = selector.toLowerCase();\n  return { kind: "lax", matcher: (elementText2) => normalizeWhiteSpace(elementText2.full).toLowerCase().includes(selector) };\n}\nvar ExpectedTextMatcher = class {\n  constructor(expected) {\n    this._normalizeWhiteSpace = expected.normalizeWhiteSpace;\n    this._ignoreCase = expected.ignoreCase;\n    this._string = expected.matchSubstring ? void 0 : this.normalize(expected.string);\n    this._substring = expected.matchSubstring ? this.normalize(expected.string) : void 0;\n    if (expected.regexSource) {\n      const flags = new Set((expected.regexFlags || "").split(""));\n      if (expected.ignoreCase === false)\n        flags.delete("i");\n      if (expected.ignoreCase === true)\n        flags.add("i");\n      this._regex = new RegExp(expected.regexSource, [...flags].join(""));\n    }\n  }\n  matches(text) {\n    if (!this._regex)\n      text = this.normalize(text);\n    if (this._string !== void 0)\n      return text === this._string;\n    if (this._substring !== void 0)\n      return text.includes(this._substring);\n    if (this._regex)\n      return !!this._regex.test(text);\n    return false;\n  }\n  normalize(s) {\n    if (!s)\n      return s;\n    if (this._normalizeWhiteSpace)\n      s = normalizeWhiteSpace(s);\n    if (this._ignoreCase)\n      s = s.toLocaleLowerCase();\n    return s;\n  }\n};\nfunction deepEquals(a, b) {\n  if (a === b)\n    return true;\n  if (a && b && typeof a === "object" && typeof b === "object") {\n    if (a.constructor !== b.constructor)\n      return false;\n    if (Array.isArray(a)) {\n      if (a.length !== b.length)\n        return false;\n      for (let i = 0; i < a.length; ++i) {\n        if (!deepEquals(a[i], b[i]))\n          return false;\n      }\n      return true;\n    }\n    if (a instanceof RegExp)\n      return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf)\n      return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString)\n      return a.toString() === b.toString();\n    const keys = Object.keys(a);\n    if (keys.length !== Object.keys(b).length)\n      return false;\n    for (let i = 0; i < keys.length; ++i) {\n      if (!b.hasOwnProperty(keys[i]))\n        return false;\n    }\n    for (const key of keys) {\n      if (!deepEquals(a[key], b[key]))\n        return false;\n    }\n    return true;\n  }\n  if (typeof a === "number" && typeof b === "number")\n    return isNaN(a) && isNaN(b);\n  return false;\n}\n'},6048:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.source=void 0;const Q=S.source='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/playwright-core/src/server/injected/recorder.ts\nvar recorder_exports = {};\n__export(recorder_exports, {\n  PollingRecorder: () => PollingRecorder,\n  Recorder: () => Recorder,\n  default: () => recorder_default\n});\nmodule.exports = __toCommonJS(recorder_exports);\n\n// packages/playwright-core/src/utils/isomorphic/stringUtils.ts\nfunction escapeWithQuotes(text, char = "\'") {\n  const stringified = JSON.stringify(text);\n  const escapedText = stringified.substring(1, stringified.length - 1).replace(/\\\\"/g, \'"\');\n  if (char === "\'")\n    return char + escapedText.replace(/[\']/g, "\\\\\'") + char;\n  if (char === \'"\')\n    return char + escapedText.replace(/["]/g, \'\\\\"\') + char;\n  if (char === "`")\n    return char + escapedText.replace(/[`]/g, "`") + char;\n  throw new Error("Invalid escape char");\n}\nfunction toTitleCase(name) {\n  return name.charAt(0).toUpperCase() + name.substring(1);\n}\nfunction toSnakeCase(name) {\n  return name.replace(/([a-z0-9])([A-Z])/g, "$1_$2").replace(/([A-Z])([A-Z][a-z])/g, "$1_$2").toLowerCase();\n}\nfunction cssEscape(s) {\n  let result = "";\n  for (let i = 0; i < s.length; i++)\n    result += cssEscapeOne(s, i);\n  return result;\n}\nfunction quoteCSSAttributeValue(text) {\n  return `"${cssEscape(text).replace(/\\\\ /g, " ")}"`;\n}\nfunction cssEscapeOne(s, i) {\n  const c = s.charCodeAt(i);\n  if (c === 0)\n    return "\\uFFFD";\n  if (c >= 1 && c <= 31 || c >= 48 && c <= 57 && (i === 0 || i === 1 && s.charCodeAt(0) === 45))\n    return "\\\\" + c.toString(16) + " ";\n  if (i === 0 && c === 45 && s.length === 1)\n    return "\\\\" + s.charAt(i);\n  if (c >= 128 || c === 45 || c === 95 || c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122)\n    return s.charAt(i);\n  return "\\\\" + s.charAt(i);\n}\nfunction normalizeWhiteSpace(text) {\n  return text.replace(/\\u200b/g, "").trim().replace(/\\s+/g, " ");\n}\nfunction normalizeEscapedRegexQuotes(source) {\n  return source.replace(/(^|[^\\\\])(\\\\\\\\)*\\\\([\'"`])/g, "$1$2$3");\n}\nfunction escapeRegexForSelector(re) {\n  if (re.unicode || re.unicodeSets)\n    return String(re);\n  return String(re).replace(/(^|[^\\\\])(\\\\\\\\)*(["\'`])/g, "$1$2\\\\$3").replace(/>>/g, "\\\\>\\\\>");\n}\nfunction escapeForTextSelector(text, exact) {\n  if (typeof text !== "string")\n    return escapeRegexForSelector(text);\n  return `${JSON.stringify(text)}${exact ? "s" : "i"}`;\n}\nfunction escapeForAttributeSelector(value, exact) {\n  if (typeof value !== "string")\n    return escapeRegexForSelector(value);\n  return `"${value.replace(/\\\\/g, "\\\\\\\\").replace(/["]/g, \'\\\\"\')}"${exact ? "s" : "i"}`;\n}\n\n// packages/playwright-core/src/server/injected/domUtils.ts\nvar browserNameForWorkarounds = "";\nfunction isInsideScope(scope, element) {\n  while (element) {\n    if (scope.contains(element))\n      return true;\n    element = enclosingShadowHost(element);\n  }\n  return false;\n}\nfunction parentElementOrShadowHost(element) {\n  if (element.parentElement)\n    return element.parentElement;\n  if (!element.parentNode)\n    return;\n  if (element.parentNode.nodeType === 11 && element.parentNode.host)\n    return element.parentNode.host;\n}\nfunction enclosingShadowRootOrDocument(element) {\n  let node = element;\n  while (node.parentNode)\n    node = node.parentNode;\n  if (node.nodeType === 11 || node.nodeType === 9)\n    return node;\n}\nfunction enclosingShadowHost(element) {\n  while (element.parentElement)\n    element = element.parentElement;\n  return parentElementOrShadowHost(element);\n}\nfunction closestCrossShadow(element, css, scope) {\n  while (element) {\n    const closest = element.closest(css);\n    if (scope && closest !== scope && (closest == null ? void 0 : closest.contains(scope)))\n      return;\n    if (closest)\n      return closest;\n    element = enclosingShadowHost(element);\n  }\n}\nfunction getElementComputedStyle(element, pseudo) {\n  return element.ownerDocument && element.ownerDocument.defaultView ? element.ownerDocument.defaultView.getComputedStyle(element, pseudo) : void 0;\n}\nfunction isElementStyleVisibilityVisible(element, style) {\n  style = style != null ? style : getElementComputedStyle(element);\n  if (!style)\n    return true;\n  if (Element.prototype.checkVisibility && browserNameForWorkarounds !== "webkit") {\n    if (!element.checkVisibility({ checkOpacity: false, checkVisibilityCSS: false }))\n      return false;\n  } else {\n    const detailsOrSummary = element.closest("details,summary");\n    if (detailsOrSummary !== element && (detailsOrSummary == null ? void 0 : detailsOrSummary.nodeName) === "DETAILS" && !detailsOrSummary.open)\n      return false;\n  }\n  if (style.visibility !== "visible")\n    return false;\n  return true;\n}\nfunction isVisibleTextNode(node) {\n  const range = node.ownerDocument.createRange();\n  range.selectNode(node);\n  const rect = range.getBoundingClientRect();\n  return rect.width > 0 && rect.height > 0;\n}\n\n// packages/playwright-core/src/server/injected/roleUtils.ts\nfunction hasExplicitAccessibleName(e) {\n  return e.hasAttribute("aria-label") || e.hasAttribute("aria-labelledby");\n}\nvar kAncestorPreventingLandmark = "article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]";\nvar kGlobalAriaAttributes = [\n  "aria-atomic",\n  "aria-busy",\n  "aria-controls",\n  "aria-current",\n  "aria-describedby",\n  "aria-details",\n  "aria-disabled",\n  "aria-dropeffect",\n  "aria-errormessage",\n  "aria-flowto",\n  "aria-grabbed",\n  "aria-haspopup",\n  "aria-hidden",\n  "aria-invalid",\n  "aria-keyshortcuts",\n  "aria-label",\n  "aria-labelledby",\n  "aria-live",\n  "aria-owns",\n  "aria-relevant",\n  "aria-roledescription"\n];\nfunction hasGlobalAriaAttribute(e) {\n  return kGlobalAriaAttributes.some((a) => e.hasAttribute(a));\n}\nvar kImplicitRoleByTagName = {\n  "A": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "AREA": (e) => {\n    return e.hasAttribute("href") ? "link" : null;\n  },\n  "ARTICLE": () => "article",\n  "ASIDE": () => "complementary",\n  "BLOCKQUOTE": () => "blockquote",\n  "BUTTON": () => "button",\n  "CAPTION": () => "caption",\n  "CODE": () => "code",\n  "DATALIST": () => "listbox",\n  "DD": () => "definition",\n  "DEL": () => "deletion",\n  "DETAILS": () => "group",\n  "DFN": () => "term",\n  "DIALOG": () => "dialog",\n  "DT": () => "term",\n  "EM": () => "emphasis",\n  "FIELDSET": () => "group",\n  "FIGURE": () => "figure",\n  "FOOTER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "contentinfo",\n  "FORM": (e) => hasExplicitAccessibleName(e) ? "form" : null,\n  "H1": () => "heading",\n  "H2": () => "heading",\n  "H3": () => "heading",\n  "H4": () => "heading",\n  "H5": () => "heading",\n  "H6": () => "heading",\n  "HEADER": (e) => closestCrossShadow(e, kAncestorPreventingLandmark) ? null : "banner",\n  "HR": () => "separator",\n  "HTML": () => "document",\n  "IMG": (e) => e.getAttribute("alt") === "" && !hasGlobalAriaAttribute(e) && Number.isNaN(Number(String(e.getAttribute("tabindex")))) ? "presentation" : "img",\n  "INPUT": (e) => {\n    const type = e.type.toLowerCase();\n    if (type === "search")\n      return e.hasAttribute("list") ? "combobox" : "searchbox";\n    if (["email", "tel", "text", "url", ""].includes(type)) {\n      const list = getIdRefs(e, e.getAttribute("list"))[0];\n      return list && list.tagName === "DATALIST" ? "combobox" : "textbox";\n    }\n    if (type === "hidden")\n      return "";\n    return {\n      "button": "button",\n      "checkbox": "checkbox",\n      "image": "button",\n      "number": "spinbutton",\n      "radio": "radio",\n      "range": "slider",\n      "reset": "button",\n      "submit": "button"\n    }[type] || "textbox";\n  },\n  "INS": () => "insertion",\n  "LI": () => "listitem",\n  "MAIN": () => "main",\n  "MARK": () => "mark",\n  "MATH": () => "math",\n  "MENU": () => "list",\n  "METER": () => "meter",\n  "NAV": () => "navigation",\n  "OL": () => "list",\n  "OPTGROUP": () => "group",\n  "OPTION": () => "option",\n  "OUTPUT": () => "status",\n  "P": () => "paragraph",\n  "PROGRESS": () => "progressbar",\n  "SECTION": (e) => hasExplicitAccessibleName(e) ? "region" : null,\n  "SELECT": (e) => e.hasAttribute("multiple") || e.size > 1 ? "listbox" : "combobox",\n  "STRONG": () => "strong",\n  "SUB": () => "subscript",\n  "SUP": () => "superscript",\n  // For <svg> we default to Chrome behavior:\n  // - Chrome reports \'img\'.\n  // - Firefox reports \'diagram\' that is not in official ARIA spec yet.\n  // - Safari reports \'no role\', but still computes accessible name.\n  "SVG": () => "img",\n  "TABLE": () => "table",\n  "TBODY": () => "rowgroup",\n  "TD": (e) => {\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "TEXTAREA": () => "textbox",\n  "TFOOT": () => "rowgroup",\n  "TH": (e) => {\n    if (e.getAttribute("scope") === "col")\n      return "columnheader";\n    if (e.getAttribute("scope") === "row")\n      return "rowheader";\n    const table = closestCrossShadow(e, "table");\n    const role = table ? getExplicitAriaRole(table) : "";\n    return role === "grid" || role === "treegrid" ? "gridcell" : "cell";\n  },\n  "THEAD": () => "rowgroup",\n  "TIME": () => "time",\n  "TR": () => "row",\n  "UL": () => "list"\n};\nvar kPresentationInheritanceParents = {\n  "DD": ["DL", "DIV"],\n  "DIV": ["DL"],\n  "DT": ["DL", "DIV"],\n  "LI": ["OL", "UL"],\n  "TBODY": ["TABLE"],\n  "TD": ["TR"],\n  "TFOOT": ["TABLE"],\n  "TH": ["TR"],\n  "THEAD": ["TABLE"],\n  "TR": ["THEAD", "TBODY", "TFOOT", "TABLE"]\n};\nfunction getImplicitAriaRole(element) {\n  var _a;\n  const implicitRole = ((_a = kImplicitRoleByTagName[element.tagName.toUpperCase()]) == null ? void 0 : _a.call(kImplicitRoleByTagName, element)) || "";\n  if (!implicitRole)\n    return null;\n  let ancestor = element;\n  while (ancestor) {\n    const parent = parentElementOrShadowHost(ancestor);\n    const parents = kPresentationInheritanceParents[ancestor.tagName];\n    if (!parents || !parent || !parents.includes(parent.tagName))\n      break;\n    const parentExplicitRole = getExplicitAriaRole(parent);\n    if ((parentExplicitRole === "none" || parentExplicitRole === "presentation") && !hasPresentationConflictResolution(parent))\n      return parentExplicitRole;\n    ancestor = parent;\n  }\n  return implicitRole;\n}\nvar allRoles = [\n  "alert",\n  "alertdialog",\n  "application",\n  "article",\n  "banner",\n  "blockquote",\n  "button",\n  "caption",\n  "cell",\n  "checkbox",\n  "code",\n  "columnheader",\n  "combobox",\n  "command",\n  "complementary",\n  "composite",\n  "contentinfo",\n  "definition",\n  "deletion",\n  "dialog",\n  "directory",\n  "document",\n  "emphasis",\n  "feed",\n  "figure",\n  "form",\n  "generic",\n  "grid",\n  "gridcell",\n  "group",\n  "heading",\n  "img",\n  "input",\n  "insertion",\n  "landmark",\n  "link",\n  "list",\n  "listbox",\n  "listitem",\n  "log",\n  "main",\n  "marquee",\n  "math",\n  "meter",\n  "menu",\n  "menubar",\n  "menuitem",\n  "menuitemcheckbox",\n  "menuitemradio",\n  "navigation",\n  "none",\n  "note",\n  "option",\n  "paragraph",\n  "presentation",\n  "progressbar",\n  "radio",\n  "radiogroup",\n  "range",\n  "region",\n  "roletype",\n  "row",\n  "rowgroup",\n  "rowheader",\n  "scrollbar",\n  "search",\n  "searchbox",\n  "section",\n  "sectionhead",\n  "select",\n  "separator",\n  "slider",\n  "spinbutton",\n  "status",\n  "strong",\n  "structure",\n  "subscript",\n  "superscript",\n  "switch",\n  "tab",\n  "table",\n  "tablist",\n  "tabpanel",\n  "term",\n  "textbox",\n  "time",\n  "timer",\n  "toolbar",\n  "tooltip",\n  "tree",\n  "treegrid",\n  "treeitem",\n  "widget",\n  "window"\n];\nvar abstractRoles = ["command", "composite", "input", "landmark", "range", "roletype", "section", "sectionhead", "select", "structure", "widget", "window"];\nvar validRoles = allRoles.filter((role) => !abstractRoles.includes(role));\nfunction getExplicitAriaRole(element) {\n  const roles = (element.getAttribute("role") || "").split(" ").map((role) => role.trim());\n  return roles.find((role) => validRoles.includes(role)) || null;\n}\nfunction hasPresentationConflictResolution(element) {\n  return !hasGlobalAriaAttribute(element);\n}\nfunction getAriaRole(element) {\n  const explicitRole = getExplicitAriaRole(element);\n  if (!explicitRole)\n    return getImplicitAriaRole(element);\n  if ((explicitRole === "none" || explicitRole === "presentation") && hasPresentationConflictResolution(element))\n    return getImplicitAriaRole(element);\n  return explicitRole;\n}\nfunction getAriaBoolean(attr) {\n  return attr === null ? void 0 : attr.toLowerCase() === "true";\n}\nfunction isElementHiddenForAria(element) {\n  if (["STYLE", "SCRIPT", "NOSCRIPT", "TEMPLATE"].includes(element.tagName))\n    return true;\n  const style = getElementComputedStyle(element);\n  const isSlot = element.nodeName === "SLOT";\n  if ((style == null ? void 0 : style.display) === "contents" && !isSlot) {\n    for (let child = element.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 1 && !isElementHiddenForAria(child))\n        return false;\n      if (child.nodeType === 3 && isVisibleTextNode(child))\n        return false;\n    }\n    return true;\n  }\n  const isOptionInsideSelect = element.nodeName === "OPTION" && !!element.closest("select");\n  if (!isOptionInsideSelect && !isSlot && !isElementStyleVisibilityVisible(element, style))\n    return true;\n  return belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element);\n}\nfunction belongsToDisplayNoneOrAriaHiddenOrNonSlotted(element) {\n  let hidden = cacheIsHidden == null ? void 0 : cacheIsHidden.get(element);\n  if (hidden === void 0) {\n    hidden = false;\n    if (element.parentElement && element.parentElement.shadowRoot && !element.assignedSlot)\n      hidden = true;\n    if (!hidden) {\n      const style = getElementComputedStyle(element);\n      hidden = !style || style.display === "none" || getAriaBoolean(element.getAttribute("aria-hidden")) === true;\n    }\n    if (!hidden) {\n      const parent = parentElementOrShadowHost(element);\n      if (parent)\n        hidden = belongsToDisplayNoneOrAriaHiddenOrNonSlotted(parent);\n    }\n    cacheIsHidden == null ? void 0 : cacheIsHidden.set(element, hidden);\n  }\n  return hidden;\n}\nfunction getIdRefs(element, ref) {\n  if (!ref)\n    return [];\n  const root = enclosingShadowRootOrDocument(element);\n  if (!root)\n    return [];\n  try {\n    const ids = ref.split(" ").filter((id) => !!id);\n    const set = /* @__PURE__ */ new Set();\n    for (const id of ids) {\n      const firstElement = root.querySelector("#" + CSS.escape(id));\n      if (firstElement)\n        set.add(firstElement);\n    }\n    return [...set];\n  } catch (e) {\n    return [];\n  }\n}\nfunction normalizeAccessbileName(s) {\n  return s.replace(/\\r\\n/g, "\\n").replace(/\\u00A0/g, " ").replace(/\\s\\s+/g, " ").trim();\n}\nfunction queryInAriaOwned(element, selector) {\n  const result = [...element.querySelectorAll(selector)];\n  for (const owned of getIdRefs(element, element.getAttribute("aria-owns"))) {\n    if (owned.matches(selector))\n      result.push(owned);\n    result.push(...owned.querySelectorAll(selector));\n  }\n  return result;\n}\nfunction getPseudoContent(pseudoStyle) {\n  if (!pseudoStyle)\n    return "";\n  const content = pseudoStyle.content;\n  if (content[0] === "\'" && content[content.length - 1] === "\'" || content[0] === \'"\' && content[content.length - 1] === \'"\') {\n    const unquoted = content.substring(1, content.length - 1);\n    const display = pseudoStyle.display || "inline";\n    if (display !== "inline")\n      return " " + unquoted + " ";\n    return unquoted;\n  }\n  return "";\n}\nfunction getAriaLabelledByElements(element) {\n  const ref = element.getAttribute("aria-labelledby");\n  if (ref === null)\n    return null;\n  return getIdRefs(element, ref);\n}\nfunction allowsNameFromContent(role, targetDescendant) {\n  const alwaysAllowsNameFromContent = ["button", "cell", "checkbox", "columnheader", "gridcell", "heading", "link", "menuitem", "menuitemcheckbox", "menuitemradio", "option", "radio", "row", "rowheader", "switch", "tab", "tooltip", "treeitem"].includes(role);\n  const descendantAllowsNameFromContent = targetDescendant && ["", "caption", "code", "contentinfo", "definition", "deletion", "emphasis", "insertion", "list", "listitem", "mark", "none", "paragraph", "presentation", "region", "row", "rowgroup", "section", "strong", "subscript", "superscript", "table", "term", "time"].includes(role);\n  return alwaysAllowsNameFromContent || descendantAllowsNameFromContent;\n}\nfunction getElementAccessibleName(element, includeHidden) {\n  const cache = includeHidden ? cacheAccessibleNameHidden : cacheAccessibleName;\n  let accessibleName = cache == null ? void 0 : cache.get(element);\n  if (accessibleName === void 0) {\n    accessibleName = "";\n    const elementProhibitsNaming = ["caption", "code", "definition", "deletion", "emphasis", "generic", "insertion", "mark", "paragraph", "presentation", "strong", "subscript", "suggestion", "superscript", "term", "time"].includes(getAriaRole(element) || "");\n    if (!elementProhibitsNaming) {\n      accessibleName = normalizeAccessbileName(getElementAccessibleNameInternal(element, {\n        includeHidden,\n        visitedElements: /* @__PURE__ */ new Set(),\n        embeddedInLabelledBy: "none",\n        embeddedInLabel: "none",\n        embeddedInTextAlternativeElement: false,\n        embeddedInTargetElement: "self"\n      }));\n    }\n    cache == null ? void 0 : cache.set(element, accessibleName);\n  }\n  return accessibleName;\n}\nfunction getElementAccessibleNameInternal(element, options) {\n  if (options.visitedElements.has(element))\n    return "";\n  const childOptions = {\n    ...options,\n    embeddedInLabel: options.embeddedInLabel === "self" ? "descendant" : options.embeddedInLabel,\n    embeddedInLabelledBy: options.embeddedInLabelledBy === "self" ? "descendant" : options.embeddedInLabelledBy,\n    embeddedInTargetElement: options.embeddedInTargetElement === "self" ? "descendant" : options.embeddedInTargetElement\n  };\n  if (!options.includeHidden && options.embeddedInLabelledBy !== "self" && isElementHiddenForAria(element)) {\n    options.visitedElements.add(element);\n    return "";\n  }\n  const labelledBy = getAriaLabelledByElements(element);\n  if (options.embeddedInLabelledBy === "none") {\n    const accessibleName = (labelledBy || []).map((ref) => getElementAccessibleNameInternal(ref, {\n      ...options,\n      embeddedInLabelledBy: "self",\n      embeddedInTargetElement: "none",\n      embeddedInLabel: "none",\n      embeddedInTextAlternativeElement: false\n    })).join(" ");\n    if (accessibleName)\n      return accessibleName;\n  }\n  const role = getAriaRole(element) || "";\n  if (options.embeddedInLabel !== "none" || options.embeddedInLabelledBy !== "none") {\n    const isOwnLabel = [...element.labels || []].includes(element);\n    const isOwnLabelledBy = (labelledBy || []).includes(element);\n    if (!isOwnLabel && !isOwnLabelledBy) {\n      if (role === "textbox") {\n        options.visitedElements.add(element);\n        if (element.tagName === "INPUT" || element.tagName === "TEXTAREA")\n          return element.value;\n        return element.textContent || "";\n      }\n      if (["combobox", "listbox"].includes(role)) {\n        options.visitedElements.add(element);\n        let selectedOptions;\n        if (element.tagName === "SELECT") {\n          selectedOptions = [...element.selectedOptions];\n          if (!selectedOptions.length && element.options.length)\n            selectedOptions.push(element.options[0]);\n        } else {\n          const listbox = role === "combobox" ? queryInAriaOwned(element, "*").find((e) => getAriaRole(e) === "listbox") : element;\n          selectedOptions = listbox ? queryInAriaOwned(listbox, \'[aria-selected="true"]\').filter((e) => getAriaRole(e) === "option") : [];\n        }\n        return selectedOptions.map((option) => getElementAccessibleNameInternal(option, childOptions)).join(" ");\n      }\n      if (["progressbar", "scrollbar", "slider", "spinbutton", "meter"].includes(role)) {\n        options.visitedElements.add(element);\n        if (element.hasAttribute("aria-valuetext"))\n          return element.getAttribute("aria-valuetext") || "";\n        if (element.hasAttribute("aria-valuenow"))\n          return element.getAttribute("aria-valuenow") || "";\n        return element.getAttribute("value") || "";\n      }\n      if (["menu"].includes(role)) {\n        options.visitedElements.add(element);\n        return "";\n      }\n    }\n  }\n  const ariaLabel = element.getAttribute("aria-label") || "";\n  if (ariaLabel.trim()) {\n    options.visitedElements.add(element);\n    return ariaLabel;\n  }\n  if (!["presentation", "none"].includes(role)) {\n    if (element.tagName === "INPUT" && ["button", "submit", "reset"].includes(element.type)) {\n      options.visitedElements.add(element);\n      const value = element.value || "";\n      if (value.trim())\n        return value;\n      if (element.type === "submit")\n        return "Submit";\n      if (element.type === "reset")\n        return "Reset";\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName === "INPUT" && element.type === "image") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length && options.embeddedInLabelledBy === "none")\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const alt = element.getAttribute("alt") || "";\n      if (alt.trim())\n        return alt;\n      const title = element.getAttribute("title") || "";\n      if (title.trim())\n        return title;\n      return "Submit";\n    }\n    if (!labelledBy && element.tagName === "BUTTON") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n    }\n    if (!labelledBy && element.tagName === "OUTPUT") {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      return element.getAttribute("title") || "";\n    }\n    if (!labelledBy && (element.tagName === "TEXTAREA" || element.tagName === "SELECT" || element.tagName === "INPUT")) {\n      options.visitedElements.add(element);\n      const labels = element.labels || [];\n      if (labels.length)\n        return getAccessibleNameFromAssociatedLabels(labels, options);\n      const usePlaceholder = element.tagName === "INPUT" && ["text", "password", "search", "tel", "email", "url"].includes(element.type) || element.tagName === "TEXTAREA";\n      const placeholder = element.getAttribute("placeholder") || "";\n      const title = element.getAttribute("title") || "";\n      if (!usePlaceholder || title)\n        return title;\n      return placeholder;\n    }\n    if (!labelledBy && element.tagName === "FIELDSET") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName === "LEGEND") {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInTextAlternativeElement: true\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (!labelledBy && element.tagName === "FIGURE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName === "FIGCAPTION") {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInTextAlternativeElement: true\n          });\n        }\n      }\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName === "IMG") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (alt.trim())\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName === "TABLE") {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName === "CAPTION") {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInTextAlternativeElement: true\n          });\n        }\n      }\n      const summary = element.getAttribute("summary") || "";\n      if (summary)\n        return summary;\n    }\n    if (element.tagName === "AREA") {\n      options.visitedElements.add(element);\n      const alt = element.getAttribute("alt") || "";\n      if (alt.trim())\n        return alt;\n      const title = element.getAttribute("title") || "";\n      return title;\n    }\n    if (element.tagName.toUpperCase() === "SVG" || element.ownerSVGElement) {\n      options.visitedElements.add(element);\n      for (let child = element.firstElementChild; child; child = child.nextElementSibling) {\n        if (child.tagName.toUpperCase() === "TITLE" && child.ownerSVGElement) {\n          return getElementAccessibleNameInternal(child, {\n            ...childOptions,\n            embeddedInLabelledBy: "self"\n          });\n        }\n      }\n    }\n    if (element.ownerSVGElement && element.tagName.toUpperCase() === "A") {\n      const title = element.getAttribute("xlink:title") || "";\n      if (title.trim()) {\n        options.visitedElements.add(element);\n        return title;\n      }\n    }\n  }\n  if (allowsNameFromContent(role, options.embeddedInTargetElement === "descendant") || options.embeddedInLabelledBy !== "none" || options.embeddedInLabel !== "none" || options.embeddedInTextAlternativeElement) {\n    options.visitedElements.add(element);\n    const tokens = [];\n    const visit = (node, skipSlotted) => {\n      var _a;\n      if (skipSlotted && node.assignedSlot)\n        return;\n      if (node.nodeType === 1) {\n        const display = ((_a = getElementComputedStyle(node)) == null ? void 0 : _a.display) || "inline";\n        let token = getElementAccessibleNameInternal(node, childOptions);\n        if (display !== "inline" || node.nodeName === "BR")\n          token = " " + token + " ";\n        tokens.push(token);\n      } else if (node.nodeType === 3) {\n        tokens.push(node.textContent || "");\n      }\n    };\n    tokens.push(getPseudoContent(getElementComputedStyle(element, "::before")));\n    const assignedNodes = element.nodeName === "SLOT" ? element.assignedNodes() : [];\n    if (assignedNodes.length) {\n      for (const child of assignedNodes)\n        visit(child, false);\n    } else {\n      for (let child = element.firstChild; child; child = child.nextSibling)\n        visit(child, true);\n      if (element.shadowRoot) {\n        for (let child = element.shadowRoot.firstChild; child; child = child.nextSibling)\n          visit(child, true);\n      }\n      for (const owned of getIdRefs(element, element.getAttribute("aria-owns")))\n        visit(owned, true);\n    }\n    tokens.push(getPseudoContent(getElementComputedStyle(element, "::after")));\n    const accessibleName = tokens.join("");\n    if (accessibleName.trim())\n      return accessibleName;\n  }\n  if (!["presentation", "none"].includes(role) || element.tagName === "IFRAME") {\n    options.visitedElements.add(element);\n    const title = element.getAttribute("title") || "";\n    if (title.trim())\n      return title;\n  }\n  options.visitedElements.add(element);\n  return "";\n}\nfunction getAccessibleNameFromAssociatedLabels(labels, options) {\n  return [...labels].map((label) => getElementAccessibleNameInternal(label, {\n    ...options,\n    embeddedInLabel: "self",\n    embeddedInTextAlternativeElement: false,\n    embeddedInLabelledBy: "none",\n    embeddedInTargetElement: "none"\n  })).filter((accessibleName) => !!accessibleName).join(" ");\n}\nvar cacheAccessibleName;\nvar cacheAccessibleNameHidden;\nvar cacheIsHidden;\nvar cachesCounter = 0;\nfunction beginAriaCaches() {\n  ++cachesCounter;\n  cacheAccessibleName != null ? cacheAccessibleName : cacheAccessibleName = /* @__PURE__ */ new Map();\n  cacheAccessibleNameHidden != null ? cacheAccessibleNameHidden : cacheAccessibleNameHidden = /* @__PURE__ */ new Map();\n  cacheIsHidden != null ? cacheIsHidden : cacheIsHidden = /* @__PURE__ */ new Map();\n}\nfunction endAriaCaches() {\n  if (!--cachesCounter) {\n    cacheAccessibleName = void 0;\n    cacheAccessibleNameHidden = void 0;\n    cacheIsHidden = void 0;\n  }\n}\n\n// packages/playwright-core/src/server/injected/selectorUtils.ts\nfunction shouldSkipForTextMatching(element) {\n  const document = element.ownerDocument;\n  return element.nodeName === "SCRIPT" || element.nodeName === "NOSCRIPT" || element.nodeName === "STYLE" || document.head && document.head.contains(element);\n}\nfunction elementText(cache, root) {\n  let value = cache.get(root);\n  if (value === void 0) {\n    value = { full: "", immediate: [] };\n    if (!shouldSkipForTextMatching(root)) {\n      let currentImmediate = "";\n      if (root instanceof HTMLInputElement && (root.type === "submit" || root.type === "button")) {\n        value = { full: root.value, immediate: [root.value] };\n      } else {\n        for (let child = root.firstChild; child; child = child.nextSibling) {\n          if (child.nodeType === Node.TEXT_NODE) {\n            value.full += child.nodeValue || "";\n            currentImmediate += child.nodeValue || "";\n          } else {\n            if (currentImmediate)\n              value.immediate.push(currentImmediate);\n            currentImmediate = "";\n            if (child.nodeType === Node.ELEMENT_NODE)\n              value.full += elementText(cache, child).full;\n          }\n        }\n        if (currentImmediate)\n          value.immediate.push(currentImmediate);\n        if (root.shadowRoot)\n          value.full += elementText(cache, root.shadowRoot).full;\n      }\n    }\n    cache.set(root, value);\n  }\n  return value;\n}\nfunction getElementLabels(textCache, element) {\n  const labels = getAriaLabelledByElements(element);\n  if (labels)\n    return labels.map((label) => elementText(textCache, label));\n  const ariaLabel = element.getAttribute("aria-label");\n  if (ariaLabel !== null && !!ariaLabel.trim())\n    return [{ full: ariaLabel, immediate: [ariaLabel] }];\n  const isNonHiddenInput = element.nodeName === "INPUT" && element.type !== "hidden";\n  if (["BUTTON", "METER", "OUTPUT", "PROGRESS", "SELECT", "TEXTAREA"].includes(element.nodeName) || isNonHiddenInput) {\n    const labels2 = element.labels;\n    if (labels2)\n      return [...labels2].map((label) => elementText(textCache, label));\n  }\n  return [];\n}\n\n// packages/playwright-core/src/server/injected/selectorGenerator.ts\nvar cacheAllowText = /* @__PURE__ */ new Map();\nvar cacheDisallowText = /* @__PURE__ */ new Map();\nvar kTextScoreRange = 10;\nvar kExactPenalty = kTextScoreRange / 2;\nvar kTestIdScore = 1;\nvar kOtherTestIdScore = 2;\nvar kIframeByAttributeScore = 10;\nvar kBeginPenalizedScore = 50;\nvar kPlaceholderScore = 100;\nvar kLabelScore = 120;\nvar kRoleWithNameScore = 140;\nvar kAltTextScore = 160;\nvar kTextScore = 180;\nvar kTitleScore = 200;\nvar kTextScoreRegex = 250;\nvar kPlaceholderScoreExact = kPlaceholderScore + kExactPenalty;\nvar kLabelScoreExact = kLabelScore + kExactPenalty;\nvar kRoleWithNameScoreExact = kRoleWithNameScore + kExactPenalty;\nvar kAltTextScoreExact = kAltTextScore + kExactPenalty;\nvar kTextScoreExact = kTextScore + kExactPenalty;\nvar kTitleScoreExact = kTitleScore + kExactPenalty;\nvar kEndPenalizedScore = 300;\nvar kCSSIdScore = 500;\nvar kRoleWithoutNameScore = 510;\nvar kCSSInputTypeNameScore = 520;\nvar kCSSTagNameScore = 530;\nvar kNthScore = 1e4;\nvar kCSSFallbackScore = 1e7;\nvar kScoreThresholdForTextExpect = 1e3;\nfunction generateSelector(injectedScript, targetElement, options) {\n  var _a;\n  injectedScript._evaluator.begin();\n  beginAriaCaches();\n  try {\n    let targetTokens;\n    if (options.forTextExpect) {\n      targetTokens = cssFallback(injectedScript, targetElement.ownerDocument.documentElement, options);\n      for (let element = targetElement; element; element = parentElementOrShadowHost(element)) {\n        const tokens = generateSelectorFor(injectedScript, element, options);\n        if (!tokens)\n          continue;\n        const score = combineScores(tokens);\n        if (score <= kScoreThresholdForTextExpect) {\n          targetTokens = tokens;\n          break;\n        }\n      }\n    } else {\n      targetElement = closestCrossShadow(targetElement, "button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]", options.root) || targetElement;\n      targetTokens = generateSelectorFor(injectedScript, targetElement, options) || cssFallback(injectedScript, targetElement, options);\n    }\n    const selector = joinTokens(targetTokens);\n    const parsedSelector = injectedScript.parseSelector(selector);\n    return {\n      selector,\n      elements: injectedScript.querySelectorAll(parsedSelector, (_a = options.root) != null ? _a : targetElement.ownerDocument)\n    };\n  } finally {\n    cacheAllowText.clear();\n    cacheDisallowText.clear();\n    endAriaCaches();\n    injectedScript._evaluator.end();\n  }\n}\nfunction filterRegexTokens(textCandidates) {\n  return textCandidates.filter((c) => c[0].selector[0] !== "/");\n}\nfunction generateSelectorFor(injectedScript, targetElement, options) {\n  if (options.root && !isInsideScope(options.root, targetElement))\n    throw new Error(`Target element must belong to the root\'s subtree`);\n  if (targetElement === options.root)\n    return [{ engine: "css", selector: ":scope", score: 1 }];\n  if (targetElement.ownerDocument.documentElement === targetElement)\n    return [{ engine: "css", selector: "html", score: 1 }];\n  const calculate = (element, allowText) => {\n    var _a;\n    const allowNthMatch = element === targetElement;\n    let textCandidates = allowText ? buildTextCandidates(injectedScript, element, element === targetElement) : [];\n    if (element !== targetElement) {\n      textCandidates = filterRegexTokens(textCandidates);\n    }\n    const noTextCandidates = buildNoTextCandidates(injectedScript, element, options).filter((token) => !options.omitInternalEngines || !token.engine.startsWith("internal:")).map((token) => [token]);\n    let result = chooseFirstSelector(injectedScript, (_a = options.root) != null ? _a : targetElement.ownerDocument, element, [...textCandidates, ...noTextCandidates], allowNthMatch);\n    textCandidates = filterRegexTokens(textCandidates);\n    const checkWithText = (textCandidatesToUse) => {\n      const allowParentText = allowText && !textCandidatesToUse.length;\n      const candidates = [...textCandidatesToUse, ...noTextCandidates].filter((c) => {\n        if (!result)\n          return true;\n        return combineScores(c) < combineScores(result);\n      });\n      let bestPossibleInParent = candidates[0];\n      if (!bestPossibleInParent)\n        return;\n      for (let parent = parentElementOrShadowHost(element); parent && parent !== options.root; parent = parentElementOrShadowHost(parent)) {\n        const parentTokens = calculateCached(parent, allowParentText);\n        if (!parentTokens)\n          continue;\n        if (result && combineScores([...parentTokens, ...bestPossibleInParent]) >= combineScores(result))\n          continue;\n        bestPossibleInParent = chooseFirstSelector(injectedScript, parent, element, candidates, allowNthMatch);\n        if (!bestPossibleInParent)\n          return;\n        const combined = [...parentTokens, ...bestPossibleInParent];\n        if (!result || combineScores(combined) < combineScores(result))\n          result = combined;\n      }\n    };\n    checkWithText(textCandidates);\n    if (element === targetElement && textCandidates.length)\n      checkWithText([]);\n    return result;\n  };\n  const calculateCached = (element, allowText) => {\n    const cache = allowText ? cacheAllowText : cacheDisallowText;\n    let value = cache.get(element);\n    if (value === void 0) {\n      value = calculate(element, allowText);\n      cache.set(element, value);\n    }\n    return value;\n  };\n  return calculate(targetElement, !options.forTextExpect);\n}\nfunction buildNoTextCandidates(injectedScript, element, options) {\n  const candidates = [];\n  {\n    for (const attr of ["data-testid", "data-test-id", "data-test"]) {\n      if (attr !== options.testIdAttributeName && element.getAttribute(attr))\n        candidates.push({ engine: "css", selector: `[${attr}=${quoteCSSAttributeValue(element.getAttribute(attr))}]`, score: kOtherTestIdScore });\n    }\n    const idAttr = element.getAttribute("id");\n    if (idAttr && !isGuidLike(idAttr))\n      candidates.push({ engine: "css", selector: makeSelectorForId(idAttr), score: kCSSIdScore });\n    candidates.push({ engine: "css", selector: cssEscape(element.nodeName.toLowerCase()), score: kCSSTagNameScore });\n  }\n  if (element.nodeName === "IFRAME") {\n    for (const attribute of ["name", "title"]) {\n      if (element.getAttribute(attribute))\n        candidates.push({ engine: "css", selector: `${cssEscape(element.nodeName.toLowerCase())}[${attribute}=${quoteCSSAttributeValue(element.getAttribute(attribute))}]`, score: kIframeByAttributeScore });\n    }\n    if (element.getAttribute(options.testIdAttributeName))\n      candidates.push({ engine: "css", selector: `[${options.testIdAttributeName}=${quoteCSSAttributeValue(element.getAttribute(options.testIdAttributeName))}]`, score: kTestIdScore });\n    penalizeScoreForLength([candidates]);\n    return candidates;\n  }\n  if (element.getAttribute(options.testIdAttributeName))\n    candidates.push({ engine: "internal:testid", selector: `[${options.testIdAttributeName}=${escapeForAttributeSelector(element.getAttribute(options.testIdAttributeName), true)}]`, score: kTestIdScore });\n  if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {\n    const input = element;\n    if (input.placeholder) {\n      candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(input.placeholder, true)}]`, score: kPlaceholderScoreExact });\n      for (const alternative of suitableTextAlternatives(input.placeholder))\n        candidates.push({ engine: "internal:attr", selector: `[placeholder=${escapeForAttributeSelector(alternative.text, false)}]`, score: kPlaceholderScore - alternative.scoreBouns });\n    }\n  }\n  const labels = getElementLabels(injectedScript._evaluator._cacheText, element);\n  for (const label of labels) {\n    const labelText = label.full.trim();\n    candidates.push({ engine: "internal:label", selector: escapeForTextSelector(labelText, true), score: kLabelScoreExact });\n    for (const alternative of suitableTextAlternatives(labelText))\n      candidates.push({ engine: "internal:label", selector: escapeForTextSelector(alternative.text, false), score: kLabelScore - alternative.scoreBouns });\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole))\n    candidates.push({ engine: "internal:role", selector: ariaRole, score: kRoleWithoutNameScore });\n  if (element.getAttribute("name") && ["BUTTON", "FORM", "FIELDSET", "FRAME", "IFRAME", "INPUT", "KEYGEN", "OBJECT", "OUTPUT", "SELECT", "TEXTAREA", "MAP", "META", "PARAM"].includes(element.nodeName))\n    candidates.push({ engine: "css", selector: `${cssEscape(element.nodeName.toLowerCase())}[name=${quoteCSSAttributeValue(element.getAttribute("name"))}]`, score: kCSSInputTypeNameScore });\n  if (["INPUT", "TEXTAREA"].includes(element.nodeName) && element.getAttribute("type") !== "hidden") {\n    if (element.getAttribute("type"))\n      candidates.push({ engine: "css", selector: `${cssEscape(element.nodeName.toLowerCase())}[type=${quoteCSSAttributeValue(element.getAttribute("type"))}]`, score: kCSSInputTypeNameScore });\n  }\n  if (["INPUT", "TEXTAREA", "SELECT"].includes(element.nodeName) && element.getAttribute("type") !== "hidden")\n    candidates.push({ engine: "css", selector: cssEscape(element.nodeName.toLowerCase()), score: kCSSInputTypeNameScore + 1 });\n  penalizeScoreForLength([candidates]);\n  return candidates;\n}\nfunction buildTextCandidates(injectedScript, element, isTargetNode) {\n  if (element.nodeName === "SELECT")\n    return [];\n  const candidates = [];\n  const title = element.getAttribute("title");\n  if (title) {\n    candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(title, true)}]`, score: kTitleScoreExact }]);\n    for (const alternative of suitableTextAlternatives(title))\n      candidates.push([{ engine: "internal:attr", selector: `[title=${escapeForAttributeSelector(alternative.text, false)}]`, score: kTitleScore - alternative.scoreBouns }]);\n  }\n  const alt = element.getAttribute("alt");\n  if (alt && ["APPLET", "AREA", "IMG", "INPUT"].includes(element.nodeName)) {\n    candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alt, true)}]`, score: kAltTextScoreExact }]);\n    for (const alternative of suitableTextAlternatives(alt))\n      candidates.push([{ engine: "internal:attr", selector: `[alt=${escapeForAttributeSelector(alternative.text, false)}]`, score: kAltTextScore - alternative.scoreBouns }]);\n  }\n  const text = normalizeWhiteSpace(elementText(injectedScript._evaluator._cacheText, element).full);\n  if (text) {\n    const alternatives = suitableTextAlternatives(text);\n    if (isTargetNode) {\n      if (text.length <= 80)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(text, true), score: kTextScoreExact }]);\n      for (const alternative of alternatives)\n        candidates.push([{ engine: "internal:text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBouns }]);\n    }\n    const cssToken = { engine: "css", selector: cssEscape(element.nodeName.toLowerCase()), score: kCSSTagNameScore };\n    for (const alternative of alternatives)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: escapeForTextSelector(alternative.text, false), score: kTextScore - alternative.scoreBouns }]);\n    if (text.length <= 80)\n      candidates.push([cssToken, { engine: "internal:has-text", selector: "/^" + escapeRegExp(text) + "$/", score: kTextScoreRegex }]);\n  }\n  const ariaRole = getAriaRole(element);\n  if (ariaRole && !["none", "presentation"].includes(ariaRole)) {\n    const ariaName = getElementAccessibleName(element, false);\n    if (ariaName) {\n      candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(ariaName, true)}]`, score: kRoleWithNameScoreExact }]);\n      for (const alternative of suitableTextAlternatives(ariaName))\n        candidates.push([{ engine: "internal:role", selector: `${ariaRole}[name=${escapeForAttributeSelector(alternative.text, false)}]`, score: kRoleWithNameScore - alternative.scoreBouns }]);\n    }\n  }\n  penalizeScoreForLength(candidates);\n  return candidates;\n}\nfunction makeSelectorForId(id) {\n  return /^[a-zA-Z][a-zA-Z0-9\\-\\_]+$/.test(id) ? "#" + id : `[id="${cssEscape(id)}"]`;\n}\nfunction cssFallback(injectedScript, targetElement, options) {\n  var _a;\n  const root = (_a = options.root) != null ? _a : targetElement.ownerDocument;\n  const tokens = [];\n  function uniqueCSSSelector(prefix) {\n    const path = tokens.slice();\n    if (prefix)\n      path.unshift(prefix);\n    const selector = path.join(" > ");\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const node = injectedScript.querySelector(parsedSelector, root, false);\n    return node === targetElement ? selector : void 0;\n  }\n  function makeStrict(selector) {\n    const token = { engine: "css", selector, score: kCSSFallbackScore };\n    const parsedSelector = injectedScript.parseSelector(selector);\n    const elements = injectedScript.querySelectorAll(parsedSelector, root);\n    if (elements.length === 1)\n      return [token];\n    const nth = { engine: "nth", selector: String(elements.indexOf(targetElement)), score: kNthScore };\n    return [token, nth];\n  }\n  for (let element = targetElement; element && element !== root; element = parentElementOrShadowHost(element)) {\n    const nodeName = element.nodeName.toLowerCase();\n    let bestTokenForLevel = "";\n    if (element.id) {\n      const token = makeSelectorForId(element.id);\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      bestTokenForLevel = token;\n    }\n    const parent = element.parentNode;\n    const classes = [...element.classList];\n    for (let i = 0; i < classes.length; ++i) {\n      const token = "." + cssEscape(classes.slice(0, i + 1).join("."));\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel && parent) {\n        const sameClassSiblings = parent.querySelectorAll(token);\n        if (sameClassSiblings.length === 1)\n          bestTokenForLevel = token;\n      }\n    }\n    if (parent) {\n      const siblings = [...parent.children];\n      const sameTagSiblings = siblings.filter((sibling) => sibling.nodeName.toLowerCase() === nodeName);\n      const token = sameTagSiblings.indexOf(element) === 0 ? cssEscape(nodeName) : `${cssEscape(nodeName)}:nth-child(${1 + siblings.indexOf(element)})`;\n      const selector = uniqueCSSSelector(token);\n      if (selector)\n        return makeStrict(selector);\n      if (!bestTokenForLevel)\n        bestTokenForLevel = token;\n    } else if (!bestTokenForLevel) {\n      bestTokenForLevel = cssEscape(nodeName);\n    }\n    tokens.unshift(bestTokenForLevel);\n  }\n  return makeStrict(uniqueCSSSelector());\n}\nfunction penalizeScoreForLength(groups) {\n  for (const group of groups) {\n    for (const token of group) {\n      if (token.score > kBeginPenalizedScore && token.score < kEndPenalizedScore)\n        token.score += Math.min(kTextScoreRange, token.selector.length / 10 | 0);\n    }\n  }\n}\nfunction joinTokens(tokens) {\n  const parts = [];\n  let lastEngine = "";\n  for (const { engine, selector } of tokens) {\n    if (parts.length && (lastEngine !== "css" || engine !== "css" || selector.startsWith(":nth-match(")))\n      parts.push(">>");\n    lastEngine = engine;\n    if (engine === "css")\n      parts.push(selector);\n    else\n      parts.push(`${engine}=${selector}`);\n  }\n  return parts.join(" ");\n}\nfunction combineScores(tokens) {\n  let score = 0;\n  for (let i = 0; i < tokens.length; i++)\n    score += tokens[i].score * (tokens.length - i);\n  return score;\n}\nfunction chooseFirstSelector(injectedScript, scope, targetElement, selectors, allowNthMatch) {\n  const joined = selectors.map((tokens) => ({ tokens, score: combineScores(tokens) }));\n  joined.sort((a, b) => a.score - b.score);\n  let bestWithIndex = null;\n  for (const { tokens } of joined) {\n    const parsedSelector = injectedScript.parseSelector(joinTokens(tokens));\n    const result = injectedScript.querySelectorAll(parsedSelector, scope);\n    if (result[0] === targetElement && result.length === 1) {\n      return tokens;\n    }\n    const index = result.indexOf(targetElement);\n    if (!allowNthMatch || bestWithIndex || index === -1 || result.length > 5)\n      continue;\n    const nth = { engine: "nth", selector: String(index), score: kNthScore };\n    bestWithIndex = [...tokens, nth];\n  }\n  return bestWithIndex;\n}\nfunction isGuidLike(id) {\n  let lastCharacterType;\n  let transitionCount = 0;\n  for (let i = 0; i < id.length; ++i) {\n    const c = id[i];\n    let characterType;\n    if (c === "-" || c === "_")\n      continue;\n    if (c >= "a" && c <= "z")\n      characterType = "lower";\n    else if (c >= "A" && c <= "Z")\n      characterType = "upper";\n    else if (c >= "0" && c <= "9")\n      characterType = "digit";\n    else\n      characterType = "other";\n    if (characterType === "lower" && lastCharacterType === "upper") {\n      lastCharacterType = characterType;\n      continue;\n    }\n    if (lastCharacterType && lastCharacterType !== characterType)\n      ++transitionCount;\n    lastCharacterType = characterType;\n  }\n  return transitionCount >= id.length / 4;\n}\nfunction escapeRegExp(s) {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&");\n}\nfunction trimWordBoundary(text, maxLength) {\n  if (text.length <= maxLength)\n    return text;\n  text = text.substring(0, maxLength);\n  const match = text.match(/^(.*)\\b(.+?)$/);\n  if (!match)\n    return "";\n  return match[1].trimEnd();\n}\nfunction suitableTextAlternatives(text) {\n  let result = [];\n  {\n    const match = text.match(/^([\\d.,]+)[^.,\\w]/);\n    const leadingNumberLength = match ? match[1].length : 0;\n    if (leadingNumberLength) {\n      const alt = text.substring(leadingNumberLength).trimStart();\n      result.push({ text: alt, scoreBouns: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  {\n    const match = text.match(/[^.,\\w]([\\d.,]+)$/);\n    const trailingNumberLength = match ? match[1].length : 0;\n    if (trailingNumberLength) {\n      const alt = text.substring(0, text.length - trailingNumberLength).trimEnd();\n      result.push({ text: alt, scoreBouns: alt.length <= 30 ? 2 : 1 });\n    }\n  }\n  if (text.length <= 30) {\n    result.push({ text, scoreBouns: 0 });\n  } else {\n    result.push({ text: trimWordBoundary(text, 80), scoreBouns: 0 });\n    result.push({ text: trimWordBoundary(text, 30), scoreBouns: 1 });\n  }\n  result = result.filter((r) => r.text);\n  if (!result.length)\n    result.push({ text: text.substring(0, 80), scoreBouns: 0 });\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssTokenizer.ts\nvar between = function(num, first, last) {\n  return num >= first && num <= last;\n};\nfunction digit(code) {\n  return between(code, 48, 57);\n}\nfunction hexdigit(code) {\n  return digit(code) || between(code, 65, 70) || between(code, 97, 102);\n}\nfunction uppercaseletter(code) {\n  return between(code, 65, 90);\n}\nfunction lowercaseletter(code) {\n  return between(code, 97, 122);\n}\nfunction letter(code) {\n  return uppercaseletter(code) || lowercaseletter(code);\n}\nfunction nonascii(code) {\n  return code >= 128;\n}\nfunction namestartchar(code) {\n  return letter(code) || nonascii(code) || code === 95;\n}\nfunction namechar(code) {\n  return namestartchar(code) || digit(code) || code === 45;\n}\nfunction nonprintable(code) {\n  return between(code, 0, 8) || code === 11 || between(code, 14, 31) || code === 127;\n}\nfunction newline(code) {\n  return code === 10;\n}\nfunction whitespace(code) {\n  return newline(code) || code === 9 || code === 32;\n}\nvar maximumallowedcodepoint = 1114111;\nvar InvalidCharacterError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = "InvalidCharacterError";\n  }\n};\nfunction preprocess(str) {\n  const codepoints = [];\n  for (let i = 0; i < str.length; i++) {\n    let code = str.charCodeAt(i);\n    if (code === 13 && str.charCodeAt(i + 1) === 10) {\n      code = 10;\n      i++;\n    }\n    if (code === 13 || code === 12)\n      code = 10;\n    if (code === 0)\n      code = 65533;\n    if (between(code, 55296, 56319) && between(str.charCodeAt(i + 1), 56320, 57343)) {\n      const lead = code - 55296;\n      const trail = str.charCodeAt(i + 1) - 56320;\n      code = Math.pow(2, 16) + lead * Math.pow(2, 10) + trail;\n      i++;\n    }\n    codepoints.push(code);\n  }\n  return codepoints;\n}\nfunction stringFromCode(code) {\n  if (code <= 65535)\n    return String.fromCharCode(code);\n  code -= Math.pow(2, 16);\n  const lead = Math.floor(code / Math.pow(2, 10)) + 55296;\n  const trail = code % Math.pow(2, 10) + 56320;\n  return String.fromCharCode(lead) + String.fromCharCode(trail);\n}\nfunction tokenize(str1) {\n  const str = preprocess(str1);\n  let i = -1;\n  const tokens = [];\n  let code;\n  let line = 0;\n  let column = 0;\n  let lastLineLength = 0;\n  const incrLineno = function() {\n    line += 1;\n    lastLineLength = column;\n    column = 0;\n  };\n  const locStart = { line, column };\n  const codepoint = function(i2) {\n    if (i2 >= str.length)\n      return -1;\n    return str[i2];\n  };\n  const next = function(num) {\n    if (num === void 0)\n      num = 1;\n    if (num > 3)\n      throw "Spec Error: no more than three codepoints of lookahead.";\n    return codepoint(i + num);\n  };\n  const consume = function(num) {\n    if (num === void 0)\n      num = 1;\n    i += num;\n    code = codepoint(i);\n    if (newline(code))\n      incrLineno();\n    else\n      column += num;\n    return true;\n  };\n  const reconsume = function() {\n    i -= 1;\n    if (newline(code)) {\n      line -= 1;\n      column = lastLineLength;\n    } else {\n      column -= 1;\n    }\n    locStart.line = line;\n    locStart.column = column;\n    return true;\n  };\n  const eof = function(codepoint2) {\n    if (codepoint2 === void 0)\n      codepoint2 = code;\n    return codepoint2 === -1;\n  };\n  const donothing = function() {\n  };\n  const parseerror = function() {\n  };\n  const consumeAToken = function() {\n    consumeComments();\n    consume();\n    if (whitespace(code)) {\n      while (whitespace(next()))\n        consume();\n      return new WhitespaceToken();\n    } else if (code === 34) {\n      return consumeAStringToken();\n    } else if (code === 35) {\n      if (namechar(next()) || areAValidEscape(next(1), next(2))) {\n        const token = new HashToken("");\n        if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n          token.type = "id";\n        token.value = consumeAName();\n        return token;\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 36) {\n      if (next() === 61) {\n        consume();\n        return new SuffixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 39) {\n      return consumeAStringToken();\n    } else if (code === 40) {\n      return new OpenParenToken();\n    } else if (code === 41) {\n      return new CloseParenToken();\n    } else if (code === 42) {\n      if (next() === 61) {\n        consume();\n        return new SubstringMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 43) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 44) {\n      return new CommaToken();\n    } else if (code === 45) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else if (next(1) === 45 && next(2) === 62) {\n        consume(2);\n        return new CDCToken();\n      } else if (startsWithAnIdentifier()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 46) {\n      if (startsWithANumber()) {\n        reconsume();\n        return consumeANumericToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 58) {\n      return new ColonToken();\n    } else if (code === 59) {\n      return new SemicolonToken();\n    } else if (code === 60) {\n      if (next(1) === 33 && next(2) === 45 && next(3) === 45) {\n        consume(3);\n        return new CDOToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 64) {\n      if (wouldStartAnIdentifier(next(1), next(2), next(3)))\n        return new AtKeywordToken(consumeAName());\n      else\n        return new DelimToken(code);\n    } else if (code === 91) {\n      return new OpenSquareToken();\n    } else if (code === 92) {\n      if (startsWithAValidEscape()) {\n        reconsume();\n        return consumeAnIdentlikeToken();\n      } else {\n        parseerror();\n        return new DelimToken(code);\n      }\n    } else if (code === 93) {\n      return new CloseSquareToken();\n    } else if (code === 94) {\n      if (next() === 61) {\n        consume();\n        return new PrefixMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 123) {\n      return new OpenCurlyToken();\n    } else if (code === 124) {\n      if (next() === 61) {\n        consume();\n        return new DashMatchToken();\n      } else if (next() === 124) {\n        consume();\n        return new ColumnToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (code === 125) {\n      return new CloseCurlyToken();\n    } else if (code === 126) {\n      if (next() === 61) {\n        consume();\n        return new IncludeMatchToken();\n      } else {\n        return new DelimToken(code);\n      }\n    } else if (digit(code)) {\n      reconsume();\n      return consumeANumericToken();\n    } else if (namestartchar(code)) {\n      reconsume();\n      return consumeAnIdentlikeToken();\n    } else if (eof()) {\n      return new EOFToken();\n    } else {\n      return new DelimToken(code);\n    }\n  };\n  const consumeComments = function() {\n    while (next(1) === 47 && next(2) === 42) {\n      consume(2);\n      while (true) {\n        consume();\n        if (code === 42 && next() === 47) {\n          consume();\n          break;\n        } else if (eof()) {\n          parseerror();\n          return;\n        }\n      }\n    }\n  };\n  const consumeANumericToken = function() {\n    const num = consumeANumber();\n    if (wouldStartAnIdentifier(next(1), next(2), next(3))) {\n      const token = new DimensionToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      token.unit = consumeAName();\n      return token;\n    } else if (next() === 37) {\n      consume();\n      const token = new PercentageToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      return token;\n    } else {\n      const token = new NumberToken();\n      token.value = num.value;\n      token.repr = num.repr;\n      token.type = num.type;\n      return token;\n    }\n  };\n  const consumeAnIdentlikeToken = function() {\n    const str2 = consumeAName();\n    if (str2.toLowerCase() === "url" && next() === 40) {\n      consume();\n      while (whitespace(next(1)) && whitespace(next(2)))\n        consume();\n      if (next() === 34 || next() === 39)\n        return new FunctionToken(str2);\n      else if (whitespace(next()) && (next(2) === 34 || next(2) === 39))\n        return new FunctionToken(str2);\n      else\n        return consumeAURLToken();\n    } else if (next() === 40) {\n      consume();\n      return new FunctionToken(str2);\n    } else {\n      return new IdentToken(str2);\n    }\n  };\n  const consumeAStringToken = function(endingCodePoint) {\n    if (endingCodePoint === void 0)\n      endingCodePoint = code;\n    let string = "";\n    while (consume()) {\n      if (code === endingCodePoint || eof()) {\n        return new StringToken(string);\n      } else if (newline(code)) {\n        parseerror();\n        reconsume();\n        return new BadStringToken();\n      } else if (code === 92) {\n        if (eof(next()))\n          donothing();\n        else if (newline(next()))\n          consume();\n        else\n          string += stringFromCode(consumeEscape());\n      } else {\n        string += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeAURLToken = function() {\n    const token = new URLToken("");\n    while (whitespace(next()))\n      consume();\n    if (eof(next()))\n      return token;\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return token;\n      } else if (whitespace(code)) {\n        while (whitespace(next()))\n          consume();\n        if (next() === 41 || eof(next())) {\n          consume();\n          return token;\n        } else {\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else if (code === 34 || code === 39 || code === 40 || nonprintable(code)) {\n        parseerror();\n        consumeTheRemnantsOfABadURL();\n        return new BadURLToken();\n      } else if (code === 92) {\n        if (startsWithAValidEscape()) {\n          token.value += stringFromCode(consumeEscape());\n        } else {\n          parseerror();\n          consumeTheRemnantsOfABadURL();\n          return new BadURLToken();\n        }\n      } else {\n        token.value += stringFromCode(code);\n      }\n    }\n    throw new Error("Internal error");\n  };\n  const consumeEscape = function() {\n    consume();\n    if (hexdigit(code)) {\n      const digits = [code];\n      for (let total = 0; total < 5; total++) {\n        if (hexdigit(next())) {\n          consume();\n          digits.push(code);\n        } else {\n          break;\n        }\n      }\n      if (whitespace(next()))\n        consume();\n      let value = parseInt(digits.map(function(x) {\n        return String.fromCharCode(x);\n      }).join(""), 16);\n      if (value > maximumallowedcodepoint)\n        value = 65533;\n      return value;\n    } else if (eof()) {\n      return 65533;\n    } else {\n      return code;\n    }\n  };\n  const areAValidEscape = function(c1, c2) {\n    if (c1 !== 92)\n      return false;\n    if (newline(c2))\n      return false;\n    return true;\n  };\n  const startsWithAValidEscape = function() {\n    return areAValidEscape(code, next());\n  };\n  const wouldStartAnIdentifier = function(c1, c2, c3) {\n    if (c1 === 45)\n      return namestartchar(c2) || c2 === 45 || areAValidEscape(c2, c3);\n    else if (namestartchar(c1))\n      return true;\n    else if (c1 === 92)\n      return areAValidEscape(c1, c2);\n    else\n      return false;\n  };\n  const startsWithAnIdentifier = function() {\n    return wouldStartAnIdentifier(code, next(1), next(2));\n  };\n  const wouldStartANumber = function(c1, c2, c3) {\n    if (c1 === 43 || c1 === 45) {\n      if (digit(c2))\n        return true;\n      if (c2 === 46 && digit(c3))\n        return true;\n      return false;\n    } else if (c1 === 46) {\n      if (digit(c2))\n        return true;\n      return false;\n    } else if (digit(c1)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  const startsWithANumber = function() {\n    return wouldStartANumber(code, next(1), next(2));\n  };\n  const consumeAName = function() {\n    let result = "";\n    while (consume()) {\n      if (namechar(code)) {\n        result += stringFromCode(code);\n      } else if (startsWithAValidEscape()) {\n        result += stringFromCode(consumeEscape());\n      } else {\n        reconsume();\n        return result;\n      }\n    }\n    throw new Error("Internal parse error");\n  };\n  const consumeANumber = function() {\n    let repr = "";\n    let type = "integer";\n    if (next() === 43 || next() === 45) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    while (digit(next())) {\n      consume();\n      repr += stringFromCode(code);\n    }\n    if (next(1) === 46 && digit(next(2))) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const c1 = next(1), c2 = next(2), c3 = next(3);\n    if ((c1 === 69 || c1 === 101) && digit(c2)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    } else if ((c1 === 69 || c1 === 101) && (c2 === 43 || c2 === 45) && digit(c3)) {\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      consume();\n      repr += stringFromCode(code);\n      type = "number";\n      while (digit(next())) {\n        consume();\n        repr += stringFromCode(code);\n      }\n    }\n    const value = convertAStringToANumber(repr);\n    return { type, value, repr };\n  };\n  const convertAStringToANumber = function(string) {\n    return +string;\n  };\n  const consumeTheRemnantsOfABadURL = function() {\n    while (consume()) {\n      if (code === 41 || eof()) {\n        return;\n      } else if (startsWithAValidEscape()) {\n        consumeEscape();\n        donothing();\n      } else {\n        donothing();\n      }\n    }\n  };\n  let iterationCount = 0;\n  while (!eof(next())) {\n    tokens.push(consumeAToken());\n    iterationCount++;\n    if (iterationCount > str.length * 2)\n      throw new Error("I\'m infinite-looping!");\n  }\n  return tokens;\n}\nvar CSSParserToken = class {\n  constructor() {\n    this.tokenType = "";\n  }\n  toJSON() {\n    return { token: this.tokenType };\n  }\n  toString() {\n    return this.tokenType;\n  }\n  toSource() {\n    return "" + this;\n  }\n};\nvar BadStringToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADSTRING";\n  }\n};\nvar BadURLToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "BADURL";\n  }\n};\nvar WhitespaceToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "WHITESPACE";\n  }\n  toString() {\n    return "WS";\n  }\n  toSource() {\n    return " ";\n  }\n};\nvar CDOToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDO";\n  }\n  toSource() {\n    return "\x3c!--";\n  }\n};\nvar CDCToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "CDC";\n  }\n  toSource() {\n    return "--\x3e";\n  }\n};\nvar ColonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ":";\n  }\n};\nvar SemicolonToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ";";\n  }\n};\nvar CommaToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = ",";\n  }\n};\nvar GroupingToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n    this.mirror = "";\n  }\n};\nvar OpenCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "{";\n    this.value = "{";\n    this.mirror = "}";\n  }\n};\nvar CloseCurlyToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "}";\n    this.value = "}";\n    this.mirror = "{";\n  }\n};\nvar OpenSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "[";\n    this.value = "[";\n    this.mirror = "]";\n  }\n};\nvar CloseSquareToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "]";\n    this.value = "]";\n    this.mirror = "[";\n  }\n};\nvar OpenParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = "(";\n    this.value = "(";\n    this.mirror = ")";\n  }\n};\nvar CloseParenToken = class extends GroupingToken {\n  constructor() {\n    super();\n    this.tokenType = ")";\n    this.value = ")";\n    this.mirror = "(";\n  }\n};\nvar IncludeMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "~=";\n  }\n};\nvar DashMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "|=";\n  }\n};\nvar PrefixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "^=";\n  }\n};\nvar SuffixMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "$=";\n  }\n};\nvar SubstringMatchToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "*=";\n  }\n};\nvar ColumnToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "||";\n  }\n};\nvar EOFToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.tokenType = "EOF";\n  }\n  toSource() {\n    return "";\n  }\n};\nvar DelimToken = class extends CSSParserToken {\n  constructor(code) {\n    super();\n    this.tokenType = "DELIM";\n    this.value = "";\n    this.value = stringFromCode(code);\n  }\n  toString() {\n    return "DELIM(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n  toSource() {\n    if (this.value === "\\\\")\n      return "\\\\\\n";\n    else\n      return this.value;\n  }\n};\nvar StringValuedToken = class extends CSSParserToken {\n  constructor() {\n    super(...arguments);\n    this.value = "";\n  }\n  ASCIIMatch(str) {\n    return this.value.toLowerCase() === str.toLowerCase();\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    return json;\n  }\n};\nvar IdentToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "IDENT";\n    this.value = val;\n  }\n  toString() {\n    return "IDENT(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value);\n  }\n};\nvar FunctionToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "FUNCTION";\n    this.value = val;\n    this.mirror = ")";\n  }\n  toString() {\n    return "FUNCTION(" + this.value + ")";\n  }\n  toSource() {\n    return escapeIdent(this.value) + "(";\n  }\n};\nvar AtKeywordToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "AT-KEYWORD";\n    this.value = val;\n  }\n  toString() {\n    return "AT(" + this.value + ")";\n  }\n  toSource() {\n    return "@" + escapeIdent(this.value);\n  }\n};\nvar HashToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "HASH";\n    this.value = val;\n    this.type = "unrestricted";\n  }\n  toString() {\n    return "HASH(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    return json;\n  }\n  toSource() {\n    if (this.type === "id")\n      return "#" + escapeIdent(this.value);\n    else\n      return "#" + escapeHash(this.value);\n  }\n};\nvar StringToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "STRING";\n    this.value = val;\n  }\n  toString() {\n    return \'"\' + escapeString(this.value) + \'"\';\n  }\n};\nvar URLToken = class extends StringValuedToken {\n  constructor(val) {\n    super();\n    this.tokenType = "URL";\n    this.value = val;\n  }\n  toString() {\n    return "URL(" + this.value + ")";\n  }\n  toSource() {\n    return \'url("\' + escapeString(this.value) + \'")\';\n  }\n};\nvar NumberToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "NUMBER";\n    this.type = "integer";\n    this.repr = "";\n  }\n  toString() {\n    if (this.type === "integer")\n      return "INT(" + this.value + ")";\n    return "NUMBER(" + this.value + ")";\n  }\n  toJSON() {\n    const json = super.toJSON();\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr;\n  }\n};\nvar PercentageToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "PERCENTAGE";\n    this.repr = "";\n  }\n  toString() {\n    return "PERCENTAGE(" + this.value + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.repr = this.repr;\n    return json;\n  }\n  toSource() {\n    return this.repr + "%";\n  }\n};\nvar DimensionToken = class extends CSSParserToken {\n  constructor() {\n    super();\n    this.tokenType = "DIMENSION";\n    this.type = "integer";\n    this.repr = "";\n    this.unit = "";\n  }\n  toString() {\n    return "DIM(" + this.value + "," + this.unit + ")";\n  }\n  toJSON() {\n    const json = this.constructor.prototype.constructor.prototype.toJSON.call(this);\n    json.value = this.value;\n    json.type = this.type;\n    json.repr = this.repr;\n    json.unit = this.unit;\n    return json;\n  }\n  toSource() {\n    const source = this.repr;\n    let unit = escapeIdent(this.unit);\n    if (unit[0].toLowerCase() === "e" && (unit[1] === "-" || between(unit.charCodeAt(1), 48, 57))) {\n      unit = "\\\\65 " + unit.slice(1, unit.length);\n    }\n    return source + unit;\n  }\n};\nfunction escapeIdent(string) {\n  string = "" + string;\n  let result = "";\n  const firstcode = string.charCodeAt(0);\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127 || i === 0 && between(code, 48, 57) || i === 1 && between(code, 48, 57) && firstcode === 45)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + string[i];\n  }\n  return result;\n}\nfunction escapeHash(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (code >= 128 || code === 45 || code === 95 || between(code, 48, 57) || between(code, 65, 90) || between(code, 97, 122))\n      result += string[i];\n    else\n      result += "\\\\" + code.toString(16) + " ";\n  }\n  return result;\n}\nfunction escapeString(string) {\n  string = "" + string;\n  let result = "";\n  for (let i = 0; i < string.length; i++) {\n    const code = string.charCodeAt(i);\n    if (code === 0)\n      throw new InvalidCharacterError("Invalid character: the input contains U+0000.");\n    if (between(code, 1, 31) || code === 127)\n      result += "\\\\" + code.toString(16) + " ";\n    else if (code === 34 || code === 92)\n      result += "\\\\" + string[i];\n    else\n      result += string[i];\n  }\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/cssParser.ts\nvar InvalidSelectorError = class extends Error {\n};\nfunction parseCSS(selector, customNames) {\n  let tokens;\n  try {\n    tokens = tokenize(selector);\n    if (!(tokens[tokens.length - 1] instanceof EOFToken))\n      tokens.push(new EOFToken());\n  } catch (e) {\n    const newMessage = e.message + ` while parsing selector "${selector}"`;\n    const index = (e.stack || "").indexOf(e.message);\n    if (index !== -1)\n      e.stack = e.stack.substring(0, index) + newMessage + e.stack.substring(index + e.message.length);\n    e.message = newMessage;\n    throw e;\n  }\n  const unsupportedToken = tokens.find((token) => {\n    return token instanceof AtKeywordToken || token instanceof BadStringToken || token instanceof BadURLToken || token instanceof ColumnToken || token instanceof CDOToken || token instanceof CDCToken || token instanceof SemicolonToken || // TODO: Consider using these for something, e.g. to escape complex strings.\n    // For example :xpath{ (//div/bar[@attr="foo"])[2]/baz }\n    // Or this way :xpath( {complex-xpath-goes-here("hello")} )\n    token instanceof OpenCurlyToken || token instanceof CloseCurlyToken || // TODO: Consider treating these as strings?\n    token instanceof URLToken || token instanceof PercentageToken;\n  });\n  if (unsupportedToken)\n    throw new InvalidSelectorError(`Unsupported token "${unsupportedToken.toSource()}" while parsing selector "${selector}"`);\n  let pos = 0;\n  const names = /* @__PURE__ */ new Set();\n  function unexpected() {\n    return new InvalidSelectorError(`Unexpected token "${tokens[pos].toSource()}" while parsing selector "${selector}"`);\n  }\n  function skipWhitespace() {\n    while (tokens[pos] instanceof WhitespaceToken)\n      pos++;\n  }\n  function isIdent(p = pos) {\n    return tokens[p] instanceof IdentToken;\n  }\n  function isString(p = pos) {\n    return tokens[p] instanceof StringToken;\n  }\n  function isNumber(p = pos) {\n    return tokens[p] instanceof NumberToken;\n  }\n  function isComma(p = pos) {\n    return tokens[p] instanceof CommaToken;\n  }\n  function isOpenParen(p = pos) {\n    return tokens[p] instanceof OpenParenToken;\n  }\n  function isCloseParen(p = pos) {\n    return tokens[p] instanceof CloseParenToken;\n  }\n  function isFunction(p = pos) {\n    return tokens[p] instanceof FunctionToken;\n  }\n  function isStar(p = pos) {\n    return tokens[p] instanceof DelimToken && tokens[p].value === "*";\n  }\n  function isEOF(p = pos) {\n    return tokens[p] instanceof EOFToken;\n  }\n  function isClauseCombinator(p = pos) {\n    return tokens[p] instanceof DelimToken && [">", "+", "~"].includes(tokens[p].value);\n  }\n  function isSelectorClauseEnd(p = pos) {\n    return isComma(p) || isCloseParen(p) || isEOF(p) || isClauseCombinator(p) || tokens[p] instanceof WhitespaceToken;\n  }\n  function consumeFunctionArguments() {\n    const result2 = [consumeArgument()];\n    while (true) {\n      skipWhitespace();\n      if (!isComma())\n        break;\n      pos++;\n      result2.push(consumeArgument());\n    }\n    return result2;\n  }\n  function consumeArgument() {\n    skipWhitespace();\n    if (isNumber())\n      return tokens[pos++].value;\n    if (isString())\n      return tokens[pos++].value;\n    return consumeComplexSelector();\n  }\n  function consumeComplexSelector() {\n    const result2 = { simples: [] };\n    skipWhitespace();\n    if (isClauseCombinator()) {\n      result2.simples.push({ selector: { functions: [{ name: "scope", args: [] }] }, combinator: "" });\n    } else {\n      result2.simples.push({ selector: consumeSimpleSelector(), combinator: "" });\n    }\n    while (true) {\n      skipWhitespace();\n      if (isClauseCombinator()) {\n        result2.simples[result2.simples.length - 1].combinator = tokens[pos++].value;\n        skipWhitespace();\n      } else if (isSelectorClauseEnd()) {\n        break;\n      }\n      result2.simples.push({ combinator: "", selector: consumeSimpleSelector() });\n    }\n    return result2;\n  }\n  function consumeSimpleSelector() {\n    let rawCSSString = "";\n    const functions = [];\n    while (!isSelectorClauseEnd()) {\n      if (isIdent() || isStar()) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof HashToken) {\n        rawCSSString += tokens[pos++].toSource();\n      } else if (tokens[pos] instanceof DelimToken && tokens[pos].value === ".") {\n        pos++;\n        if (isIdent())\n          rawCSSString += "." + tokens[pos++].toSource();\n        else\n          throw unexpected();\n      } else if (tokens[pos] instanceof ColonToken) {\n        pos++;\n        if (isIdent()) {\n          if (!customNames.has(tokens[pos].value.toLowerCase())) {\n            rawCSSString += ":" + tokens[pos++].toSource();\n          } else {\n            const name = tokens[pos++].value.toLowerCase();\n            functions.push({ name, args: [] });\n            names.add(name);\n          }\n        } else if (isFunction()) {\n          const name = tokens[pos++].value.toLowerCase();\n          if (!customNames.has(name)) {\n            rawCSSString += `:${name}(${consumeBuiltinFunctionArguments()})`;\n          } else {\n            functions.push({ name, args: consumeFunctionArguments() });\n            names.add(name);\n          }\n          skipWhitespace();\n          if (!isCloseParen())\n            throw unexpected();\n          pos++;\n        } else {\n          throw unexpected();\n        }\n      } else if (tokens[pos] instanceof OpenSquareToken) {\n        rawCSSString += "[";\n        pos++;\n        while (!(tokens[pos] instanceof CloseSquareToken) && !isEOF())\n          rawCSSString += tokens[pos++].toSource();\n        if (!(tokens[pos] instanceof CloseSquareToken))\n          throw unexpected();\n        rawCSSString += "]";\n        pos++;\n      } else {\n        throw unexpected();\n      }\n    }\n    if (!rawCSSString && !functions.length)\n      throw unexpected();\n    return { css: rawCSSString || void 0, functions };\n  }\n  function consumeBuiltinFunctionArguments() {\n    let s = "";\n    let balance = 1;\n    while (!isEOF()) {\n      if (isOpenParen() || isFunction())\n        balance++;\n      if (isCloseParen())\n        balance--;\n      if (!balance)\n        break;\n      s += tokens[pos++].toSource();\n    }\n    return s;\n  }\n  const result = consumeFunctionArguments();\n  if (!isEOF())\n    throw unexpected();\n  if (result.some((arg) => typeof arg !== "object" || !("simples" in arg)))\n    throw new InvalidSelectorError(`Error while parsing selector "${selector}"`);\n  return { selector: result, names: Array.from(names) };\n}\n\n// packages/playwright-core/src/utils/isomorphic/selectorParser.ts\nvar kNestedSelectorNames = /* @__PURE__ */ new Set(["internal:has", "internal:has-not", "internal:and", "internal:or", "internal:chain", "left-of", "right-of", "above", "below", "near"]);\nvar kNestedSelectorNamesWithDistance = /* @__PURE__ */ new Set(["left-of", "right-of", "above", "below", "near"]);\nvar customCSSNames = /* @__PURE__ */ new Set(["not", "is", "where", "has", "scope", "light", "visible", "text", "text-matches", "text-is", "has-text", "above", "below", "right-of", "left-of", "near", "nth-match"]);\nfunction parseSelector(selector) {\n  const parsedStrings = parseSelectorString(selector);\n  const parts = [];\n  for (const part of parsedStrings.parts) {\n    if (part.name === "css" || part.name === "css:light") {\n      if (part.name === "css:light")\n        part.body = ":light(" + part.body + ")";\n      const parsedCSS = parseCSS(part.body, customCSSNames);\n      parts.push({\n        name: "css",\n        body: parsedCSS.selector,\n        source: part.body\n      });\n      continue;\n    }\n    if (kNestedSelectorNames.has(part.name)) {\n      let innerSelector;\n      let distance;\n      try {\n        const unescaped = JSON.parse("[" + part.body + "]");\n        if (!Array.isArray(unescaped) || unescaped.length < 1 || unescaped.length > 2 || typeof unescaped[0] !== "string")\n          throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n        innerSelector = unescaped[0];\n        if (unescaped.length === 2) {\n          if (typeof unescaped[1] !== "number" || !kNestedSelectorNamesWithDistance.has(part.name))\n            throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n          distance = unescaped[1];\n        }\n      } catch (e) {\n        throw new InvalidSelectorError(`Malformed selector: ${part.name}=` + part.body);\n      }\n      const nested = { name: part.name, source: part.body, body: { parsed: parseSelector(innerSelector), distance } };\n      const lastFrame = [...nested.body.parsed.parts].reverse().find((part2) => part2.name === "internal:control" && part2.body === "enter-frame");\n      const lastFrameIndex = lastFrame ? nested.body.parsed.parts.indexOf(lastFrame) : -1;\n      if (lastFrameIndex !== -1 && selectorPartsEqual(nested.body.parsed.parts.slice(0, lastFrameIndex + 1), parts.slice(0, lastFrameIndex + 1)))\n        nested.body.parsed.parts.splice(0, lastFrameIndex + 1);\n      parts.push(nested);\n      continue;\n    }\n    parts.push({ ...part, source: part.body });\n  }\n  if (kNestedSelectorNames.has(parts[0].name))\n    throw new InvalidSelectorError(`"${parts[0].name}" selector cannot be first`);\n  return {\n    capture: parsedStrings.capture,\n    parts\n  };\n}\nfunction selectorPartsEqual(list1, list2) {\n  return stringifySelector({ parts: list1 }) === stringifySelector({ parts: list2 });\n}\nfunction stringifySelector(selector, forceEngineName) {\n  if (typeof selector === "string")\n    return selector;\n  return selector.parts.map((p, i) => {\n    let includeEngine = true;\n    if (!forceEngineName && i !== selector.capture) {\n      if (p.name === "css")\n        includeEngine = false;\n      else if (p.name === "xpath" && p.source.startsWith("//") || p.source.startsWith(".."))\n        includeEngine = false;\n    }\n    const prefix = includeEngine ? p.name + "=" : "";\n    return `${i === selector.capture ? "*" : ""}${prefix}${p.source}`;\n  }).join(" >> ");\n}\nfunction parseSelectorString(selector) {\n  let index = 0;\n  let quote;\n  let start = 0;\n  const result = { parts: [] };\n  const append = () => {\n    const part = selector.substring(start, index).trim();\n    const eqIndex = part.indexOf("=");\n    let name;\n    let body;\n    if (eqIndex !== -1 && part.substring(0, eqIndex).trim().match(/^[a-zA-Z_0-9-+:*]+$/)) {\n      name = part.substring(0, eqIndex).trim();\n      body = part.substring(eqIndex + 1);\n    } else if (part.length > 1 && part[0] === \'"\' && part[part.length - 1] === \'"\') {\n      name = "text";\n      body = part;\n    } else if (part.length > 1 && part[0] === "\'" && part[part.length - 1] === "\'") {\n      name = "text";\n      body = part;\n    } else if (/^\\(*\\/\\//.test(part) || part.startsWith("..")) {\n      name = "xpath";\n      body = part;\n    } else {\n      name = "css";\n      body = part;\n    }\n    let capture = false;\n    if (name[0] === "*") {\n      capture = true;\n      name = name.substring(1);\n    }\n    result.parts.push({ name, body });\n    if (capture) {\n      if (result.capture !== void 0)\n        throw new InvalidSelectorError(`Only one of the selectors can capture using * modifier`);\n      result.capture = result.parts.length - 1;\n    }\n  };\n  if (!selector.includes(">>")) {\n    index = selector.length;\n    append();\n    return result;\n  }\n  const shouldIgnoreTextSelectorQuote = () => {\n    const prefix = selector.substring(start, index);\n    const match = prefix.match(/^\\s*text\\s*=(.*)$/);\n    return !!match && !!match[1];\n  };\n  while (index < selector.length) {\n    const c = selector[index];\n    if (c === "\\\\" && index + 1 < selector.length) {\n      index += 2;\n    } else if (c === quote) {\n      quote = void 0;\n      index++;\n    } else if (!quote && (c === \'"\' || c === "\'" || c === "`") && !shouldIgnoreTextSelectorQuote()) {\n      quote = c;\n      index++;\n    } else if (!quote && c === ">" && selector[index + 1] === ">") {\n      append();\n      index += 2;\n      start = index;\n    } else {\n      index++;\n    }\n  }\n  append();\n  return result;\n}\nfunction parseAttributeSelector(selector, allowUnquotedStrings) {\n  let wp = 0;\n  let EOL = selector.length === 0;\n  const next = () => selector[wp] || "";\n  const eat1 = () => {\n    const result2 = next();\n    ++wp;\n    EOL = wp >= selector.length;\n    return result2;\n  };\n  const syntaxError = (stage) => {\n    if (EOL)\n      throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \\`${selector}\\``);\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - unexpected symbol "${next()}" at position ${wp}` + (stage ? " during " + stage : ""));\n  };\n  function skipSpaces() {\n    while (!EOL && /\\s/.test(next()))\n      eat1();\n  }\n  function isCSSNameChar(char) {\n    return char >= "\\x80" || char >= "0" && char <= "9" || char >= "A" && char <= "Z" || char >= "a" && char <= "z" || char >= "0" && char <= "9" || char === "_" || char === "-";\n  }\n  function readIdentifier() {\n    let result2 = "";\n    skipSpaces();\n    while (!EOL && isCSSNameChar(next()))\n      result2 += eat1();\n    return result2;\n  }\n  function readQuotedString(quote) {\n    let result2 = eat1();\n    if (result2 !== quote)\n      syntaxError("parsing quoted string");\n    while (!EOL && next() !== quote) {\n      if (next() === "\\\\")\n        eat1();\n      result2 += eat1();\n    }\n    if (next() !== quote)\n      syntaxError("parsing quoted string");\n    result2 += eat1();\n    return result2;\n  }\n  function readRegularExpression() {\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let source = "";\n    let inClass = false;\n    while (!EOL) {\n      if (next() === "\\\\") {\n        source += eat1();\n        if (EOL)\n          syntaxError("parsing regular expression");\n      } else if (inClass && next() === "]") {\n        inClass = false;\n      } else if (!inClass && next() === "[") {\n        inClass = true;\n      } else if (!inClass && next() === "/") {\n        break;\n      }\n      source += eat1();\n    }\n    if (eat1() !== "/")\n      syntaxError("parsing regular expression");\n    let flags = "";\n    while (!EOL && next().match(/[dgimsuy]/))\n      flags += eat1();\n    try {\n      return new RegExp(source, flags);\n    } catch (e) {\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\`: ${e.message}`);\n    }\n  }\n  function readAttributeToken() {\n    let token = "";\n    skipSpaces();\n    if (next() === `\'` || next() === `"`)\n      token = readQuotedString(next()).slice(1, -1);\n    else\n      token = readIdentifier();\n    if (!token)\n      syntaxError("parsing property path");\n    return token;\n  }\n  function readOperator() {\n    skipSpaces();\n    let op = "";\n    if (!EOL)\n      op += eat1();\n    if (!EOL && op !== "=")\n      op += eat1();\n    if (!["=", "*=", "^=", "$=", "|=", "~="].includes(op))\n      syntaxError("parsing operator");\n    return op;\n  }\n  function readAttribute() {\n    eat1();\n    const jsonPath = [];\n    jsonPath.push(readAttributeToken());\n    skipSpaces();\n    while (next() === ".") {\n      eat1();\n      jsonPath.push(readAttributeToken());\n      skipSpaces();\n    }\n    if (next() === "]") {\n      eat1();\n      return { name: jsonPath.join("."), jsonPath, op: "<truthy>", value: null, caseSensitive: false };\n    }\n    const operator = readOperator();\n    let value = void 0;\n    let caseSensitive = true;\n    skipSpaces();\n    if (next() === "/") {\n      if (operator !== "=")\n        throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with regular expression`);\n      value = readRegularExpression();\n    } else if (next() === `\'` || next() === `"`) {\n      value = readQuotedString(next()).slice(1, -1);\n      skipSpaces();\n      if (next() === "i" || next() === "I") {\n        caseSensitive = false;\n        eat1();\n      } else if (next() === "s" || next() === "S") {\n        caseSensitive = true;\n        eat1();\n      }\n    } else {\n      value = "";\n      while (!EOL && (isCSSNameChar(next()) || next() === "+" || next() === "."))\n        value += eat1();\n      if (value === "true") {\n        value = true;\n      } else if (value === "false") {\n        value = false;\n      } else {\n        if (!allowUnquotedStrings) {\n          value = +value;\n          if (Number.isNaN(value))\n            syntaxError("parsing attribute value");\n        }\n      }\n    }\n    skipSpaces();\n    if (next() !== "]")\n      syntaxError("parsing attribute value");\n    eat1();\n    if (operator !== "=" && typeof value !== "string")\n      throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - cannot use ${operator} in attribute with non-string matching value - ${value}`);\n    return { name: jsonPath.join("."), jsonPath, op: operator, value, caseSensitive };\n  }\n  const result = {\n    name: "",\n    attributes: []\n  };\n  result.name = readIdentifier();\n  skipSpaces();\n  while (next() === "[") {\n    result.attributes.push(readAttribute());\n    skipSpaces();\n  }\n  if (!EOL)\n    syntaxError(void 0);\n  if (!result.name && !result.attributes.length)\n    throw new InvalidSelectorError(`Error while parsing selector \\`${selector}\\` - selector cannot be empty`);\n  return result;\n}\n\n// packages/playwright-core/src/utils/isomorphic/locatorGenerators.ts\nfunction asLocator(lang, selector, isFrameLocator = false) {\n  return asLocators(lang, selector, isFrameLocator)[0];\n}\nfunction asLocators(lang, selector, isFrameLocator = false, maxOutputSize = 20, preferredQuote) {\n  try {\n    return innerAsLocators(new generators[lang](preferredQuote), parseSelector(selector), isFrameLocator, maxOutputSize);\n  } catch (e) {\n    return [selector];\n  }\n}\nfunction innerAsLocators(factory, parsed, isFrameLocator = false, maxOutputSize = 20) {\n  const parts = [...parsed.parts];\n  for (let index = 0; index < parts.length - 1; index++) {\n    if (parts[index].name === "nth" && parts[index + 1].name === "internal:control" && parts[index + 1].body === "enter-frame") {\n      const [nth] = parts.splice(index, 1);\n      parts.splice(index + 1, 0, nth);\n    }\n  }\n  const tokens = [];\n  let nextBase = isFrameLocator ? "frame-locator" : "page";\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const base = nextBase;\n    nextBase = "locator";\n    if (part.name === "nth") {\n      if (part.body === "0")\n        tokens.push([factory.generateLocator(base, "first", ""), factory.generateLocator(base, "nth", "0")]);\n      else if (part.body === "-1")\n        tokens.push([factory.generateLocator(base, "last", ""), factory.generateLocator(base, "nth", "-1")]);\n      else\n        tokens.push([factory.generateLocator(base, "nth", part.body)]);\n      continue;\n    }\n    if (part.name === "internal:text") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "text", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:has-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has-not-text") {\n      const { exact, text } = detectExact(part.body);\n      if (!exact) {\n        tokens.push([factory.generateLocator(base, "has-not-text", text, { exact })]);\n        continue;\n      }\n    }\n    if (part.name === "internal:has") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "has", inner)));\n      continue;\n    }\n    if (part.name === "internal:has-not") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "hasNot", inner)));\n      continue;\n    }\n    if (part.name === "internal:and") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "and", inner)));\n      continue;\n    }\n    if (part.name === "internal:or") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "or", inner)));\n      continue;\n    }\n    if (part.name === "internal:chain") {\n      const inners = innerAsLocators(factory, part.body.parsed, false, maxOutputSize);\n      tokens.push(inners.map((inner) => factory.generateLocator(base, "chain", inner)));\n      continue;\n    }\n    if (part.name === "internal:label") {\n      const { exact, text } = detectExact(part.body);\n      tokens.push([factory.generateLocator(base, "label", text, { exact })]);\n      continue;\n    }\n    if (part.name === "internal:role") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const options = { attrs: [] };\n      for (const attr of attrSelector.attributes) {\n        if (attr.name === "name") {\n          options.exact = attr.caseSensitive;\n          options.name = attr.value;\n        } else {\n          if (attr.name === "level" && typeof attr.value === "string")\n            attr.value = +attr.value;\n          options.attrs.push({ name: attr.name === "include-hidden" ? "includeHidden" : attr.name, value: attr.value });\n        }\n      }\n      tokens.push([factory.generateLocator(base, "role", attrSelector.name, options)]);\n      continue;\n    }\n    if (part.name === "internal:testid") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { value } = attrSelector.attributes[0];\n      tokens.push([factory.generateLocator(base, "test-id", value)]);\n      continue;\n    }\n    if (part.name === "internal:attr") {\n      const attrSelector = parseAttributeSelector(part.body, true);\n      const { name, value, caseSensitive } = attrSelector.attributes[0];\n      const text = value;\n      const exact = !!caseSensitive;\n      if (name === "placeholder") {\n        tokens.push([factory.generateLocator(base, "placeholder", text, { exact })]);\n        continue;\n      }\n      if (name === "alt") {\n        tokens.push([factory.generateLocator(base, "alt", text, { exact })]);\n        continue;\n      }\n      if (name === "title") {\n        tokens.push([factory.generateLocator(base, "title", text, { exact })]);\n        continue;\n      }\n    }\n    let locatorType = "default";\n    const nextPart = parts[index + 1];\n    if (nextPart && nextPart.name === "internal:control" && nextPart.body === "enter-frame") {\n      locatorType = "frame";\n      nextBase = "frame-locator";\n      index++;\n    }\n    const selectorPart = stringifySelector({ parts: [part] });\n    const locatorPart = factory.generateLocator(base, locatorType, selectorPart);\n    if (locatorType === "default" && nextPart && ["internal:has-text", "internal:has-not-text"].includes(nextPart.name)) {\n      const { exact, text } = detectExact(nextPart.body);\n      if (!exact) {\n        const nextLocatorPart = factory.generateLocator("locator", nextPart.name === "internal:has-text" ? "has-text" : "has-not-text", text, { exact });\n        const options = {};\n        if (nextPart.name === "internal:has-text")\n          options.hasText = text;\n        else\n          options.hasNotText = text;\n        const combinedPart = factory.generateLocator(base, "default", selectorPart, options);\n        tokens.push([factory.chainLocators([locatorPart, nextLocatorPart]), combinedPart]);\n        index++;\n        continue;\n      }\n    }\n    let locatorPartWithEngine;\n    if (["xpath", "css"].includes(part.name)) {\n      const selectorPart2 = stringifySelector(\n        { parts: [part] },\n        /* forceEngineName */\n        true\n      );\n      locatorPartWithEngine = factory.generateLocator(base, locatorType, selectorPart2);\n    }\n    tokens.push([locatorPart, locatorPartWithEngine].filter(Boolean));\n  }\n  return combineTokens(factory, tokens, maxOutputSize);\n}\nfunction combineTokens(factory, tokens, maxOutputSize) {\n  const currentTokens = tokens.map(() => "");\n  const result = [];\n  const visit = (index) => {\n    if (index === tokens.length) {\n      result.push(factory.chainLocators(currentTokens));\n      return currentTokens.length < maxOutputSize;\n    }\n    for (const taken of tokens[index]) {\n      currentTokens[index] = taken;\n      if (!visit(index + 1))\n        return false;\n    }\n    return true;\n  };\n  visit(0);\n  return result;\n}\nfunction detectExact(text) {\n  let exact = false;\n  const match = text.match(/^\\/(.*)\\/([igm]*)$/);\n  if (match)\n    return { text: new RegExp(match[1], match[2]) };\n  if (text.endsWith(\'"\')) {\n    text = JSON.parse(text);\n    exact = true;\n  } else if (text.endsWith(\'"s\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = true;\n  } else if (text.endsWith(\'"i\')) {\n    text = JSON.parse(text.substring(0, text.length - 1));\n    exact = false;\n  }\n  return { exact, text };\n}\nvar JavaScriptLocatorFactory = class {\n  constructor(preferredQuote) {\n    this.preferredQuote = preferredQuote;\n  }\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, { hasText: ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, { hasNotText: ${this.toHasText(options.hasNotText)} })`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frameLocator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name: ${this.regexToSourceString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name: ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact: true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${name}: ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, { ${attrs.join(", ")} }` : "";\n        return `getByRole(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter({ hasText: ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `filter({ hasNotText: ${this.toHasText(body)} })`;\n      case "has":\n        return `filter({ has: ${body} })`;\n      case "hasNot":\n        return `filter({ hasNot: ${body} })`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToSourceString(re) {\n    return normalizeEscapedRegexQuotes(String(re));\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToSourceString(body)})`;\n    return exact ? `${method}(${this.quote(body)}, { exact: true })` : `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToSourceString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToSourceString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    var _a;\n    return escapeWithQuotes(text, (_a = this.preferredQuote) != null ? _a : "\'");\n  }\n};\nvar PythonLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, has_text=${this.toHasText(options.hasText)})`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, has_not_text=${this.toHasText(options.hasNotText)})`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frame_locator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first`;\n      case "last":\n        return `last`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`name=${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`name=${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`exact=True`);\n        }\n        for (const { name, value } of options.attrs) {\n          let valueString = typeof value === "string" ? this.quote(value) : value;\n          if (typeof value === "boolean")\n            valueString = value ? "True" : "False";\n          attrs.push(`${toSnakeCase(name)}=${valueString}`);\n        }\n        const attrString = attrs.length ? `, ${attrs.join(", ")}` : "";\n        return `get_by_role(${this.quote(body)}${attrString})`;\n      case "has-text":\n        return `filter(has_text=${this.toHasText(body)})`;\n      case "has-not-text":\n        return `filter(has_not_text=${this.toHasText(body)})`;\n      case "has":\n        return `filter(has=${body})`;\n      case "hasNot":\n        return `filter(has_not=${body})`;\n      case "and":\n        return `and_(${body})`;\n      case "or":\n        return `or_(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `get_by_test_id(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("get_by_text", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("get_by_alt_text", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("get_by_placeholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("get_by_label", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("get_by_title", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", re.IGNORECASE" : "";\n    return `re.compile(r"${normalizeEscapedRegexQuotes(body.source).replace(/\\\\\\//, "/").replace(/"/g, \'\\\\"\')}"${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, exact=True)`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return `${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JavaLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    let clazz;\n    switch (base) {\n      case "page":\n        clazz = "Page";\n        break;\n      case "frame-locator":\n        clazz = "FrameLocator";\n        break;\n      case "locator":\n        clazz = "Locator";\n        break;\n    }\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasText(${this.toHasText(options.hasText)}))`;\n        if (options.hasNotText !== void 0)\n          return `locator(${this.quote(body)}, new ${clazz}.LocatorOptions().setHasNotText(${this.toHasText(options.hasNotText)}))`;\n        return `locator(${this.quote(body)})`;\n      case "frame":\n        return `frameLocator(${this.quote(body)})`;\n      case "nth":\n        return `nth(${body})`;\n      case "first":\n        return `first()`;\n      case "last":\n        return `last()`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`.setName(${this.regexToString(options.name)})`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`.setName(${this.quote(options.name)})`);\n          if (options.exact)\n            attrs.push(`.setExact(true)`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`.set${toTitleCase(name)}(${typeof value === "string" ? this.quote(value) : value})`);\n        const attrString = attrs.length ? `, new ${clazz}.GetByRoleOptions()${attrs.join("")}` : "";\n        return `getByRole(AriaRole.${toSnakeCase(body).toUpperCase()}${attrString})`;\n      case "has-text":\n        return `filter(new ${clazz}.FilterOptions().setHasText(${this.toHasText(body)}))`;\n      case "has-not-text":\n        return `filter(new ${clazz}.FilterOptions().setHasNotText(${this.toHasText(body)}))`;\n      case "has":\n        return `filter(new ${clazz}.FilterOptions().setHas(${body}))`;\n      case "hasNot":\n        return `filter(new ${clazz}.FilterOptions().setHasNot(${body}))`;\n      case "and":\n        return `and(${body})`;\n      case "or":\n        return `or(${body})`;\n      case "chain":\n        return `locator(${body})`;\n      case "test-id":\n        return `getByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact(clazz, "getByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact(clazz, "getByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact(clazz, "getByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact(clazz, "getByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact(clazz, "getByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", Pattern.CASE_INSENSITIVE" : "";\n    return `Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(clazz, method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new ${clazz}.${toTitleCase(method)}Options().setExact(true))`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return this.regexToString(body);\n    return this.quote(body);\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar CSharpLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    switch (kind) {\n      case "default":\n        if (options.hasText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasText(options.hasText)} })`;\n        if (options.hasNotText !== void 0)\n          return `Locator(${this.quote(body)}, new() { ${this.toHasNotText(options.hasNotText)} })`;\n        return `Locator(${this.quote(body)})`;\n      case "frame":\n        return `FrameLocator(${this.quote(body)})`;\n      case "nth":\n        return `Nth(${body})`;\n      case "first":\n        return `First`;\n      case "last":\n        return `Last`;\n      case "role":\n        const attrs = [];\n        if (isRegExp(options.name)) {\n          attrs.push(`NameRegex = ${this.regexToString(options.name)}`);\n        } else if (typeof options.name === "string") {\n          attrs.push(`Name = ${this.quote(options.name)}`);\n          if (options.exact)\n            attrs.push(`Exact = true`);\n        }\n        for (const { name, value } of options.attrs)\n          attrs.push(`${toTitleCase(name)} = ${typeof value === "string" ? this.quote(value) : value}`);\n        const attrString = attrs.length ? `, new() { ${attrs.join(", ")} }` : "";\n        return `GetByRole(AriaRole.${toTitleCase(body)}${attrString})`;\n      case "has-text":\n        return `Filter(new() { ${this.toHasText(body)} })`;\n      case "has-not-text":\n        return `Filter(new() { ${this.toHasNotText(body)} })`;\n      case "has":\n        return `Filter(new() { Has = ${body} })`;\n      case "hasNot":\n        return `Filter(new() { HasNot = ${body} })`;\n      case "and":\n        return `And(${body})`;\n      case "or":\n        return `Or(${body})`;\n      case "chain":\n        return `Locator(${body})`;\n      case "test-id":\n        return `GetByTestId(${this.toTestIdValue(body)})`;\n      case "text":\n        return this.toCallWithExact("GetByText", body, !!options.exact);\n      case "alt":\n        return this.toCallWithExact("GetByAltText", body, !!options.exact);\n      case "placeholder":\n        return this.toCallWithExact("GetByPlaceholder", body, !!options.exact);\n      case "label":\n        return this.toCallWithExact("GetByLabel", body, !!options.exact);\n      case "title":\n        return this.toCallWithExact("GetByTitle", body, !!options.exact);\n      default:\n        throw new Error("Unknown selector kind " + kind);\n    }\n  }\n  chainLocators(locators) {\n    return locators.join(".");\n  }\n  regexToString(body) {\n    const suffix = body.flags.includes("i") ? ", RegexOptions.IgnoreCase" : "";\n    return `new Regex(${this.quote(normalizeEscapedRegexQuotes(body.source))}${suffix})`;\n  }\n  toCallWithExact(method, body, exact) {\n    if (isRegExp(body))\n      return `${method}(${this.regexToString(body)})`;\n    if (exact)\n      return `${method}(${this.quote(body)}, new() { Exact = true })`;\n    return `${method}(${this.quote(body)})`;\n  }\n  toHasText(body) {\n    if (isRegExp(body))\n      return `HasTextRegex = ${this.regexToString(body)}`;\n    return `HasText = ${this.quote(body)}`;\n  }\n  toTestIdValue(value) {\n    if (isRegExp(value))\n      return this.regexToString(value);\n    return this.quote(value);\n  }\n  toHasNotText(body) {\n    if (isRegExp(body))\n      return `HasNotTextRegex = ${this.regexToString(body)}`;\n    return `HasNotText = ${this.quote(body)}`;\n  }\n  quote(text) {\n    return escapeWithQuotes(text, \'"\');\n  }\n};\nvar JsonlLocatorFactory = class {\n  generateLocator(base, kind, body, options = {}) {\n    return JSON.stringify({\n      kind,\n      body,\n      options\n    });\n  }\n  chainLocators(locators) {\n    const objects = locators.map((l) => JSON.parse(l));\n    for (let i = 0; i < objects.length - 1; ++i)\n      objects[i].next = objects[i + 1];\n    return JSON.stringify(objects[0]);\n  }\n};\nvar generators = {\n  javascript: JavaScriptLocatorFactory,\n  python: PythonLocatorFactory,\n  java: JavaLocatorFactory,\n  csharp: CSharpLocatorFactory,\n  jsonl: JsonlLocatorFactory\n};\nfunction isRegExp(obj) {\n  return obj instanceof RegExp;\n}\n\n// packages/playwright-core/src/server/injected/highlight.css?inline\nvar highlight_default = `:host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}x-pw-tooltip{backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:4px}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;width:400px;height:150px;z-index:10;font-size:13px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:rgb(148 148 148 / 90%)}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:100%;height:100%;-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;-webkit-mask-size:20px;mask-repeat:no-repeat;mask-position:center;mask-size:16px;-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\' /></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\' /></svg>");background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;cursor:pointer;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.active{background-color:#8acae480}x-pw-tool-item.active:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:100%;height:100%;-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;-webkit-mask-size:20px;mask-repeat:no-repeat;mask-position:center;mask-size:16px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.active{background-color:transparent}x-pw-tool-item.record.active:hover{background-color:#dbdbdb}x-pw-tool-item.record.active>x-div{background-color:#a1260d}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M8 1a6.8 6.8 0 0 1 1.86.253 6.899 6.899 0 0 1 3.083 1.805 6.903 6.903 0 0 1 1.804 3.083C14.916 6.738 15 7.357 15 8s-.084 1.262-.253 1.86a6.9 6.9 0 0 1-.704 1.674 7.157 7.157 0 0 1-2.516 2.509 6.966 6.966 0 0 1-1.668.71A6.984 6.984 0 0 1 8 15a6.984 6.984 0 0 1-1.86-.246 7.098 7.098 0 0 1-1.674-.711 7.3 7.3 0 0 1-1.415-1.094 7.295 7.295 0 0 1-1.094-1.415 7.098 7.098 0 0 1-.71-1.675A6.985 6.985 0 0 1 1 8c0-.643.082-1.262.246-1.86a6.968 6.968 0 0 1 .711-1.667 7.156 7.156 0 0 1 2.509-2.516 6.895 6.895 0 0 1 1.675-.704A6.808 6.808 0 0 1 8 1z\'/></svg>")}x-pw-tool-item.pick-locator>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 3l1-1h12l1 1v6h-1V3H2v8h5v1H2l-1-1V3zm14.707 9.707L9 6v9.414l2.707-2.707h4zM10 13V8.414l3.293 3.293h-2L10 13z\'/></svg>")}x-pw-tool-item.text>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M0 11H1V13H15V11H16V14H15H1H0V11Z\'/><path d=\'M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z\'/><path d=\'M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M0 11H1V13H15V11H16V14H15H1H0V11Z\'/><path d=\'M6.84048 11H5.95963V10.1406H5.93814C5.555 10.7995 4.99104 11.1289 4.24625 11.1289C3.69839 11.1289 3.26871 10.9839 2.95718 10.6938C2.64924 10.4038 2.49527 10.0189 2.49527 9.53906C2.49527 8.51139 3.10041 7.91341 4.3107 7.74512L5.95963 7.51416C5.95963 6.57959 5.58186 6.1123 4.82632 6.1123C4.16389 6.1123 3.56591 6.33789 3.03238 6.78906V5.88672C3.57307 5.54297 4.19612 5.37109 4.90152 5.37109C6.19416 5.37109 6.84048 6.05501 6.84048 7.42285V11ZM5.95963 8.21777L4.63297 8.40039C4.22476 8.45768 3.91682 8.55973 3.70914 8.70654C3.50145 8.84977 3.39761 9.10579 3.39761 9.47461C3.39761 9.74316 3.4925 9.96338 3.68228 10.1353C3.87564 10.3035 4.13166 10.3877 4.45035 10.3877C4.8872 10.3877 5.24706 10.2355 5.52994 9.93115C5.8164 9.62321 5.95963 9.2347 5.95963 8.76562V8.21777Z\'/><path d=\'M9.3475 10.2051H9.32601V11H8.44515V2.85742H9.32601V6.4668H9.3475C9.78076 5.73633 10.4146 5.37109 11.2489 5.37109C11.9543 5.37109 12.5057 5.61816 12.9032 6.1123C13.3042 6.60286 13.5047 7.26172 13.5047 8.08887C13.5047 9.00911 13.2809 9.74674 12.8333 10.3018C12.3857 10.8532 11.7734 11.1289 10.9964 11.1289C10.2695 11.1289 9.71989 10.821 9.3475 10.2051ZM9.32601 7.98682V8.75488C9.32601 9.20964 9.47282 9.59635 9.76644 9.91504C10.0636 10.2301 10.4396 10.3877 10.8944 10.3877C11.4279 10.3877 11.8451 10.1836 12.1458 9.77539C12.4502 9.36719 12.6024 8.79964 12.6024 8.07275C12.6024 7.46045 12.4609 6.98063 12.1781 6.6333C11.8952 6.28597 11.512 6.1123 11.0286 6.1123C10.5166 6.1123 10.1048 6.29134 9.7933 6.64941C9.48177 7.00391 9.32601 7.44971 9.32601 7.98682Z\'/></svg>")}x-pw-tool-item.visibility>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z\'/></svg>")}x-pw-tool-item.value>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M4 6h8v1H4V6zm8 3H4v1h8V9z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M4 6h8v1H4V6zm8 3H4v1h8V9z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M1 4l1-1h12l1 1v8l-1 1H2l-1-1V4zm1 0v8h12V4H2z\'/></svg>")}x-pw-tool-item.accept>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\'/></svg>")}x-pw-tool-item.cancel>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\'/></svg>");mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\'/></svg>")}x-pw-tool-item.succeeded>x-div{-webkit-mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z\'/></svg>")!important;mask-image:url("data:image/svg+xml;utf8,<svg width=\'16\' height=\'16\' viewBox=\'0 0 16 16\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'currentColor\'><path d=\'M6.27 10.87h.71l4.56-4.56-.71-.71-4.2 4.21-1.92-1.92L4 8.6l2.27 2.27z\'/><path fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z\'/></svg>")!important;background-color:#388a34!important;-webkit-mask-size:18px!important;mask-size:18px!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}\n`;\n\n// packages/playwright-core/src/server/injected/highlight.ts\nvar Highlight = class {\n  constructor(injectedScript) {\n    this._highlightEntries = [];\n    this._language = "javascript";\n    this._injectedScript = injectedScript;\n    const document = injectedScript.document;\n    this._isUnderTest = injectedScript.isUnderTest;\n    this._glassPaneElement = document.createElement("x-pw-glass");\n    this._glassPaneElement.style.position = "fixed";\n    this._glassPaneElement.style.top = "0";\n    this._glassPaneElement.style.right = "0";\n    this._glassPaneElement.style.bottom = "0";\n    this._glassPaneElement.style.left = "0";\n    this._glassPaneElement.style.zIndex = "2147483646";\n    this._glassPaneElement.style.pointerEvents = "none";\n    this._glassPaneElement.style.display = "flex";\n    this._glassPaneElement.style.backgroundColor = "transparent";\n    for (const eventName of ["click", "auxclick", "dragstart", "input", "keydown", "keyup", "pointerdown", "pointerup", "mousedown", "mouseup", "mouseleave", "focus", "scroll"]) {\n      this._glassPaneElement.addEventListener(eventName, (e) => {\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      });\n    }\n    this._actionPointElement = document.createElement("x-pw-action-point");\n    this._actionPointElement.setAttribute("hidden", "true");\n    this._glassPaneShadow = this._glassPaneElement.attachShadow({ mode: this._isUnderTest ? "open" : "closed" });\n    this._glassPaneShadow.appendChild(this._actionPointElement);\n    const styleElement = document.createElement("style");\n    styleElement.textContent = highlight_default;\n    this._glassPaneShadow.appendChild(styleElement);\n  }\n  install() {\n    this._injectedScript.document.documentElement.appendChild(this._glassPaneElement);\n  }\n  setLanguage(language) {\n    this._language = language;\n  }\n  runHighlightOnRaf(selector) {\n    if (this._rafRequest)\n      cancelAnimationFrame(this._rafRequest);\n    this.updateHighlight(this._injectedScript.querySelectorAll(selector, this._injectedScript.document.documentElement), { tooltipText: asLocator(this._language, stringifySelector(selector)) });\n    this._rafRequest = requestAnimationFrame(() => this.runHighlightOnRaf(selector));\n  }\n  uninstall() {\n    if (this._rafRequest)\n      cancelAnimationFrame(this._rafRequest);\n    this._glassPaneElement.remove();\n  }\n  showActionPoint(x, y) {\n    this._actionPointElement.style.top = y + "px";\n    this._actionPointElement.style.left = x + "px";\n    this._actionPointElement.hidden = false;\n  }\n  hideActionPoint() {\n    this._actionPointElement.hidden = true;\n  }\n  clearHighlight() {\n    var _a, _b;\n    for (const entry of this._highlightEntries) {\n      (_a = entry.highlightElement) == null ? void 0 : _a.remove();\n      (_b = entry.tooltipElement) == null ? void 0 : _b.remove();\n    }\n    this._highlightEntries = [];\n  }\n  updateHighlight(elements, options) {\n    this._innerUpdateHighlight(elements, options);\n  }\n  maskElements(elements, color) {\n    this._innerUpdateHighlight(elements, { color });\n  }\n  _innerUpdateHighlight(elements, options) {\n    let color = options.color;\n    if (!color)\n      color = elements.length > 1 ? "#f6b26b7f" : "#6fa8dc7f";\n    if (this._highlightIsUpToDate(elements, options.tooltipText))\n      return;\n    this.clearHighlight();\n    for (let i = 0; i < elements.length; ++i) {\n      const highlightElement = this._createHighlightElement();\n      this._glassPaneShadow.appendChild(highlightElement);\n      let tooltipElement;\n      if (options.tooltipText) {\n        tooltipElement = this._injectedScript.document.createElement("x-pw-tooltip");\n        this._glassPaneShadow.appendChild(tooltipElement);\n        const suffix = elements.length > 1 ? ` [${i + 1} of ${elements.length}]` : "";\n        tooltipElement.textContent = options.tooltipText + suffix;\n        tooltipElement.style.top = "0";\n        tooltipElement.style.left = "0";\n        tooltipElement.style.display = "flex";\n      }\n      this._highlightEntries.push({ targetElement: elements[i], tooltipElement, highlightElement, tooltipText: options.tooltipText });\n    }\n    for (const entry of this._highlightEntries) {\n      entry.box = entry.targetElement.getBoundingClientRect();\n      if (!entry.tooltipElement)\n        continue;\n      const { anchorLeft, anchorTop } = this.tooltipPosition(entry.box, entry.tooltipElement);\n      entry.tooltipTop = anchorTop;\n      entry.tooltipLeft = anchorLeft;\n    }\n    for (const entry of this._highlightEntries) {\n      if (entry.tooltipElement) {\n        entry.tooltipElement.style.top = entry.tooltipTop + "px";\n        entry.tooltipElement.style.left = entry.tooltipLeft + "px";\n      }\n      const box = entry.box;\n      entry.highlightElement.style.backgroundColor = color;\n      entry.highlightElement.style.left = box.x + "px";\n      entry.highlightElement.style.top = box.y + "px";\n      entry.highlightElement.style.width = box.width + "px";\n      entry.highlightElement.style.height = box.height + "px";\n      entry.highlightElement.style.display = "block";\n      if (this._isUnderTest)\n        console.error("Highlight box for test: " + JSON.stringify({ x: box.x, y: box.y, width: box.width, height: box.height }));\n    }\n  }\n  firstBox() {\n    var _a;\n    return (_a = this._highlightEntries[0]) == null ? void 0 : _a.box;\n  }\n  tooltipPosition(box, tooltipElement) {\n    const tooltipWidth = tooltipElement.offsetWidth;\n    const tooltipHeight = tooltipElement.offsetHeight;\n    const totalWidth = this._glassPaneElement.offsetWidth;\n    const totalHeight = this._glassPaneElement.offsetHeight;\n    let anchorLeft = box.left;\n    if (anchorLeft + tooltipWidth > totalWidth - 5)\n      anchorLeft = totalWidth - tooltipWidth - 5;\n    let anchorTop = box.bottom + 5;\n    if (anchorTop + tooltipHeight > totalHeight - 5) {\n      if (box.top > tooltipHeight + 5) {\n        anchorTop = box.top - tooltipHeight - 5;\n      } else {\n        anchorTop = totalHeight - 5 - tooltipHeight;\n      }\n    }\n    return { anchorLeft, anchorTop };\n  }\n  _highlightIsUpToDate(elements, tooltipText) {\n    if (elements.length !== this._highlightEntries.length)\n      return false;\n    for (let i = 0; i < this._highlightEntries.length; ++i) {\n      if (tooltipText !== this._highlightEntries[i].tooltipText)\n        return false;\n      if (elements[i] !== this._highlightEntries[i].targetElement)\n        return false;\n      const oldBox = this._highlightEntries[i].box;\n      if (!oldBox)\n        return false;\n      const box = elements[i].getBoundingClientRect();\n      if (box.top !== oldBox.top || box.right !== oldBox.right || box.bottom !== oldBox.bottom || box.left !== oldBox.left)\n        return false;\n    }\n    return true;\n  }\n  _createHighlightElement() {\n    return this._injectedScript.document.createElement("x-pw-highlight");\n  }\n  appendChild(element) {\n    this._glassPaneShadow.appendChild(element);\n  }\n};\n\n// packages/playwright-core/src/server/injected/recorder.ts\nvar NoneTool = class {\n  cursor() {\n    return "default";\n  }\n};\nvar InspectTool = class {\n  constructor(recorder, assertVisibility) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._recorder = recorder;\n    this._assertVisibility = assertVisibility;\n  }\n  cursor() {\n    return "pointer";\n  }\n  cleanup() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n  }\n  onClick(event) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    consumeEvent(event);\n    if (this._assertVisibility) {\n      if ((_a = this._hoveredModel) == null ? void 0 : _a.selector) {\n        (_c = (_b = this._recorder.delegate).recordAction) == null ? void 0 : _c.call(_b, {\n          name: "assertVisible",\n          selector: this._hoveredModel.selector,\n          signals: []\n        });\n        (_e = (_d = this._recorder.delegate).setMode) == null ? void 0 : _e.call(_d, "recording");\n        (_f = this._recorder.overlay) == null ? void 0 : _f.flashToolSucceeded("assertingVisibility");\n      }\n    } else {\n      (_h = (_g = this._recorder.delegate).setSelector) == null ? void 0 : _h.call(_g, this._hoveredModel ? this._hoveredModel.selector : "");\n    }\n  }\n  onPointerDown(event) {\n    consumeEvent(event);\n  }\n  onPointerUp(event) {\n    consumeEvent(event);\n  }\n  onMouseDown(event) {\n    consumeEvent(event);\n  }\n  onMouseUp(event) {\n    consumeEvent(event);\n  }\n  onMouseMove(event) {\n    var _a;\n    consumeEvent(event);\n    let target = this._recorder.deepEventTarget(event);\n    if (!target.isConnected)\n      target = null;\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    const model = this._hoveredElement ? generateSelector(this._recorder.injectedScript, this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : null;\n    if (((_a = this._hoveredModel) == null ? void 0 : _a.selector) === (model == null ? void 0 : model.selector))\n      return;\n    this._hoveredModel = model;\n    this._recorder.updateHighlight(model, true, { color: this._assertVisibility ? "#8acae480" : void 0 });\n  }\n  onMouseEnter(event) {\n    consumeEvent(event);\n  }\n  onMouseLeave(event) {\n    consumeEvent(event);\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE) {\n      this._hoveredElement = null;\n      this._hoveredModel = null;\n      this._recorder.updateHighlight(null, true);\n    }\n  }\n  onKeyDown(event) {\n    var _a, _b;\n    consumeEvent(event);\n    if (this._assertVisibility && event.key === "Escape")\n      (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, "recording");\n  }\n  onKeyUp(event) {\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._hoveredElement = null;\n    this._hoveredModel = null;\n    this._recorder.updateHighlight(null, false);\n  }\n};\nvar RecordActionTool = class {\n  constructor(recorder) {\n    this._performingAction = false;\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n    this._recorder = recorder;\n  }\n  cursor() {\n    return "pointer";\n  }\n  cleanup() {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._activeModel = null;\n    this._expectProgrammaticKeyUp = false;\n  }\n  onClick(event) {\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (this._actionInProgress(event))\n      return;\n    if (this._consumedDueToNoModel(event, this._hoveredModel))\n      return;\n    const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n    if (checkbox) {\n      this._performAction({\n        name: checkbox.checked ? "check" : "uncheck",\n        selector: this._hoveredModel.selector,\n        signals: []\n      });\n      return;\n    }\n    this._performAction({\n      name: "click",\n      selector: this._hoveredModel.selector,\n      position: positionForEvent(event),\n      signals: [],\n      button: buttonForEvent(event),\n      modifiers: modifiersForEvent(event),\n      clickCount: event.detail\n    });\n  }\n  onPointerDown(event) {\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (!this._performingAction)\n      consumeEvent(event);\n  }\n  onPointerUp(event) {\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (!this._performingAction)\n      consumeEvent(event);\n  }\n  onMouseDown(event) {\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (!this._performingAction)\n      consumeEvent(event);\n    this._activeModel = this._hoveredModel;\n  }\n  onMouseUp(event) {\n    if (this._shouldIgnoreMouseEvent(event))\n      return;\n    if (!this._performingAction)\n      consumeEvent(event);\n  }\n  onMouseMove(event) {\n    const target = this._recorder.deepEventTarget(event);\n    if (this._hoveredElement === target)\n      return;\n    this._hoveredElement = target;\n    this._updateModelForHoveredElement();\n  }\n  onMouseLeave(event) {\n    const window = this._recorder.injectedScript.window;\n    if (window.top !== window && this._recorder.deepEventTarget(event).nodeType === Node.DOCUMENT_NODE) {\n      this._hoveredElement = null;\n      this._updateModelForHoveredElement();\n    }\n  }\n  onFocus(event) {\n    this._onFocus(true);\n  }\n  onInput(event) {\n    var _a, _b, _c, _d;\n    const target = this._recorder.deepEventTarget(event);\n    if (target.nodeName === "INPUT" && target.type.toLowerCase() === "file") {\n      (_b = (_a = this._recorder.delegate).recordAction) == null ? void 0 : _b.call(_a, {\n        name: "setInputFiles",\n        selector: this._activeModel.selector,\n        signals: [],\n        files: [...target.files || []].map((file) => file.name)\n      });\n      return;\n    }\n    if (["INPUT", "TEXTAREA"].includes(target.nodeName) || target.isContentEditable) {\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return;\n      }\n      if (this._consumedDueWrongTarget(event))\n        return;\n      (_d = (_c = this._recorder.delegate).recordAction) == null ? void 0 : _d.call(_c, {\n        name: "fill",\n        selector: this._activeModel.selector,\n        signals: [],\n        text: target.isContentEditable ? target.innerText : target.value\n      });\n    }\n    if (target.nodeName === "SELECT") {\n      const selectElement = target;\n      if (this._actionInProgress(event))\n        return;\n      this._performAction({\n        name: "select",\n        selector: this._hoveredModel.selector,\n        options: [...selectElement.selectedOptions].map((option) => option.value),\n        signals: []\n      });\n    }\n  }\n  onKeyDown(event) {\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (this._actionInProgress(event)) {\n      this._expectProgrammaticKeyUp = true;\n      return;\n    }\n    if (this._consumedDueWrongTarget(event))\n      return;\n    if (event.key === " ") {\n      const checkbox = asCheckbox(this._recorder.deepEventTarget(event));\n      if (checkbox) {\n        this._performAction({\n          name: checkbox.checked ? "uncheck" : "check",\n          selector: this._activeModel.selector,\n          signals: []\n        });\n        return;\n      }\n    }\n    this._performAction({\n      name: "press",\n      selector: this._activeModel.selector,\n      signals: [],\n      key: event.key,\n      modifiers: modifiersForEvent(event)\n    });\n  }\n  onKeyUp(event) {\n    if (!this._shouldGenerateKeyPressFor(event))\n      return;\n    if (!this._expectProgrammaticKeyUp) {\n      consumeEvent(event);\n      return;\n    }\n    this._expectProgrammaticKeyUp = false;\n  }\n  onScroll(event) {\n    this._hoveredModel = null;\n    this._hoveredElement = null;\n    this._recorder.updateHighlight(null, false);\n  }\n  _onFocus(userGesture) {\n    const activeElement = deepActiveElement(this._recorder.document);\n    if (userGesture && activeElement === this._recorder.document.body)\n      return;\n    const result = activeElement ? generateSelector(this._recorder.injectedScript, activeElement, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : null;\n    this._activeModel = result && result.selector ? result : null;\n    if (userGesture)\n      this._hoveredElement = activeElement;\n    this._updateModelForHoveredElement();\n  }\n  _shouldIgnoreMouseEvent(event) {\n    const target = this._recorder.deepEventTarget(event);\n    const nodeName = target.nodeName;\n    if (nodeName === "SELECT" || nodeName === "OPTION")\n      return true;\n    if (nodeName === "INPUT" && ["date"].includes(target.type))\n      return true;\n    return false;\n  }\n  _actionInProgress(event) {\n    if (this._performingAction)\n      return true;\n    consumeEvent(event);\n    return false;\n  }\n  _consumedDueToNoModel(event, model) {\n    if (model)\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  _consumedDueWrongTarget(event) {\n    if (this._activeModel && this._activeModel.elements[0] === this._recorder.deepEventTarget(event))\n      return false;\n    consumeEvent(event);\n    return true;\n  }\n  async _performAction(action) {\n    var _a, _b;\n    this._hoveredElement = null;\n    this._hoveredModel = null;\n    this._activeModel = null;\n    this._recorder.updateHighlight(null, false);\n    this._performingAction = true;\n    await ((_b = (_a = this._recorder.delegate).performAction) == null ? void 0 : _b.call(_a, action).catch(() => {\n    }));\n    this._performingAction = false;\n    this._onFocus(false);\n    if (this._recorder.injectedScript.isUnderTest) {\n      console.error("Action performed for test: " + JSON.stringify({\n        // eslint-disable-line no-console\n        hovered: this._hoveredModel ? this._hoveredModel.selector : null,\n        active: this._activeModel ? this._activeModel.selector : null\n      }));\n    }\n  }\n  _shouldGenerateKeyPressFor(event) {\n    if (event.key === "Enter" && (this._recorder.deepEventTarget(event).nodeName === "TEXTAREA" || this._recorder.deepEventTarget(event).isContentEditable))\n      return false;\n    if (["Backspace", "Delete", "AltGraph"].includes(event.key))\n      return false;\n    if (event.key === "@" && event.code === "KeyL")\n      return false;\n    if (navigator.platform.includes("Mac")) {\n      if (event.key === "v" && event.metaKey)\n        return false;\n    } else {\n      if (event.key === "v" && event.ctrlKey)\n        return false;\n      if (event.key === "Insert" && event.shiftKey)\n        return false;\n    }\n    if (["Shift", "Control", "Meta", "Alt", "Process"].includes(event.key))\n      return false;\n    const hasModifier = event.ctrlKey || event.altKey || event.metaKey;\n    if (event.key.length === 1 && !hasModifier)\n      return !!asCheckbox(this._recorder.deepEventTarget(event));\n    return true;\n  }\n  _updateModelForHoveredElement() {\n    if (!this._hoveredElement || !this._hoveredElement.isConnected) {\n      this._hoveredModel = null;\n      this._hoveredElement = null;\n      this._recorder.updateHighlight(null, true);\n      return;\n    }\n    const { selector, elements } = generateSelector(this._recorder.injectedScript, this._hoveredElement, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n    if (this._hoveredModel && this._hoveredModel.selector === selector)\n      return;\n    this._hoveredModel = selector ? { selector, elements } : null;\n    this._recorder.updateHighlight(this._hoveredModel, true, { color: "#dc6f6f7f" });\n  }\n};\nvar TextAssertionTool = class {\n  constructor(recorder, kind) {\n    this._hoverHighlight = null;\n    this._action = null;\n    this._dialogElement = null;\n    this._textCache = /* @__PURE__ */ new Map();\n    this._recorder = recorder;\n    this._kind = kind;\n    this._acceptButton = this._recorder.document.createElement("x-pw-tool-item");\n    this._acceptButton.title = "Accept";\n    this._acceptButton.classList.add("accept");\n    this._acceptButton.appendChild(this._recorder.document.createElement("x-div"));\n    this._acceptButton.addEventListener("click", () => this._commit());\n    this._cancelButton = this._recorder.document.createElement("x-pw-tool-item");\n    this._cancelButton.title = "Close";\n    this._cancelButton.classList.add("cancel");\n    this._cancelButton.appendChild(this._recorder.document.createElement("x-div"));\n    this._cancelButton.addEventListener("click", () => this._closeDialog());\n  }\n  cursor() {\n    return "pointer";\n  }\n  cleanup() {\n    this._closeDialog();\n    this._hoverHighlight = null;\n  }\n  onClick(event) {\n    var _a, _b, _c, _d, _e;\n    consumeEvent(event);\n    if (this._kind === "value") {\n      const action = this._generateAction();\n      if (action) {\n        (_b = (_a = this._recorder.delegate).recordAction) == null ? void 0 : _b.call(_a, action);\n        (_d = (_c = this._recorder.delegate).setMode) == null ? void 0 : _d.call(_c, "recording");\n        (_e = this._recorder.overlay) == null ? void 0 : _e.flashToolSucceeded("assertingValue");\n      }\n    } else {\n      if (!this._dialogElement)\n        this._showDialog();\n    }\n  }\n  onMouseDown(event) {\n    const target = this._recorder.deepEventTarget(event);\n    if (this._elementHasValue(target))\n      event.preventDefault();\n  }\n  onMouseMove(event) {\n    var _a;\n    if (this._dialogElement)\n      return;\n    const target = this._recorder.deepEventTarget(event);\n    if (((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]) === target)\n      return;\n    if (this._kind === "text")\n      this._hoverHighlight = elementText(this._textCache, target).full ? { elements: [target], selector: "" } : null;\n    else\n      this._hoverHighlight = this._elementHasValue(target) ? generateSelector(this._recorder.injectedScript, target, { testIdAttributeName: this._recorder.state.testIdAttributeName }) : null;\n    this._recorder.updateHighlight(this._hoverHighlight, true, { color: "#8acae480" });\n  }\n  onKeyDown(event) {\n    var _a, _b;\n    if (event.key === "Escape")\n      (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, "recording");\n    consumeEvent(event);\n  }\n  onScroll(event) {\n    this._recorder.updateHighlight(this._hoverHighlight, false, { color: "#8acae480" });\n  }\n  _elementHasValue(element) {\n    return element.nodeName === "TEXTAREA" || element.nodeName === "SELECT" || element.nodeName === "INPUT" && !["button", "image", "reset", "submit"].includes(element.type);\n  }\n  _generateAction() {\n    var _a;\n    this._textCache.clear();\n    const target = (_a = this._hoverHighlight) == null ? void 0 : _a.elements[0];\n    if (!target)\n      return null;\n    if (this._kind === "value") {\n      if (!this._elementHasValue(target))\n        return null;\n      const { selector } = generateSelector(this._recorder.injectedScript, target, { testIdAttributeName: this._recorder.state.testIdAttributeName });\n      if (target.nodeName === "INPUT" && ["checkbox", "radio"].includes(target.type.toLowerCase())) {\n        return {\n          name: "assertChecked",\n          selector,\n          signals: [],\n          // Interestingly, inputElement.checked is reversed inside this event handler.\n          checked: !target.checked\n        };\n      } else {\n        return {\n          name: "assertValue",\n          selector,\n          signals: [],\n          value: target.value\n        };\n      }\n    } else {\n      this._hoverHighlight = generateSelector(this._recorder.injectedScript, target, { testIdAttributeName: this._recorder.state.testIdAttributeName, forTextExpect: true });\n      this._recorder.updateHighlight(this._hoverHighlight, true, { color: "#8acae480" });\n      return {\n        name: "assertText",\n        selector: this._hoverHighlight.selector,\n        signals: [],\n        text: normalizeWhiteSpace(elementText(this._textCache, target).full),\n        substring: true\n      };\n    }\n  }\n  _renderValue(action) {\n    if ((action == null ? void 0 : action.name) === "assertText")\n      return normalizeWhiteSpace(action.text);\n    if ((action == null ? void 0 : action.name) === "assertChecked")\n      return String(action.checked);\n    if ((action == null ? void 0 : action.name) === "assertValue")\n      return action.value;\n    return "";\n  }\n  _commit() {\n    var _a, _b, _c, _d;\n    if (!this._action || !this._dialogElement)\n      return;\n    this._closeDialog();\n    (_b = (_a = this._recorder.delegate).recordAction) == null ? void 0 : _b.call(_a, this._action);\n    (_d = (_c = this._recorder.delegate).setMode) == null ? void 0 : _d.call(_c, "recording");\n  }\n  _showDialog() {\n    var _a;\n    if (!((_a = this._hoverHighlight) == null ? void 0 : _a.elements[0]))\n      return;\n    this._action = this._generateAction();\n    if (!this._action || this._action.name !== "assertText")\n      return;\n    this._dialogElement = this._recorder.document.createElement("x-pw-dialog");\n    this._keyboardListener = (event) => {\n      if (event.key === "Escape") {\n        this._closeDialog();\n        return;\n      }\n      if (event.key === "Enter" && (event.ctrlKey || event.metaKey)) {\n        if (this._dialogElement)\n          this._commit();\n        return;\n      }\n    };\n    this._recorder.document.addEventListener("keydown", this._keyboardListener, true);\n    const toolbarElement = this._recorder.document.createElement("x-pw-tools-list");\n    const labelElement = this._recorder.document.createElement("label");\n    labelElement.textContent = "Assert that element contains text";\n    toolbarElement.appendChild(labelElement);\n    toolbarElement.appendChild(this._recorder.document.createElement("x-spacer"));\n    toolbarElement.appendChild(this._acceptButton);\n    toolbarElement.appendChild(this._cancelButton);\n    this._dialogElement.appendChild(toolbarElement);\n    const bodyElement = this._recorder.document.createElement("x-pw-dialog-body");\n    const action = this._action;\n    const textElement = this._recorder.document.createElement("textarea");\n    textElement.setAttribute("spellcheck", "false");\n    textElement.value = this._renderValue(this._action);\n    textElement.classList.add("text-editor");\n    const updateAndValidate = () => {\n      var _a2;\n      const newValue = normalizeWhiteSpace(textElement.value);\n      const target = (_a2 = this._hoverHighlight) == null ? void 0 : _a2.elements[0];\n      if (!target)\n        return;\n      action.text = newValue;\n      const targetText = normalizeWhiteSpace(elementText(this._textCache, target).full);\n      const matches = newValue && targetText.includes(newValue);\n      textElement.classList.toggle("does-not-match", !matches);\n    };\n    textElement.addEventListener("input", updateAndValidate);\n    bodyElement.appendChild(textElement);\n    this._dialogElement.appendChild(bodyElement);\n    this._recorder.highlight.appendChild(this._dialogElement);\n    const position = this._recorder.highlight.tooltipPosition(this._recorder.highlight.firstBox(), this._dialogElement);\n    this._dialogElement.style.top = position.anchorTop + "px";\n    this._dialogElement.style.left = position.anchorLeft + "px";\n    textElement.focus();\n  }\n  _closeDialog() {\n    if (!this._dialogElement)\n      return;\n    this._dialogElement.remove();\n    this._recorder.document.removeEventListener("keydown", this._keyboardListener);\n    this._dialogElement = null;\n  }\n};\nvar Overlay = class {\n  constructor(recorder) {\n    this._offsetX = 0;\n    this._measure = { width: 0, height: 0 };\n    this._recorder = recorder;\n    const document = this._recorder.injectedScript.document;\n    this._overlayElement = document.createElement("x-pw-overlay");\n    const toolsListElement = document.createElement("x-pw-tools-list");\n    this._overlayElement.appendChild(toolsListElement);\n    const dragHandle = document.createElement("x-pw-tool-gripper");\n    dragHandle.addEventListener("mousedown", (event) => {\n      this._dragState = { offsetX: this._offsetX, dragStart: { x: event.clientX, y: 0 } };\n    });\n    dragHandle.appendChild(document.createElement("x-div"));\n    toolsListElement.appendChild(dragHandle);\n    this._recordToggle = this._recorder.injectedScript.document.createElement("x-pw-tool-item");\n    this._recordToggle.title = "Record";\n    this._recordToggle.classList.add("record");\n    this._recordToggle.appendChild(this._recorder.injectedScript.document.createElement("x-div"));\n    this._recordToggle.addEventListener("click", () => {\n      var _a, _b;\n      (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, this._recorder.state.mode === "none" || this._recorder.state.mode === "standby" || this._recorder.state.mode === "inspecting" ? "recording" : "standby");\n    });\n    toolsListElement.appendChild(this._recordToggle);\n    this._pickLocatorToggle = this._recorder.injectedScript.document.createElement("x-pw-tool-item");\n    this._pickLocatorToggle.title = "Pick locator";\n    this._pickLocatorToggle.classList.add("pick-locator");\n    this._pickLocatorToggle.appendChild(this._recorder.injectedScript.document.createElement("x-div"));\n    this._pickLocatorToggle.addEventListener("click", () => {\n      var _a, _b;\n      const newMode = {\n        "inspecting": "standby",\n        "none": "inspecting",\n        "standby": "inspecting",\n        "recording": "recording-inspecting",\n        "recording-inspecting": "recording",\n        "assertingText": "recording-inspecting",\n        "assertingVisibility": "recording-inspecting",\n        "assertingValue": "recording-inspecting"\n      };\n      (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, newMode[this._recorder.state.mode]);\n    });\n    toolsListElement.appendChild(this._pickLocatorToggle);\n    this._assertVisibilityToggle = this._recorder.injectedScript.document.createElement("x-pw-tool-item");\n    this._assertVisibilityToggle.title = "Assert visibility";\n    this._assertVisibilityToggle.classList.add("visibility");\n    this._assertVisibilityToggle.appendChild(this._recorder.injectedScript.document.createElement("x-div"));\n    this._assertVisibilityToggle.addEventListener("click", () => {\n      var _a, _b;\n      if (!this._assertVisibilityToggle.classList.contains("disabled"))\n        (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, this._recorder.state.mode === "assertingVisibility" ? "recording" : "assertingVisibility");\n    });\n    toolsListElement.appendChild(this._assertVisibilityToggle);\n    this._assertTextToggle = this._recorder.injectedScript.document.createElement("x-pw-tool-item");\n    this._assertTextToggle.title = "Assert text";\n    this._assertTextToggle.classList.add("text");\n    this._assertTextToggle.appendChild(this._recorder.injectedScript.document.createElement("x-div"));\n    this._assertTextToggle.addEventListener("click", () => {\n      var _a, _b;\n      if (!this._assertTextToggle.classList.contains("disabled"))\n        (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, this._recorder.state.mode === "assertingText" ? "recording" : "assertingText");\n    });\n    toolsListElement.appendChild(this._assertTextToggle);\n    this._assertValuesToggle = this._recorder.injectedScript.document.createElement("x-pw-tool-item");\n    this._assertValuesToggle.title = "Assert value";\n    this._assertValuesToggle.classList.add("value");\n    this._assertValuesToggle.appendChild(this._recorder.injectedScript.document.createElement("x-div"));\n    this._assertValuesToggle.addEventListener("click", () => {\n      var _a, _b;\n      if (!this._assertValuesToggle.classList.contains("disabled"))\n        (_b = (_a = this._recorder.delegate).setMode) == null ? void 0 : _b.call(_a, this._recorder.state.mode === "assertingValue" ? "recording" : "assertingValue");\n    });\n    toolsListElement.appendChild(this._assertValuesToggle);\n    this._updateVisualPosition();\n  }\n  install() {\n    this._recorder.highlight.appendChild(this._overlayElement);\n    this._updateVisualPosition();\n  }\n  contains(element) {\n    return isInsideScope(this._overlayElement, element);\n  }\n  setUIState(state) {\n    this._recordToggle.classList.toggle("active", state.mode === "recording" || state.mode === "assertingText" || state.mode === "assertingVisibility" || state.mode === "assertingValue" || state.mode === "recording-inspecting");\n    this._pickLocatorToggle.classList.toggle("active", state.mode === "inspecting" || state.mode === "recording-inspecting");\n    this._assertVisibilityToggle.classList.toggle("active", state.mode === "assertingVisibility");\n    this._assertVisibilityToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertTextToggle.classList.toggle("active", state.mode === "assertingText");\n    this._assertTextToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    this._assertValuesToggle.classList.toggle("active", state.mode === "assertingValue");\n    this._assertValuesToggle.classList.toggle("disabled", state.mode === "none" || state.mode === "standby" || state.mode === "inspecting");\n    if (this._offsetX !== state.overlay.offsetX) {\n      this._offsetX = state.overlay.offsetX;\n      this._updateVisualPosition();\n    }\n    if (state.mode === "none")\n      this._hideOverlay();\n    else\n      this._showOverlay();\n  }\n  flashToolSucceeded(tool) {\n    const element = tool === "assertingVisibility" ? this._assertVisibilityToggle : this._assertValuesToggle;\n    element.classList.add("succeeded");\n    setTimeout(() => element.classList.remove("succeeded"), 2e3);\n  }\n  _hideOverlay() {\n    this._overlayElement.setAttribute("hidden", "true");\n  }\n  _showOverlay() {\n    if (!this._overlayElement.hasAttribute("hidden"))\n      return;\n    this._overlayElement.removeAttribute("hidden");\n    this._updateVisualPosition();\n  }\n  _updateVisualPosition() {\n    this._measure = this._overlayElement.getBoundingClientRect();\n    this._overlayElement.style.left = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 + this._offsetX + "px";\n  }\n  onMouseMove(event) {\n    var _a, _b;\n    if (!event.buttons) {\n      this._dragState = void 0;\n      return false;\n    }\n    if (this._dragState) {\n      this._offsetX = this._dragState.offsetX + event.clientX - this._dragState.dragStart.x;\n      const halfGapSize = (this._recorder.injectedScript.window.innerWidth - this._measure.width) / 2 - 10;\n      this._offsetX = Math.max(-halfGapSize, Math.min(halfGapSize, this._offsetX));\n      this._updateVisualPosition();\n      (_b = (_a = this._recorder.delegate).setOverlayState) == null ? void 0 : _b.call(_a, { offsetX: this._offsetX });\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onMouseUp(event) {\n    if (this._dragState) {\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n  onClick(event) {\n    if (this._dragState) {\n      this._dragState = void 0;\n      consumeEvent(event);\n      return true;\n    }\n    return false;\n  }\n};\nvar Recorder = class {\n  constructor(injectedScript) {\n    this._listeners = [];\n    this._actionSelectorModel = null;\n    this.state = { mode: "none", testIdAttributeName: "data-testid", language: "javascript", overlay: { offsetX: 0 } };\n    this.delegate = {};\n    this.document = injectedScript.document;\n    this.injectedScript = injectedScript;\n    this.highlight = new Highlight(injectedScript);\n    this._tools = {\n      "none": new NoneTool(),\n      "standby": new NoneTool(),\n      "inspecting": new InspectTool(this, false),\n      "recording": new RecordActionTool(this),\n      "recording-inspecting": new InspectTool(this, false),\n      "assertingText": new TextAssertionTool(this, "text"),\n      "assertingVisibility": new InspectTool(this, true),\n      "assertingValue": new TextAssertionTool(this, "value")\n    };\n    this._currentTool = this._tools.none;\n    if (injectedScript.window.top === injectedScript.window) {\n      this.overlay = new Overlay(this);\n      this.overlay.setUIState(this.state);\n    }\n    this._styleElement = this.document.createElement("style");\n    this._styleElement.textContent = `\n      body[data-pw-cursor=pointer] *, body[data-pw-cursor=pointer] *::after { cursor: pointer !important; }\n      body[data-pw-cursor=text] *, body[data-pw-cursor=text] *::after { cursor: text !important; }\n    `;\n    this.installListeners();\n    if (injectedScript.isUnderTest)\n      console.error("Recorder script ready for test");\n  }\n  installListeners() {\n    var _a;\n    removeEventListeners(this._listeners);\n    this._listeners = [\n      addEventListener(this.document, "click", (event) => this._onClick(event), true),\n      addEventListener(this.document, "auxclick", (event) => this._onClick(event), true),\n      addEventListener(this.document, "dragstart", (event) => this._onDragStart(event), true),\n      addEventListener(this.document, "input", (event) => this._onInput(event), true),\n      addEventListener(this.document, "keydown", (event) => this._onKeyDown(event), true),\n      addEventListener(this.document, "keyup", (event) => this._onKeyUp(event), true),\n      addEventListener(this.document, "pointerdown", (event) => this._onPointerDown(event), true),\n      addEventListener(this.document, "pointerup", (event) => this._onPointerUp(event), true),\n      addEventListener(this.document, "mousedown", (event) => this._onMouseDown(event), true),\n      addEventListener(this.document, "mouseup", (event) => this._onMouseUp(event), true),\n      addEventListener(this.document, "mousemove", (event) => this._onMouseMove(event), true),\n      addEventListener(this.document, "mouseleave", (event) => this._onMouseLeave(event), true),\n      addEventListener(this.document, "mouseenter", (event) => this._onMouseEnter(event), true),\n      addEventListener(this.document, "focus", (event) => this._onFocus(event), true),\n      addEventListener(this.document, "scroll", (event) => this._onScroll(event), true)\n    ];\n    this.highlight.install();\n    (_a = this.overlay) == null ? void 0 : _a.install();\n    this.injectedScript.document.head.appendChild(this._styleElement);\n  }\n  _switchCurrentTool() {\n    var _a, _b, _c;\n    const newTool = this._tools[this.state.mode];\n    if (newTool === this._currentTool)\n      return;\n    (_b = (_a = this._currentTool).cleanup) == null ? void 0 : _b.call(_a);\n    this.clearHighlight();\n    this._currentTool = newTool;\n    (_c = this.injectedScript.document.body) == null ? void 0 : _c.setAttribute("data-pw-cursor", newTool.cursor());\n  }\n  setUIState(state, delegate) {\n    var _a, _b, _c, _d;\n    this.delegate = delegate;\n    if (state.actionPoint && this.state.actionPoint && state.actionPoint.x === this.state.actionPoint.x && state.actionPoint.y === this.state.actionPoint.y) {\n    } else if (!state.actionPoint && !this.state.actionPoint) {\n    } else {\n      if (state.actionPoint)\n        this.highlight.showActionPoint(state.actionPoint.x, state.actionPoint.y);\n      else\n        this.highlight.hideActionPoint();\n    }\n    this.state = state;\n    this.highlight.setLanguage(state.language);\n    this._switchCurrentTool();\n    (_a = this.overlay) == null ? void 0 : _a.setUIState(state);\n    if (((_b = this._actionSelectorModel) == null ? void 0 : _b.selector) && !((_c = this._actionSelectorModel) == null ? void 0 : _c.elements.length))\n      this._actionSelectorModel = null;\n    if (state.actionSelector !== ((_d = this._actionSelectorModel) == null ? void 0 : _d.selector))\n      this._actionSelectorModel = state.actionSelector ? querySelector(this.injectedScript, state.actionSelector, this.document) : null;\n    if (this.state.mode === "none" || this.state.mode === "standby")\n      this.updateHighlight(this._actionSelectorModel, false);\n  }\n  clearHighlight() {\n    var _a, _b;\n    (_b = (_a = this._currentTool).cleanup) == null ? void 0 : _b.call(_a);\n    this.updateHighlight(null, false);\n  }\n  _onClick(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onClick(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onClick) == null ? void 0 : _c.call(_b, event);\n  }\n  _onDragStart(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onDragStart) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onPointerUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onPointerUp) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseUp(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseUp(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseUp) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseMove(event) {\n    var _a, _b, _c;\n    if (!event.isTrusted)\n      return;\n    if ((_a = this.overlay) == null ? void 0 : _a.onMouseMove(event))\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_c = (_b = this._currentTool).onMouseMove) == null ? void 0 : _c.call(_b, event);\n  }\n  _onMouseEnter(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseEnter) == null ? void 0 : _b.call(_a, event);\n  }\n  _onMouseLeave(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onMouseLeave) == null ? void 0 : _b.call(_a, event);\n  }\n  _onFocus(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onFocus) == null ? void 0 : _b.call(_a, event);\n  }\n  _onScroll(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    this.highlight.hideActionPoint();\n    (_b = (_a = this._currentTool).onScroll) == null ? void 0 : _b.call(_a, event);\n  }\n  _onInput(event) {\n    var _a, _b;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onInput) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyDown(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyDown) == null ? void 0 : _b.call(_a, event);\n  }\n  _onKeyUp(event) {\n    var _a, _b;\n    if (!event.isTrusted)\n      return;\n    if (this._ignoreOverlayEvent(event))\n      return;\n    (_b = (_a = this._currentTool).onKeyUp) == null ? void 0 : _b.call(_a, event);\n  }\n  updateHighlight(model, userGesture, options = {}) {\n    var _a, _b;\n    if (options.tooltipText === void 0 && (model == null ? void 0 : model.selector))\n      options.tooltipText = asLocator(this.state.language, model.selector);\n    this.highlight.updateHighlight((model == null ? void 0 : model.elements) || [], options);\n    if (userGesture)\n      (_b = (_a = this.delegate).highlightUpdated) == null ? void 0 : _b.call(_a);\n  }\n  _ignoreOverlayEvent(event) {\n    const target = event.composedPath()[0];\n    return target.nodeName.toLowerCase() === "x-pw-glass";\n  }\n  deepEventTarget(event) {\n    var _a;\n    for (const element of event.composedPath()) {\n      if (!((_a = this.overlay) == null ? void 0 : _a.contains(element)))\n        return element;\n    }\n    return event.composedPath()[0];\n  }\n};\nfunction deepActiveElement(document) {\n  let activeElement = document.activeElement;\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    activeElement = activeElement.shadowRoot.activeElement;\n  return activeElement;\n}\nfunction modifiersForEvent(event) {\n  return (event.altKey ? 1 : 0) | (event.ctrlKey ? 2 : 0) | (event.metaKey ? 4 : 0) | (event.shiftKey ? 8 : 0);\n}\nfunction buttonForEvent(event) {\n  switch (event.which) {\n    case 1:\n      return "left";\n    case 2:\n      return "middle";\n    case 3:\n      return "right";\n  }\n  return "left";\n}\nfunction positionForEvent(event) {\n  const targetElement = event.target;\n  if (targetElement.nodeName !== "CANVAS")\n    return;\n  return {\n    x: event.offsetX,\n    y: event.offsetY\n  };\n}\nfunction consumeEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n}\nfunction asCheckbox(node) {\n  if (!node || node.nodeName !== "INPUT")\n    return null;\n  const inputElement = node;\n  return ["checkbox", "radio"].includes(inputElement.type) ? inputElement : null;\n}\nfunction addEventListener(target, eventName, listener, useCapture) {\n  target.addEventListener(eventName, listener, useCapture);\n  const remove = () => {\n    target.removeEventListener(eventName, listener, useCapture);\n  };\n  return remove;\n}\nfunction removeEventListeners(listeners) {\n  for (const listener of listeners)\n    listener();\n  listeners.splice(0, listeners.length);\n}\nfunction querySelector(injectedScript, selector, ownerDocument) {\n  try {\n    const parsedSelector = injectedScript.parseSelector(selector);\n    return {\n      selector,\n      elements: injectedScript.querySelectorAll(parsedSelector, ownerDocument)\n    };\n  } catch (e) {\n    return {\n      selector,\n      elements: []\n    };\n  }\n}\nvar PollingRecorder = class {\n  constructor(injectedScript) {\n    this._recorder = new Recorder(injectedScript);\n    this._embedder = injectedScript.window;\n    injectedScript.onGlobalListenersRemoved.add(() => this._recorder.installListeners());\n    const refreshOverlay = () => {\n      this._pollRecorderMode().catch((e) => console.log(e));\n    };\n    this._embedder.__pw_refreshOverlay = refreshOverlay;\n    refreshOverlay();\n  }\n  async _pollRecorderMode() {\n    const pollPeriod = 1e3;\n    if (this._pollRecorderModeTimer)\n      clearTimeout(this._pollRecorderModeTimer);\n    const state = await this._embedder.__pw_recorderState().catch(() => {\n    });\n    if (!state) {\n      this._pollRecorderModeTimer = setTimeout(() => this._pollRecorderMode(), pollPeriod);\n      return;\n    }\n    const win = this._recorder.document.defaultView;\n    if (win.top !== win) {\n      state.actionPoint = void 0;\n    }\n    this._recorder.setUIState(state, this);\n    this._pollRecorderModeTimer = setTimeout(() => this._pollRecorderMode(), pollPeriod);\n  }\n  async performAction(action) {\n    await this._embedder.__pw_recorderPerformAction(action);\n  }\n  async recordAction(action) {\n    await this._embedder.__pw_recorderRecordAction(action);\n  }\n  async setSelector(selector) {\n    await this._embedder.__pw_recorderSetSelector(selector);\n  }\n  async setMode(mode) {\n    await this._embedder.__pw_recorderSetMode(mode);\n  }\n  async setOverlayState(state) {\n    await this._embedder.__pw_recorderSetOverlayState(state);\n  }\n};\nvar recorder_default = PollingRecorder;\n'},7186:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.source=void 0;const Q=S.source='\nvar __commonJS = obj => {\n  let required = false;\n  let result;\n  return function __require() {\n    if (!required) {\n      required = true;\n      let fn;\n      for (const name in obj) { fn = obj[name]; break; }\n      const module = { exports: {} };\n      fn(module.exports, module);\n      result = module.exports;\n    }\n    return result;\n  }\n};\nvar __export = (target, all) => {for (var name in all) target[name] = all[name];};\nvar __toESM = mod => ({ ...mod, \'default\': mod });\nvar __toCommonJS = mod => ({ ...mod, __esModule: true });\n\n\n// packages/playwright-core/src/server/injected/utilityScript.ts\nvar utilityScript_exports = {};\n__export(utilityScript_exports, {\n  UtilityScript: () => UtilityScript\n});\nmodule.exports = __toCommonJS(utilityScript_exports);\n\n// packages/playwright-core/src/server/isomorphic/utilityScriptSerializers.ts\nfunction source() {\n  function isRegExp(obj) {\n    try {\n      return obj instanceof RegExp || Object.prototype.toString.call(obj) === "[object RegExp]";\n    } catch (error) {\n      return false;\n    }\n  }\n  function isDate(obj) {\n    try {\n      return obj instanceof Date || Object.prototype.toString.call(obj) === "[object Date]";\n    } catch (error) {\n      return false;\n    }\n  }\n  function isURL(obj) {\n    try {\n      return obj instanceof URL || Object.prototype.toString.call(obj) === "[object URL]";\n    } catch (error) {\n      return false;\n    }\n  }\n  function isError(obj) {\n    var _a;\n    try {\n      return obj instanceof Error || obj && ((_a = Object.getPrototypeOf(obj)) == null ? void 0 : _a.name) === "Error";\n    } catch (error) {\n      return false;\n    }\n  }\n  function parseEvaluationResultValue2(value, handles = [], refs = /* @__PURE__ */ new Map()) {\n    if (Object.is(value, void 0))\n      return void 0;\n    if (typeof value === "object" && value) {\n      if ("ref" in value)\n        return refs.get(value.ref);\n      if ("v" in value) {\n        if (value.v === "undefined")\n          return void 0;\n        if (value.v === "null")\n          return null;\n        if (value.v === "NaN")\n          return NaN;\n        if (value.v === "Infinity")\n          return Infinity;\n        if (value.v === "-Infinity")\n          return -Infinity;\n        if (value.v === "-0")\n          return -0;\n        return void 0;\n      }\n      if ("d" in value)\n        return new Date(value.d);\n      if ("u" in value)\n        return new URL(value.u);\n      if ("bi" in value)\n        return BigInt(value.bi);\n      if ("r" in value)\n        return new RegExp(value.r.p, value.r.f);\n      if ("a" in value) {\n        const result2 = [];\n        refs.set(value.id, result2);\n        for (const a of value.a)\n          result2.push(parseEvaluationResultValue2(a, handles, refs));\n        return result2;\n      }\n      if ("o" in value) {\n        const result2 = {};\n        refs.set(value.id, result2);\n        for (const { k, v } of value.o)\n          result2[k] = parseEvaluationResultValue2(v, handles, refs);\n        return result2;\n      }\n      if ("h" in value)\n        return handles[value.h];\n    }\n    return value;\n  }\n  function serializeAsCallArgument2(value, handleSerializer) {\n    return serialize(value, handleSerializer, { visited: /* @__PURE__ */ new Map(), lastId: 0 });\n  }\n  function serialize(value, handleSerializer, visitorInfo) {\n    if (value && typeof value === "object") {\n      if (typeof globalThis.Window === "function" && value instanceof globalThis.Window)\n        return "ref: <Window>";\n      if (typeof globalThis.Document === "function" && value instanceof globalThis.Document)\n        return "ref: <Document>";\n      if (typeof globalThis.Node === "function" && value instanceof globalThis.Node)\n        return "ref: <Node>";\n    }\n    return innerSerialize(value, handleSerializer, visitorInfo);\n  }\n  function innerSerialize(value, handleSerializer, visitorInfo) {\n    var _a;\n    const result2 = handleSerializer(value);\n    if ("fallThrough" in result2)\n      value = result2.fallThrough;\n    else\n      return result2;\n    if (typeof value === "symbol")\n      return { v: "undefined" };\n    if (Object.is(value, void 0))\n      return { v: "undefined" };\n    if (Object.is(value, null))\n      return { v: "null" };\n    if (Object.is(value, NaN))\n      return { v: "NaN" };\n    if (Object.is(value, Infinity))\n      return { v: "Infinity" };\n    if (Object.is(value, -Infinity))\n      return { v: "-Infinity" };\n    if (Object.is(value, -0))\n      return { v: "-0" };\n    if (typeof value === "boolean")\n      return value;\n    if (typeof value === "number")\n      return value;\n    if (typeof value === "string")\n      return value;\n    if (typeof value === "bigint")\n      return { bi: value.toString() };\n    if (isError(value)) {\n      const error = value;\n      if ((_a = error.stack) == null ? void 0 : _a.startsWith(error.name + ": " + error.message)) {\n        return error.stack;\n      }\n      return `${error.name}: ${error.message}\n${error.stack}`;\n    }\n    if (isDate(value))\n      return { d: value.toJSON() };\n    if (isURL(value))\n      return { u: value.toJSON() };\n    if (isRegExp(value))\n      return { r: { p: value.source, f: value.flags } };\n    const id = visitorInfo.visited.get(value);\n    if (id)\n      return { ref: id };\n    if (Array.isArray(value)) {\n      const a = [];\n      const id2 = ++visitorInfo.lastId;\n      visitorInfo.visited.set(value, id2);\n      for (let i = 0; i < value.length; ++i)\n        a.push(serialize(value[i], handleSerializer, visitorInfo));\n      return { a, id: id2 };\n    }\n    if (typeof value === "object") {\n      const o = [];\n      const id2 = ++visitorInfo.lastId;\n      visitorInfo.visited.set(value, id2);\n      for (const name of Object.keys(value)) {\n        let item;\n        try {\n          item = value[name];\n        } catch (e) {\n          continue;\n        }\n        if (name === "toJSON" && typeof item === "function")\n          o.push({ k: name, v: { o: [], id: 0 } });\n        else\n          o.push({ k: name, v: serialize(item, handleSerializer, visitorInfo) });\n      }\n      let jsonWrapper;\n      try {\n        if (o.length === 0 && value.toJSON && typeof value.toJSON === "function")\n          jsonWrapper = { value: value.toJSON() };\n      } catch (e) {\n      }\n      if (jsonWrapper)\n        return innerSerialize(jsonWrapper.value, handleSerializer, visitorInfo);\n      return { o, id: id2 };\n    }\n  }\n  return { parseEvaluationResultValue: parseEvaluationResultValue2, serializeAsCallArgument: serializeAsCallArgument2 };\n}\nvar result = source();\nvar parseEvaluationResultValue = result.parseEvaluationResultValue;\nvar serializeAsCallArgument = result.serializeAsCallArgument;\n\n// packages/playwright-core/src/server/injected/utilityScript.ts\nvar UtilityScript = class {\n  constructor() {\n    this.serializeAsCallArgument = serializeAsCallArgument;\n    this.parseEvaluationResultValue = parseEvaluationResultValue;\n  }\n  evaluate(isFunction, returnByValue, exposeUtilityScript, expression, argCount, ...argsAndHandles) {\n    const args = argsAndHandles.slice(0, argCount);\n    const handles = argsAndHandles.slice(argCount);\n    const parameters = [];\n    for (let i = 0; i < args.length; i++)\n      parameters[i] = this.parseEvaluationResultValue(args[i], handles);\n    if (exposeUtilityScript)\n      parameters.unshift(this);\n    let result2 = globalThis.eval(expression);\n    if (isFunction === true) {\n      result2 = result2(...parameters);\n    } else if (isFunction === false) {\n      result2 = result2;\n    } else {\n      if (typeof result2 === "function")\n        result2 = result2(...parameters);\n    }\n    return returnByValue ? this._promiseAwareJsonValueNoThrow(result2) : result2;\n  }\n  jsonValue(returnByValue, value) {\n    if (Object.is(value, void 0))\n      return void 0;\n    return serializeAsCallArgument(value, (value2) => ({ fallThrough: value2 }));\n  }\n  _promiseAwareJsonValueNoThrow(value) {\n    const safeJson = (value2) => {\n      try {\n        return this.jsonValue(true, value2);\n      } catch (e) {\n        return void 0;\n      }\n    };\n    if (value && typeof value === "object" && typeof value.then === "function") {\n      return (async () => {\n        const promiseValue = await value;\n        return safeJson(promiseValue);\n      })();\n    }\n    return safeJson(value);\n  }\n};\n'},4817:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.blendWithWhite=blendWithWhite;S.colorDeltaE94=colorDeltaE94;S.rgb2gray=rgb2gray;S.srgb2xyz=srgb2xyz;S.xyz2lab=xyz2lab;function blendWithWhite(v,S){return 255+(v-255)*S}function rgb2gray(v,S,Q){return 77*v+150*S+29*Q+128>>8}function colorDeltaE94(v,S){const[Q,O,H]=xyz2lab(srgb2xyz(v));const[V,J,Y]=xyz2lab(srgb2xyz(S));const X=Q-V;const ee=O-J;const ae=H-Y;const he=Math.sqrt(O**2+H**2);const Ee=Math.sqrt(J**2+Y**2);const Be=he-Ee;let ke=ee**2+ae**2-Be**2;ke=ke<0?0:Math.sqrt(ke);const Re=.045;const Oe=.015;const Pe=1;const Le=1;const je=1;const qe=1+Re*he;const Ve=1+Oe*he;const ze=1;return Math.sqrt((X/ze/Pe)**2+(Be/qe/Le)**2+(ke/Ve/je)**2)}function srgb2xyz(v){let S=v[0]/255;let Q=v[1]/255;let O=v[2]/255;S=S>.04045?Math.pow((S+.055)/1.055,2.4):S/12.92;Q=Q>.04045?Math.pow((Q+.055)/1.055,2.4):Q/12.92;O=O>.04045?Math.pow((O+.055)/1.055,2.4):O/12.92;return[S*.4124+Q*.3576+O*.1805,S*.2126+Q*.7152+O*.0722,S*.0193+Q*.1192+O*.9505]}const Q=6*6/29/29;const O=6*6*6/29/29/29;function xyz2lab(v){const S=v[0]/.950489;const H=v[1];const V=v[2]/1.08884;const J=S>O?S**(1/3):S/3/Q+4/29;const Y=H>O?H**(1/3):H/3/Q+4/29;const X=V>O?V**(1/3):V/3/Q+4/29;const ee=116*Y-16;const ae=500*(J-Y);const he=200*(Y-X);return[ee,ae,he]}},7116:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.compare=compare;var O=Q(4817);var H=Q(7914);var V=Q(8039);const J=15;const Y=1;function drawPixel(v,S,Q,O,H,V,J){const Y=(O*v+Q)*4;S[Y+0]=H;S[Y+1]=V;S[Y+2]=J;S[Y+3]=255}function compare(v,S,Q,X,ee,ae={}){const{maxColorDeltaE94:he=1}=ae;const Ee=Math.max(Y,J);const Be=[255,0,255];const ke=[0,255,0];const[Re,Oe,Pe]=H.ImageChannel.intoRGB(X,ee,S,{paddingSize:Ee,paddingColorEven:Be,paddingColorOdd:ke});const[Le,je,qe]=H.ImageChannel.intoRGB(X,ee,v,{paddingSize:Ee,paddingColorEven:Be,paddingColorOdd:ke});const noop=(v,S)=>{};const Ve=Q?(v,S)=>drawPixel(X,Q,v-Ee,S-Ee,255,0,0):noop;const ze=Q?(v,S)=>drawPixel(X,Q,v-Ee,S-Ee,255,255,0):noop;const $e=Q?(v,S)=>{const H=(0,O.rgb2gray)(Re.get(v,S),Oe.get(v,S),Pe.get(v,S));const V=(0,O.blendWithWhite)(H,.1);drawPixel(X,Q,v-Ee,S-Ee,V,V,V)}:noop;let Ye,et,tt;let nt=0;for(let v=Ee;v<Re.height-Ee;++v){for(let S=Ee;S<Re.width-Ee;++S){if(Re.get(S,v)===Le.get(S,v)&&Oe.get(S,v)===je.get(S,v)&&Pe.get(S,v)===qe.get(S,v)){$e(S,v);continue}const Q=(0,O.colorDeltaE94)([Re.get(S,v),Oe.get(S,v),Pe.get(S,v)],[Le.get(S,v),je.get(S,v),qe.get(S,v)]);if(Q<=he){$e(S,v);continue}if(!Ye||!et||!tt){Ye=new V.FastStats(Re,Le);et=new V.FastStats(Oe,je);tt=new V.FastStats(Pe,qe)}const[H,X]=Re.boundXY(S-Y,v-Y);const[ee,ae]=Re.boundXY(S+Y,v+Y);const Ee=Ye.varianceC1(H,X,ee,ae)+et.varianceC1(H,X,ee,ae)+tt.varianceC1(H,X,ee,ae);const Be=Ye.varianceC2(H,X,ee,ae)+et.varianceC2(H,X,ee,ae)+tt.varianceC2(H,X,ee,ae);if(Ee===0||Be===0){Ve(S,v);++nt;continue}const[ke,it]=Re.boundXY(S-J,v-J);const[st,at]=Re.boundXY(S+J,v+J);const lt=((0,V.ssim)(Ye,ke,it,st,at)+(0,V.ssim)(et,ke,it,st,at)+(0,V.ssim)(tt,ke,it,st,at))/3;const ct=lt>=.99;if(ct){ze(S,v)}else{Ve(S,v);++nt}}}return nt}},7914:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ImageChannel=void 0;var O=Q(4817);class ImageChannel{static intoRGB(v,S,Q,H={}){const{paddingSize:V=0,paddingColorOdd:J=[255,0,255],paddingColorEven:Y=[0,255,0]}=H;const X=v+2*V;const ee=S+2*V;const ae=new Uint8Array(X*ee);const he=new Uint8Array(X*ee);const Ee=new Uint8Array(X*ee);for(let S=0;S<ee;++S){for(let H=0;H<X;++H){const Be=S*X+H;if(S>=V&&S<ee-V&&H>=V&&H<X-V){const J=((S-V)*v+(H-V))*4;const Y=Q[J+3]===255?1:Q[J+3]/255;ae[Be]=(0,O.blendWithWhite)(Q[J],Y);he[Be]=(0,O.blendWithWhite)(Q[J+1],Y);Ee[Be]=(0,O.blendWithWhite)(Q[J+2],Y)}else{const v=(S+H)%2===0?Y:J;ae[Be]=v[0];he[Be]=v[1];Ee[Be]=v[2]}}}return[new ImageChannel(X,ee,ae),new ImageChannel(X,ee,he),new ImageChannel(X,ee,Ee)]}constructor(v,S,Q){this.data=void 0;this.width=void 0;this.height=void 0;this.data=Q;this.width=v;this.height=S}get(v,S){return this.data[S*this.width+v]}boundXY(v,S){return[Math.min(Math.max(v,0),this.width-1),Math.min(Math.max(S,0),this.height-1)]}}S.ImageChannel=ImageChannel},8039:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FastStats=void 0;S.ssim=ssim;const Q=2**8-1;function ssim(v,S,O,H,V){const J=v.meanC1(S,O,H,V);const Y=v.meanC2(S,O,H,V);const X=v.varianceC1(S,O,H,V);const ee=v.varianceC2(S,O,H,V);const ae=v.covariance(S,O,H,V);const he=(.01*Q)**2;const Ee=(.03*Q)**2;return(2*J*Y+he)*(2*ae+Ee)/(J**2+Y**2+he)/(X+ee+Ee)}class FastStats{constructor(v,S){this.c1=void 0;this.c2=void 0;this._partialSumC1=void 0;this._partialSumC2=void 0;this._partialSumMult=void 0;this._partialSumSq1=void 0;this._partialSumSq2=void 0;this.c1=v;this.c2=S;const{width:Q,height:O}=v;this._partialSumC1=new Array(Q*O);this._partialSumC2=new Array(Q*O);this._partialSumSq1=new Array(Q*O);this._partialSumSq2=new Array(Q*O);this._partialSumMult=new Array(Q*O);const recalc=(v,S,O,H,V)=>{v[S]=O;if(V>0)v[S]+=v[(V-1)*Q+H];if(H>0)v[S]+=v[V*Q+H-1];if(H>0&&V>0)v[S]-=v[(V-1)*Q+H-1]};for(let v=0;v<O;++v){for(let S=0;S<Q;++S){const O=v*Q+S;recalc(this._partialSumC1,O,this.c1.data[O],S,v);recalc(this._partialSumC2,O,this.c2.data[O],S,v);recalc(this._partialSumSq1,O,this.c1.data[O]*this.c1.data[O],S,v);recalc(this._partialSumSq2,O,this.c2.data[O]*this.c2.data[O],S,v);recalc(this._partialSumMult,O,this.c1.data[O]*this.c2.data[O],S,v)}}}_sum(v,S,Q,O,H){const V=this.c1.width;let J=v[H*V+O];if(Q>0)J-=v[(Q-1)*V+O];if(S>0)J-=v[H*V+S-1];if(S>0&&Q>0)J+=v[(Q-1)*V+S-1];return J}meanC1(v,S,Q,O){const H=(O-S+1)*(Q-v+1);return this._sum(this._partialSumC1,v,S,Q,O)/H}meanC2(v,S,Q,O){const H=(O-S+1)*(Q-v+1);return this._sum(this._partialSumC2,v,S,Q,O)/H}varianceC1(v,S,Q,O){const H=(O-S+1)*(Q-v+1);return(this._sum(this._partialSumSq1,v,S,Q,O)-this._sum(this._partialSumC1,v,S,Q,O)**2/H)/H}varianceC2(v,S,Q,O){const H=(O-S+1)*(Q-v+1);return(this._sum(this._partialSumSq2,v,S,Q,O)-this._sum(this._partialSumC2,v,S,Q,O)**2/H)/H}covariance(v,S,Q,O){const H=(O-S+1)*(Q-v+1);return(this._sum(this._partialSumMult,v,S,Q,O)-this._sum(this._partialSumC1,v,S,Q,O)*this._sum(this._partialSumC2,v,S,Q,O)/H)/H}}S.FastStats=FastStats},9781:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.createInProcessPlaywright=createInProcessPlaywright;var O=Q(4540);var H=Q(1776);var V=Q(5309);var J=Q(4393);function createInProcessPlaywright(){const v=(0,O.createPlaywright)({sdkLanguage:process.env.PW_LANG_NAME||"javascript"});const S=new H.Connection(undefined,undefined);S.useRawBuffers();const Q=new O.DispatcherConnection(true);Q.onmessage=v=>S.dispatch(v);S.onmessage=v=>Q.dispatch(v);const Y=new O.RootDispatcher(Q);new O.PlaywrightDispatcher(Y,v);const X=S.getObjectWithKnownName("Playwright");X.chromium._serverLauncher=new V.BrowserServerLauncherImpl("chromium");X.firefox._serverLauncher=new V.BrowserServerLauncherImpl("firefox");X.webkit._serverLauncher=new V.BrowserServerLauncherImpl("webkit");X._android._serverLauncher=new J.AndroidServerLauncherImpl;Q.onmessage=v=>setImmediate((()=>S.dispatch(v)));S.onmessage=v=>setImmediate((()=>Q.dispatch(v)));S.toImpl=v=>v?Q._dispatchers.get(v._guid)._object:Q._dispatchers.get("");X._toImpl=S.toImpl;return X}},2698:(v,S,Q)=>{"use strict";var O=Q(9781);v.exports=(0,O.createInProcessPlaywright)()},2476:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.slowMoActions=S.pausesBeforeInputActions=S.commandsWithTracingSnapshots=void 0;const Q=S.slowMoActions=new Set(["Page.goBack","Page.goForward","Page.reload","Page.keyboardDown","Page.keyboardUp","Page.keyboardInsertText","Page.keyboardType","Page.keyboardPress","Page.mouseMove","Page.mouseDown","Page.mouseUp","Page.mouseClick","Page.mouseWheel","Page.touchscreenTap","Frame.blur","Frame.check","Frame.click","Frame.dragAndDrop","Frame.dblclick","Frame.dispatchEvent","Frame.fill","Frame.focus","Frame.goto","Frame.hover","Frame.press","Frame.selectOption","Frame.setInputFiles","Frame.tap","Frame.type","Frame.uncheck","ElementHandle.check","ElementHandle.click","ElementHandle.dblclick","ElementHandle.dispatchEvent","ElementHandle.fill","ElementHandle.focus","ElementHandle.hover","ElementHandle.press","ElementHandle.scrollIntoViewIfNeeded","ElementHandle.selectOption","ElementHandle.selectText","ElementHandle.setInputFiles","ElementHandle.tap","ElementHandle.type","ElementHandle.uncheck"]);const O=S.commandsWithTracingSnapshots=new Set(["EventTarget.waitForEventInfo","BrowserContext.waitForEventInfo","Page.waitForEventInfo","WebSocket.waitForEventInfo","ElectronApplication.waitForEventInfo","AndroidDevice.waitForEventInfo","Page.emulateMedia","Page.goBack","Page.goForward","Page.reload","Page.expectScreenshot","Page.screenshot","Page.setViewportSize","Page.keyboardDown","Page.keyboardUp","Page.keyboardInsertText","Page.keyboardType","Page.keyboardPress","Page.mouseMove","Page.mouseDown","Page.mouseUp","Page.mouseClick","Page.mouseWheel","Page.touchscreenTap","Frame.evalOnSelector","Frame.evalOnSelectorAll","Frame.addScriptTag","Frame.addStyleTag","Frame.blur","Frame.check","Frame.click","Frame.dragAndDrop","Frame.dblclick","Frame.dispatchEvent","Frame.evaluateExpression","Frame.evaluateExpressionHandle","Frame.fill","Frame.focus","Frame.getAttribute","Frame.goto","Frame.hover","Frame.innerHTML","Frame.innerText","Frame.inputValue","Frame.isChecked","Frame.isDisabled","Frame.isEnabled","Frame.isHidden","Frame.isVisible","Frame.isEditable","Frame.press","Frame.selectOption","Frame.setContent","Frame.setInputFiles","Frame.tap","Frame.textContent","Frame.type","Frame.uncheck","Frame.waitForTimeout","Frame.waitForFunction","Frame.waitForSelector","Frame.expect","JSHandle.evaluateExpression","ElementHandle.evaluateExpression","JSHandle.evaluateExpressionHandle","ElementHandle.evaluateExpressionHandle","ElementHandle.evalOnSelector","ElementHandle.evalOnSelectorAll","ElementHandle.check","ElementHandle.click","ElementHandle.dblclick","ElementHandle.dispatchEvent","ElementHandle.fill","ElementHandle.focus","ElementHandle.hover","ElementHandle.innerHTML","ElementHandle.innerText","ElementHandle.inputValue","ElementHandle.isChecked","ElementHandle.isDisabled","ElementHandle.isEditable","ElementHandle.isEnabled","ElementHandle.isHidden","ElementHandle.isVisible","ElementHandle.press","ElementHandle.screenshot","ElementHandle.scrollIntoViewIfNeeded","ElementHandle.selectOption","ElementHandle.selectText","ElementHandle.setInputFiles","ElementHandle.tap","ElementHandle.textContent","ElementHandle.type","ElementHandle.uncheck","ElementHandle.waitForElementState","ElementHandle.waitForSelector"]);const H=S.pausesBeforeInputActions=new Set(["Frame.check","Frame.click","Frame.dragAndDrop","Frame.dblclick","Frame.fill","Frame.hover","Frame.press","Frame.selectOption","Frame.setInputFiles","Frame.tap","Frame.type","Frame.uncheck","ElementHandle.check","ElementHandle.click","ElementHandle.dblclick","ElementHandle.fill","ElementHandle.hover","ElementHandle.press","ElementHandle.selectOption","ElementHandle.setInputFiles","ElementHandle.tap","ElementHandle.type","ElementHandle.uncheck"])},5644:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.parseSerializedValue=parseSerializedValue;S.serializeValue=serializeValue;function parseSerializedValue(v,S){return innerParseSerializedValue(v,S,new Map)}function innerParseSerializedValue(v,S,Q){if(v.ref!==undefined)return Q.get(v.ref);if(v.n!==undefined)return v.n;if(v.s!==undefined)return v.s;if(v.b!==undefined)return v.b;if(v.v!==undefined){if(v.v==="undefined")return undefined;if(v.v==="null")return null;if(v.v==="NaN")return NaN;if(v.v==="Infinity")return Infinity;if(v.v==="-Infinity")return-Infinity;if(v.v==="-0")return-0}if(v.d!==undefined)return new Date(v.d);if(v.u!==undefined)return new URL(v.u);if(v.bi!==undefined)return BigInt(v.bi);if(v.r!==undefined)return new RegExp(v.r.p,v.r.f);if(v.a!==undefined){const O=[];Q.set(v.id,O);for(const H of v.a)O.push(innerParseSerializedValue(H,S,Q));return O}if(v.o!==undefined){const O={};Q.set(v.id,O);for(const{k:H,v:V}of v.o)O[H]=innerParseSerializedValue(V,S,Q);return O}if(v.h!==undefined){if(S===undefined)throw new Error("Unexpected handle");return S[v.h]}throw new Error("Unexpected value")}function serializeValue(v,S){return innerSerializeValue(v,S,{lastId:0,visited:new Map})}function innerSerializeValue(v,S,Q){const O=S(v);if("fallThrough"in O)v=O.fallThrough;else return O;if(typeof v==="symbol")return{v:"undefined"};if(Object.is(v,undefined))return{v:"undefined"};if(Object.is(v,null))return{v:"null"};if(Object.is(v,NaN))return{v:"NaN"};if(Object.is(v,Infinity))return{v:"Infinity"};if(Object.is(v,-Infinity))return{v:"-Infinity"};if(Object.is(v,-0))return{v:"-0"};if(typeof v==="boolean")return{b:v};if(typeof v==="number")return{n:v};if(typeof v==="string")return{s:v};if(typeof v==="bigint")return{bi:v.toString()};if(isError(v)){const S=v;if("captureStackTrace"in globalThis.Error){return{s:S.stack||""}}return{s:`${S.name}: ${S.message}\n${S.stack}`}}if(isDate(v))return{d:v.toJSON()};if(isURL(v))return{u:v.toJSON()};if(isRegExp(v))return{r:{p:v.source,f:v.flags}};const H=Q.visited.get(v);if(H)return{ref:H};if(Array.isArray(v)){const O=[];const H=++Q.lastId;Q.visited.set(v,H);for(let H=0;H<v.length;++H)O.push(innerSerializeValue(v[H],S,Q));return{a:O,id:H}}if(typeof v==="object"){const O=[];const H=++Q.lastId;Q.visited.set(v,H);for(const H of Object.keys(v))O.push({k:H,v:innerSerializeValue(v[H],S,Q)});return{o:O,id:H}}throw new Error("Unexpected value")}function isRegExp(v){return v instanceof RegExp||Object.prototype.toString.call(v)==="[object RegExp]"}function isDate(v){return v instanceof Date||Object.prototype.toString.call(v)==="[object Date]"}function isURL(v){return v instanceof URL||Object.prototype.toString.call(v)==="[object URL]"}function isError(v){const S=v?Object.getPrototypeOf(v):null;return v instanceof Error||(S===null||S===void 0?void 0:S.name)==="Error"||S&&isError(S)}},3086:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.PipeTransport=void 0;var O=Q(3557);class PipeTransport{constructor(v,S,Q,H="le"){this._pipeWrite=void 0;this._data=Buffer.from([]);this._waitForNextTask=(0,O.makeWaitForNextTask)();this._closed=false;this._bytesLeft=0;this.onmessage=void 0;this.onclose=void 0;this._endian=void 0;this._closeableStream=void 0;this._pipeWrite=v;this._endian=H;this._closeableStream=Q;S.on("data",(v=>this._dispatch(v)));S.on("close",(()=>{this._closed=true;if(this.onclose)this.onclose()}));this.onmessage=undefined;this.onclose=undefined}send(v){if(this._closed)throw new Error("Pipe has been closed");const S=Buffer.from(v,"utf-8");const Q=Buffer.alloc(4);if(this._endian==="be")Q.writeUInt32BE(S.length,0);else Q.writeUInt32LE(S.length,0);this._pipeWrite.write(Q);this._pipeWrite.write(S)}close(){this._closeableStream.close()}_dispatch(v){this._data=Buffer.concat([this._data,v]);while(true){if(!this._bytesLeft&&this._data.length<4){break}if(!this._bytesLeft){this._bytesLeft=this._endian==="be"?this._data.readUInt32BE(0):this._data.readUInt32LE(0);this._data=this._data.slice(4)}if(!this._bytesLeft||this._data.length<this._bytesLeft){break}const v=this._data.slice(0,this._bytesLeft);this._data=this._data.slice(this._bytesLeft);this._bytesLeft=0;this._waitForNextTask((()=>{if(this.onmessage)this.onmessage(v.toString("utf-8"))}))}}}S.PipeTransport=PipeTransport},7989:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});Object.defineProperty(S,"ValidationError",{enumerable:true,get:function(){return O.ValidationError}});Object.defineProperty(S,"createMetadataValidator",{enumerable:true,get:function(){return O.createMetadataValidator}});Object.defineProperty(S,"findValidator",{enumerable:true,get:function(){return O.findValidator}});Object.defineProperty(S,"maybeFindValidator",{enumerable:true,get:function(){return O.maybeFindValidator}});var O=Q(2209);O.scheme.StackFrame=(0,O.tObject)({file:O.tString,line:O.tNumber,column:O.tNumber,function:(0,O.tOptional)(O.tString)});O.scheme.Metadata=(0,O.tObject)({location:(0,O.tOptional)((0,O.tObject)({file:O.tString,line:(0,O.tOptional)(O.tNumber),column:(0,O.tOptional)(O.tNumber)})),apiName:(0,O.tOptional)(O.tString),internal:(0,O.tOptional)(O.tBoolean),wallTime:(0,O.tOptional)(O.tNumber)});O.scheme.ClientSideCallMetadata=(0,O.tObject)({id:O.tNumber,stack:(0,O.tOptional)((0,O.tArray)((0,O.tType)("StackFrame")))});O.scheme.Point=(0,O.tObject)({x:O.tNumber,y:O.tNumber});O.scheme.Rect=(0,O.tObject)({x:O.tNumber,y:O.tNumber,width:O.tNumber,height:O.tNumber});O.scheme.SerializedValue=(0,O.tObject)({n:(0,O.tOptional)(O.tNumber),b:(0,O.tOptional)(O.tBoolean),s:(0,O.tOptional)(O.tString),v:(0,O.tOptional)((0,O.tEnum)(["null","undefined","NaN","Infinity","-Infinity","-0"])),d:(0,O.tOptional)(O.tString),u:(0,O.tOptional)(O.tString),bi:(0,O.tOptional)(O.tString),r:(0,O.tOptional)((0,O.tObject)({p:O.tString,f:O.tString})),a:(0,O.tOptional)((0,O.tArray)((0,O.tType)("SerializedValue"))),o:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({k:O.tString,v:(0,O.tType)("SerializedValue")}))),h:(0,O.tOptional)(O.tNumber),id:(0,O.tOptional)(O.tNumber),ref:(0,O.tOptional)(O.tNumber)});O.scheme.SerializedArgument=(0,O.tObject)({value:(0,O.tType)("SerializedValue"),handles:(0,O.tArray)((0,O.tChannel)("*"))});O.scheme.ExpectedTextValue=(0,O.tObject)({string:(0,O.tOptional)(O.tString),regexSource:(0,O.tOptional)(O.tString),regexFlags:(0,O.tOptional)(O.tString),matchSubstring:(0,O.tOptional)(O.tBoolean),ignoreCase:(0,O.tOptional)(O.tBoolean),normalizeWhiteSpace:(0,O.tOptional)(O.tBoolean)});O.scheme.AXNode=(0,O.tObject)({role:O.tString,name:O.tString,valueString:(0,O.tOptional)(O.tString),valueNumber:(0,O.tOptional)(O.tNumber),description:(0,O.tOptional)(O.tString),keyshortcuts:(0,O.tOptional)(O.tString),roledescription:(0,O.tOptional)(O.tString),valuetext:(0,O.tOptional)(O.tString),disabled:(0,O.tOptional)(O.tBoolean),expanded:(0,O.tOptional)(O.tBoolean),focused:(0,O.tOptional)(O.tBoolean),modal:(0,O.tOptional)(O.tBoolean),multiline:(0,O.tOptional)(O.tBoolean),multiselectable:(0,O.tOptional)(O.tBoolean),readonly:(0,O.tOptional)(O.tBoolean),required:(0,O.tOptional)(O.tBoolean),selected:(0,O.tOptional)(O.tBoolean),checked:(0,O.tOptional)((0,O.tEnum)(["checked","unchecked","mixed"])),pressed:(0,O.tOptional)((0,O.tEnum)(["pressed","released","mixed"])),level:(0,O.tOptional)(O.tNumber),valuemin:(0,O.tOptional)(O.tNumber),valuemax:(0,O.tOptional)(O.tNumber),autocomplete:(0,O.tOptional)(O.tString),haspopup:(0,O.tOptional)(O.tString),invalid:(0,O.tOptional)(O.tString),orientation:(0,O.tOptional)(O.tString),children:(0,O.tOptional)((0,O.tArray)((0,O.tType)("AXNode")))});O.scheme.SetNetworkCookie=(0,O.tObject)({name:O.tString,value:O.tString,url:(0,O.tOptional)(O.tString),domain:(0,O.tOptional)(O.tString),path:(0,O.tOptional)(O.tString),expires:(0,O.tOptional)(O.tNumber),httpOnly:(0,O.tOptional)(O.tBoolean),secure:(0,O.tOptional)(O.tBoolean),sameSite:(0,O.tOptional)((0,O.tEnum)(["Strict","Lax","None"]))});O.scheme.NetworkCookie=(0,O.tObject)({name:O.tString,value:O.tString,domain:O.tString,path:O.tString,expires:O.tNumber,httpOnly:O.tBoolean,secure:O.tBoolean,sameSite:(0,O.tEnum)(["Strict","Lax","None"])});O.scheme.NameValue=(0,O.tObject)({name:O.tString,value:O.tString});O.scheme.OriginStorage=(0,O.tObject)({origin:O.tString,localStorage:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.SerializedError=(0,O.tObject)({error:(0,O.tOptional)((0,O.tObject)({message:O.tString,name:O.tString,stack:(0,O.tOptional)(O.tString)})),value:(0,O.tOptional)((0,O.tType)("SerializedValue"))});O.scheme.RecordHarOptions=(0,O.tObject)({path:O.tString,content:(0,O.tOptional)((0,O.tEnum)(["embed","attach","omit"])),mode:(0,O.tOptional)((0,O.tEnum)(["full","minimal"])),urlGlob:(0,O.tOptional)(O.tString),urlRegexSource:(0,O.tOptional)(O.tString),urlRegexFlags:(0,O.tOptional)(O.tString)});O.scheme.FormField=(0,O.tObject)({name:O.tString,value:(0,O.tOptional)(O.tString),file:(0,O.tOptional)((0,O.tObject)({name:O.tString,mimeType:(0,O.tOptional)(O.tString),buffer:O.tBinary}))});O.scheme.APIRequestContextInitializer=(0,O.tObject)({tracing:(0,O.tChannel)(["Tracing"])});O.scheme.APIRequestContextFetchParams=(0,O.tObject)({url:O.tString,params:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),method:(0,O.tOptional)(O.tString),headers:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),postData:(0,O.tOptional)(O.tBinary),jsonData:(0,O.tOptional)(O.tString),formData:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),multipartData:(0,O.tOptional)((0,O.tArray)((0,O.tType)("FormField"))),timeout:(0,O.tOptional)(O.tNumber),failOnStatusCode:(0,O.tOptional)(O.tBoolean),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),maxRedirects:(0,O.tOptional)(O.tNumber)});O.scheme.APIRequestContextFetchResult=(0,O.tObject)({response:(0,O.tType)("APIResponse")});O.scheme.APIRequestContextFetchResponseBodyParams=(0,O.tObject)({fetchUid:O.tString});O.scheme.APIRequestContextFetchResponseBodyResult=(0,O.tObject)({binary:(0,O.tOptional)(O.tBinary)});O.scheme.APIRequestContextFetchLogParams=(0,O.tObject)({fetchUid:O.tString});O.scheme.APIRequestContextFetchLogResult=(0,O.tObject)({log:(0,O.tArray)(O.tString)});O.scheme.APIRequestContextStorageStateParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.APIRequestContextStorageStateResult=(0,O.tObject)({cookies:(0,O.tArray)((0,O.tType)("NetworkCookie")),origins:(0,O.tArray)((0,O.tType)("OriginStorage"))});O.scheme.APIRequestContextDisposeAPIResponseParams=(0,O.tObject)({fetchUid:O.tString});O.scheme.APIRequestContextDisposeAPIResponseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.APIRequestContextDisposeParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.APIRequestContextDisposeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.APIResponse=(0,O.tObject)({fetchUid:O.tString,url:O.tString,status:O.tNumber,statusText:O.tString,headers:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.LifecycleEvent=(0,O.tEnum)(["load","domcontentloaded","networkidle","commit"]);O.scheme.LocalUtilsInitializer=(0,O.tObject)({deviceDescriptors:(0,O.tArray)((0,O.tObject)({name:O.tString,descriptor:(0,O.tObject)({userAgent:O.tString,viewport:(0,O.tObject)({width:O.tNumber,height:O.tNumber}),screen:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),deviceScaleFactor:O.tNumber,isMobile:O.tBoolean,hasTouch:O.tBoolean,defaultBrowserType:(0,O.tEnum)(["chromium","firefox","webkit"])})}))});O.scheme.LocalUtilsZipParams=(0,O.tObject)({zipFile:O.tString,entries:(0,O.tArray)((0,O.tType)("NameValue")),stacksId:(0,O.tOptional)(O.tString),mode:(0,O.tEnum)(["write","append"]),includeSources:O.tBoolean});O.scheme.LocalUtilsZipResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.LocalUtilsHarOpenParams=(0,O.tObject)({file:O.tString});O.scheme.LocalUtilsHarOpenResult=(0,O.tObject)({harId:(0,O.tOptional)(O.tString),error:(0,O.tOptional)(O.tString)});O.scheme.LocalUtilsHarLookupParams=(0,O.tObject)({harId:O.tString,url:O.tString,method:O.tString,headers:(0,O.tArray)((0,O.tType)("NameValue")),postData:(0,O.tOptional)(O.tBinary),isNavigationRequest:O.tBoolean});O.scheme.LocalUtilsHarLookupResult=(0,O.tObject)({action:(0,O.tEnum)(["error","redirect","fulfill","noentry"]),message:(0,O.tOptional)(O.tString),redirectURL:(0,O.tOptional)(O.tString),status:(0,O.tOptional)(O.tNumber),headers:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),body:(0,O.tOptional)(O.tBinary)});O.scheme.LocalUtilsHarCloseParams=(0,O.tObject)({harId:O.tString});O.scheme.LocalUtilsHarCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.LocalUtilsHarUnzipParams=(0,O.tObject)({zipFile:O.tString,harFile:O.tString});O.scheme.LocalUtilsHarUnzipResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.LocalUtilsConnectParams=(0,O.tObject)({wsEndpoint:O.tString,headers:(0,O.tOptional)(O.tAny),exposeNetwork:(0,O.tOptional)(O.tString),slowMo:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber),socksProxyRedirectPortForTest:(0,O.tOptional)(O.tNumber)});O.scheme.LocalUtilsConnectResult=(0,O.tObject)({pipe:(0,O.tChannel)(["JsonPipe"]),headers:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.LocalUtilsTracingStartedParams=(0,O.tObject)({tracesDir:(0,O.tOptional)(O.tString),traceName:O.tString});O.scheme.LocalUtilsTracingStartedResult=(0,O.tObject)({stacksId:O.tString});O.scheme.LocalUtilsAddStackToTracingNoReplyParams=(0,O.tObject)({callData:(0,O.tType)("ClientSideCallMetadata")});O.scheme.LocalUtilsAddStackToTracingNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.LocalUtilsTraceDiscardedParams=(0,O.tObject)({stacksId:O.tString});O.scheme.LocalUtilsTraceDiscardedResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RootInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RootInitializeParams=(0,O.tObject)({sdkLanguage:(0,O.tEnum)(["javascript","python","java","csharp"])});O.scheme.RootInitializeResult=(0,O.tObject)({playwright:(0,O.tChannel)(["Playwright"])});O.scheme.PlaywrightInitializer=(0,O.tObject)({chromium:(0,O.tChannel)(["BrowserType"]),firefox:(0,O.tChannel)(["BrowserType"]),webkit:(0,O.tChannel)(["BrowserType"]),android:(0,O.tChannel)(["Android"]),electron:(0,O.tChannel)(["Electron"]),utils:(0,O.tOptional)((0,O.tChannel)(["LocalUtils"])),selectors:(0,O.tChannel)(["Selectors"]),preLaunchedBrowser:(0,O.tOptional)((0,O.tChannel)(["Browser"])),preConnectedAndroidDevice:(0,O.tOptional)((0,O.tChannel)(["AndroidDevice"])),socksSupport:(0,O.tOptional)((0,O.tChannel)(["SocksSupport"]))});O.scheme.PlaywrightNewRequestParams=(0,O.tObject)({baseURL:(0,O.tOptional)(O.tString),userAgent:(0,O.tOptional)(O.tString),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),extraHTTPHeaders:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)})),proxy:(0,O.tOptional)((0,O.tObject)({server:O.tString,bypass:(0,O.tOptional)(O.tString),username:(0,O.tOptional)(O.tString),password:(0,O.tOptional)(O.tString)})),timeout:(0,O.tOptional)(O.tNumber),storageState:(0,O.tOptional)((0,O.tObject)({cookies:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NetworkCookie"))),origins:(0,O.tOptional)((0,O.tArray)((0,O.tType)("OriginStorage")))})),tracesDir:(0,O.tOptional)(O.tString)});O.scheme.PlaywrightNewRequestResult=(0,O.tObject)({request:(0,O.tChannel)(["APIRequestContext"])});O.scheme.RecorderSource=(0,O.tObject)({isRecorded:O.tBoolean,id:O.tString,label:O.tString,text:O.tString,language:O.tString,highlight:(0,O.tArray)((0,O.tObject)({line:O.tNumber,type:O.tString})),revealLine:(0,O.tOptional)(O.tNumber),group:(0,O.tOptional)(O.tString)});O.scheme.DebugControllerInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerInspectRequestedEvent=(0,O.tObject)({selector:O.tString,locator:O.tString});O.scheme.DebugControllerSetModeRequestedEvent=(0,O.tObject)({mode:O.tString});O.scheme.DebugControllerStateChangedEvent=(0,O.tObject)({pageCount:O.tNumber});O.scheme.DebugControllerSourceChangedEvent=(0,O.tObject)({text:O.tString,header:(0,O.tOptional)(O.tString),footer:(0,O.tOptional)(O.tString),actions:(0,O.tOptional)((0,O.tArray)(O.tString))});O.scheme.DebugControllerPausedEvent=(0,O.tObject)({paused:O.tBoolean});O.scheme.DebugControllerBrowsersChangedEvent=(0,O.tObject)({browsers:(0,O.tArray)((0,O.tObject)({contexts:(0,O.tArray)((0,O.tObject)({pages:(0,O.tArray)(O.tString)}))}))});O.scheme.DebugControllerInitializeParams=(0,O.tObject)({codegenId:O.tString,sdkLanguage:(0,O.tEnum)(["javascript","python","java","csharp"])});O.scheme.DebugControllerInitializeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerSetReportStateChangedParams=(0,O.tObject)({enabled:O.tBoolean});O.scheme.DebugControllerSetReportStateChangedResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerResetForReuseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerResetForReuseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerNavigateParams=(0,O.tObject)({url:O.tString});O.scheme.DebugControllerNavigateResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerSetRecorderModeParams=(0,O.tObject)({mode:(0,O.tEnum)(["inspecting","recording","none"]),testIdAttributeName:(0,O.tOptional)(O.tString)});O.scheme.DebugControllerSetRecorderModeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerHighlightParams=(0,O.tObject)({selector:O.tString});O.scheme.DebugControllerHighlightResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerHideHighlightParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerHideHighlightResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerResumeParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerResumeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerKillParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerKillResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerCloseAllBrowsersParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DebugControllerCloseAllBrowsersResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SocksSupportInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SocksSupportSocksRequestedEvent=(0,O.tObject)({uid:O.tString,host:O.tString,port:O.tNumber});O.scheme.SocksSupportSocksDataEvent=(0,O.tObject)({uid:O.tString,data:O.tBinary});O.scheme.SocksSupportSocksClosedEvent=(0,O.tObject)({uid:O.tString});O.scheme.SocksSupportSocksConnectedParams=(0,O.tObject)({uid:O.tString,host:O.tString,port:O.tNumber});O.scheme.SocksSupportSocksConnectedResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SocksSupportSocksFailedParams=(0,O.tObject)({uid:O.tString,errorCode:O.tString});O.scheme.SocksSupportSocksFailedResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SocksSupportSocksDataParams=(0,O.tObject)({uid:O.tString,data:O.tBinary});O.scheme.SocksSupportSocksDataResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SocksSupportSocksErrorParams=(0,O.tObject)({uid:O.tString,error:O.tString});O.scheme.SocksSupportSocksErrorResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SocksSupportSocksEndParams=(0,O.tObject)({uid:O.tString});O.scheme.SocksSupportSocksEndResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SelectorsInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SelectorsRegisterParams=(0,O.tObject)({name:O.tString,source:O.tString,contentScript:(0,O.tOptional)(O.tBoolean)});O.scheme.SelectorsRegisterResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.SelectorsSetTestIdAttributeNameParams=(0,O.tObject)({testIdAttributeName:O.tString});O.scheme.SelectorsSetTestIdAttributeNameResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserTypeInitializer=(0,O.tObject)({executablePath:O.tString,name:O.tString});O.scheme.BrowserTypeLaunchParams=(0,O.tObject)({channel:(0,O.tOptional)(O.tString),executablePath:(0,O.tOptional)(O.tString),args:(0,O.tOptional)((0,O.tArray)(O.tString)),ignoreAllDefaultArgs:(0,O.tOptional)(O.tBoolean),ignoreDefaultArgs:(0,O.tOptional)((0,O.tArray)(O.tString)),handleSIGINT:(0,O.tOptional)(O.tBoolean),handleSIGTERM:(0,O.tOptional)(O.tBoolean),handleSIGHUP:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),env:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),headless:(0,O.tOptional)(O.tBoolean),devtools:(0,O.tOptional)(O.tBoolean),proxy:(0,O.tOptional)((0,O.tObject)({server:O.tString,bypass:(0,O.tOptional)(O.tString),username:(0,O.tOptional)(O.tString),password:(0,O.tOptional)(O.tString)})),downloadsPath:(0,O.tOptional)(O.tString),tracesDir:(0,O.tOptional)(O.tString),chromiumSandbox:(0,O.tOptional)(O.tBoolean),firefoxUserPrefs:(0,O.tOptional)(O.tAny),slowMo:(0,O.tOptional)(O.tNumber)});O.scheme.BrowserTypeLaunchResult=(0,O.tObject)({browser:(0,O.tChannel)(["Browser"])});O.scheme.BrowserTypeLaunchPersistentContextParams=(0,O.tObject)({channel:(0,O.tOptional)(O.tString),executablePath:(0,O.tOptional)(O.tString),args:(0,O.tOptional)((0,O.tArray)(O.tString)),ignoreAllDefaultArgs:(0,O.tOptional)(O.tBoolean),ignoreDefaultArgs:(0,O.tOptional)((0,O.tArray)(O.tString)),handleSIGINT:(0,O.tOptional)(O.tBoolean),handleSIGTERM:(0,O.tOptional)(O.tBoolean),handleSIGHUP:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),env:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),headless:(0,O.tOptional)(O.tBoolean),devtools:(0,O.tOptional)(O.tBoolean),proxy:(0,O.tOptional)((0,O.tObject)({server:O.tString,bypass:(0,O.tOptional)(O.tString),username:(0,O.tOptional)(O.tString),password:(0,O.tOptional)(O.tString)})),downloadsPath:(0,O.tOptional)(O.tString),tracesDir:(0,O.tOptional)(O.tString),chromiumSandbox:(0,O.tOptional)(O.tBoolean),firefoxUserPrefs:(0,O.tOptional)(O.tAny),noDefaultViewport:(0,O.tOptional)(O.tBoolean),viewport:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),screen:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),javaScriptEnabled:(0,O.tOptional)(O.tBoolean),bypassCSP:(0,O.tOptional)(O.tBoolean),userAgent:(0,O.tOptional)(O.tString),locale:(0,O.tOptional)(O.tString),timezoneId:(0,O.tOptional)(O.tString),geolocation:(0,O.tOptional)((0,O.tObject)({longitude:O.tNumber,latitude:O.tNumber,accuracy:(0,O.tOptional)(O.tNumber)})),permissions:(0,O.tOptional)((0,O.tArray)(O.tString)),extraHTTPHeaders:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),offline:(0,O.tOptional)(O.tBoolean),httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)})),deviceScaleFactor:(0,O.tOptional)(O.tNumber),isMobile:(0,O.tOptional)(O.tBoolean),hasTouch:(0,O.tOptional)(O.tBoolean),colorScheme:(0,O.tOptional)((0,O.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,O.tOptional)((0,O.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,O.tOptional)((0,O.tEnum)(["active","none","no-override"])),acceptDownloads:(0,O.tOptional)((0,O.tEnum)(["accept","deny","internal-browser-default"])),baseURL:(0,O.tOptional)(O.tString),recordVideo:(0,O.tOptional)((0,O.tObject)({dir:O.tString,size:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber}))})),recordHar:(0,O.tOptional)((0,O.tType)("RecordHarOptions")),strictSelectors:(0,O.tOptional)(O.tBoolean),serviceWorkers:(0,O.tOptional)((0,O.tEnum)(["allow","block"])),userDataDir:O.tString,slowMo:(0,O.tOptional)(O.tNumber)});O.scheme.BrowserTypeLaunchPersistentContextResult=(0,O.tObject)({context:(0,O.tChannel)(["BrowserContext"])});O.scheme.BrowserTypeConnectOverCDPParams=(0,O.tObject)({endpointURL:O.tString,headers:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),slowMo:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.BrowserTypeConnectOverCDPResult=(0,O.tObject)({browser:(0,O.tChannel)(["Browser"]),defaultContext:(0,O.tOptional)((0,O.tChannel)(["BrowserContext"]))});O.scheme.BrowserInitializer=(0,O.tObject)({version:O.tString,name:O.tString});O.scheme.BrowserCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserCloseParams=(0,O.tObject)({reason:(0,O.tOptional)(O.tString)});O.scheme.BrowserCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserKillForTestsParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserKillForTestsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserDefaultUserAgentForTestParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserDefaultUserAgentForTestResult=(0,O.tObject)({userAgent:O.tString});O.scheme.BrowserNewContextParams=(0,O.tObject)({noDefaultViewport:(0,O.tOptional)(O.tBoolean),viewport:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),screen:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),javaScriptEnabled:(0,O.tOptional)(O.tBoolean),bypassCSP:(0,O.tOptional)(O.tBoolean),userAgent:(0,O.tOptional)(O.tString),locale:(0,O.tOptional)(O.tString),timezoneId:(0,O.tOptional)(O.tString),geolocation:(0,O.tOptional)((0,O.tObject)({longitude:O.tNumber,latitude:O.tNumber,accuracy:(0,O.tOptional)(O.tNumber)})),permissions:(0,O.tOptional)((0,O.tArray)(O.tString)),extraHTTPHeaders:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),offline:(0,O.tOptional)(O.tBoolean),httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)})),deviceScaleFactor:(0,O.tOptional)(O.tNumber),isMobile:(0,O.tOptional)(O.tBoolean),hasTouch:(0,O.tOptional)(O.tBoolean),colorScheme:(0,O.tOptional)((0,O.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,O.tOptional)((0,O.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,O.tOptional)((0,O.tEnum)(["active","none","no-override"])),acceptDownloads:(0,O.tOptional)((0,O.tEnum)(["accept","deny","internal-browser-default"])),baseURL:(0,O.tOptional)(O.tString),recordVideo:(0,O.tOptional)((0,O.tObject)({dir:O.tString,size:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber}))})),recordHar:(0,O.tOptional)((0,O.tType)("RecordHarOptions")),strictSelectors:(0,O.tOptional)(O.tBoolean),serviceWorkers:(0,O.tOptional)((0,O.tEnum)(["allow","block"])),proxy:(0,O.tOptional)((0,O.tObject)({server:O.tString,bypass:(0,O.tOptional)(O.tString),username:(0,O.tOptional)(O.tString),password:(0,O.tOptional)(O.tString)})),storageState:(0,O.tOptional)((0,O.tObject)({cookies:(0,O.tOptional)((0,O.tArray)((0,O.tType)("SetNetworkCookie"))),origins:(0,O.tOptional)((0,O.tArray)((0,O.tType)("OriginStorage")))}))});O.scheme.BrowserNewContextResult=(0,O.tObject)({context:(0,O.tChannel)(["BrowserContext"])});O.scheme.BrowserNewContextForReuseParams=(0,O.tObject)({noDefaultViewport:(0,O.tOptional)(O.tBoolean),viewport:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),screen:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),javaScriptEnabled:(0,O.tOptional)(O.tBoolean),bypassCSP:(0,O.tOptional)(O.tBoolean),userAgent:(0,O.tOptional)(O.tString),locale:(0,O.tOptional)(O.tString),timezoneId:(0,O.tOptional)(O.tString),geolocation:(0,O.tOptional)((0,O.tObject)({longitude:O.tNumber,latitude:O.tNumber,accuracy:(0,O.tOptional)(O.tNumber)})),permissions:(0,O.tOptional)((0,O.tArray)(O.tString)),extraHTTPHeaders:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),offline:(0,O.tOptional)(O.tBoolean),httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)})),deviceScaleFactor:(0,O.tOptional)(O.tNumber),isMobile:(0,O.tOptional)(O.tBoolean),hasTouch:(0,O.tOptional)(O.tBoolean),colorScheme:(0,O.tOptional)((0,O.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,O.tOptional)((0,O.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,O.tOptional)((0,O.tEnum)(["active","none","no-override"])),acceptDownloads:(0,O.tOptional)((0,O.tEnum)(["accept","deny","internal-browser-default"])),baseURL:(0,O.tOptional)(O.tString),recordVideo:(0,O.tOptional)((0,O.tObject)({dir:O.tString,size:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber}))})),recordHar:(0,O.tOptional)((0,O.tType)("RecordHarOptions")),strictSelectors:(0,O.tOptional)(O.tBoolean),serviceWorkers:(0,O.tOptional)((0,O.tEnum)(["allow","block"])),proxy:(0,O.tOptional)((0,O.tObject)({server:O.tString,bypass:(0,O.tOptional)(O.tString),username:(0,O.tOptional)(O.tString),password:(0,O.tOptional)(O.tString)})),storageState:(0,O.tOptional)((0,O.tObject)({cookies:(0,O.tOptional)((0,O.tArray)((0,O.tType)("SetNetworkCookie"))),origins:(0,O.tOptional)((0,O.tArray)((0,O.tType)("OriginStorage")))}))});O.scheme.BrowserNewContextForReuseResult=(0,O.tObject)({context:(0,O.tChannel)(["BrowserContext"])});O.scheme.BrowserStopPendingOperationsParams=(0,O.tObject)({reason:O.tString});O.scheme.BrowserStopPendingOperationsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserNewBrowserCDPSessionParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserNewBrowserCDPSessionResult=(0,O.tObject)({session:(0,O.tChannel)(["CDPSession"])});O.scheme.BrowserStartTracingParams=(0,O.tObject)({page:(0,O.tOptional)((0,O.tChannel)(["Page"])),screenshots:(0,O.tOptional)(O.tBoolean),categories:(0,O.tOptional)((0,O.tArray)(O.tString))});O.scheme.BrowserStartTracingResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserStopTracingParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserStopTracingResult=(0,O.tObject)({artifact:(0,O.tChannel)(["Artifact"])});O.scheme.EventTargetInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.EventTargetWaitForEventInfoParams=(0,O.tObject)({info:(0,O.tObject)({waitId:O.tString,phase:(0,O.tEnum)(["before","after","log"]),event:(0,O.tOptional)(O.tString),message:(0,O.tOptional)(O.tString),error:(0,O.tOptional)(O.tString)})});O.scheme.BrowserContextWaitForEventInfoParams=(0,O.tType)("EventTargetWaitForEventInfoParams");O.scheme.PageWaitForEventInfoParams=(0,O.tType)("EventTargetWaitForEventInfoParams");O.scheme.WebSocketWaitForEventInfoParams=(0,O.tType)("EventTargetWaitForEventInfoParams");O.scheme.ElectronApplicationWaitForEventInfoParams=(0,O.tType)("EventTargetWaitForEventInfoParams");O.scheme.AndroidDeviceWaitForEventInfoParams=(0,O.tType)("EventTargetWaitForEventInfoParams");O.scheme.EventTargetWaitForEventInfoResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextWaitForEventInfoResult=(0,O.tType)("EventTargetWaitForEventInfoResult");O.scheme.PageWaitForEventInfoResult=(0,O.tType)("EventTargetWaitForEventInfoResult");O.scheme.WebSocketWaitForEventInfoResult=(0,O.tType)("EventTargetWaitForEventInfoResult");O.scheme.ElectronApplicationWaitForEventInfoResult=(0,O.tType)("EventTargetWaitForEventInfoResult");O.scheme.AndroidDeviceWaitForEventInfoResult=(0,O.tType)("EventTargetWaitForEventInfoResult");O.scheme.BrowserContextInitializer=(0,O.tObject)({isChromium:O.tBoolean,requestContext:(0,O.tChannel)(["APIRequestContext"]),tracing:(0,O.tChannel)(["Tracing"])});O.scheme.BrowserContextBindingCallEvent=(0,O.tObject)({binding:(0,O.tChannel)(["BindingCall"])});O.scheme.BrowserContextConsoleEvent=(0,O.tObject)({page:(0,O.tChannel)(["Page"]),type:O.tString,text:O.tString,args:(0,O.tArray)((0,O.tChannel)(["ElementHandle","JSHandle"])),location:(0,O.tObject)({url:O.tString,lineNumber:O.tNumber,columnNumber:O.tNumber})});O.scheme.BrowserContextCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextDialogEvent=(0,O.tObject)({dialog:(0,O.tChannel)(["Dialog"])});O.scheme.BrowserContextPageEvent=(0,O.tObject)({page:(0,O.tChannel)(["Page"])});O.scheme.BrowserContextPageErrorEvent=(0,O.tObject)({error:(0,O.tType)("SerializedError"),page:(0,O.tChannel)(["Page"])});O.scheme.BrowserContextRouteEvent=(0,O.tObject)({route:(0,O.tChannel)(["Route"])});O.scheme.BrowserContextVideoEvent=(0,O.tObject)({artifact:(0,O.tChannel)(["Artifact"])});O.scheme.BrowserContextBackgroundPageEvent=(0,O.tObject)({page:(0,O.tChannel)(["Page"])});O.scheme.BrowserContextServiceWorkerEvent=(0,O.tObject)({worker:(0,O.tChannel)(["Worker"])});O.scheme.BrowserContextRequestEvent=(0,O.tObject)({request:(0,O.tChannel)(["Request"]),page:(0,O.tOptional)((0,O.tChannel)(["Page"]))});O.scheme.BrowserContextRequestFailedEvent=(0,O.tObject)({request:(0,O.tChannel)(["Request"]),failureText:(0,O.tOptional)(O.tString),responseEndTiming:O.tNumber,page:(0,O.tOptional)((0,O.tChannel)(["Page"]))});O.scheme.BrowserContextRequestFinishedEvent=(0,O.tObject)({request:(0,O.tChannel)(["Request"]),response:(0,O.tOptional)((0,O.tChannel)(["Response"])),responseEndTiming:O.tNumber,page:(0,O.tOptional)((0,O.tChannel)(["Page"]))});O.scheme.BrowserContextResponseEvent=(0,O.tObject)({response:(0,O.tChannel)(["Response"]),page:(0,O.tOptional)((0,O.tChannel)(["Page"]))});O.scheme.BrowserContextAddCookiesParams=(0,O.tObject)({cookies:(0,O.tArray)((0,O.tType)("SetNetworkCookie"))});O.scheme.BrowserContextAddCookiesResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextAddInitScriptParams=(0,O.tObject)({source:O.tString});O.scheme.BrowserContextAddInitScriptResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextClearCookiesParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextClearCookiesResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextClearPermissionsParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextClearPermissionsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextCloseParams=(0,O.tObject)({reason:(0,O.tOptional)(O.tString)});O.scheme.BrowserContextCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextCookiesParams=(0,O.tObject)({urls:(0,O.tArray)(O.tString)});O.scheme.BrowserContextCookiesResult=(0,O.tObject)({cookies:(0,O.tArray)((0,O.tType)("NetworkCookie"))});O.scheme.BrowserContextExposeBindingParams=(0,O.tObject)({name:O.tString,needsHandle:(0,O.tOptional)(O.tBoolean)});O.scheme.BrowserContextExposeBindingResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextGrantPermissionsParams=(0,O.tObject)({permissions:(0,O.tArray)(O.tString),origin:(0,O.tOptional)(O.tString)});O.scheme.BrowserContextGrantPermissionsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextNewPageParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextNewPageResult=(0,O.tObject)({page:(0,O.tChannel)(["Page"])});O.scheme.BrowserContextSetDefaultNavigationTimeoutNoReplyParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber)});O.scheme.BrowserContextSetDefaultNavigationTimeoutNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextSetDefaultTimeoutNoReplyParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber)});O.scheme.BrowserContextSetDefaultTimeoutNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextSetExtraHTTPHeadersParams=(0,O.tObject)({headers:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.BrowserContextSetExtraHTTPHeadersResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextSetGeolocationParams=(0,O.tObject)({geolocation:(0,O.tOptional)((0,O.tObject)({longitude:O.tNumber,latitude:O.tNumber,accuracy:(0,O.tOptional)(O.tNumber)}))});O.scheme.BrowserContextSetGeolocationResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextSetHTTPCredentialsParams=(0,O.tObject)({httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)}))});O.scheme.BrowserContextSetHTTPCredentialsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextSetNetworkInterceptionPatternsParams=(0,O.tObject)({patterns:(0,O.tArray)((0,O.tObject)({glob:(0,O.tOptional)(O.tString),regexSource:(0,O.tOptional)(O.tString),regexFlags:(0,O.tOptional)(O.tString)}))});O.scheme.BrowserContextSetNetworkInterceptionPatternsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextSetOfflineParams=(0,O.tObject)({offline:O.tBoolean});O.scheme.BrowserContextSetOfflineResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextStorageStateParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextStorageStateResult=(0,O.tObject)({cookies:(0,O.tArray)((0,O.tType)("NetworkCookie")),origins:(0,O.tArray)((0,O.tType)("OriginStorage"))});O.scheme.BrowserContextPauseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextPauseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextRecorderSupplementEnableParams=(0,O.tObject)({language:(0,O.tOptional)(O.tString),mode:(0,O.tOptional)((0,O.tEnum)(["inspecting","recording"])),pauseOnNextStatement:(0,O.tOptional)(O.tBoolean),testIdAttributeName:(0,O.tOptional)(O.tString),launchOptions:(0,O.tOptional)(O.tAny),contextOptions:(0,O.tOptional)(O.tAny),device:(0,O.tOptional)(O.tString),saveStorage:(0,O.tOptional)(O.tString),outputFile:(0,O.tOptional)(O.tString),handleSIGINT:(0,O.tOptional)(O.tBoolean),omitCallTracking:(0,O.tOptional)(O.tBoolean)});O.scheme.BrowserContextRecorderSupplementEnableResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BrowserContextNewCDPSessionParams=(0,O.tObject)({page:(0,O.tOptional)((0,O.tChannel)(["Page"])),frame:(0,O.tOptional)((0,O.tChannel)(["Frame"]))});O.scheme.BrowserContextNewCDPSessionResult=(0,O.tObject)({session:(0,O.tChannel)(["CDPSession"])});O.scheme.BrowserContextHarStartParams=(0,O.tObject)({page:(0,O.tOptional)((0,O.tChannel)(["Page"])),options:(0,O.tType)("RecordHarOptions")});O.scheme.BrowserContextHarStartResult=(0,O.tObject)({harId:O.tString});O.scheme.BrowserContextHarExportParams=(0,O.tObject)({harId:(0,O.tOptional)(O.tString)});O.scheme.BrowserContextHarExportResult=(0,O.tObject)({artifact:(0,O.tChannel)(["Artifact"])});O.scheme.BrowserContextCreateTempFileParams=(0,O.tObject)({name:O.tString,lastModifiedMs:(0,O.tOptional)(O.tNumber)});O.scheme.BrowserContextCreateTempFileResult=(0,O.tObject)({writableStream:(0,O.tChannel)(["WritableStream"])});O.scheme.BrowserContextUpdateSubscriptionParams=(0,O.tObject)({event:(0,O.tEnum)(["console","dialog","request","response","requestFinished","requestFailed"]),enabled:O.tBoolean});O.scheme.BrowserContextUpdateSubscriptionResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageInitializer=(0,O.tObject)({mainFrame:(0,O.tChannel)(["Frame"]),viewportSize:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),isClosed:O.tBoolean,opener:(0,O.tOptional)((0,O.tChannel)(["Page"]))});O.scheme.PageBindingCallEvent=(0,O.tObject)({binding:(0,O.tChannel)(["BindingCall"])});O.scheme.PageCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageCrashEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageDownloadEvent=(0,O.tObject)({url:O.tString,suggestedFilename:O.tString,artifact:(0,O.tChannel)(["Artifact"])});O.scheme.PageFileChooserEvent=(0,O.tObject)({element:(0,O.tChannel)(["ElementHandle"]),isMultiple:O.tBoolean});O.scheme.PageFrameAttachedEvent=(0,O.tObject)({frame:(0,O.tChannel)(["Frame"])});O.scheme.PageFrameDetachedEvent=(0,O.tObject)({frame:(0,O.tChannel)(["Frame"])});O.scheme.PageRouteEvent=(0,O.tObject)({route:(0,O.tChannel)(["Route"])});O.scheme.PageVideoEvent=(0,O.tObject)({artifact:(0,O.tChannel)(["Artifact"])});O.scheme.PageWebSocketEvent=(0,O.tObject)({webSocket:(0,O.tChannel)(["WebSocket"])});O.scheme.PageWorkerEvent=(0,O.tObject)({worker:(0,O.tChannel)(["Worker"])});O.scheme.PageSetDefaultNavigationTimeoutNoReplyParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber)});O.scheme.PageSetDefaultNavigationTimeoutNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageSetDefaultTimeoutNoReplyParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber)});O.scheme.PageSetDefaultTimeoutNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageAddInitScriptParams=(0,O.tObject)({source:O.tString});O.scheme.PageAddInitScriptResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageCloseParams=(0,O.tObject)({runBeforeUnload:(0,O.tOptional)(O.tBoolean),reason:(0,O.tOptional)(O.tString)});O.scheme.PageCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageEmulateMediaParams=(0,O.tObject)({media:(0,O.tOptional)((0,O.tEnum)(["screen","print","no-override"])),colorScheme:(0,O.tOptional)((0,O.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,O.tOptional)((0,O.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,O.tOptional)((0,O.tEnum)(["active","none","no-override"]))});O.scheme.PageEmulateMediaResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageExposeBindingParams=(0,O.tObject)({name:O.tString,needsHandle:(0,O.tOptional)(O.tBoolean)});O.scheme.PageExposeBindingResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageGoBackParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber),waitUntil:(0,O.tOptional)((0,O.tType)("LifecycleEvent"))});O.scheme.PageGoBackResult=(0,O.tObject)({response:(0,O.tOptional)((0,O.tChannel)(["Response"]))});O.scheme.PageGoForwardParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber),waitUntil:(0,O.tOptional)((0,O.tType)("LifecycleEvent"))});O.scheme.PageGoForwardResult=(0,O.tObject)({response:(0,O.tOptional)((0,O.tChannel)(["Response"]))});O.scheme.PageReloadParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber),waitUntil:(0,O.tOptional)((0,O.tType)("LifecycleEvent"))});O.scheme.PageReloadResult=(0,O.tObject)({response:(0,O.tOptional)((0,O.tChannel)(["Response"]))});O.scheme.PageExpectScreenshotParams=(0,O.tObject)({expected:(0,O.tOptional)(O.tBinary),timeout:(0,O.tOptional)(O.tNumber),isNot:O.tBoolean,locator:(0,O.tOptional)((0,O.tObject)({frame:(0,O.tChannel)(["Frame"]),selector:O.tString})),comparatorOptions:(0,O.tOptional)((0,O.tObject)({comparator:(0,O.tOptional)(O.tString),maxDiffPixels:(0,O.tOptional)(O.tNumber),maxDiffPixelRatio:(0,O.tOptional)(O.tNumber),threshold:(0,O.tOptional)(O.tNumber)})),screenshotOptions:(0,O.tOptional)((0,O.tObject)({fullPage:(0,O.tOptional)(O.tBoolean),clip:(0,O.tOptional)((0,O.tType)("Rect")),omitBackground:(0,O.tOptional)(O.tBoolean),caret:(0,O.tOptional)((0,O.tEnum)(["hide","initial"])),animations:(0,O.tOptional)((0,O.tEnum)(["disabled","allow"])),scale:(0,O.tOptional)((0,O.tEnum)(["css","device"])),mask:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({frame:(0,O.tChannel)(["Frame"]),selector:O.tString}))),maskColor:(0,O.tOptional)(O.tString),style:(0,O.tOptional)(O.tString)}))});O.scheme.PageExpectScreenshotResult=(0,O.tObject)({diff:(0,O.tOptional)(O.tBinary),errorMessage:(0,O.tOptional)(O.tString),actual:(0,O.tOptional)(O.tBinary),previous:(0,O.tOptional)(O.tBinary),log:(0,O.tOptional)((0,O.tArray)(O.tString))});O.scheme.PageScreenshotParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber),type:(0,O.tOptional)((0,O.tEnum)(["png","jpeg"])),quality:(0,O.tOptional)(O.tNumber),fullPage:(0,O.tOptional)(O.tBoolean),clip:(0,O.tOptional)((0,O.tType)("Rect")),omitBackground:(0,O.tOptional)(O.tBoolean),caret:(0,O.tOptional)((0,O.tEnum)(["hide","initial"])),animations:(0,O.tOptional)((0,O.tEnum)(["disabled","allow"])),scale:(0,O.tOptional)((0,O.tEnum)(["css","device"])),mask:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({frame:(0,O.tChannel)(["Frame"]),selector:O.tString}))),maskColor:(0,O.tOptional)(O.tString),style:(0,O.tOptional)(O.tString)});O.scheme.PageScreenshotResult=(0,O.tObject)({binary:O.tBinary});O.scheme.PageSetExtraHTTPHeadersParams=(0,O.tObject)({headers:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.PageSetExtraHTTPHeadersResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageSetNetworkInterceptionPatternsParams=(0,O.tObject)({patterns:(0,O.tArray)((0,O.tObject)({glob:(0,O.tOptional)(O.tString),regexSource:(0,O.tOptional)(O.tString),regexFlags:(0,O.tOptional)(O.tString)}))});O.scheme.PageSetNetworkInterceptionPatternsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageSetViewportSizeParams=(0,O.tObject)({viewportSize:(0,O.tObject)({width:O.tNumber,height:O.tNumber})});O.scheme.PageSetViewportSizeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageKeyboardDownParams=(0,O.tObject)({key:O.tString});O.scheme.PageKeyboardDownResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageKeyboardUpParams=(0,O.tObject)({key:O.tString});O.scheme.PageKeyboardUpResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageKeyboardInsertTextParams=(0,O.tObject)({text:O.tString});O.scheme.PageKeyboardInsertTextResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageKeyboardTypeParams=(0,O.tObject)({text:O.tString,delay:(0,O.tOptional)(O.tNumber)});O.scheme.PageKeyboardTypeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageKeyboardPressParams=(0,O.tObject)({key:O.tString,delay:(0,O.tOptional)(O.tNumber)});O.scheme.PageKeyboardPressResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageMouseMoveParams=(0,O.tObject)({x:O.tNumber,y:O.tNumber,steps:(0,O.tOptional)(O.tNumber)});O.scheme.PageMouseMoveResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageMouseDownParams=(0,O.tObject)({button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),clickCount:(0,O.tOptional)(O.tNumber)});O.scheme.PageMouseDownResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageMouseUpParams=(0,O.tObject)({button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),clickCount:(0,O.tOptional)(O.tNumber)});O.scheme.PageMouseUpResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageMouseClickParams=(0,O.tObject)({x:O.tNumber,y:O.tNumber,delay:(0,O.tOptional)(O.tNumber),button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),clickCount:(0,O.tOptional)(O.tNumber)});O.scheme.PageMouseClickResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageMouseWheelParams=(0,O.tObject)({deltaX:O.tNumber,deltaY:O.tNumber});O.scheme.PageMouseWheelResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageTouchscreenTapParams=(0,O.tObject)({x:O.tNumber,y:O.tNumber});O.scheme.PageTouchscreenTapResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageAccessibilitySnapshotParams=(0,O.tObject)({interestingOnly:(0,O.tOptional)(O.tBoolean),root:(0,O.tOptional)((0,O.tChannel)(["ElementHandle"]))});O.scheme.PageAccessibilitySnapshotResult=(0,O.tObject)({rootAXNode:(0,O.tOptional)((0,O.tType)("AXNode"))});O.scheme.PagePdfParams=(0,O.tObject)({scale:(0,O.tOptional)(O.tNumber),displayHeaderFooter:(0,O.tOptional)(O.tBoolean),headerTemplate:(0,O.tOptional)(O.tString),footerTemplate:(0,O.tOptional)(O.tString),printBackground:(0,O.tOptional)(O.tBoolean),landscape:(0,O.tOptional)(O.tBoolean),pageRanges:(0,O.tOptional)(O.tString),format:(0,O.tOptional)(O.tString),width:(0,O.tOptional)(O.tString),height:(0,O.tOptional)(O.tString),preferCSSPageSize:(0,O.tOptional)(O.tBoolean),margin:(0,O.tOptional)((0,O.tObject)({top:(0,O.tOptional)(O.tString),bottom:(0,O.tOptional)(O.tString),left:(0,O.tOptional)(O.tString),right:(0,O.tOptional)(O.tString)}))});O.scheme.PagePdfResult=(0,O.tObject)({pdf:O.tBinary});O.scheme.PageStartJSCoverageParams=(0,O.tObject)({resetOnNavigation:(0,O.tOptional)(O.tBoolean),reportAnonymousScripts:(0,O.tOptional)(O.tBoolean)});O.scheme.PageStartJSCoverageResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageStopJSCoverageParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageStopJSCoverageResult=(0,O.tObject)({entries:(0,O.tArray)((0,O.tObject)({url:O.tString,scriptId:O.tString,source:(0,O.tOptional)(O.tString),functions:(0,O.tArray)((0,O.tObject)({functionName:O.tString,isBlockCoverage:O.tBoolean,ranges:(0,O.tArray)((0,O.tObject)({startOffset:O.tNumber,endOffset:O.tNumber,count:O.tNumber}))}))}))});O.scheme.PageStartCSSCoverageParams=(0,O.tObject)({resetOnNavigation:(0,O.tOptional)(O.tBoolean)});O.scheme.PageStartCSSCoverageResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageStopCSSCoverageParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageStopCSSCoverageResult=(0,O.tObject)({entries:(0,O.tArray)((0,O.tObject)({url:O.tString,text:(0,O.tOptional)(O.tString),ranges:(0,O.tArray)((0,O.tObject)({start:O.tNumber,end:O.tNumber}))}))});O.scheme.PageBringToFrontParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageBringToFrontResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.PageUpdateSubscriptionParams=(0,O.tObject)({event:(0,O.tEnum)(["console","dialog","fileChooser","request","response","requestFinished","requestFailed"]),enabled:O.tBoolean});O.scheme.PageUpdateSubscriptionResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameInitializer=(0,O.tObject)({url:O.tString,name:O.tString,parentFrame:(0,O.tOptional)((0,O.tChannel)(["Frame"])),loadStates:(0,O.tArray)((0,O.tType)("LifecycleEvent"))});O.scheme.FrameLoadstateEvent=(0,O.tObject)({add:(0,O.tOptional)((0,O.tType)("LifecycleEvent")),remove:(0,O.tOptional)((0,O.tType)("LifecycleEvent"))});O.scheme.FrameNavigatedEvent=(0,O.tObject)({url:O.tString,name:O.tString,newDocument:(0,O.tOptional)((0,O.tObject)({request:(0,O.tOptional)((0,O.tChannel)(["Request"]))})),error:(0,O.tOptional)(O.tString)});O.scheme.FrameEvalOnSelectorParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.FrameEvalOnSelectorResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.FrameEvalOnSelectorAllParams=(0,O.tObject)({selector:O.tString,expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.FrameEvalOnSelectorAllResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.FrameAddScriptTagParams=(0,O.tObject)({url:(0,O.tOptional)(O.tString),content:(0,O.tOptional)(O.tString),type:(0,O.tOptional)(O.tString)});O.scheme.FrameAddScriptTagResult=(0,O.tObject)({element:(0,O.tChannel)(["ElementHandle"])});O.scheme.FrameAddStyleTagParams=(0,O.tObject)({url:(0,O.tOptional)(O.tString),content:(0,O.tOptional)(O.tString)});O.scheme.FrameAddStyleTagResult=(0,O.tObject)({element:(0,O.tChannel)(["ElementHandle"])});O.scheme.FrameBlurParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameBlurResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameCheckParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameCheckResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameClickParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),delay:(0,O.tOptional)(O.tNumber),button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),clickCount:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameClickResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameContentParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameContentResult=(0,O.tObject)({value:O.tString});O.scheme.FrameDragAndDropParams=(0,O.tObject)({source:O.tString,target:O.tString,force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean),sourcePosition:(0,O.tOptional)((0,O.tType)("Point")),targetPosition:(0,O.tOptional)((0,O.tType)("Point")),strict:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameDragAndDropResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameDblclickParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),delay:(0,O.tOptional)(O.tNumber),button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameDblclickResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameDispatchEventParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),type:O.tString,eventInit:(0,O.tType)("SerializedArgument"),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameDispatchEventResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameEvaluateExpressionParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),exposeUtilityScript:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.FrameEvaluateExpressionResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.FrameEvaluateExpressionHandleParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.FrameEvaluateExpressionHandleResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.FrameFillParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),value:O.tString,force:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameFillResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameFocusParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameFocusResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameFrameElementParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameFrameElementResult=(0,O.tObject)({element:(0,O.tChannel)(["ElementHandle"])});O.scheme.FrameHighlightParams=(0,O.tObject)({selector:O.tString});O.scheme.FrameHighlightResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameGetAttributeParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),name:O.tString,timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameGetAttributeResult=(0,O.tObject)({value:(0,O.tOptional)(O.tString)});O.scheme.FrameGotoParams=(0,O.tObject)({url:O.tString,timeout:(0,O.tOptional)(O.tNumber),waitUntil:(0,O.tOptional)((0,O.tType)("LifecycleEvent")),referer:(0,O.tOptional)(O.tString)});O.scheme.FrameGotoResult=(0,O.tObject)({response:(0,O.tOptional)((0,O.tChannel)(["Response"]))});O.scheme.FrameHoverParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),force:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameHoverResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameInnerHTMLParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameInnerHTMLResult=(0,O.tObject)({value:O.tString});O.scheme.FrameInnerTextParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameInnerTextResult=(0,O.tObject)({value:O.tString});O.scheme.FrameInputValueParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameInputValueResult=(0,O.tObject)({value:O.tString});O.scheme.FrameIsCheckedParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameIsCheckedResult=(0,O.tObject)({value:O.tBoolean});O.scheme.FrameIsDisabledParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameIsDisabledResult=(0,O.tObject)({value:O.tBoolean});O.scheme.FrameIsEnabledParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameIsEnabledResult=(0,O.tObject)({value:O.tBoolean});O.scheme.FrameIsHiddenParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameIsHiddenResult=(0,O.tObject)({value:O.tBoolean});O.scheme.FrameIsVisibleParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameIsVisibleResult=(0,O.tObject)({value:O.tBoolean});O.scheme.FrameIsEditableParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameIsEditableResult=(0,O.tObject)({value:O.tBoolean});O.scheme.FramePressParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),key:O.tString,delay:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FramePressResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameQuerySelectorParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameQuerySelectorResult=(0,O.tObject)({element:(0,O.tOptional)((0,O.tChannel)(["ElementHandle"]))});O.scheme.FrameQuerySelectorAllParams=(0,O.tObject)({selector:O.tString});O.scheme.FrameQuerySelectorAllResult=(0,O.tObject)({elements:(0,O.tArray)((0,O.tChannel)(["ElementHandle"]))});O.scheme.FrameQueryCountParams=(0,O.tObject)({selector:O.tString});O.scheme.FrameQueryCountResult=(0,O.tObject)({value:O.tNumber});O.scheme.FrameSelectOptionParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),elements:(0,O.tOptional)((0,O.tArray)((0,O.tChannel)(["ElementHandle"]))),options:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({valueOrLabel:(0,O.tOptional)(O.tString),value:(0,O.tOptional)(O.tString),label:(0,O.tOptional)(O.tString),index:(0,O.tOptional)(O.tNumber)}))),force:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameSelectOptionResult=(0,O.tObject)({values:(0,O.tArray)(O.tString)});O.scheme.FrameSetContentParams=(0,O.tObject)({html:O.tString,timeout:(0,O.tOptional)(O.tNumber),waitUntil:(0,O.tOptional)((0,O.tType)("LifecycleEvent"))});O.scheme.FrameSetContentResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameSetInputFilesParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),payloads:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({name:O.tString,mimeType:(0,O.tOptional)(O.tString),buffer:O.tBinary}))),localPaths:(0,O.tOptional)((0,O.tArray)(O.tString)),streams:(0,O.tOptional)((0,O.tArray)((0,O.tChannel)(["WritableStream"]))),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameSetInputFilesResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameTapParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameTapResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameTextContentParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameTextContentResult=(0,O.tObject)({value:(0,O.tOptional)(O.tString)});O.scheme.FrameTitleParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameTitleResult=(0,O.tObject)({value:O.tString});O.scheme.FrameTypeParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),text:O.tString,delay:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameTypeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameUncheckParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameUncheckResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameWaitForTimeoutParams=(0,O.tObject)({timeout:O.tNumber});O.scheme.FrameWaitForTimeoutResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.FrameWaitForFunctionParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument"),timeout:(0,O.tOptional)(O.tNumber),pollingInterval:(0,O.tOptional)(O.tNumber)});O.scheme.FrameWaitForFunctionResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.FrameWaitForSelectorParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),state:(0,O.tOptional)((0,O.tEnum)(["attached","detached","visible","hidden"])),omitReturnValue:(0,O.tOptional)(O.tBoolean)});O.scheme.FrameWaitForSelectorResult=(0,O.tObject)({element:(0,O.tOptional)((0,O.tChannel)(["ElementHandle"]))});O.scheme.FrameExpectParams=(0,O.tObject)({selector:O.tString,expression:O.tString,expressionArg:(0,O.tOptional)(O.tAny),expectedText:(0,O.tOptional)((0,O.tArray)((0,O.tType)("ExpectedTextValue"))),expectedNumber:(0,O.tOptional)(O.tNumber),expectedValue:(0,O.tOptional)((0,O.tType)("SerializedArgument")),useInnerText:(0,O.tOptional)(O.tBoolean),isNot:O.tBoolean,timeout:(0,O.tOptional)(O.tNumber)});O.scheme.FrameExpectResult=(0,O.tObject)({matches:O.tBoolean,received:(0,O.tOptional)((0,O.tType)("SerializedValue")),timedOut:(0,O.tOptional)(O.tBoolean),log:(0,O.tOptional)((0,O.tArray)(O.tString))});O.scheme.WorkerInitializer=(0,O.tObject)({url:O.tString});O.scheme.WorkerCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.WorkerEvaluateExpressionParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.WorkerEvaluateExpressionResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.WorkerEvaluateExpressionHandleParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.WorkerEvaluateExpressionHandleResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.JSHandleInitializer=(0,O.tObject)({preview:O.tString});O.scheme.JSHandlePreviewUpdatedEvent=(0,O.tObject)({preview:O.tString});O.scheme.ElementHandlePreviewUpdatedEvent=(0,O.tType)("JSHandlePreviewUpdatedEvent");O.scheme.JSHandleDisposeParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleDisposeParams=(0,O.tType)("JSHandleDisposeParams");O.scheme.JSHandleDisposeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleDisposeResult=(0,O.tType)("JSHandleDisposeResult");O.scheme.JSHandleEvaluateExpressionParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.ElementHandleEvaluateExpressionParams=(0,O.tType)("JSHandleEvaluateExpressionParams");O.scheme.JSHandleEvaluateExpressionResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.ElementHandleEvaluateExpressionResult=(0,O.tType)("JSHandleEvaluateExpressionResult");O.scheme.JSHandleEvaluateExpressionHandleParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.ElementHandleEvaluateExpressionHandleParams=(0,O.tType)("JSHandleEvaluateExpressionHandleParams");O.scheme.JSHandleEvaluateExpressionHandleResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.ElementHandleEvaluateExpressionHandleResult=(0,O.tType)("JSHandleEvaluateExpressionHandleResult");O.scheme.JSHandleGetPropertyListParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleGetPropertyListParams=(0,O.tType)("JSHandleGetPropertyListParams");O.scheme.JSHandleGetPropertyListResult=(0,O.tObject)({properties:(0,O.tArray)((0,O.tObject)({name:O.tString,value:(0,O.tChannel)(["ElementHandle","JSHandle"])}))});O.scheme.ElementHandleGetPropertyListResult=(0,O.tType)("JSHandleGetPropertyListResult");O.scheme.JSHandleGetPropertyParams=(0,O.tObject)({name:O.tString});O.scheme.ElementHandleGetPropertyParams=(0,O.tType)("JSHandleGetPropertyParams");O.scheme.JSHandleGetPropertyResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.ElementHandleGetPropertyResult=(0,O.tType)("JSHandleGetPropertyResult");O.scheme.JSHandleJsonValueParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleJsonValueParams=(0,O.tType)("JSHandleJsonValueParams");O.scheme.JSHandleJsonValueResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.ElementHandleJsonValueResult=(0,O.tType)("JSHandleJsonValueResult");O.scheme.JSHandleObjectCountParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleObjectCountParams=(0,O.tType)("JSHandleObjectCountParams");O.scheme.JSHandleObjectCountResult=(0,O.tObject)({count:O.tNumber});O.scheme.ElementHandleObjectCountResult=(0,O.tType)("JSHandleObjectCountResult");O.scheme.ElementHandleInitializer=(0,O.tObject)({preview:O.tString});O.scheme.ElementHandleEvalOnSelectorParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.ElementHandleEvalOnSelectorResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.ElementHandleEvalOnSelectorAllParams=(0,O.tObject)({selector:O.tString,expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.ElementHandleEvalOnSelectorAllResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.ElementHandleBoundingBoxParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleBoundingBoxResult=(0,O.tObject)({value:(0,O.tOptional)((0,O.tType)("Rect"))});O.scheme.ElementHandleCheckParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleCheckResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleClickParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),delay:(0,O.tOptional)(O.tNumber),button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),clickCount:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleClickResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleContentFrameParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleContentFrameResult=(0,O.tObject)({frame:(0,O.tOptional)((0,O.tChannel)(["Frame"]))});O.scheme.ElementHandleDblclickParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),delay:(0,O.tOptional)(O.tNumber),button:(0,O.tOptional)((0,O.tEnum)(["left","right","middle"])),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleDblclickResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleDispatchEventParams=(0,O.tObject)({type:O.tString,eventInit:(0,O.tType)("SerializedArgument")});O.scheme.ElementHandleDispatchEventResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleFillParams=(0,O.tObject)({value:O.tString,force:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleFillResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleFocusParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleFocusResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleGetAttributeParams=(0,O.tObject)({name:O.tString});O.scheme.ElementHandleGetAttributeResult=(0,O.tObject)({value:(0,O.tOptional)(O.tString)});O.scheme.ElementHandleHoverParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleHoverResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleInnerHTMLParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleInnerHTMLResult=(0,O.tObject)({value:O.tString});O.scheme.ElementHandleInnerTextParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleInnerTextResult=(0,O.tObject)({value:O.tString});O.scheme.ElementHandleInputValueParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleInputValueResult=(0,O.tObject)({value:O.tString});O.scheme.ElementHandleIsCheckedParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleIsCheckedResult=(0,O.tObject)({value:O.tBoolean});O.scheme.ElementHandleIsDisabledParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleIsDisabledResult=(0,O.tObject)({value:O.tBoolean});O.scheme.ElementHandleIsEditableParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleIsEditableResult=(0,O.tObject)({value:O.tBoolean});O.scheme.ElementHandleIsEnabledParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleIsEnabledResult=(0,O.tObject)({value:O.tBoolean});O.scheme.ElementHandleIsHiddenParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleIsHiddenResult=(0,O.tObject)({value:O.tBoolean});O.scheme.ElementHandleIsVisibleParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleIsVisibleResult=(0,O.tObject)({value:O.tBoolean});O.scheme.ElementHandleOwnerFrameParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleOwnerFrameResult=(0,O.tObject)({frame:(0,O.tOptional)((0,O.tChannel)(["Frame"]))});O.scheme.ElementHandlePressParams=(0,O.tObject)({key:O.tString,delay:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandlePressResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleQuerySelectorParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleQuerySelectorResult=(0,O.tObject)({element:(0,O.tOptional)((0,O.tChannel)(["ElementHandle"]))});O.scheme.ElementHandleQuerySelectorAllParams=(0,O.tObject)({selector:O.tString});O.scheme.ElementHandleQuerySelectorAllResult=(0,O.tObject)({elements:(0,O.tArray)((0,O.tChannel)(["ElementHandle"]))});O.scheme.ElementHandleScreenshotParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber),type:(0,O.tOptional)((0,O.tEnum)(["png","jpeg"])),quality:(0,O.tOptional)(O.tNumber),omitBackground:(0,O.tOptional)(O.tBoolean),caret:(0,O.tOptional)((0,O.tEnum)(["hide","initial"])),animations:(0,O.tOptional)((0,O.tEnum)(["disabled","allow"])),scale:(0,O.tOptional)((0,O.tEnum)(["css","device"])),mask:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({frame:(0,O.tChannel)(["Frame"]),selector:O.tString}))),maskColor:(0,O.tOptional)(O.tString),style:(0,O.tOptional)(O.tString)});O.scheme.ElementHandleScreenshotResult=(0,O.tObject)({binary:O.tBinary});O.scheme.ElementHandleScrollIntoViewIfNeededParams=(0,O.tObject)({timeout:(0,O.tOptional)(O.tNumber)});O.scheme.ElementHandleScrollIntoViewIfNeededResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleSelectOptionParams=(0,O.tObject)({elements:(0,O.tOptional)((0,O.tArray)((0,O.tChannel)(["ElementHandle"]))),options:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({valueOrLabel:(0,O.tOptional)(O.tString),value:(0,O.tOptional)(O.tString),label:(0,O.tOptional)(O.tString),index:(0,O.tOptional)(O.tNumber)}))),force:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleSelectOptionResult=(0,O.tObject)({values:(0,O.tArray)(O.tString)});O.scheme.ElementHandleSelectTextParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.ElementHandleSelectTextResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleSetInputFilesParams=(0,O.tObject)({payloads:(0,O.tOptional)((0,O.tArray)((0,O.tObject)({name:O.tString,mimeType:(0,O.tOptional)(O.tString),buffer:O.tBinary}))),localPaths:(0,O.tOptional)((0,O.tArray)(O.tString)),streams:(0,O.tOptional)((0,O.tArray)((0,O.tChannel)(["WritableStream"]))),timeout:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleSetInputFilesResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleTapParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),modifiers:(0,O.tOptional)((0,O.tArray)((0,O.tEnum)(["Alt","Control","Meta","Shift"]))),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleTapResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleTextContentParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleTextContentResult=(0,O.tObject)({value:(0,O.tOptional)(O.tString)});O.scheme.ElementHandleTypeParams=(0,O.tObject)({text:O.tString,delay:(0,O.tOptional)(O.tNumber),noWaitAfter:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.ElementHandleTypeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleUncheckParams=(0,O.tObject)({force:(0,O.tOptional)(O.tBoolean),noWaitAfter:(0,O.tOptional)(O.tBoolean),position:(0,O.tOptional)((0,O.tType)("Point")),timeout:(0,O.tOptional)(O.tNumber),trial:(0,O.tOptional)(O.tBoolean)});O.scheme.ElementHandleUncheckResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleWaitForElementStateParams=(0,O.tObject)({state:(0,O.tEnum)(["visible","hidden","stable","enabled","disabled","editable"]),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.ElementHandleWaitForElementStateResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElementHandleWaitForSelectorParams=(0,O.tObject)({selector:O.tString,strict:(0,O.tOptional)(O.tBoolean),timeout:(0,O.tOptional)(O.tNumber),state:(0,O.tOptional)((0,O.tEnum)(["attached","detached","visible","hidden"]))});O.scheme.ElementHandleWaitForSelectorResult=(0,O.tObject)({element:(0,O.tOptional)((0,O.tChannel)(["ElementHandle"]))});O.scheme.RequestInitializer=(0,O.tObject)({frame:(0,O.tOptional)((0,O.tChannel)(["Frame"])),serviceWorker:(0,O.tOptional)((0,O.tChannel)(["Worker"])),url:O.tString,resourceType:O.tString,method:O.tString,postData:(0,O.tOptional)(O.tBinary),headers:(0,O.tArray)((0,O.tType)("NameValue")),isNavigationRequest:O.tBoolean,redirectedFrom:(0,O.tOptional)((0,O.tChannel)(["Request"]))});O.scheme.RequestResponseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RequestResponseResult=(0,O.tObject)({response:(0,O.tOptional)((0,O.tChannel)(["Response"]))});O.scheme.RequestRawRequestHeadersParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RequestRawRequestHeadersResult=(0,O.tObject)({headers:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.RouteInitializer=(0,O.tObject)({request:(0,O.tChannel)(["Request"])});O.scheme.RouteRedirectNavigationRequestParams=(0,O.tObject)({url:O.tString});O.scheme.RouteRedirectNavigationRequestResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RouteAbortParams=(0,O.tObject)({errorCode:(0,O.tOptional)(O.tString),requestUrl:O.tString});O.scheme.RouteAbortResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RouteContinueParams=(0,O.tObject)({url:(0,O.tOptional)(O.tString),method:(0,O.tOptional)(O.tString),headers:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),postData:(0,O.tOptional)(O.tBinary),requestUrl:O.tString,isFallback:O.tBoolean});O.scheme.RouteContinueResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.RouteFulfillParams=(0,O.tObject)({status:(0,O.tOptional)(O.tNumber),headers:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),body:(0,O.tOptional)(O.tString),isBase64:(0,O.tOptional)(O.tBoolean),fetchResponseUid:(0,O.tOptional)(O.tString),requestUrl:O.tString});O.scheme.RouteFulfillResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ResourceTiming=(0,O.tObject)({startTime:O.tNumber,domainLookupStart:O.tNumber,domainLookupEnd:O.tNumber,connectStart:O.tNumber,secureConnectionStart:O.tNumber,connectEnd:O.tNumber,requestStart:O.tNumber,responseStart:O.tNumber});O.scheme.ResponseInitializer=(0,O.tObject)({request:(0,O.tChannel)(["Request"]),url:O.tString,status:O.tNumber,statusText:O.tString,headers:(0,O.tArray)((0,O.tType)("NameValue")),timing:(0,O.tType)("ResourceTiming"),fromServiceWorker:O.tBoolean});O.scheme.ResponseBodyParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ResponseBodyResult=(0,O.tObject)({binary:O.tBinary});O.scheme.ResponseSecurityDetailsParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ResponseSecurityDetailsResult=(0,O.tObject)({value:(0,O.tOptional)((0,O.tType)("SecurityDetails"))});O.scheme.ResponseServerAddrParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ResponseServerAddrResult=(0,O.tObject)({value:(0,O.tOptional)((0,O.tType)("RemoteAddr"))});O.scheme.ResponseRawResponseHeadersParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ResponseRawResponseHeadersResult=(0,O.tObject)({headers:(0,O.tArray)((0,O.tType)("NameValue"))});O.scheme.ResponseSizesParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ResponseSizesResult=(0,O.tObject)({sizes:(0,O.tType)("RequestSizes")});O.scheme.SecurityDetails=(0,O.tObject)({issuer:(0,O.tOptional)(O.tString),protocol:(0,O.tOptional)(O.tString),subjectName:(0,O.tOptional)(O.tString),validFrom:(0,O.tOptional)(O.tNumber),validTo:(0,O.tOptional)(O.tNumber)});O.scheme.RequestSizes=(0,O.tObject)({requestBodySize:O.tNumber,requestHeadersSize:O.tNumber,responseBodySize:O.tNumber,responseHeadersSize:O.tNumber});O.scheme.RemoteAddr=(0,O.tObject)({ipAddress:O.tString,port:O.tNumber});O.scheme.WebSocketInitializer=(0,O.tObject)({url:O.tString});O.scheme.WebSocketOpenEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.WebSocketFrameSentEvent=(0,O.tObject)({opcode:O.tNumber,data:O.tString});O.scheme.WebSocketFrameReceivedEvent=(0,O.tObject)({opcode:O.tNumber,data:O.tString});O.scheme.WebSocketSocketErrorEvent=(0,O.tObject)({error:O.tString});O.scheme.WebSocketCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BindingCallInitializer=(0,O.tObject)({frame:(0,O.tChannel)(["Frame"]),name:O.tString,args:(0,O.tOptional)((0,O.tArray)((0,O.tType)("SerializedValue"))),handle:(0,O.tOptional)((0,O.tChannel)(["ElementHandle","JSHandle"]))});O.scheme.BindingCallRejectParams=(0,O.tObject)({error:(0,O.tType)("SerializedError")});O.scheme.BindingCallRejectResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.BindingCallResolveParams=(0,O.tObject)({result:(0,O.tType)("SerializedArgument")});O.scheme.BindingCallResolveResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DialogInitializer=(0,O.tObject)({page:(0,O.tOptional)((0,O.tChannel)(["Page"])),type:O.tString,message:O.tString,defaultValue:O.tString});O.scheme.DialogAcceptParams=(0,O.tObject)({promptText:(0,O.tOptional)(O.tString)});O.scheme.DialogAcceptResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DialogDismissParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.DialogDismissResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.TracingInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.TracingTracingStartParams=(0,O.tObject)({name:(0,O.tOptional)(O.tString),snapshots:(0,O.tOptional)(O.tBoolean),screenshots:(0,O.tOptional)(O.tBoolean),live:(0,O.tOptional)(O.tBoolean)});O.scheme.TracingTracingStartResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.TracingTracingStartChunkParams=(0,O.tObject)({name:(0,O.tOptional)(O.tString),title:(0,O.tOptional)(O.tString)});O.scheme.TracingTracingStartChunkResult=(0,O.tObject)({traceName:O.tString});O.scheme.TracingTracingStopChunkParams=(0,O.tObject)({mode:(0,O.tEnum)(["archive","discard","entries"])});O.scheme.TracingTracingStopChunkResult=(0,O.tObject)({artifact:(0,O.tOptional)((0,O.tChannel)(["Artifact"])),entries:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue")))});O.scheme.TracingTracingStopParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.TracingTracingStopResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactInitializer=(0,O.tObject)({absolutePath:O.tString});O.scheme.ArtifactPathAfterFinishedParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactPathAfterFinishedResult=(0,O.tObject)({value:O.tString});O.scheme.ArtifactSaveAsParams=(0,O.tObject)({path:O.tString});O.scheme.ArtifactSaveAsResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactSaveAsStreamParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactSaveAsStreamResult=(0,O.tObject)({stream:(0,O.tChannel)(["Stream"])});O.scheme.ArtifactFailureParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactFailureResult=(0,O.tObject)({error:(0,O.tOptional)(O.tString)});O.scheme.ArtifactStreamParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactStreamResult=(0,O.tObject)({stream:(0,O.tChannel)(["Stream"])});O.scheme.ArtifactCancelParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactCancelResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactDeleteParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ArtifactDeleteResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.StreamInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.StreamReadParams=(0,O.tObject)({size:(0,O.tOptional)(O.tNumber)});O.scheme.StreamReadResult=(0,O.tObject)({binary:O.tBinary});O.scheme.StreamCloseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.StreamCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.WritableStreamInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.WritableStreamWriteParams=(0,O.tObject)({binary:O.tBinary});O.scheme.WritableStreamWriteResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.WritableStreamCloseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.WritableStreamCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.CDPSessionInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.CDPSessionEventEvent=(0,O.tObject)({method:O.tString,params:(0,O.tOptional)(O.tAny)});O.scheme.CDPSessionSendParams=(0,O.tObject)({method:O.tString,params:(0,O.tOptional)(O.tAny)});O.scheme.CDPSessionSendResult=(0,O.tObject)({result:O.tAny});O.scheme.CDPSessionDetachParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.CDPSessionDetachResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElectronInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElectronLaunchParams=(0,O.tObject)({executablePath:(0,O.tOptional)(O.tString),args:(0,O.tOptional)((0,O.tArray)(O.tString)),cwd:(0,O.tOptional)(O.tString),env:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),timeout:(0,O.tOptional)(O.tNumber),acceptDownloads:(0,O.tOptional)((0,O.tEnum)(["accept","deny","internal-browser-default"])),bypassCSP:(0,O.tOptional)(O.tBoolean),colorScheme:(0,O.tOptional)((0,O.tEnum)(["dark","light","no-preference","no-override"])),extraHTTPHeaders:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),geolocation:(0,O.tOptional)((0,O.tObject)({longitude:O.tNumber,latitude:O.tNumber,accuracy:(0,O.tOptional)(O.tNumber)})),httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)})),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),locale:(0,O.tOptional)(O.tString),offline:(0,O.tOptional)(O.tBoolean),recordHar:(0,O.tOptional)((0,O.tType)("RecordHarOptions")),recordVideo:(0,O.tOptional)((0,O.tObject)({dir:O.tString,size:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber}))})),strictSelectors:(0,O.tOptional)(O.tBoolean),timezoneId:(0,O.tOptional)(O.tString),tracesDir:(0,O.tOptional)(O.tString)});O.scheme.ElectronLaunchResult=(0,O.tObject)({electronApplication:(0,O.tChannel)(["ElectronApplication"])});O.scheme.ElectronApplicationInitializer=(0,O.tObject)({context:(0,O.tChannel)(["BrowserContext"])});O.scheme.ElectronApplicationCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElectronApplicationBrowserWindowParams=(0,O.tObject)({page:(0,O.tChannel)(["Page"])});O.scheme.ElectronApplicationBrowserWindowResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.ElectronApplicationEvaluateExpressionParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.ElectronApplicationEvaluateExpressionResult=(0,O.tObject)({value:(0,O.tType)("SerializedValue")});O.scheme.ElectronApplicationEvaluateExpressionHandleParams=(0,O.tObject)({expression:O.tString,isFunction:(0,O.tOptional)(O.tBoolean),arg:(0,O.tType)("SerializedArgument")});O.scheme.ElectronApplicationEvaluateExpressionHandleResult=(0,O.tObject)({handle:(0,O.tChannel)(["ElementHandle","JSHandle"])});O.scheme.ElectronApplicationCloseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.ElectronApplicationCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDevicesParams=(0,O.tObject)({host:(0,O.tOptional)(O.tString),port:(0,O.tOptional)(O.tNumber),omitDriverInstall:(0,O.tOptional)(O.tBoolean)});O.scheme.AndroidDevicesResult=(0,O.tObject)({devices:(0,O.tArray)((0,O.tChannel)(["AndroidDevice"]))});O.scheme.AndroidSetDefaultTimeoutNoReplyParams=(0,O.tObject)({timeout:O.tNumber});O.scheme.AndroidSetDefaultTimeoutNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidSocketInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidSocketDataEvent=(0,O.tObject)({data:O.tBinary});O.scheme.AndroidSocketCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidSocketWriteParams=(0,O.tObject)({data:O.tBinary});O.scheme.AndroidSocketWriteResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidSocketCloseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidSocketCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceInitializer=(0,O.tObject)({model:O.tString,serial:O.tString});O.scheme.AndroidDeviceCloseEvent=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceWebViewAddedEvent=(0,O.tObject)({webView:(0,O.tType)("AndroidWebView")});O.scheme.AndroidDeviceWebViewRemovedEvent=(0,O.tObject)({socketName:O.tString});O.scheme.AndroidDeviceWaitParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),state:(0,O.tOptional)((0,O.tEnum)(["gone"])),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceWaitResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceFillParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),text:O.tString,timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceFillResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceTapParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),duration:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceTapResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceDragParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),dest:(0,O.tType)("Point"),speed:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceDragResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceFlingParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),direction:(0,O.tEnum)(["up","down","left","right"]),speed:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceFlingResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceLongTapParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceLongTapResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDevicePinchCloseParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),percent:O.tNumber,speed:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDevicePinchCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDevicePinchOpenParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),percent:O.tNumber,speed:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDevicePinchOpenResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceScrollParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),direction:(0,O.tEnum)(["up","down","left","right"]),percent:O.tNumber,speed:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceScrollResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceSwipeParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),direction:(0,O.tEnum)(["up","down","left","right"]),percent:O.tNumber,speed:(0,O.tOptional)(O.tNumber),timeout:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDeviceSwipeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceInfoParams=(0,O.tObject)({selector:(0,O.tType)("AndroidSelector")});O.scheme.AndroidDeviceInfoResult=(0,O.tObject)({info:(0,O.tType)("AndroidElementInfo")});O.scheme.AndroidDeviceScreenshotParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceScreenshotResult=(0,O.tObject)({binary:O.tBinary});O.scheme.AndroidDeviceInputTypeParams=(0,O.tObject)({text:O.tString});O.scheme.AndroidDeviceInputTypeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceInputPressParams=(0,O.tObject)({key:O.tString});O.scheme.AndroidDeviceInputPressResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceInputTapParams=(0,O.tObject)({point:(0,O.tType)("Point")});O.scheme.AndroidDeviceInputTapResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceInputSwipeParams=(0,O.tObject)({segments:(0,O.tArray)((0,O.tType)("Point")),steps:O.tNumber});O.scheme.AndroidDeviceInputSwipeResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceInputDragParams=(0,O.tObject)({from:(0,O.tType)("Point"),to:(0,O.tType)("Point"),steps:O.tNumber});O.scheme.AndroidDeviceInputDragResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceLaunchBrowserParams=(0,O.tObject)({noDefaultViewport:(0,O.tOptional)(O.tBoolean),viewport:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),screen:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber})),ignoreHTTPSErrors:(0,O.tOptional)(O.tBoolean),javaScriptEnabled:(0,O.tOptional)(O.tBoolean),bypassCSP:(0,O.tOptional)(O.tBoolean),userAgent:(0,O.tOptional)(O.tString),locale:(0,O.tOptional)(O.tString),timezoneId:(0,O.tOptional)(O.tString),geolocation:(0,O.tOptional)((0,O.tObject)({longitude:O.tNumber,latitude:O.tNumber,accuracy:(0,O.tOptional)(O.tNumber)})),permissions:(0,O.tOptional)((0,O.tArray)(O.tString)),extraHTTPHeaders:(0,O.tOptional)((0,O.tArray)((0,O.tType)("NameValue"))),offline:(0,O.tOptional)(O.tBoolean),httpCredentials:(0,O.tOptional)((0,O.tObject)({username:O.tString,password:O.tString,origin:(0,O.tOptional)(O.tString)})),deviceScaleFactor:(0,O.tOptional)(O.tNumber),isMobile:(0,O.tOptional)(O.tBoolean),hasTouch:(0,O.tOptional)(O.tBoolean),colorScheme:(0,O.tOptional)((0,O.tEnum)(["dark","light","no-preference","no-override"])),reducedMotion:(0,O.tOptional)((0,O.tEnum)(["reduce","no-preference","no-override"])),forcedColors:(0,O.tOptional)((0,O.tEnum)(["active","none","no-override"])),acceptDownloads:(0,O.tOptional)((0,O.tEnum)(["accept","deny","internal-browser-default"])),baseURL:(0,O.tOptional)(O.tString),recordVideo:(0,O.tOptional)((0,O.tObject)({dir:O.tString,size:(0,O.tOptional)((0,O.tObject)({width:O.tNumber,height:O.tNumber}))})),recordHar:(0,O.tOptional)((0,O.tType)("RecordHarOptions")),strictSelectors:(0,O.tOptional)(O.tBoolean),serviceWorkers:(0,O.tOptional)((0,O.tEnum)(["allow","block"])),pkg:(0,O.tOptional)(O.tString),args:(0,O.tOptional)((0,O.tArray)(O.tString)),proxy:(0,O.tOptional)((0,O.tObject)({server:O.tString,bypass:(0,O.tOptional)(O.tString),username:(0,O.tOptional)(O.tString),password:(0,O.tOptional)(O.tString)}))});O.scheme.AndroidDeviceLaunchBrowserResult=(0,O.tObject)({context:(0,O.tChannel)(["BrowserContext"])});O.scheme.AndroidDeviceOpenParams=(0,O.tObject)({command:O.tString});O.scheme.AndroidDeviceOpenResult=(0,O.tObject)({socket:(0,O.tChannel)(["AndroidSocket"])});O.scheme.AndroidDeviceShellParams=(0,O.tObject)({command:O.tString});O.scheme.AndroidDeviceShellResult=(0,O.tObject)({result:O.tBinary});O.scheme.AndroidDeviceInstallApkParams=(0,O.tObject)({file:O.tBinary,args:(0,O.tOptional)((0,O.tArray)(O.tString))});O.scheme.AndroidDeviceInstallApkResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDevicePushParams=(0,O.tObject)({file:O.tBinary,path:O.tString,mode:(0,O.tOptional)(O.tNumber)});O.scheme.AndroidDevicePushResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceSetDefaultTimeoutNoReplyParams=(0,O.tObject)({timeout:O.tNumber});O.scheme.AndroidDeviceSetDefaultTimeoutNoReplyResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceConnectToWebViewParams=(0,O.tObject)({socketName:O.tString});O.scheme.AndroidDeviceConnectToWebViewResult=(0,O.tObject)({context:(0,O.tChannel)(["BrowserContext"])});O.scheme.AndroidDeviceCloseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidDeviceCloseResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.AndroidWebView=(0,O.tObject)({pid:O.tNumber,pkg:O.tString,socketName:O.tString});O.scheme.AndroidSelector=(0,O.tObject)({checkable:(0,O.tOptional)(O.tBoolean),checked:(0,O.tOptional)(O.tBoolean),clazz:(0,O.tOptional)(O.tString),clickable:(0,O.tOptional)(O.tBoolean),depth:(0,O.tOptional)(O.tNumber),desc:(0,O.tOptional)(O.tString),enabled:(0,O.tOptional)(O.tBoolean),focusable:(0,O.tOptional)(O.tBoolean),focused:(0,O.tOptional)(O.tBoolean),hasChild:(0,O.tOptional)((0,O.tObject)({selector:(0,O.tType)("AndroidSelector")})),hasDescendant:(0,O.tOptional)((0,O.tObject)({selector:(0,O.tType)("AndroidSelector"),maxDepth:(0,O.tOptional)(O.tNumber)})),longClickable:(0,O.tOptional)(O.tBoolean),pkg:(0,O.tOptional)(O.tString),res:(0,O.tOptional)(O.tString),scrollable:(0,O.tOptional)(O.tBoolean),selected:(0,O.tOptional)(O.tBoolean),text:(0,O.tOptional)(O.tString)});O.scheme.AndroidElementInfo=(0,O.tObject)({children:(0,O.tOptional)((0,O.tArray)((0,O.tType)("AndroidElementInfo"))),clazz:O.tString,desc:O.tString,res:O.tString,pkg:O.tString,text:O.tString,bounds:(0,O.tType)("Rect"),checkable:O.tBoolean,checked:O.tBoolean,clickable:O.tBoolean,enabled:O.tBoolean,focusable:O.tBoolean,focused:O.tBoolean,longClickable:O.tBoolean,scrollable:O.tBoolean,selected:O.tBoolean});O.scheme.JsonPipeInitializer=(0,O.tOptional)((0,O.tObject)({}));O.scheme.JsonPipeMessageEvent=(0,O.tObject)({message:O.tAny});O.scheme.JsonPipeClosedEvent=(0,O.tObject)({error:(0,O.tOptional)((0,O.tType)("SerializedError"))});O.scheme.JsonPipeSendParams=(0,O.tObject)({message:O.tAny});O.scheme.JsonPipeSendResult=(0,O.tOptional)((0,O.tObject)({}));O.scheme.JsonPipeCloseParams=(0,O.tOptional)((0,O.tObject)({}));O.scheme.JsonPipeCloseResult=(0,O.tOptional)((0,O.tObject)({}))},2209:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ValidationError=void 0;S.createMetadataValidator=createMetadataValidator;S.findValidator=findValidator;S.maybeFindValidator=maybeFindValidator;S.tUndefined=S.tType=S.tString=S.tOptional=S.tObject=S.tNumber=S.tEnum=S.tChannel=S.tBoolean=S.tBinary=S.tArray=S.tAny=S.scheme=void 0;var O=Q(3557);class ValidationError extends Error{}S.ValidationError=ValidationError;const H=S.scheme={};function findValidator(v,S,Q){const O=maybeFindValidator(v,S,Q);if(!O)throw new ValidationError(`Unknown scheme for ${Q}: ${v}.${S}`);return O}function maybeFindValidator(v,S,Q){const O=v+(Q==="Initializer"?"":S[0].toUpperCase()+S.substring(1))+Q;return H[O]}function createMetadataValidator(){return tOptional(H["Metadata"])}const tNumber=(v,S,Q)=>{if(v instanceof Number)return v.valueOf();if(typeof v==="number")return v;throw new ValidationError(`${S}: expected number, got ${typeof v}`)};S.tNumber=tNumber;const tBoolean=(v,S,Q)=>{if(v instanceof Boolean)return v.valueOf();if(typeof v==="boolean")return v;throw new ValidationError(`${S}: expected boolean, got ${typeof v}`)};S.tBoolean=tBoolean;const tString=(v,S,Q)=>{if(v instanceof String)return v.valueOf();if(typeof v==="string")return v;throw new ValidationError(`${S}: expected string, got ${typeof v}`)};S.tString=tString;const tBinary=(v,S,Q)=>{if(Q.binary==="fromBase64"){if(v instanceof String)return Buffer.from(v.valueOf(),"base64");if(typeof v==="string")return Buffer.from(v,"base64");throw new ValidationError(`${S}: expected base64-encoded buffer, got ${typeof v}`)}if(Q.binary==="toBase64"){if(!(v instanceof Buffer))throw new ValidationError(`${S}: expected Buffer, got ${typeof v}`);return v.toString("base64")}if(Q.binary==="buffer"){if(!(v instanceof Buffer))throw new ValidationError(`${S}: expected Buffer, got ${typeof v}`);return v}throw new ValidationError(`Unsupported binary behavior "${Q.binary}"`)};S.tBinary=tBinary;const tUndefined=(v,S,Q)=>{if(Object.is(v,undefined))return v;throw new ValidationError(`${S}: expected undefined, got ${typeof v}`)};S.tUndefined=tUndefined;const tAny=(v,S,Q)=>v;S.tAny=tAny;const tOptional=v=>(S,Q,O)=>{if(Object.is(S,undefined))return S;return v(S,Q,O)};S.tOptional=tOptional;const tArray=v=>(S,Q,O)=>{if(!Array.isArray(S))throw new ValidationError(`${Q}: expected array, got ${typeof S}`);return S.map(((S,H)=>v(S,Q+"["+H+"]",O)))};S.tArray=tArray;const tObject=v=>(S,Q,H)=>{if(Object.is(S,null))throw new ValidationError(`${Q}: expected object, got null`);if(typeof S!=="object")throw new ValidationError(`${Q}: expected object, got ${typeof S}`);const V={};for(const[O,J]of Object.entries(v)){const v=J(S[O],Q?Q+"."+O:O,H);if(!Object.is(v,undefined))V[O]=v}if((0,O.isUnderTest)()){for(const[v,Q]of Object.entries(S)){if(v.startsWith("__testHook"))V[v]=Q}}return V};S.tObject=tObject;const tEnum=v=>(S,Q,O)=>{if(!v.includes(S))throw new ValidationError(`${Q}: expected one of (${v.join("|")})`);return S};S.tEnum=tEnum;const tChannel=v=>(S,Q,O)=>O.tChannelImpl(v,S,Q,O);S.tChannel=tChannel;const tType=v=>(S,Q,O)=>{const V=H[v];if(!V)throw new ValidationError(Q+': unknown type "'+v+'"');return V(S,Q,O)};S.tType=tType},4533:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.PlaywrightConnection=void 0;var O=Q(4540);var H=Q(6705);var V=Q(6686);var J=Q(1570);var Y=Q(3557);var X=Q(6781);var ee=Q(8365);var ae=Q(2003);class PlaywrightConnection{constructor(v,S,Q,H,V,J,X){this._ws=void 0;this._onClose=void 0;this._dispatcherConnection=void 0;this._cleanups=[];this._id=void 0;this._disconnected=false;this._preLaunched=void 0;this._options=void 0;this._root=void 0;this._profileName=void 0;this._ws=Q;this._preLaunched=V;this._options=H;H.launchOptions=filterLaunchOptions(H.launchOptions);if(S==="reuse-browser"||S==="pre-launched-browser-or-android")(0,Y.assert)(V.playwright);if(S==="pre-launched-browser-or-android")(0,Y.assert)(V.browser||V.androidDevice);this._onClose=X;this._id=J;this._profileName=`${(new Date).toISOString()}-${S}`;this._dispatcherConnection=new O.DispatcherConnection;this._dispatcherConnection.onmessage=async S=>{await v;if(Q.readyState!==Q.CLOSING){const v=JSON.stringify(S);if(ae.debugLogger.isEnabled("server:channel"))ae.debugLogger.log("server:channel",`[${this._id}] ${(0,Y.monotonicTime)()*1e3} SEND ► ${v}`);if(ae.debugLogger.isEnabled("server:metadata"))this.logServerMetadata(S,v,"SEND");Q.send(v)}};Q.on("message",(async S=>{await v;const Q=Buffer.from(S).toString();const O=JSON.parse(Q);if(ae.debugLogger.isEnabled("server:channel"))ae.debugLogger.log("server:channel",`[${this._id}] ${(0,Y.monotonicTime)()*1e3} ◀ RECV ${Q}`);if(ae.debugLogger.isEnabled("server:metadata"))this.logServerMetadata(O,Q,"RECV");this._dispatcherConnection.dispatch(O)}));Q.on("close",(()=>this._onDisconnect()));Q.on("error",(v=>this._onDisconnect(v)));if(S==="controller"){this._root=this._initDebugControllerMode();return}this._root=new O.RootDispatcher(this._dispatcherConnection,(async(v,Q)=>{await(0,Y.startProfiling)();if(S==="reuse-browser")return await this._initReuseBrowsersMode(v);if(S==="pre-launched-browser-or-android")return this._preLaunched.browser?await this._initPreLaunchedBrowserMode(v):await this._initPreLaunchedAndroidMode(v);if(S==="launch-browser")return await this._initLaunchBrowserMode(v,Q);throw new Error("Unsupported client type: "+S)}))}async _initLaunchBrowserMode(v,S){ae.debugLogger.log("server",`[${this._id}] engaged launch mode for "${this._options.browserName}"`);const Q=(0,O.createPlaywright)({sdkLanguage:S.sdkLanguage,isServer:true});const J=await this._createOwnedSocksProxy(Q);const Y=await Q[this._options.browserName].launch((0,V.serverSideCallMetadata)(),this._options.launchOptions);this._cleanups.push((async()=>{for(const v of Q.allBrowsers())await v.close({reason:"Connection terminated"})}));Y.on(H.Browser.Events.Disconnected,(()=>{this.close({code:1001,reason:"Browser closed"})}));return new O.PlaywrightDispatcher(v,Q,J,Y)}async _initPreLaunchedBrowserMode(v){var S;ae.debugLogger.log("server",`[${this._id}] engaged pre-launched (browser) mode`);const Q=this._preLaunched.playwright;(S=this._preLaunched.socksProxy)===null||S===void 0?void 0:S.setPattern(this._options.socksProxyPattern);const V=this._preLaunched.browser;V.on(H.Browser.Events.Disconnected,(()=>{this.close({code:1001,reason:"Browser closed"})}));const J=new O.PlaywrightDispatcher(v,Q,this._preLaunched.socksProxy,V);for(const v of Q.allBrowsers()){if(v!==V)await v.close({reason:"Connection terminated"})}this._cleanups.push((()=>J.cleanup()));return J}async _initPreLaunchedAndroidMode(v){ae.debugLogger.log("server",`[${this._id}] engaged pre-launched (Android) mode`);const S=this._preLaunched.playwright;const Q=this._preLaunched.androidDevice;Q.on(X.AndroidDevice.Events.Close,(()=>{this.close({code:1001,reason:"Android device disconnected"})}));const H=new O.PlaywrightDispatcher(v,S,undefined,undefined,Q);this._cleanups.push((()=>H.cleanup()));return H}_initDebugControllerMode(){ae.debugLogger.log("server",`[${this._id}] engaged reuse controller mode`);const v=this._preLaunched.playwright;return new ee.DebugControllerDispatcher(this._dispatcherConnection,v.debugController)}async _initReuseBrowsersMode(v){ae.debugLogger.log("server",`[${this._id}] engaged reuse browsers mode for ${this._options.browserName}`);const S=this._preLaunched.playwright;const Q=launchOptionsHash(this._options.launchOptions);let J=S.allBrowsers().find((v=>{if(v.options.name!==this._options.browserName)return false;const S=launchOptionsHash(v.options.originalLaunchOptions);return S===Q}));for(const v of S.allBrowsers()){if(v===J)continue;if(v.options.name===this._options.browserName&&v.options.channel===this._options.launchOptions.channel)await v.close({reason:"Connection terminated"})}if(!J){J=await S[this._options.browserName||"chromium"].launch((0,V.serverSideCallMetadata)(),{...this._options.launchOptions,headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS});J.on(H.Browser.Events.Disconnected,(()=>{this.close({code:1001,reason:"Browser closed"})}))}this._cleanups.push((async()=>{for(const v of S.allBrowsers()){for(const S of v.contexts()){if(!S.pages().length)await S.close({reason:"Connection terminated"});else await S.stopPendingOperations("Connection closed")}if(!v.contexts())await v.close({reason:"Connection terminated"})}}));const Y=new O.PlaywrightDispatcher(v,S,undefined,J);return Y}async _createOwnedSocksProxy(v){if(!this._options.socksProxyPattern)return;const S=new J.SocksProxy;S.setPattern(this._options.socksProxyPattern);v.options.socksProxyPort=await S.listen(0);ae.debugLogger.log("server",`[${this._id}] started socks proxy on port ${v.options.socksProxyPort}`);this._cleanups.push((()=>S.close()));return S}async _onDisconnect(v){this._disconnected=true;ae.debugLogger.log("server",`[${this._id}] disconnected. error: ${v}`);this._root._dispose();ae.debugLogger.log("server",`[${this._id}] starting cleanup`);for(const v of this._cleanups)await v().catch((()=>{}));await(0,Y.stopProfiling)(this._profileName);this._onClose();ae.debugLogger.log("server",`[${this._id}] finished cleanup`)}logServerMetadata(v,S,Q){const O={wallTime:Date.now(),id:v.id,guid:v.guid,method:v.method,payloadSizeInBytes:Buffer.byteLength(S,"utf-8")};ae.debugLogger.log("server:metadata",(Q==="SEND"?"SEND ► ":"◀ RECV ")+JSON.stringify(O))}async close(v){if(this._disconnected)return;ae.debugLogger.log("server",`[${this._id}] force closing connection: ${(v===null||v===void 0?void 0:v.reason)||""} (${(v===null||v===void 0?void 0:v.code)||0})`);try{this._ws.close(v===null||v===void 0?void 0:v.code,v===null||v===void 0?void 0:v.reason)}catch(v){}}}S.PlaywrightConnection=PlaywrightConnection;function launchOptionsHash(v){const S={...v};for(const v of Object.keys(S)){const Q=v;if(S[Q]===he[Q])delete S[Q]}for(const v of Ee)delete S[v];return JSON.stringify(S)}function filterLaunchOptions(v){return{channel:v.channel,args:v.args,ignoreAllDefaultArgs:v.ignoreAllDefaultArgs,ignoreDefaultArgs:v.ignoreDefaultArgs,timeout:v.timeout,headless:v.headless,proxy:v.proxy,chromiumSandbox:v.chromiumSandbox,firefoxUserPrefs:v.firefoxUserPrefs,slowMo:v.slowMo,executablePath:(0,Y.isUnderTest)()?v.executablePath:undefined}}const he={ignoreAllDefaultArgs:false,handleSIGINT:false,handleSIGTERM:false,handleSIGHUP:false,headless:true,devtools:false};const Ee=["headless","tracesDir"]},7358:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Semaphore=S.PlaywrightServer=void 0;var O=Q(1319);var H=Q(4506);var V=Q(4533);var J=Q(6729);var Y=Q(2003);var X=Q(3557);var ee=Q(1232);let ae=0;const he=Symbol("kConnection");class PlaywrightServer{constructor(v){this._preLaunchedPlaywright=void 0;this._wsServer=void 0;this._server=void 0;this._options=void 0;this._options=v;if(v.preLaunchedBrowser)this._preLaunchedPlaywright=v.preLaunchedBrowser.attribution.playwright;if(v.preLaunchedAndroidDevice)this._preLaunchedPlaywright=v.preLaunchedAndroidDevice._android.attribution.playwright}async listen(v=0,S){Y.debugLogger.log("server",`Server started at ${new Date}`);const Q=(0,X.createHttpServer)(((v,S)=>{if(v.method==="GET"&&v.url==="/json"){S.setHeader("Content-Type","application/json");S.end(JSON.stringify({wsEndpointPath:this._options.path}));return}S.end("Running")}));Q.on("error",(v=>Y.debugLogger.log("server",String(v))));this._server=Q;const J=await new Promise(((O,H)=>{Q.listen(v,S,(()=>{const v=Q.address();if(!v){H(new Error("Could not bind server socket"));return}const V=typeof v==="string"?`${v}${this._options.path}`:`ws://${S||"localhost"}:${v.port}${this._options.path}`;O(V)})).on("error",H)}));Y.debugLogger.log("server","Listening at "+J);this._wsServer=new O.wsServer({noServer:true,perMessageDeflate:ee.perMessageDeflate});const Ee=new Semaphore(this._options.maxConnections);const Be=new Semaphore(1);const ke=new Semaphore(1);if(process.env.PWTEST_SERVER_WS_HEADERS){this._wsServer.on("headers",((v,S)=>{v.push(process.env.PWTEST_SERVER_WS_HEADERS)}))}Q.on("upgrade",((v,S,Q)=>{var O;const H=new URL("http://localhost"+v.url).pathname;if(H!==this._options.path){S.write(`HTTP/${v.httpVersion} 400 Bad Request\r\n\r\n`);S.destroy();return}const V=(0,X.userAgentVersionMatchesErrorMessage)(v.headers["user-agent"]||"");if(V){S.write(`HTTP/${v.httpVersion} 428 Precondition Required\r\n\r\n${V}`);S.destroy();return}(O=this._wsServer)===null||O===void 0?void 0:O.handleUpgrade(v,S,Q,(S=>{var Q;return(Q=this._wsServer)===null||Q===void 0?void 0:Q.emit("connection",S,v)}))}));this._wsServer.on("connection",((v,S)=>{Y.debugLogger.log("server","Connected client ws.extension="+v.extensions);const Q=new URL("http://localhost"+(S.url||""));const O=S.headers["x-playwright-browser"];const J=Q.searchParams.get("browser")||(Array.isArray(O)?O[0]:O)||null;const X=S.headers["x-playwright-proxy"];const ee=Q.searchParams.get("proxy")||(Array.isArray(X)?X[0]:X);const Re=S.headers["x-playwright-launch-options"]||"";const Oe=Array.isArray(Re)?Re[0]:Re;const Pe=Q.searchParams.get("launch-options");let Le={};try{Le=JSON.parse(Pe||Oe)}catch(v){}const je=String(++ae);Y.debugLogger.log("server",`[${je}] serving connection: ${S.url}`);const qe=this._options.mode==="extension";if(qe){if(!this._preLaunchedPlaywright)this._preLaunchedPlaywright=(0,H.createPlaywright)({sdkLanguage:"javascript",isServer:true})}let Ve="launch-browser";let ze=Ee;if(qe&&Q.searchParams.has("debug-controller")){Ve="controller";ze=Be}else if(qe){Ve="reuse-browser";ze=ke}else if(this._options.mode==="launchServer"){Ve="pre-launched-browser-or-android";ze=Ee}const $e=new V.PlaywrightConnection(ze.acquire(),Ve,v,{socksProxyPattern:ee,browserName:J,launchOptions:Le},{playwright:this._preLaunchedPlaywright,browser:this._options.preLaunchedBrowser,androidDevice:this._options.preLaunchedAndroidDevice,socksProxy:this._options.preLaunchedSocksProxy},je,(()=>ze.release()));v[he]=$e}));return J}async close(){const v=this._wsServer;if(!v)return;Y.debugLogger.log("server","closing websocket server");const S=new Promise((S=>v.close(S)));await Promise.all(Array.from(v.clients).map((async v=>{const S=v[he];if(S)await S.close();try{v.terminate()}catch(v){}})));await S;Y.debugLogger.log("server","closing http server");if(this._server)await new Promise((v=>this._server.close(v)));this._wsServer=undefined;this._server=undefined;Y.debugLogger.log("server","closed server");Y.debugLogger.log("server","closing browsers");if(this._preLaunchedPlaywright)await Promise.all(this._preLaunchedPlaywright.allBrowsers().map((v=>v.close({reason:"Playwright Server stopped"}))));Y.debugLogger.log("server","closed browsers")}}S.PlaywrightServer=PlaywrightServer;class Semaphore{constructor(v){this._max=void 0;this._acquired=0;this._queue=[];this._max=v}setMax(v){this._max=v}acquire(){const v=new J.ManualPromise;this._queue.push(v);this._flush();return v}release(){--this._acquired;this._flush()}_flush(){while(this._acquired<this._max&&this._queue.length){++this._acquired;this._queue.shift().resolve()}}}S.Semaphore=Semaphore},5900:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Accessibility=void 0;class Accessibility{constructor(v){this._getAXTree=void 0;this._getAXTree=v}async snapshot(v={}){const{interestingOnly:S=true,root:Q=null}=v;const{tree:O,needle:H}=await this._getAXTree(Q||undefined);if(!S){if(Q)return H&&serializeTree(H)[0];return serializeTree(O)[0]}const V=new Set;collectInterestingNodes(V,O,false);if(Q&&(!H||!V.has(H)))return null;return serializeTree(H||O,V)[0]}}S.Accessibility=Accessibility;function collectInterestingNodes(v,S,Q){if(S.isInteresting(Q))v.add(S);if(S.isLeafNode())return;Q=Q||S.isControl();for(const O of S.children())collectInterestingNodes(v,O,Q)}function serializeTree(v,S){const Q=[];for(const O of v.children())Q.push(...serializeTree(O,S));if(S&&!S.has(v))return Q;const O=v.serialize();if(Q.length)O.children=Q;return[O]}},6781:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.AndroidDevice=S.Android=void 0;var O=Q(1319);var H=Q(2361);var V=_interopRequireDefault(Q(7147));var J=_interopRequireDefault(Q(2037));var Y=_interopRequireDefault(Q(1017));var X=Q(3557);var ee=Q(6034);var ae=Q(5985);var he=Q(2836);var Ee=Q(2731);var Be=Q(9175);var ke=Q(3086);var Re=Q(2003);var Oe=Q(1441);var Pe=Q(9053);var Le=Q(6686);var je=Q(4805);var qe=Q(9048);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const Ve=Y.default.join(J.default.tmpdir(),"playwright-artifacts-");class Android extends Le.SdkObject{constructor(v,S){super(v,"android");this._backend=void 0;this._devices=new Map;this._timeoutSettings=void 0;this._backend=S;this._timeoutSettings=new Pe.TimeoutSettings}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v)}async devices(v){const S=(await this._backend.devices(v)).filter((v=>v.status==="device"));const Q=new Set;for(const O of S){Q.add(O.serial);if(this._devices.has(O.serial))continue;const S=await AndroidDevice.create(this,O,v);this._devices.set(O.serial,S)}for(const v of this._devices.keys()){if(!Q.has(v))this._devices.delete(v)}return[...this._devices.values()]}_deviceClosed(v){this._devices.delete(v.serial)}}S.Android=Android;class AndroidDevice extends Le.SdkObject{constructor(v,S,Q,O){super(v,"android-device");this._backend=void 0;this.model=void 0;this.serial=void 0;this._options=void 0;this._driverPromise=void 0;this._lastId=0;this._callbacks=new Map;this._pollingWebViews=void 0;this._timeoutSettings=void 0;this._webViews=new Map;this._browserConnections=new Set;this._android=void 0;this._isClosed=false;this._android=v;this._backend=S;this.model=Q;this.serial=S.serial;this._options=O;this._timeoutSettings=new Pe.TimeoutSettings(v._timeoutSettings)}static async create(v,S,Q){await S.init();const O=await S.runCommand("shell:getprop ro.product.model");const H=new AndroidDevice(v,S,O.toString().trim(),Q);await H._init();return H}async _init(){await this._refreshWebViews();const poll=()=>{this._pollingWebViews=setTimeout((()=>this._refreshWebViews().then(poll).catch((()=>{this.close().catch((()=>{}))}))),500)};poll()}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v)}async shell(v){const S=await this._backend.runCommand(`shell:${v}`);await this._refreshWebViews();return S}async open(v){return await this._backend.open(`${v}`)}async screenshot(){return await this._backend.runCommand(`shell:screencap -p`)}async _driver(){if(this._isClosed)return;if(!this._driverPromise)this._driverPromise=this._installDriver();return this._driverPromise}async _installDriver(){(0,O.debug)("pw:android")("Stopping the old driver");await this.shell(`am force-stop com.microsoft.playwright.androiddriver`);if(!this._options.omitDriverInstall){(0,O.debug)("pw:android")("Uninstalling the old driver");await this.shell(`cmd package uninstall com.microsoft.playwright.androiddriver`);await this.shell(`cmd package uninstall com.microsoft.playwright.androiddriver.test`);(0,O.debug)("pw:android")("Installing the new driver");const v=qe.registry.findExecutable("android");const S=(0,X.getPackageManagerExecCommand)();for(const Q of["android-driver.apk","android-driver-target.apk"]){const O=Y.default.join(v.directory,Q);if(!V.default.existsSync(O))throw new Error(`Please install Android driver apk using '${S} playwright install android'`);await this.installApk(await V.default.promises.readFile(O))}}else{(0,O.debug)("pw:android")("Skipping the driver installation")}(0,O.debug)("pw:android")("Starting the new driver");this.shell("am instrument -w com.microsoft.playwright.androiddriver.test/androidx.test.runner.AndroidJUnitRunner").catch((v=>(0,O.debug)("pw:android")(v)));const v=await this._waitForLocalAbstract("playwright_android_driver_socket");const S=new ke.PipeTransport(v,v,v,"be");S.onmessage=v=>{const S=JSON.parse(v);const{id:Q,result:O,error:H}=S;const V=this._callbacks.get(Q);if(!V)return;if(H)V.reject(new Error(H));else V.fulfill(O);this._callbacks.delete(Q)};return S}async _waitForLocalAbstract(v){let S;(0,O.debug)("pw:android")(`Polling the socket localabstract:${v}`);while(!S){try{S=await this._backend.open(`localabstract:${v}`)}catch(v){await new Promise((v=>setTimeout(v,250)))}}(0,O.debug)("pw:android")(`Connected to localabstract:${v}`);return S}async send(v,S={}){S.timeout=this._timeoutSettings.timeout(S);const Q=await this._driver();if(!Q)throw new Error("Device is closed");const O=++this._lastId;const H=new Promise(((v,S)=>this._callbacks.set(O,{fulfill:v,reject:S})));Q.send(JSON.stringify({id:O,method:v,params:S}));return H}async close(){if(this._isClosed)return;this._isClosed=true;if(this._pollingWebViews)clearTimeout(this._pollingWebViews);for(const v of this._browserConnections)await v.close();if(this._driverPromise){const v=await this._driver();v===null||v===void 0?void 0:v.close()}await this._backend.close();this._android._deviceClosed(this);this.emit(AndroidDevice.Events.Close)}async launchBrowser(v="com.android.chrome",S){(0,O.debug)("pw:android")("Force-stopping",v);await this._backend.runCommand(`shell:am force-stop ${v}`);const Q=(0,X.isUnderTest)()?"webview_devtools_remote_playwright_test":"playwright_"+(0,X.createGuid)()+"_devtools_remote";const H=this._defaultArgs(S,Q).join(" ");(0,O.debug)("pw:android")("Starting",v,H);await this._backend.runCommand(`shell:echo "${Buffer.from(H).toString("base64")}" | base64 -d > /data/local/tmp/chrome-command-line`);await this._backend.runCommand(`shell:am start -a android.intent.action.VIEW -d about:blank ${v}`);const V=await this._connectToBrowser(Q,S);await this._backend.runCommand(`shell:rm /data/local/tmp/chrome-command-line`);return V}_defaultArgs(v,S){const Q=["_","--disable-fre","--no-default-browser-check",`--remote-debugging-socket-name=${S}`,...je.chromiumSwitches,...this._innerDefaultArgs(v)];return Q}_innerDefaultArgs(v){const{args:S=[],proxy:Q}=v;const O=[];if(Q){O.push(`--proxy-server=${Q.server}`);const v=[];if(Q.bypass)v.push(...Q.bypass.split(",").map((v=>v.trim())).map((v=>v.startsWith(".")?"*"+v:v)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!v.includes("<-loopback>"))v.push("<-loopback>");if(v.length>0)O.push(`--proxy-bypass-list=${v.join(";")}`)}O.push(...S);return O}async connectToWebView(v){const S=this._webViews.get(v);if(!S)throw new Error("WebView has been closed");return await this._connectToBrowser(v)}async _connectToBrowser(v,S={}){const Q=await this._waitForLocalAbstract(v);const H=new AndroidBrowser(this,Q);await H._init();this._browserConnections.add(H);const J=await V.default.promises.mkdtemp(Ve);const cleanupArtifactsDir=async()=>{const v=await(0,ee.removeFolders)([J]);for(let S=0;S<(v||[]).length;++S)(0,O.debug)("pw:android")(`exception while removing ${J}: ${v[S]}`)};Oe.gracefullyCloseSet.add(cleanupArtifactsDir);Q.on("close",(async()=>{Oe.gracefullyCloseSet.delete(cleanupArtifactsDir);cleanupArtifactsDir().catch((v=>(0,O.debug)("pw:android")(`could not cleanup artifacts dir: ${v}`)))}));const Y={name:"clank",isChromium:true,slowMo:0,persistent:{...S,noDefaultViewport:true},artifactsDir:J,downloadsPath:J,tracesDir:J,browserProcess:new ClankBrowserProcess(H),proxy:S.proxy,protocolLogger:Be.helper.debugProtocolLogger(),browserLogsCollector:new Re.RecentLogsCollector,originalLaunchOptions:{}};(0,ae.validateBrowserContextOptions)(S,Y);const X=await Ee.CRBrowser.connect(this.attribution.playwright,H,Y);const ke=new he.ProgressController((0,Le.serverSideCallMetadata)(),this);const Pe=X._defaultContext;await ke.run((async v=>{await Pe._loadDefaultContextAsIs(v)}));return Pe}webViews(){return[...this._webViews.values()]}async installApk(v,S){const Q=S&&S.args?S.args:["-r","-t","-S"];(0,O.debug)("pw:android")("Opening install socket");const H=await this._backend.open(`shell:cmd package install ${Q.join(" ")} ${v.length}`);(0,O.debug)("pw:android")("Writing driver bytes: "+v.length);await H.write(v);const V=await new Promise((v=>H.on("data",v)));(0,O.debug)("pw:android")("Written driver bytes: "+V);H.close()}async push(v,S,Q=420){const O=await this._backend.open(`sync:`);const sendHeader=async(v,S)=>{const Q=Buffer.alloc(v.length+4);Q.write(v,0);Q.writeUInt32LE(S,v.length);await O.write(Q)};const send=async(v,S)=>{await sendHeader(v,S.length);await O.write(S)};await send("SEND",Buffer.from(`${S},${Q}`));const H=65535;for(let S=0;S<v.length;S+=H)await send("DATA",v.slice(S,S+H));await sendHeader("DONE",Date.now()/1e3|0);const V=await new Promise((v=>O.once("data",v)));const J=V.slice(0,4).toString();if(J!=="OKAY")throw new Error("Could not push: "+J);O.close()}async _refreshWebViews(){const v=(await this._backend.runCommand(`shell:cat /proc/net/unix | grep webview_devtools_remote`)).toString().split("\n");if(this._isClosed)return;const S=new Set;for(const Q of v){const v=Q.match(/[^@]+@(.*?webview_devtools_remote_?.*)/);if(!v)continue;const O=v[1];S.add(O);if(this._webViews.has(O))continue;const H=Q.match(/[^@]+@.*?webview_devtools_remote_?(\d*)/);let V=-1;if(H&&H[1])V=+H[1];const J=await this._extractPkg(V);if(this._isClosed)return;const Y={pid:V,pkg:J,socketName:O};this._webViews.set(O,Y);this.emit(AndroidDevice.Events.WebViewAdded,Y)}for(const v of this._webViews.keys()){if(!S.has(v)){this._webViews.delete(v);this.emit(AndroidDevice.Events.WebViewRemoved,v)}}}async _extractPkg(v){let S="";if(v===-1)return S;const Q=(await this._backend.runCommand(`shell:ps -A | grep ${v}`)).toString().split("\n");for(const v of Q){const Q=v.match(/[^\s]+\s+(\d+).*$/);if(!Q)continue;S=v.substring(v.lastIndexOf(" ")+1)}return S}}S.AndroidDevice=AndroidDevice;AndroidDevice.Events={WebViewAdded:"webViewAdded",WebViewRemoved:"webViewRemoved",Close:"close"};class AndroidBrowser extends H.EventEmitter{constructor(v,S){super();this.device=void 0;this._socket=void 0;this._receiver=void 0;this._waitForNextTask=(0,X.makeWaitForNextTask)();this.onmessage=void 0;this.onclose=void 0;this.setMaxListeners(0);this.device=v;this._socket=S;this._socket.on("close",(()=>{this._waitForNextTask((()=>{if(this.onclose)this.onclose()}))}));this._receiver=new O.wsReceiver;this._receiver.on("message",(v=>{this._waitForNextTask((()=>{if(this.onmessage)this.onmessage(JSON.parse(v))}))}))}async _init(){await this._socket.write(Buffer.from(`GET /devtools/browser HTTP/1.1\r\nUpgrade: WebSocket\r\nConnection: Upgrade\r\nSec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==\r\nSec-WebSocket-Version: 13\r\n\r\n`));await new Promise((v=>this._socket.once("data",v)));this._socket.on("data",(v=>this._receiver._write(v,"binary",(()=>{}))))}async send(v){await this._socket.write(encodeWebFrame(JSON.stringify(v)))}async close(){this._socket.close()}}function encodeWebFrame(v){return O.wsSender.frame(Buffer.from(v),{opcode:1,mask:true,fin:true,readOnly:true})[0]}class ClankBrowserProcess{constructor(v){this._browser=void 0;this.onclose=void 0;this._browser=v}async kill(){}async close(){await this._browser.close()}}},389:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.AdbBackend=void 0;var O=Q(1319);var H=_interopRequireWildcard(Q(1808));var V=Q(2361);var J=Q(3557);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class AdbBackend{async devices(v={}){const S=await runCommand("host:devices",v.host,v.port);const Q=S.toString().trim().split("\n");return Q.map((S=>{const[Q,O]=S.trim().split("\t");return new AdbDevice(Q,O,v.host,v.port)}))}}S.AdbBackend=AdbBackend;class AdbDevice{constructor(v,S,Q,O){this.serial=void 0;this.status=void 0;this.host=void 0;this.port=void 0;this._closed=false;this.serial=v;this.status=S;this.host=Q;this.port=O}async init(){}async close(){this._closed=true}runCommand(v){if(this._closed)throw new Error("Device is closed");return runCommand(v,this.host,this.port,this.serial)}async open(v){if(this._closed)throw new Error("Device is closed");const S=await open(v,this.host,this.port,this.serial);S.becomeSocket();return S}}async function runCommand(v,S="127.0.0.1",Q=5037,V){(0,O.debug)("pw:adb:runCommand")(v,V);const Y=new BufferedSocketWrapper(v,H.createConnection({host:S,port:Q}));try{if(V){await Y.write(encodeMessage(`host:transport:${V}`));const v=await Y.read(4);(0,J.assert)(v.toString()==="OKAY",v.toString())}await Y.write(encodeMessage(v));const S=await Y.read(4);(0,J.assert)(S.toString()==="OKAY",S.toString());let Q;if(!v.startsWith("shell:")){const v=parseInt((await Y.read(4)).toString(),16);Q=await Y.read(v)}else{Q=await Y.readAll()}return Q}finally{Y.close()}}async function open(v,S="127.0.0.1",Q=5037,O){const V=new BufferedSocketWrapper(v,H.createConnection({host:S,port:Q}));if(O){await V.write(encodeMessage(`host:transport:${O}`));const v=await V.read(4);(0,J.assert)(v.toString()==="OKAY",v.toString())}await V.write(encodeMessage(v));const Y=await V.read(4);(0,J.assert)(Y.toString()==="OKAY",Y.toString());return V}function encodeMessage(v){let S=v.length.toString(16);S="0".repeat(4-S.length)+S;return Buffer.from(S+v)}class BufferedSocketWrapper extends V.EventEmitter{constructor(v,S){super();this.guid=(0,J.createGuid)();this._socket=void 0;this._buffer=Buffer.from([]);this._isSocket=false;this._notifyReader=void 0;this._connectPromise=void 0;this._isClosed=false;this._command=void 0;this._command=v;this._socket=S;this._connectPromise=new Promise((v=>this._socket.on("connect",v)));this._socket.on("data",(v=>{(0,O.debug)("pw:adb:data")(v.toString());if(this._isSocket){this.emit("data",v);return}this._buffer=Buffer.concat([this._buffer,v]);if(this._notifyReader)this._notifyReader()}));this._socket.on("close",(()=>{this._isClosed=true;if(this._notifyReader)this._notifyReader();this.close();this.emit("close")}));this._socket.on("error",(v=>this.emit("error",v)))}async write(v){(0,O.debug)("pw:adb:send")(v.toString().substring(0,100)+"...");await this._connectPromise;await new Promise((S=>this._socket.write(v,S)))}close(){if(this._isClosed)return;(0,O.debug)("pw:adb")("Close "+this._command);this._socket.destroy()}async read(v){await this._connectPromise;(0,J.assert)(!this._isSocket,"Can not read by length in socket mode");while(this._buffer.length<v)await new Promise((v=>this._notifyReader=v));const S=this._buffer.slice(0,v);this._buffer=this._buffer.slice(v);(0,O.debug)("pw:adb:recv")(S.toString().substring(0,100)+"...");return S}async readAll(){while(!this._isClosed)await new Promise((v=>this._notifyReader=v));return this._buffer}becomeSocket(){(0,J.assert)(!this._buffer.length);this._isSocket=true}}},1796:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Artifact=void 0;var O=_interopRequireDefault(Q(7147));var H=Q(3557);var V=Q(6729);var J=Q(6686);var Y=Q(1145);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class Artifact extends J.SdkObject{constructor(v,S,Q,O){super(v,"artifact");this._localPath=void 0;this._unaccessibleErrorMessage=void 0;this._cancelCallback=void 0;this._finishedPromise=new V.ManualPromise;this._saveCallbacks=[];this._finished=false;this._deleted=false;this._failureError=void 0;this._localPath=S;this._unaccessibleErrorMessage=Q;this._cancelCallback=O}finishedPromise(){return this._finishedPromise}localPath(){return this._localPath}async localPathAfterFinished(){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);await this._finishedPromise;if(this._failureError)throw this._failureError;return this._localPath}saveAs(v){if(this._unaccessibleErrorMessage)throw new Error(this._unaccessibleErrorMessage);if(this._deleted)throw new Error(`File already deleted. Save before deleting.`);if(this._failureError)throw this._failureError;if(this._finished){v(this._localPath).catch((()=>{}));return}this._saveCallbacks.push(v)}async failureError(){var v;if(this._unaccessibleErrorMessage)return this._unaccessibleErrorMessage;await this._finishedPromise;return((v=this._failureError)===null||v===void 0?void 0:v.message)||null}async cancel(){(0,H.assert)(this._cancelCallback!==undefined);return this._cancelCallback()}async delete(){if(this._unaccessibleErrorMessage)return;const v=await this.localPathAfterFinished();if(this._deleted)return;this._deleted=true;if(v)await O.default.promises.unlink(v).catch((v=>{}))}async deleteOnContextClose(){if(this._deleted)return;this._deleted=true;if(!this._unaccessibleErrorMessage)await O.default.promises.unlink(this._localPath).catch((v=>{}));await this.reportFinished(new Y.TargetClosedError)}async reportFinished(v){if(this._finished)return;this._finished=true;this._failureError=v;if(v){for(const S of this._saveCallbacks)await S("",v)}else{for(const v of this._saveCallbacks)await v(this._localPath)}this._saveCallbacks=[];this._finishedPromise.resolve()}}S.Artifact=Artifact},6705:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Browser=void 0;var O=Q(5985);var H=Q(3555);var V=Q(3404);var J=Q(6686);var Y=Q(1796);class Browser extends J.SdkObject{constructor(v,S){super(v,"browser");this.options=void 0;this._downloads=new Map;this._defaultContext=null;this._startedClosing=false;this._idToVideo=new Map;this._contextForReuse=void 0;this._closeReason=void 0;this._isCollocatedWithServer=true;this.attribution.browser=this;this.options=S;this.instrumentation.onBrowserOpen(this)}async newContext(v,S){(0,O.validateBrowserContextOptions)(S,this.options);const Q=await this.doCreateNewContext(S);if(S.storageState)await Q.setStorageState(v,S.storageState);return Q}async newContextForReuse(v,S){const Q=O.BrowserContext.reusableContextHash(v);if(!this._contextForReuse||Q!==this._contextForReuse.hash||!this._contextForReuse.context.canResetForReuse()){if(this._contextForReuse)await this._contextForReuse.context.close({reason:"Context reused"});this._contextForReuse={context:await this.newContext(S,v),hash:Q};return{context:this._contextForReuse.context,needsReset:false}}await this._contextForReuse.context.stopPendingOperations("Context recreated");return{context:this._contextForReuse.context,needsReset:true}}async stopPendingOperations(v){var S,Q;await((S=this._contextForReuse)===null||S===void 0?void 0:(Q=S.context)===null||Q===void 0?void 0:Q.stopPendingOperations(v))}_downloadCreated(v,S,Q,O){const H=new V.Download(v,this.options.downloadsPath||"",S,Q,O);this._downloads.set(S,H)}_downloadFilenameSuggested(v,S){const Q=this._downloads.get(v);if(!Q)return;Q._filenameSuggested(S)}_downloadFinished(v,S){const Q=this._downloads.get(v);if(!Q)return;Q.artifact.reportFinished(S?new Error(S):undefined);this._downloads.delete(v)}_videoStarted(v,S,Q,V){const J=new Y.Artifact(v,Q);this._idToVideo.set(S,{context:v,artifact:J});V.then((v=>{if(v instanceof H.Page){v._video=J;v.emitOnContext(O.BrowserContext.Events.VideoStarted,J);v.emit(H.Page.Events.Video,J)}}))}_takeVideo(v){const S=this._idToVideo.get(v);this._idToVideo.delete(v);return S===null||S===void 0?void 0:S.artifact}_didClose(){for(const v of this.contexts())v._browserClosed();if(this._defaultContext)this._defaultContext._browserClosed();this.emit(Browser.Events.Disconnected);this.instrumentation.onBrowserClose(this)}async close(v){if(!this._startedClosing){if(v.reason)this._closeReason=v.reason;this._startedClosing=true;await this.options.browserProcess.close()}if(this.isConnected())await new Promise((v=>this.once(Browser.Events.Disconnected,v)))}async killForTests(){await this.options.browserProcess.kill()}}S.Browser=Browser;Browser.Events={Disconnected:"disconnected"}},5985:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.BrowserContext=void 0;S.assertBrowserContextIsNotOwned=assertBrowserContextIsNotOwned;S.normalizeProxySettings=normalizeProxySettings;S.validateBrowserContextOptions=validateBrowserContextOptions;S.verifyGeolocation=verifyGeolocation;var O=_interopRequireWildcard(Q(2037));var H=Q(9053);var V=Q(3557);var J=Q(6034);var Y=Q(9175);var X=_interopRequireWildcard(Q(3824));var ee=Q(3555);var ae=_interopRequireDefault(Q(1017));var he=_interopRequireDefault(Q(7147));var Ee=Q(6686);var Be=Q(7370);var ke=Q(865);var Re=Q(746);var Oe=Q(8584);var Pe=_interopRequireWildcard(Q(4989));var Le=Q(2857);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class BrowserContext extends Ee.SdkObject{constructor(v,S,Q){super(v,"browser-context");this._timeoutSettings=new H.TimeoutSettings;this._pageBindings=new Map;this._activeProgressControllers=new Set;this._options=void 0;this._requestInterceptor=void 0;this._isPersistentContext=void 0;this._closedStatus="open";this._closePromise=void 0;this._closePromiseFulfill=void 0;this._permissions=new Map;this._downloads=new Set;this._browser=void 0;this._browserContextId=void 0;this._selectors=void 0;this._origins=new Set;this._harRecorders=new Map;this.tracing=void 0;this.fetchRequest=void 0;this._customCloseHandler=void 0;this._tempDirs=[];this._settingStorageState=false;this.initScripts=[];this._routesInFlight=new Set;this._debugger=void 0;this._closeReason=void 0;this.attribution.context=this;this._browser=v;this._options=S;this._browserContextId=Q;this._isPersistentContext=!Q;this._closePromise=new Promise((v=>this._closePromiseFulfill=v));this.fetchRequest=new Le.BrowserContextAPIRequestContext(this);if(this._options.recordHar)this._harRecorders.set("",new Re.HarRecorder(this,null,this._options.recordHar));this.tracing=new ke.Tracing(this,v.options.tracesDir)}isPersistentContext(){return this._isPersistentContext}setSelectors(v){this._selectors=v}selectors(){return this._selectors||this.attribution.playwright.selectors}async _initialize(){if(this.attribution.playwright.options.isInternalPlaywright)return;this._debugger=new Be.Debugger(this);if((0,V.debugMode)()==="inspector")await Oe.Recorder.show(this,{pauseOnNextStatement:true});if(this._debugger.isPaused())Oe.Recorder.showInspector(this);this._debugger.on(Be.Debugger.Events.PausedStateChanged,(()=>{Oe.Recorder.showInspector(this)}));if((0,V.debugMode)()==="console")await this.extendInjectedScript(Pe.source);if(this._options.serviceWorkers==="block")await this.addInitScript(`\nnavigator.serviceWorker.register = async () => { console.warn('Service Worker registration blocked by Playwright'); };\n`);if(this._options.permissions)await this.grantPermissions(this._options.permissions)}debugger(){return this._debugger}async _ensureVideosPath(){if(this._options.recordVideo)await(0,J.mkdirIfNeeded)(ae.default.join(this._options.recordVideo.dir,"dummy"))}canResetForReuse(){if(this._closedStatus!=="open")return false;return true}async stopPendingOperations(v){for(const S of this._activeProgressControllers)S.abort(new Error(v));await new Promise((v=>setTimeout(v,0)))}static reusableContextHash(v){const S={...v};for(const v of Object.keys(S)){const Q=v;if(S[Q]===qe[Q])delete S[Q]}for(const v of je)delete S[v];return JSON.stringify(S)}async resetForReuse(v,S){var Q,O,H,V,J;this.setDefaultNavigationTimeout(undefined);this.setDefaultTimeout(undefined);this.tracing.resetForReuse();if(S){for(const v of je)this._options[v]=S[v]}await this._cancelAllRoutesInFlight();let Y=this.pages()[0];const[,...X]=this.pages();for(const S of X)await S.close(v);if(Y&&Y.hasCrashed()){await Y.close(v);Y=undefined}(Q=Y)===null||Q===void 0?void 0:Q._frameManager.setCloseAllOpeningDialogs(true);await((O=Y)===null||O===void 0?void 0:O._frameManager.closeOpenDialogs());await((H=Y)===null||H===void 0?void 0:H.mainFrame().goto(v,"about:blank",{timeout:0}));(V=Y)===null||V===void 0?void 0:V._frameManager.setCloseAllOpeningDialogs(false);await this._resetStorage();await this._removeExposedBindings();await this._removeInitScripts();if(this._options.permissions)await this.grantPermissions(this._options.permissions);else await this.clearPermissions();await this.setExtraHTTPHeaders(this._options.extraHTTPHeaders||[]);await this.setGeolocation(this._options.geolocation);await this.setOffline(!!this._options.offline);await this.setUserAgent(this._options.userAgent);await this.clearCache();await this._resetCookies();await((J=Y)===null||J===void 0?void 0:J.resetForReuse(v))}_browserClosed(){for(const v of this.pages())v._didClose();this._didCloseInternal()}_didCloseInternal(){if(this._closedStatus==="closed"){return}this.tracing.abort();if(this._isPersistentContext)this.onClosePersistent();this._closePromiseFulfill(new Error("Context closed"));this.emit(BrowserContext.Events.Close)}async cookies(v=[]){if(v&&!Array.isArray(v))v=[v];return await this.doGetCookies(v)}setHTTPCredentials(v){return this.doSetHTTPCredentials(v)}async exposeBinding(v,S,Q){if(this._pageBindings.has(v))throw new Error(`Function "${v}" has been already registered`);for(const S of this.pages()){if(S.getBinding(v))throw new Error(`Function "${v}" has been already registered in one of the pages`)}const O=new ee.PageBinding(v,Q,S);this._pageBindings.set(v,O);await this.doExposeBinding(O)}async _removeExposedBindings(){for(const v of this._pageBindings.keys()){if(!v.startsWith("__pw"))this._pageBindings.delete(v)}await this.doRemoveExposedBindings()}async grantPermissions(v,S){let Q="*";if(S){const v=new URL(S);Q=v.origin}const O=new Set(this._permissions.get(Q)||[]);v.forEach((v=>O.add(v)));const H=[...O.values()];this._permissions.set(Q,H);await this.doGrantPermissions(Q,H)}async clearPermissions(){this._permissions.clear();await this.doClearPermissions()}setDefaultNavigationTimeout(v){this._timeoutSettings.setDefaultNavigationTimeout(v)}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v)}async _loadDefaultContextAsIs(v){if(!this.pages().length){const S=Y.helper.waitForEvent(v,this,BrowserContext.Events.Page);v.cleanupWhenAborted((()=>S.dispose));const Q=await S.promise;if(Q._pageIsError)throw Q._pageIsError}const S=this.pages();if(S[0]._pageIsError)throw S[0]._pageIsError;await S[0].mainFrame()._waitForLoadState(v,"load");return S}async _loadDefaultContext(v){const S=await this._loadDefaultContextAsIs(v);const Q=this._browser.options.name;if(this._options.isMobile&&Q==="chromium"||this._options.locale&&Q==="webkit"){const Q=S[0];await this.newPage(v.metadata);await Q.close(v.metadata)}}_authenticateProxyViaHeader(){const v=this._options.proxy||this._browser.options.proxy||{username:undefined,password:undefined};const{username:S,password:Q}=v;if(S){this._options.httpCredentials={username:S,password:Q};const v=Buffer.from(`${S}:${Q}`).toString("base64");this._options.extraHTTPHeaders=X.mergeHeaders([this._options.extraHTTPHeaders,X.singleHeader("Proxy-Authorization",`Basic ${v}`)])}}_authenticateProxyViaCredentials(){const v=this._options.proxy||this._browser.options.proxy;if(!v)return;const{username:S,password:Q}=v;if(S)this._options.httpCredentials={username:S,password:Q||""}}async addInitScript(v){this.initScripts.push(v);await this.doAddInitScript(v)}async _removeInitScripts(){this.initScripts.splice(0,this.initScripts.length);await this.doRemoveInitScripts()}async setRequestInterceptor(v){this._requestInterceptor=v;await this.doUpdateRequestInterception()}isClosingOrClosed(){return this._closedStatus!=="open"}async _deleteAllDownloads(){await Promise.all(Array.from(this._downloads).map((v=>v.artifact.deleteOnContextClose())))}async _deleteAllTempDirs(){await Promise.all(this._tempDirs.map((async v=>await he.default.promises.unlink(v).catch((v=>{})))))}setCustomCloseHandler(v){this._customCloseHandler=v}async close(v){if(this._closedStatus==="open"){if(v.reason)this._closeReason=v.reason;this.emit(BrowserContext.Events.BeforeClose);this._closedStatus="closing";for(const v of this._harRecorders.values())await v.flush();await this.tracing.flush();const S=[];for(const{context:v,artifact:Q}of this._browser._idToVideo.values()){if(v===this)S.push(Q.finishedPromise())}if(this._customCloseHandler){await this._customCloseHandler()}else{await this.doClose(v.reason)}S.push(this._deleteAllDownloads());S.push(this._deleteAllTempDirs());await Promise.all(S);if(!this._customCloseHandler)this._didCloseInternal()}await this._closePromise}async newPage(v){const S=await this.newPageDelegate();if(v.isServerSide)S.potentiallyUninitializedPage().markAsServerSideOnly();const Q=await S.pageOrError();if(Q instanceof ee.Page){if(Q.isClosed())throw new Error("Page has been closed.");return Q}throw Q}addVisitedOrigin(v){this._origins.add(v)}async storageState(){const v={cookies:await this.cookies(),origins:[]};if(this._origins.size){const S=(0,Ee.serverSideCallMetadata)();const Q=await this.newPage(S);await Q._setServerRequestInterceptor((v=>{v.fulfill({body:"<html></html>",requestUrl:v.request().url()}).catch((()=>{}));return true}));for(const O of this._origins){const H={origin:O,localStorage:[]};const V=Q.mainFrame();await V.goto(S,O);const J=await V.evaluateExpression(`({\n          localStorage: Object.keys(localStorage).map(name => ({ name, value: localStorage.getItem(name) })),\n        })`,{world:"utility"});H.localStorage=J.localStorage;if(J.localStorage.length)v.origins.push(H)}await Q.close(S)}return v}async _resetStorage(){var v,S;const Q=this._origins;const O=new Map(((v=this._options.storageState)===null||v===void 0?void 0:(S=v.origins)===null||S===void 0?void 0:S.map((v=>[v.origin,v])))||[]);if(!Q.size&&!O.size)return;let H=this.pages()[0];const V=(0,Ee.serverSideCallMetadata)();H=H||await this.newPage({...V,isServerSide:false});await H._setServerRequestInterceptor((v=>{v.fulfill({body:"<html></html>",requestUrl:v.request().url()}).catch((()=>{}));return true}));for(const v of new Set([...Q,...O.keys()])){const S=H.mainFrame();await S.goto(V,v);await S.resetStorageForCurrentOriginBestEffort(O.get(v))}await H._setServerRequestInterceptor(undefined);this._origins=new Set([...O.keys()])}async _resetCookies(){var v,S;await this.clearCookies();if((v=this._options.storageState)!==null&&v!==void 0&&v.cookies)await this.addCookies((S=this._options.storageState)===null||S===void 0?void 0:S.cookies)}isSettingStorageState(){return this._settingStorageState}async setStorageState(v,S){this._settingStorageState=true;try{if(S.cookies)await this.addCookies(S.cookies);if(S.origins&&S.origins.length){const Q=(0,Ee.serverSideCallMetadata)();const O=await this.newPage(Q);await O._setServerRequestInterceptor((v=>{v.fulfill({body:"<html></html>",requestUrl:v.request().url()}).catch((()=>{}));return true}));for(const Q of S.origins){const S=O.mainFrame();await S.goto(v,Q.origin);await S.evaluateExpression(`\n            originState => {\n              for (const { name, value } of (originState.localStorage || []))\n                localStorage.setItem(name, value);\n            }`,{isFunction:true,world:"utility"},Q)}await O.close(Q)}}finally{this._settingStorageState=false}}async extendInjectedScript(v,S){const installInFrame=Q=>Q.extendInjectedScript(v,S).catch((()=>{}));const installInPage=v=>{v.on(ee.Page.Events.InternalFrameNavigatedToNewDocument,installInFrame);return Promise.all(v.frames().map(installInFrame))};this.on(BrowserContext.Events.Page,installInPage);return Promise.all(this.pages().map(installInPage))}async _harStart(v,S){const Q=(0,V.createGuid)();this._harRecorders.set(Q,new Re.HarRecorder(this,v,S));return Q}async _harExport(v){const S=this._harRecorders.get(v||"");return S.export()}addRouteInFlight(v){this._routesInFlight.add(v)}removeRouteInFlight(v){this._routesInFlight.delete(v)}async _cancelAllRoutesInFlight(){await Promise.all([...this._routesInFlight].map((v=>v.abort()))).catch((()=>{}));this._routesInFlight.clear()}}S.BrowserContext=BrowserContext;BrowserContext.Events={Console:"console",Close:"close",Dialog:"dialog",Page:"page",PageError:"pageerror",Request:"request",Response:"response",RequestFailed:"requestfailed",RequestFinished:"requestfinished",RequestAborted:"requestaborted",RequestFulfilled:"requestfulfilled",RequestContinued:"requestcontinued",BeforeClose:"beforeclose",VideoStarted:"videostarted"};function assertBrowserContextIsNotOwned(v){for(const S of v.pages()){if(S._ownedContext)throw new Error("Please use browser.newContext() for multi-page scripts that share the context.")}}function validateBrowserContextOptions(v,S){if(v.noDefaultViewport&&v.deviceScaleFactor!==undefined)throw new Error(`"deviceScaleFactor" option is not supported with null "viewport"`);if(v.noDefaultViewport&&!!v.isMobile)throw new Error(`"isMobile" option is not supported with null "viewport"`);if(v.acceptDownloads===undefined)v.acceptDownloads="accept";if(!v.viewport&&!v.noDefaultViewport)v.viewport={width:1280,height:720};if(v.recordVideo){if(!v.recordVideo.size){if(v.noDefaultViewport){v.recordVideo.size={width:800,height:600}}else{const S=v.viewport;const Q=Math.min(1,800/Math.max(S.width,S.height));v.recordVideo.size={width:Math.floor(S.width*Q),height:Math.floor(S.height*Q)}}}v.recordVideo.size.width&=~1;v.recordVideo.size.height&=~1}if(v.proxy){if(!S.proxy&&S.isChromium&&O.platform()==="win32")throw new Error(`Browser needs to be launched with the global proxy. If all contexts override the proxy, global proxy will be never used and can be any string, for example "launch({ proxy: { server: 'http://per-context' } })"`);v.proxy=normalizeProxySettings(v.proxy)}verifyGeolocation(v.geolocation)}function verifyGeolocation(v){if(!v)return;v.accuracy=v.accuracy||0;const{longitude:S,latitude:Q,accuracy:O}=v;if(S<-180||S>180)throw new Error(`geolocation.longitude: precondition -180 <= LONGITUDE <= 180 failed.`);if(Q<-90||Q>90)throw new Error(`geolocation.latitude: precondition -90 <= LATITUDE <= 90 failed.`);if(O<0)throw new Error(`geolocation.accuracy: precondition 0 <= ACCURACY failed.`)}function normalizeProxySettings(v){let{server:S,bypass:Q}=v;let O;try{O=new URL(S);if(!O.host||!O.protocol)O=new URL("http://"+S)}catch(v){O=new URL("http://"+S)}if(O.protocol==="socks4:"&&(v.username||v.password))throw new Error(`Socks4 proxy protocol does not support authentication`);if(O.protocol==="socks5:"&&(v.username||v.password))throw new Error(`Browser does not support socks5 proxy authentication`);S=O.protocol+"//"+O.host;if(Q)Q=Q.split(",").map((v=>v.trim())).join(",");return{...v,server:S,bypass:Q}}const je=["colorScheme","forcedColors","reducedMotion","screen","userAgent","viewport"];const qe={noDefaultViewport:false,ignoreHTTPSErrors:false,javaScriptEnabled:true,bypassCSP:false,offline:false,isMobile:false,hasTouch:false,acceptDownloads:"accept",strictSelectors:false,serviceWorkers:"allow",locale:"en-US"}},1192:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.kNoXServerRunningError=S.BrowserType=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireWildcard(Q(2037));var V=_interopRequireDefault(Q(1017));var J=Q(5985);var Y=Q(9048);var X=Q(1232);var ee=Q(1441);var ae=Q(5241);var he=Q(2836);var Ee=Q(9053);var Be=Q(3557);var ke=Q(6034);var Re=Q(9175);var Oe=Q(2003);var Pe=Q(6686);var Le=Q(6729);var je=Q(7314);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const qe=S.kNoXServerRunningError="Looks like you launched a headed browser without having a XServer running.\n"+"Set either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright.\n\n<3 Playwright Team";class BrowserType extends Pe.SdkObject{constructor(v,S){super(v,"browser-type");this._name=void 0;this.attribution.browserType=this;this._name=S}executablePath(){return Y.registry.findExecutable(this._name).executablePath(this.attribution.playwright.options.sdkLanguage)||""}name(){return this._name}async launch(v,S,Q){S=this._validateLaunchOptions(S);const O=new he.ProgressController(v,this);O.setLogName("browser");const H=await O.run((v=>{const O=S.__testHookSeleniumRemoteURL||process.env.SELENIUM_REMOTE_URL;if(O)return this._launchWithSeleniumHub(v,O,S);return this._innerLaunchWithRetries(v,S,undefined,Re.helper.debugProtocolLogger(Q)).catch((v=>{throw this._rewriteStartupLog(v)}))}),Ee.TimeoutSettings.launchTimeout(S));return H}async launchPersistentContext(v,S,Q){Q=this._validateLaunchOptions(Q);const O=new he.ProgressController(v,this);const H=Q;O.setLogName("browser");const V=await O.run((v=>this._innerLaunchWithRetries(v,Q,H,Re.helper.debugProtocolLogger(),S).catch((v=>{throw this._rewriteStartupLog(v)}))),Ee.TimeoutSettings.launchTimeout(Q));return V._defaultContext}async _innerLaunchWithRetries(v,S,Q,O,H){try{return await this._innerLaunch(v,S,Q,O,H)}catch(V){const J=typeof V==="object"&&typeof V.message==="string"?V.message:"";if(J.includes("Inconsistency detected by ld.so")){v.log(`<restarting browser due to hitting race condition in glibc>`);return this._innerLaunch(v,S,Q,O,H)}throw V}}async _innerLaunch(v,S,Q,O,H){S.proxy=S.proxy?(0,J.normalizeProxySettings)(S.proxy):undefined;const V=new Oe.RecentLogsCollector;const{browserProcess:Y,userDataDir:X,artifactsDir:ee,transport:ae}=await this._launchProcess(v,S,!!Q,V,H);if(S.__testHookBeforeCreateBrowser)await S.__testHookBeforeCreateBrowser();const he={name:this._name,isChromium:this._name==="chromium",channel:S.channel,slowMo:S.slowMo,persistent:Q,headful:!S.headless,artifactsDir:ee,downloadsPath:S.downloadsPath||ee,tracesDir:S.tracesDir||ee,browserProcess:Y,customExecutablePath:S.executablePath,proxy:S.proxy,protocolLogger:O,browserLogsCollector:V,wsEndpoint:S.useWebSocket?ae.wsEndpoint:undefined,originalLaunchOptions:S};if(Q)(0,J.validateBrowserContextOptions)(Q,he);copyTestHooks(S,he);const Ee=await this._connectToTransport(ae,he);Ee._userDataDirForTest=X;if(Q&&!S.ignoreAllDefaultArgs)await Ee._defaultContext._loadDefaultContext(v);return Ee}async _launchProcess(v,S,Q,J,he){var Be;const{ignoreDefaultArgs:Re,ignoreAllDefaultArgs:Oe,args:Pe=[],executablePath:je=null,handleSIGINT:qe=true,handleSIGTERM:Ve=true,handleSIGHUP:ze=true}=S;const $e=S.env?(0,ee.envArrayToObject)(S.env):process.env;await this._createArtifactDirs(S);const Ye=[];const et=await O.default.promises.mkdtemp(V.default.join(H.tmpdir(),"playwright-artifacts-"));Ye.push(et);if(he){if(!await(0,ke.existsAsync)(he))await O.default.promises.mkdir(he,{recursive:true,mode:448})}else{he=await O.default.promises.mkdtemp(V.default.join(H.tmpdir(),`playwright_${this._name}dev_profile-`));Ye.push(he)}const tt=[];if(Oe)tt.push(...Pe);else if(Re)tt.push(...this._defaultArgs(S,Q,he).filter((v=>Re.indexOf(v)===-1)));else tt.push(...this._defaultArgs(S,Q,he));let nt;if(je){if(!await(0,ke.existsAsync)(je))throw new Error(`Failed to launch ${this._name} because executable doesn't exist at ${je}`);nt=je}else{const v=Y.registry.findExecutable(S.channel||this._name);if(!v||v.browserName!==this._name)throw new Error(`Unsupported ${this._name} channel "${S.channel}"`);nt=v.executablePathOrDie(this.attribution.playwright.options.sdkLanguage);await v.validateHostRequirements(this.attribution.playwright.options.sdkLanguage)}const it=S.useWebSocket||(Be=S.args)!==null&&Be!==void 0&&Be.some((v=>v.startsWith("--remote-debugging-port")))?new Le.ManualPromise:undefined;const st=this._name==="firefox"?new Le.ManualPromise:undefined;let at=undefined;let lt=undefined;const{launchedProcess:ct,gracefullyClose:ut,kill:dt}=await(0,ee.launchProcess)({command:nt,args:tt,env:this._amendEnvironment($e,he,nt,tt),handleSIGINT:qe,handleSIGTERM:Ve,handleSIGHUP:ze,log:S=>{if(it){const v=S.match(/DevTools listening on (.*)/);if(v)it.resolve(v[1])}if(st&&S.includes("Juggler listening to the pipe"))st.resolve();v.log(S);J.log(S)},stdio:"pipe",tempDirectories:Ye,attemptToGracefullyClose:async()=>{if(S.__testHookGracefullyClose)await S.__testHookGracefullyClose();this._attemptToGracefullyCloseBrowser(at)},onExit:(v,S)=>{st===null||st===void 0?void 0:st.resolve();if(lt&&lt.onclose)lt.onclose(v,S)}});async function closeOrKill(v){let S;try{await Promise.race([ut(),new Promise(((Q,O)=>S=setTimeout(O,v)))])}catch(v){await dt().catch((v=>{}))}finally{clearTimeout(S)}}lt={onclose:undefined,process:ct,close:()=>closeOrKill(S.__testHookBrowserCloseTimeout||Ee.DEFAULT_TIMEOUT),kill:dt};v.cleanupWhenAborted((()=>closeOrKill(v.timeUntilDeadline())));const ht=await it;await st;if(S.useWebSocket){at=await X.WebSocketTransport.connect(v,ht)}else{const v=ct.stdio;at=new ae.PipeTransport(v[3],v[4])}return{browserProcess:lt,artifactsDir:et,userDataDir:he,transport:at}}async _createArtifactDirs(v){if(v.downloadsPath)await O.default.promises.mkdir(v.downloadsPath,{recursive:true});if(v.tracesDir)await O.default.promises.mkdir(v.tracesDir,{recursive:true})}async connectOverCDP(v,S,Q,O){throw new Error("CDP connections are only supported by Chromium")}async _launchWithSeleniumHub(v,S,Q){throw new Error("Connecting to SELENIUM_REMOTE_URL is only supported by Chromium")}_validateLaunchOptions(v){const{devtools:S=false}=v;let{headless:Q=!S,downloadsPath:O,proxy:H}=v;if((0,Be.debugMode)())Q=false;if(O&&!V.default.isAbsolute(O))O=V.default.join(process.cwd(),O);if(this.attribution.playwright.options.socksProxyPort)H={server:`socks5://127.0.0.1:${this.attribution.playwright.options.socksProxyPort}`};return{...v,devtools:S,headless:Q,downloadsPath:O,proxy:H}}_createUserDataDirArgMisuseError(v){switch(this.attribution.playwright.options.sdkLanguage){case"java":return new Error(`Pass userDataDir parameter to 'BrowserType.launchPersistentContext(userDataDir, options)' instead of specifying '${v}' argument`);case"python":return new Error(`Pass user_data_dir parameter to 'browser_type.launch_persistent_context(user_data_dir, **kwargs)' instead of specifying '${v}' argument`);case"csharp":return new Error(`Pass userDataDir parameter to 'BrowserType.LaunchPersistentContextAsync(userDataDir, options)' instead of specifying '${v}' argument`);default:return new Error(`Pass userDataDir parameter to 'browserType.launchPersistentContext(userDataDir, options)' instead of specifying '${v}' argument`)}}_rewriteStartupLog(v){if(!(0,je.isProtocolError)(v))return v;return this._doRewriteStartupLog(v)}}S.BrowserType=BrowserType;function copyTestHooks(v,S){for(const[Q,O]of Object.entries(v)){if(Q.startsWith("__testHook"))S[Q]=O}}},2302:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Chromium=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(2037));var V=_interopRequireDefault(Q(1017));var J=Q(2731);var Y=Q(1441);var X=Q(5460);var ee=Q(1192);var ae=Q(1232);var he=Q(7898);var Ee=Q(6705);var Be=Q(9965);var ke=Q(9521);var Re=Q(5913);var Oe=Q(3557);var Pe=Q(6034);var Le=Q(2003);var je=Q(2836);var qe=Q(9053);var Ve=Q(9175);var ze=Q(9048);var $e=Q(6729);var Ye=Q(5985);var et=Q(4805);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const tt=V.default.join(H.default.tmpdir(),"playwright-artifacts-");class Chromium extends ee.BrowserType{constructor(v){super(v,"chromium");this._devtools=void 0;if((0,Oe.debugMode)())this._devtools=this._createDevTools()}async connectOverCDP(v,S,Q,O){const H=new je.ProgressController(v,this);H.setLogName("browser");return H.run((async v=>await this._connectOverCDPInternal(v,S,Q)),qe.TimeoutSettings.timeout({timeout:O}))}async _connectOverCDPInternal(v,S,Q,H){let V;if(Q.headers)V=(0,Oe.headersArrayToObject)(Q.headers,false);if(!V)V={"User-Agent":(0,ke.getUserAgent)()};else if(V&&!Object.keys(V).some((v=>v.toLowerCase()==="user-agent")))V["User-Agent"]=(0,ke.getUserAgent)();const Y=await O.default.promises.mkdtemp(tt);const X=await urlToWSEndpoint(v,S);v.throwIfAborted();const ee=await ae.WebSocketTransport.connect(v,X,V);const he=new $e.ManualPromise;const doCleanup=async()=>{await(0,Pe.removeFolders)([Y]);await(H===null||H===void 0?void 0:H());he.resolve()};const doClose=async()=>{await ee.closeAndWait();await he};const Be={close:doClose,kill:doClose};const Re={noDefaultViewport:true};const je={slowMo:Q.slowMo,name:"chromium",isChromium:true,persistent:Re,browserProcess:Be,protocolLogger:Ve.helper.debugProtocolLogger(),browserLogsCollector:new Le.RecentLogsCollector,artifactsDir:Y,downloadsPath:Q.downloadsPath||Y,tracesDir:Q.tracesDir||Y,proxy:{server:"per-context"},originalLaunchOptions:{}};(0,Ye.validateBrowserContextOptions)(Re,je);v.throwIfAborted();const qe=await J.CRBrowser.connect(this.attribution.playwright,ee,je);qe._isCollocatedWithServer=false;qe.on(Ee.Browser.Events.Disconnected,doCleanup);return qe}_createDevTools(){const v=ze.registry.findExecutable("chromium").directory;return v?new he.CRDevTools(V.default.join(v,"devtools-preferences.json")):undefined}async _connectToTransport(v,S){let Q=this._devtools;if(S.__testHookForDevTools){Q=this._createDevTools();await S.__testHookForDevTools(Q)}return J.CRBrowser.connect(this.attribution.playwright,v,S,Q)}_doRewriteStartupLog(v){if(!v.logs)return v;if(v.logs.includes("Missing X server"))v.logs="\n"+(0,Re.wrapInASCIIBox)(ee.kNoXServerRunningError,1);if(!v.logs.includes("crbug.com/357670")&&!v.logs.includes("No usable sandbox!")&&!v.logs.includes("crbug.com/638180"))return v;v.logs=[`Chromium sandboxing failed!`,`================================`,`To workaround sandboxing issues, do either of the following:`,`  - (preferred): Configure environment to support sandboxing: https://playwright.dev/docs/troubleshooting`,`  - (alternative): Launch Chromium without sandbox using 'chromiumSandbox: false' option`,`================================`,``].join("\n");return v}_amendEnvironment(v,S,Q,O){return v}_attemptToGracefullyCloseBrowser(v){const S={method:"Browser.close",id:X.kBrowserCloseMessageId,params:{}};v.send(S)}async _launchWithSeleniumHub(v,S,Q){await this._createArtifactDirs(Q);if(!S.endsWith("/"))S=S+"/";const O=this._innerDefaultArgs(Q);O.push("--remote-debugging-port=0");const H=Q.channel&&Q.channel.startsWith("msedge");let V={browserName:H?"MicrosoftEdge":"chrome",[H?"ms:edgeOptions":"goog:chromeOptions"]:{args:O}};if(process.env.SELENIUM_REMOTE_CAPABILITIES){const S=parseSeleniumRemoteParams({name:"capabilities",value:process.env.SELENIUM_REMOTE_CAPABILITIES},v);if(S)V={...V,...S}}let J={};if(process.env.SELENIUM_REMOTE_HEADERS){const S=parseSeleniumRemoteParams({name:"headers",value:process.env.SELENIUM_REMOTE_HEADERS},v);if(S)J=S}v.log(`<selenium> connecting to ${S}`);const X=await(0,Be.fetchData)({url:S+"session",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",...J},data:JSON.stringify({capabilities:{alwaysMatch:V}}),timeout:v.timeUntilDeadline()},seleniumErrorHandler);const ee=JSON.parse(X).value;const ae=ee.sessionId;v.log(`<selenium> connected to sessionId=${ae}`);const disconnectFromSelenium=async()=>{v.log(`<selenium> disconnecting from sessionId=${ae}`);await(0,Be.fetchData)({url:S+"session/"+ae,method:"DELETE",headers:J}).catch((S=>v.log(`<error disconnecting from selenium>: ${S}`)));v.log(`<selenium> disconnected from sessionId=${ae}`);Y.gracefullyCloseSet.delete(disconnectFromSelenium)};Y.gracefullyCloseSet.add(disconnectFromSelenium);try{const O=ee.capabilities;let H;if(O["se:cdp"]){v.log(`<selenium> using selenium v4`);const Q=addProtocol(O["se:cdp"]);H=new URL(Q);if(H.hostname==="localhost"||H.hostname==="127.0.0.1")H.hostname=new URL(S).hostname;v.log(`<selenium> retrieved endpoint ${H.toString()} for sessionId=${ae}`)}else{v.log(`<selenium> using selenium v3`);const Q=O["goog:chromeOptions"];const V=Q&&typeof Q==="object"?Q:undefined;const Y=V&&typeof V.debuggerAddress==="string"?V.debuggerAddress:undefined;const X=typeof Q==="string"?Q:undefined;const ee=addProtocol(Y||X).replace("localhost","127.0.0.1");v.log(`<selenium> retrieved endpoint ${ee} for sessionId=${ae}`);H=new URL(ee);if(H.hostname==="localhost"||H.hostname==="127.0.0.1"){const Q=new URL(S).origin+"/grid/api/testsession?session="+ae;try{const S=await(0,Be.fetchData)({url:Q,method:"GET",timeout:v.timeUntilDeadline(),headers:J},seleniumErrorHandler);const O=JSON.parse(S).proxyId;H.hostname=new URL(O).hostname;v.log(`<selenium> resolved endpoint ip ${H.toString()} for sessionId=${ae}`)}catch(S){v.log(`<selenium> unable to resolve endpoint ip for sessionId=${ae}, running in standalone?`)}}}return await this._connectOverCDPInternal(v,H.toString(),{...Q,headers:(0,Oe.headersObjectToArray)(J)},disconnectFromSelenium)}catch(v){await disconnectFromSelenium();throw v}}_defaultArgs(v,S,Q){const O=this._innerDefaultArgs(v);O.push(`--user-data-dir=${Q}`);if(v.useWebSocket)O.push("--remote-debugging-port=0");else O.push("--remote-debugging-pipe");if(S)O.push("about:blank");else O.push("--no-startup-window");return O}_innerDefaultArgs(v){const{args:S=[],proxy:Q}=v;const O=S.find((v=>v.startsWith("--user-data-dir")));if(O)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(S.find((v=>v.startsWith("--remote-debugging-pipe"))))throw new Error("Playwright manages remote debugging connection itself.");if(S.find((v=>!v.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const V=[...et.chromiumSwitches];if(H.default.platform()==="darwin"){V.push("--enable-use-zoom-for-dsf=false");if(v.headless)V.push("--use-angle")}if(v.devtools)V.push("--auto-open-devtools-for-tabs");if(v.headless){if(process.env.PLAYWRIGHT_CHROMIUM_USE_HEADLESS_NEW)V.push("--headless=new");else V.push("--headless");V.push("--hide-scrollbars","--mute-audio","--blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4")}if(v.chromiumSandbox!==true)V.push("--no-sandbox");if(Q){const v=new URL(Q.server);const S=v.protocol==="socks5:";if(S&&!this.attribution.playwright.options.socksProxyPort){V.push(`--host-resolver-rules="MAP * ~NOTFOUND , EXCLUDE ${v.hostname}"`)}V.push(`--proxy-server=${Q.server}`);const O=[];if(this.attribution.playwright.options.socksProxyPort)O.push("<-loopback>");if(Q.bypass)O.push(...Q.bypass.split(",").map((v=>v.trim())).map((v=>v.startsWith(".")?"*"+v:v)));if(!process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK&&!O.includes("<-loopback>"))O.push("<-loopback>");if(O.length>0)V.push(`--proxy-bypass-list=${O.join(";")}`)}V.push(...S);return V}}S.Chromium=Chromium;async function urlToWSEndpoint(v,S){if(S.startsWith("ws"))return S;v.log(`<ws preparing> retrieving websocket url from ${S}`);const Q=S.endsWith("/")?`${S}json/version/`:`${S}/json/version/`;const O=await(0,Be.fetchData)({url:Q},(async(v,S)=>new Error(`Unexpected status ${S.statusCode} when connecting to ${Q}.\n`+`This does not look like a DevTools server, try connecting via ws://.`)));return JSON.parse(O).webSocketDebuggerUrl}async function seleniumErrorHandler(v,S){const Q=await streamToString(S);let O=Q;try{const v=JSON.parse(Q);O=v.value.localizedMessage||v.value.message}catch(v){}return new Error(`Error connecting to Selenium at ${v.url}: ${O}`)}function addProtocol(v){if(!["ws://","wss://","http://","https://"].some((S=>v.startsWith(S))))return"http://"+v;return v}function streamToString(v){return new Promise(((S,Q)=>{const O=[];v.on("data",(v=>O.push(Buffer.from(v))));v.on("error",Q);v.on("end",(()=>S(Buffer.concat(O).toString("utf8"))))}))}function parseSeleniumRemoteParams(v,S){try{const Q=JSON.parse(v.value);S.log(`<selenium> using additional ${v.name} "${v.value}"`);return Q}catch(Q){S.log(`<selenium> ignoring additional ${v.name} "${v.value}": ${Q}`)}}},4805:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.chromiumSwitches=void 0;const Q=S.chromiumSwitches=["--disable-field-trial-config","--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-back-forward-cache","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-component-update","--no-default-browser-check","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=ImprovedCookieControls,LazyFrameLoading,GlobalMediaControls,DestroyProfileOnBrowserClose,MediaRouter,DialMediaRouteProvider,AcceptCHFrame,AutoExpandDetailsElement,CertificateTransparencyComponentUpdater,AvoidUnnecessaryBeforeUnloadCheckSync,Translate,HttpsUpgrades,PaintHolding","--allow-pre-commit-input","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--no-service-autorun","--export-tagged-pdf","--disable-search-engine-choice-screen"]},5246:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getAccessibilityTree=getAccessibilityTree;async function getAccessibilityTree(v,S){const{nodes:Q}=await v.send("Accessibility.getFullAXTree");const O=CRAXNode.createTree(v,Q);return{tree:O,needle:S?await O._findElement(S):null}}class CRAXNode{constructor(v,S){this._payload=void 0;this._children=[];this._richlyEditable=false;this._editable=false;this._focusable=false;this._expanded=false;this._hidden=false;this._name=void 0;this._role=void 0;this._cachedHasFocusableChild=void 0;this._client=void 0;this._client=v;this._payload=S;this._name=this._payload.name?this._payload.name.value:"";this._role=this._payload.role?this._payload.role.value:"Unknown";for(const v of this._payload.properties||[]){if(v.name==="editable"){this._richlyEditable=v.value.value==="richtext";this._editable=true}if(v.name==="focusable")this._focusable=v.value.value;if(v.name==="expanded")this._expanded=v.value.value;if(v.name==="hidden")this._hidden=v.value.value}}_isPlainTextField(){if(this._richlyEditable)return false;if(this._editable)return true;return this._role==="textbox"||this._role==="ComboBox"||this._role==="searchbox"}_isTextOnlyObject(){const v=this._role;return v==="LineBreak"||v==="text"||v==="InlineTextBox"||v==="StaticText"}_hasFocusableChild(){if(this._cachedHasFocusableChild===undefined){this._cachedHasFocusableChild=false;for(const v of this._children){if(v._focusable||v._hasFocusableChild()){this._cachedHasFocusableChild=true;break}}}return this._cachedHasFocusableChild}children(){return this._children}async _findElement(v){const S=v._objectId;const{node:{backendNodeId:Q}}=await this._client.send("DOM.describeNode",{objectId:S});const O=this.find((v=>v._payload.backendDOMNodeId===Q));return O||null}find(v){if(v(this))return this;for(const S of this._children){const Q=S.find(v);if(Q)return Q}return null}isLeafNode(){if(!this._children.length)return true;if(this._isPlainTextField()||this._isTextOnlyObject())return true;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return true;default:break}if(this._hasFocusableChild())return false;if(this._focusable&&this._role!=="WebArea"&&this._role!=="RootWebArea"&&this._name)return true;if(this._role==="heading"&&this._name)return true;return false}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":return true;default:return false}}isInteresting(v){const S=this._role;if(S==="Ignored"||this._hidden)return false;if(this._focusable||this._richlyEditable)return true;if(this.isControl())return true;if(v)return false;return this.isLeafNode()&&!!this._name}normalizedRole(){switch(this._role){case"RootWebArea":return"WebArea";case"StaticText":return"text";default:return this._role}}serialize(){const v=new Map;for(const S of this._payload.properties||[])v.set(S.name.toLowerCase(),S.value.value);if(this._payload.description)v.set("description",this._payload.description.value);const S={role:this.normalizedRole(),name:this._payload.name?this._payload.name.value||"":""};const Q=["description","keyshortcuts","roledescription","valuetext"];for(const O of Q){if(!v.has(O))continue;S[O]=v.get(O)}const O=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const Q of O){if(Q==="focused"&&(this._role==="WebArea"||this._role==="RootWebArea"))continue;const O=v.get(Q);if(!O)continue;S[Q]=O}const H=["level","valuemax","valuemin"];for(const Q of H){if(!v.has(Q))continue;S[Q]=v.get(Q)}const V=["autocomplete","haspopup","invalid","orientation"];for(const Q of V){const O=v.get(Q);if(!O||O==="false")continue;S[Q]=O}const J=S;if(this._payload.value){if(typeof this._payload.value.value==="string")J.valueString=this._payload.value.value;if(typeof this._payload.value.value==="number")J.valueNumber=this._payload.value.value}if(v.has("checked"))J.checked=v.get("checked")==="true"?"checked":v.get("checked")==="false"?"unchecked":"mixed";if(v.has("pressed"))J.pressed=v.get("pressed")==="true"?"pressed":v.get("pressed")==="false"?"released":"mixed";return J}static createTree(v,S){const Q=new Map;for(const O of S)Q.set(O.nodeId,new CRAXNode(v,O));for(const v of Q.values()){for(const S of v._payload.childIds||[])v._children.push(Q.get(S))}return Q.values().next().value}}},2731:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRBrowserContext=S.CRBrowser=void 0;var O=_interopRequireDefault(Q(1017));var H=Q(6705);var V=Q(5985);var J=Q(3557);var Y=_interopRequireWildcard(Q(3824));var X=Q(3555);var ee=Q(3737);var ae=Q(5460);var he=Q(2382);var Ee=Q(911);var Be=Q(2594);var ke=Q(1796);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class CRBrowser extends H.Browser{static async connect(v,S,Q,O){Q={...Q};const H=new ae.CRConnection(S,Q.protocolLogger,Q.browserLogsCollector);const V=new CRBrowser(v,H,Q);V._devtools=O;if(V.isClank())V._isCollocatedWithServer=false;const J=H.rootSession;if(Q.__testHookOnConnectToBrowser)await Q.__testHookOnConnectToBrowser();const Y=await J.send("Browser.getVersion");V._version=Y.product.substring(Y.product.indexOf("/")+1);V._userAgent=Y.userAgent;V.options.headful=!Y.userAgent.includes("Headless");if(!Q.persistent){await J.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true});return V}V._defaultContext=new CRBrowserContext(V,undefined,Q.persistent);await Promise.all([J.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true}).then((async()=>{await J.send("Target.getTargetInfo")})),V._defaultContext._initialize()]);await V._waitForAllPagesToBeInitialized();return V}constructor(v,S,Q){super(v,Q);this._connection=void 0;this._session=void 0;this._clientRootSessionPromise=null;this._contexts=new Map;this._crPages=new Map;this._backgroundPages=new Map;this._serviceWorkers=new Map;this._devtools=void 0;this._version="";this._tracingRecording=false;this._tracingClient=void 0;this._userAgent="";this._connection=S;this._session=this._connection.rootSession;this._connection.on(ae.ConnectionEvents.Disconnected,(()=>this._didDisconnect()));this._session.on("Target.attachedToTarget",this._onAttachedToTarget.bind(this));this._session.on("Target.detachedFromTarget",this._onDetachedFromTarget.bind(this));this._session.on("Browser.downloadWillBegin",this._onDownloadWillBegin.bind(this));this._session.on("Browser.downloadProgress",this._onDownloadProgress.bind(this))}async doCreateNewContext(v){let S=undefined;if(v.proxy){if(process.env.PLAYWRIGHT_DISABLE_FORCED_CHROMIUM_PROXIED_LOOPBACK)S=v.proxy.bypass;else S="<-loopback>"+(v.proxy.bypass?`,${v.proxy.bypass}`:"")}const{browserContextId:Q}=await this._session.send("Target.createBrowserContext",{disposeOnDetach:true,proxyServer:v.proxy?v.proxy.server:undefined,proxyBypassList:S});const O=new CRBrowserContext(this,Q,v);await O._initialize();this._contexts.set(Q,O);return O}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_platform(){if(this._userAgent.includes("Windows"))return"win";if(this._userAgent.includes("Macintosh"))return"mac";return"linux"}isClank(){return this.options.name==="clank"}async _waitForAllPagesToBeInitialized(){await Promise.all([...this._crPages.values()].map((v=>v.pageOrError())))}_onAttachedToTarget({targetInfo:v,sessionId:S,waitingForDebugger:Q}){if(v.type==="browser")return;const O=this._session.createChildSession(S);(0,J.assert)(v.browserContextId,"targetInfo: "+JSON.stringify(v,null,2));let H=this._contexts.get(v.browserContextId)||null;if(!H){H=this._defaultContext}if(v.type==="other"&&v.url.startsWith("devtools://devtools")&&this._devtools){this._devtools.install(O);return}const V=v.type==="other"&&process.env.PW_CHROMIUM_ATTACH_TO_OTHER;if(!H||v.type==="other"&&!V){O.detach().catch((()=>{}));return}(0,J.assert)(!this._crPages.has(v.targetId),"Duplicate target "+v.targetId);(0,J.assert)(!this._backgroundPages.has(v.targetId),"Duplicate target "+v.targetId);(0,J.assert)(!this._serviceWorkers.has(v.targetId),"Duplicate target "+v.targetId);if(v.type==="background_page"){const S=new he.CRPage(O,v.targetId,H,null,{hasUIWindow:false,isBackgroundPage:true});this._backgroundPages.set(v.targetId,S);return}if(v.type==="page"||V){const S=v.openerId?this._crPages.get(v.openerId)||null:null;const Q=new he.CRPage(O,v.targetId,H,S,{hasUIWindow:v.type==="page",isBackgroundPage:false});this._crPages.set(v.targetId,Q);return}if(v.type==="service_worker"){const S=new Be.CRServiceWorker(H,O,v.url);this._serviceWorkers.set(v.targetId,S);H.emit(CRBrowserContext.CREvents.ServiceWorker,S);return}O.detach().catch((()=>{}))}_onDetachedFromTarget(v){const S=v.targetId;const Q=this._crPages.get(S);if(Q){this._crPages.delete(S);Q.didClose();return}const O=this._backgroundPages.get(S);if(O){this._backgroundPages.delete(S);O.didClose();return}const H=this._serviceWorkers.get(S);if(H){this._serviceWorkers.delete(S);H.didClose();return}}_didDisconnect(){for(const v of this._crPages.values())v.didClose();this._crPages.clear();for(const v of this._backgroundPages.values())v.didClose();this._backgroundPages.clear();for(const v of this._serviceWorkers.values())v.didClose();this._serviceWorkers.clear();this._didClose()}_findOwningPage(v){for(const S of this._crPages.values()){const Q=S._page._frameManager.frame(v);if(Q)return S}return null}_onDownloadWillBegin(v){const S=this._findOwningPage(v.frameId);if(!S){return}S.willBeginDownload();let Q=S._initializedPage;if(!Q&&S._opener)Q=S._opener._initializedPage;if(!Q)return;this._downloadCreated(Q,v.guid,v.url,v.suggestedFilename)}_onDownloadProgress(v){if(v.state==="completed")this._downloadFinished(v.guid,"");if(v.state==="canceled")this._downloadFinished(v.guid,this._closeReason||"canceled")}async _closePage(v){await this._session.send("Target.closeTarget",{targetId:v._targetId})}async newBrowserCDPSession(){return await this._connection.createBrowserSession()}async startTracing(v,S={}){(0,J.assert)(!this._tracingRecording,"Cannot start recording trace while already recording trace.");this._tracingClient=v?v._delegate._mainFrameSession._client:this._session;const Q=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler","disabled-by-default-v8.cpu_profiler.hires"];const{screenshots:O=false,categories:H=Q}=S;if(O)H.push("disabled-by-default-devtools.screenshot");this._tracingRecording=true;await this._tracingClient.send("Tracing.start",{transferMode:"ReturnAsStream",categories:H.join(",")})}async stopTracing(){(0,J.assert)(this._tracingClient,"Tracing was not started.");const[v]=await Promise.all([new Promise((v=>this._tracingClient.once("Tracing.tracingComplete",v))),this._tracingClient.send("Tracing.end")]);const S=O.default.join(this.options.artifactsDir,(0,J.createGuid)()+".crtrace");await(0,Ee.saveProtocolStream)(this._tracingClient,v.stream,S);this._tracingRecording=false;const Q=new ke.Artifact(this,S);Q.reportFinished();return Q}isConnected(){return!this._connection._closed}async _clientRootSession(){if(!this._clientRootSessionPromise)this._clientRootSessionPromise=this._connection.createBrowserSession();return this._clientRootSessionPromise}}S.CRBrowser=CRBrowser;class CRBrowserContext extends V.BrowserContext{constructor(v,S,Q){super(v,Q,S);this._authenticateProxyViaCredentials()}async _initialize(){(0,J.assert)(!Array.from(this._browser._crPages.values()).some((v=>v._browserContext===this)));const v=[super._initialize()];if(this._browser.options.name!=="electron"&&this._browser.options.name!=="clank"&&this._options.acceptDownloads!=="internal-browser-default"){v.push(this._browser._session.send("Browser.setDownloadBehavior",{behavior:this._options.acceptDownloads==="accept"?"allowAndName":"deny",browserContextId:this._browserContextId,downloadPath:this._browser.options.downloadsPath,eventsEnabled:true}))}await Promise.all(v)}_crPages(){return[...this._browser._crPages.values()].filter((v=>v._browserContext===this))}pages(){return this._crPages().map((v=>v._initializedPage)).filter(Boolean)}async newPageDelegate(){(0,V.assertBrowserContextIsNotOwned)(this);const v=this._browser.isClank()?new Set(this._browser._crPages.keys()):undefined;let{targetId:S}=await this._browser._session.send("Target.createTarget",{url:"about:blank",browserContextId:this._browserContextId});if(v){const Q=new Set(this._browser._crPages.keys());for(const S of v)Q.delete(S);for(const v of Q){const S=this._browser._crPages.get(v);if(S._opener)Q.delete(v)}(0,J.assert)(Q.size===1);[S]=[...Q]}return this._browser._crPages.get(S)}async doGetCookies(v){const{cookies:S}=await this._browser._session.send("Storage.getCookies",{browserContextId:this._browserContextId});return Y.filterCookies(S.map((v=>{const S={sameSite:"Lax",...v};delete S.size;delete S.priority;delete S.session;delete S.sameParty;delete S.sourceScheme;delete S.sourcePort;return S})),v)}async addCookies(v){await this._browser._session.send("Storage.setCookies",{cookies:Y.rewriteCookies(v),browserContextId:this._browserContextId})}async clearCookies(){await this._browser._session.send("Storage.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(v,S){const Q=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["midi-sysex","midiSysex"]]);const O=S.map((v=>{const S=Q.get(v);if(!S)throw new Error("Unknown permission: "+v);return S}));await this._browser._session.send("Browser.grantPermissions",{origin:v==="*"?undefined:v,browserContextId:this._browserContextId,permissions:O})}async doClearPermissions(){await this._browser._session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(v){(0,V.verifyGeolocation)(v);this._options.geolocation=v;for(const v of this.pages())await v._delegate.updateGeolocation()}async setExtraHTTPHeaders(v){this._options.extraHTTPHeaders=v;for(const v of this.pages())await v._delegate.updateExtraHTTPHeaders();for(const v of this.serviceWorkers())await v.updateExtraHTTPHeaders(false)}async setUserAgent(v){this._options.userAgent=v;for(const v of this.pages())await v._delegate.updateUserAgent()}async setOffline(v){this._options.offline=v;for(const v of this.pages())await v._delegate.updateOffline();for(const v of this.serviceWorkers())await v.updateOffline(false)}async doSetHTTPCredentials(v){this._options.httpCredentials=v;for(const v of this.pages())await v._delegate.updateHttpCredentials();for(const v of this.serviceWorkers())await v.updateHttpCredentials(false)}async doAddInitScript(v){for(const S of this.pages())await S._delegate.addInitScript(v)}async doRemoveInitScripts(){for(const v of this.pages())await v._delegate.removeInitScripts()}async doExposeBinding(v){for(const S of this.pages())await S._delegate.exposeBinding(v)}async doRemoveExposedBindings(){for(const v of this.pages())await v._delegate.removeExposedBindings()}async doUpdateRequestInterception(){for(const v of this.pages())await v._delegate.updateRequestInterception();for(const v of this.serviceWorkers())await v.updateRequestInterception()}async doClose(v){const S=[];for(const v of this._crPages()){const Q=[...v._page._frameManager._openedDialogs].filter((v=>v.type()==="beforeunload"));S.push(...Q)}await Promise.all(S.map((v=>v.dismiss())));if(!this._browserContextId){await this.stopVideoRecording();await this._browser.close({reason:v});return}await this._browser._session.send("Target.disposeBrowserContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId);for(const[v,S]of this._browser._serviceWorkers){if(S._browserContext!==this)continue;S.didClose();this._browser._serviceWorkers.delete(v)}}async stopVideoRecording(){await Promise.all(this._crPages().map((v=>v._mainFrameSession._stopVideoRecording())))}onClosePersistent(){for(const[v,S]of this._browser._backgroundPages.entries()){if(S._browserContext===this&&S._initializedPage){S.didClose();this._browser._backgroundPages.delete(v)}}}async clearCache(){for(const v of this._crPages())await v._mainFrameSession._networkManager.clearCache()}async cancelDownload(v){await this._browser._session.send("Browser.cancelDownload",{guid:v,browserContextId:this._browserContextId})}backgroundPages(){const v=[];for(const S of this._browser._backgroundPages.values()){if(S._browserContext===this&&S._initializedPage)v.push(S._initializedPage)}return v}serviceWorkers(){return Array.from(this._browser._serviceWorkers.values()).filter((v=>v._browserContext===this))}async newCDPSession(v){let S=null;if(v instanceof X.Page){S=v._delegate._targetId}else if(v instanceof ee.Frame){const Q=v._page._delegate._sessions.get(v._id);if(!Q)throw new Error(`This frame does not have a separate CDP session, it is a part of the parent frame's session`);S=Q._targetId}else{throw new Error("page: expected Page or Frame")}const Q=await this._browser._clientRootSession();return Q.attachToTarget(S)}}S.CRBrowserContext=CRBrowserContext;CRBrowserContext.CREvents={BackgroundPage:"backgroundpage",ServiceWorker:"serviceworker"}},5460:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.kBrowserCloseMessageId=S.ConnectionEvents=S.CRSession=S.CRConnection=S.CDPSession=void 0;var O=Q(3557);var H=Q(2361);var V=Q(2003);var J=Q(9175);var Y=Q(7314);const X=S.ConnectionEvents={Disconnected:Symbol("ConnectionEvents.Disconnected")};const ee=S.kBrowserCloseMessageId=-9999;class CRConnection extends H.EventEmitter{constructor(v,S,Q){super();this._lastId=0;this._transport=void 0;this._sessions=new Map;this._protocolLogger=void 0;this._browserLogsCollector=void 0;this._browserDisconnectedLogs=void 0;this.rootSession=void 0;this._closed=false;this.setMaxListeners(0);this._transport=v;this._protocolLogger=S;this._browserLogsCollector=Q;this.rootSession=new CRSession(this,null,"");this._sessions.set("",this.rootSession);this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}_rawSend(v,S,Q){const O=++this._lastId;const H={id:O,method:S,params:Q};if(v)H.sessionId=v;this._protocolLogger("send",H);this._transport.send(H);return O}async _onMessage(v){this._protocolLogger("receive",v);if(v.id===ee)return;const S=this._sessions.get(v.sessionId||"");if(S)S._onMessage(v)}_onClose(){this._closed=true;this._transport.onmessage=undefined;this._transport.onclose=undefined;this._browserDisconnectedLogs=J.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs());this.rootSession.dispose();Promise.resolve().then((()=>this.emit(X.Disconnected)))}close(){if(!this._closed)this._transport.close()}async createBrowserSession(){const{sessionId:v}=await this.rootSession.send("Target.attachToBrowserTarget");return new CDPSession(this.rootSession,v)}}S.CRConnection=CRConnection;class CRSession extends H.EventEmitter{constructor(v,S,Q,O){super();this._connection=void 0;this._eventListener=void 0;this._callbacks=new Map;this._sessionId=void 0;this._parentSession=void 0;this._crashed=false;this._closed=false;this.on=void 0;this.addListener=void 0;this.off=void 0;this.removeListener=void 0;this.once=void 0;this.setMaxListeners(0);this._connection=v;this._parentSession=S;this._sessionId=Q;this._eventListener=O;this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}_markAsCrashed(){this._crashed=true}createChildSession(v,S){const Q=new CRSession(this._connection,this,v,S);this._connection._sessions.set(v,Q);return Q}async send(v,S){if(this._crashed||this._closed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new Y.ProtocolError(this._crashed?"crashed":"closed",undefined,this._connection._browserDisconnectedLogs);const Q=this._connection._rawSend(this._sessionId,v,S);return new Promise(((S,O)=>{this._callbacks.set(Q,{resolve:S,reject:O,error:new Y.ProtocolError("error",v)})}))}_sendMayFail(v,S){return this.send(v,S).catch((v=>V.debugLogger.log("error",v)))}_onMessage(v){var S;if(v.id&&this._callbacks.has(v.id)){const S=this._callbacks.get(v.id);this._callbacks.delete(v.id);if(v.error){S.error.setMessage(v.error.message);S.reject(S.error)}else{S.resolve(v.result)}}else if(v.id&&((S=v.error)===null||S===void 0?void 0:S.code)===-32001){}else{var Q;(0,O.assert)(!v.id,(v===null||v===void 0?void 0:(Q=v.error)===null||Q===void 0?void 0:Q.message)||undefined);Promise.resolve().then((()=>{if(this._eventListener)this._eventListener(v.method,v.params);this.emit(v.method,v.params)}))}}async detach(){if(this._closed)throw new Error(`Session already detached. Most likely the page has been closed.`);if(!this._parentSession)throw new Error("Root session cannot be closed");await this._sendMayFail("Runtime.runIfWaitingForDebugger");await this._parentSession.send("Target.detachFromTarget",{sessionId:this._sessionId});this.dispose()}dispose(){this._closed=true;this._connection._sessions.delete(this._sessionId);for(const v of this._callbacks.values()){v.error.setMessage(`Internal server error, session closed.`);v.error.type=this._crashed?"crashed":"closed";v.error.logs=this._connection._browserDisconnectedLogs;v.reject(v.error)}this._callbacks.clear()}}S.CRSession=CRSession;class CDPSession extends H.EventEmitter{constructor(v,S){super();this.guid=void 0;this._session=void 0;this._listeners=[];this.guid=`cdp-session@${S}`;this._session=v.createChildSession(S,((v,S)=>this.emit(CDPSession.Events.Event,{method:v,params:S})));this._listeners=[O.eventsHelper.addEventListener(v,"Target.detachedFromTarget",(v=>{if(v.sessionId===S)this._onClose()}))]}async send(v,S){return await this._session.send(v,S)}async detach(){return await this._session.detach()}async attachToTarget(v){const{sessionId:S}=await this.send("Target.attachToTarget",{targetId:v,flatten:true});return new CDPSession(this._session,S)}_onClose(){O.eventsHelper.removeEventListeners(this._listeners);this._session.dispose();this.emit(CDPSession.Events.Closed)}}S.CDPSession=CDPSession;CDPSession.Events={Event:"event",Closed:"close"}},9956:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRCoverage=void 0;var O=Q(3841);var H=Q(3557);class CRCoverage{constructor(v){this._jsCoverage=void 0;this._cssCoverage=void 0;this._jsCoverage=new JSCoverage(v);this._cssCoverage=new CSSCoverage(v)}async startJSCoverage(v){return await this._jsCoverage.start(v)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(v){return await this._cssCoverage.start(v)}async stopCSSCoverage(){return await this._cssCoverage.stop()}}S.CRCoverage=CRCoverage;class JSCoverage{constructor(v){this._client=void 0;this._enabled=void 0;this._scriptIds=void 0;this._scriptSources=void 0;this._eventListeners=void 0;this._resetOnNavigation=void 0;this._reportAnonymousScripts=false;this._client=v;this._enabled=false;this._scriptIds=new Set;this._scriptSources=new Map;this._eventListeners=[];this._resetOnNavigation=false}async start(v){(0,H.assert)(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:S=true,reportAnonymousScripts:Q=false}=v;this._resetOnNavigation=S;this._reportAnonymousScripts=Q;this._enabled=true;this._scriptIds.clear();this._scriptSources.clear();this._eventListeners=[O.eventsHelper.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),O.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),O.eventsHelper.addEventListener(this._client,"Debugger.paused",this._onDebuggerPaused.bind(this))];await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:true,detailed:true}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:true})])}_onDebuggerPaused(){this._client.send("Debugger.resume")}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._scriptIds.clear();this._scriptSources.clear()}async _onScriptParsed(v){this._scriptIds.add(v.scriptId);if(!v.url&&!this._reportAnonymousScripts)return;const S=await this._client._sendMayFail("Debugger.getScriptSource",{scriptId:v.scriptId});if(S)this._scriptSources.set(v.scriptId,S.scriptSource)}async stop(){(0,H.assert)(this._enabled,"JSCoverage is not enabled");this._enabled=false;const[v]=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);O.eventsHelper.removeEventListeners(this._eventListeners);const S={entries:[]};for(const Q of v.result){if(!this._scriptIds.has(Q.scriptId))continue;if(!Q.url&&!this._reportAnonymousScripts)continue;const v=this._scriptSources.get(Q.scriptId);if(v)S.entries.push({...Q,source:v});else S.entries.push(Q)}return S}}class CSSCoverage{constructor(v){this._client=void 0;this._enabled=void 0;this._stylesheetURLs=void 0;this._stylesheetSources=void 0;this._eventListeners=void 0;this._resetOnNavigation=void 0;this._client=v;this._enabled=false;this._stylesheetURLs=new Map;this._stylesheetSources=new Map;this._eventListeners=[];this._resetOnNavigation=false}async start(v){(0,H.assert)(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:S=true}=v;this._resetOnNavigation=S;this._enabled=true;this._stylesheetURLs.clear();this._stylesheetSources.clear();this._eventListeners=[O.eventsHelper.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),O.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))];await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){if(!this._resetOnNavigation)return;this._stylesheetURLs.clear();this._stylesheetSources.clear()}async _onStyleSheet(v){const S=v.header;if(!S.sourceURL)return;const Q=await this._client._sendMayFail("CSS.getStyleSheetText",{styleSheetId:S.styleSheetId});if(Q){this._stylesheetURLs.set(S.styleSheetId,S.sourceURL);this._stylesheetSources.set(S.styleSheetId,Q.text)}}async stop(){(0,H.assert)(this._enabled,"CSSCoverage is not enabled");this._enabled=false;const v=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]);O.eventsHelper.removeEventListeners(this._eventListeners);const S=new Map;for(const Q of v.ruleUsage){let v=S.get(Q.styleSheetId);if(!v){v=[];S.set(Q.styleSheetId,v)}v.push({startOffset:Q.startOffset,endOffset:Q.endOffset,count:Q.used?1:0})}const Q={entries:[]};for(const v of this._stylesheetURLs.keys()){const O=this._stylesheetURLs.get(v);const H=this._stylesheetSources.get(v);const V=convertToDisjointRanges(S.get(v)||[]);Q.entries.push({url:O,ranges:V,text:H})}return Q}}function convertToDisjointRanges(v){const S=[];for(const Q of v){S.push({offset:Q.startOffset,type:0,range:Q});S.push({offset:Q.endOffset,type:1,range:Q})}S.sort(((v,S)=>{if(v.offset!==S.offset)return v.offset-S.offset;if(v.type!==S.type)return S.type-v.type;const Q=v.range.endOffset-v.range.startOffset;const O=S.range.endOffset-S.range.startOffset;if(v.type===0)return O-Q;return Q-O}));const Q=[];const O=[];let H=0;for(const v of S){if(Q.length&&H<v.offset&&Q[Q.length-1]>0){const S=O.length?O[O.length-1]:null;if(S&&S.end===H)S.end=v.offset;else O.push({start:H,end:v.offset})}H=v.offset;if(v.type===0)Q.push(v.range.count);else Q.pop()}return O.filter((v=>v.end-v.start>1))}},7898:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRDevTools=void 0;var O=_interopRequireDefault(Q(7147));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const H="__pw_devtools__";class CRDevTools{constructor(v){this._preferencesPath=void 0;this._prefs=void 0;this._savePromise=void 0;this.__testHookOnBinding=void 0;this._preferencesPath=v;this._savePromise=Promise.resolve()}install(v){v.on("Runtime.bindingCalled",(async S=>{if(S.name!==H)return;const Q=JSON.parse(S.payload);let V=undefined;if(this.__testHookOnBinding)this.__testHookOnBinding(Q);if(Q.method==="getPreferences"){if(this._prefs===undefined){try{const v=await O.default.promises.readFile(this._preferencesPath,"utf8");this._prefs=JSON.parse(v)}catch(v){this._prefs={}}}V=this._prefs}else if(Q.method==="setPreference"){this._prefs[Q.params[0]]=Q.params[1];this._save()}else if(Q.method==="removePreference"){delete this._prefs[Q.params[0]];this._save()}else if(Q.method==="clearPreferences"){this._prefs={};this._save()}v.send("Runtime.evaluate",{expression:`window.DevToolsAPI.embedderMessageAck(${Q.id}, ${JSON.stringify(V)})`,contextId:S.executionContextId}).catch((v=>null))}));Promise.all([v.send("Runtime.enable"),v.send("Runtime.addBinding",{name:H}),v.send("Page.enable"),v.send("Page.addScriptToEvaluateOnNewDocument",{source:`\n        (() => {\n          const init = () => {\n            // Lazy init happens when InspectorFrontendHost is initialized.\n            // At this point DevToolsHost is ready to be used.\n            const host = window.DevToolsHost;\n            const old = host.sendMessageToEmbedder.bind(host);\n            host.sendMessageToEmbedder = message => {\n              if (['getPreferences', 'setPreference', 'removePreference', 'clearPreferences'].includes(JSON.parse(message).method))\n                window.${H}(message);\n              else\n                old(message);\n            };\n          };\n          let value;\n          Object.defineProperty(window, 'InspectorFrontendHost', {\n            configurable: true,\n            enumerable: true,\n            get() { return value; },\n            set(v) { value = v; init(); },\n          });\n        })()\n      `}),v.send("Runtime.runIfWaitingForDebugger")]).catch((v=>null))}_save(){this._savePromise=this._savePromise.then((async()=>{await O.default.promises.writeFile(this._preferencesPath,JSON.stringify(this._prefs)).catch((v=>null))}))}}S.CRDevTools=CRDevTools},6027:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.DragManager=void 0;var O=Q(3557);var H=Q(911);class DragManager{constructor(v){this._crPage=void 0;this._dragState=null;this._lastPosition={x:0,y:0};this._crPage=v}async cancelDrag(){if(!this._dragState)return false;await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragCancel",x:this._lastPosition.x,y:this._lastPosition.y,data:{items:[],dragOperationsMask:65535}});this._dragState=null;return true}async interceptDragCausedByMove(v,S,Q,O,V,J){this._lastPosition={x:v,y:S};if(this._dragState){await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragOver",x:v,y:S,data:this._dragState,modifiers:(0,H.toModifiersMask)(V)});return}if(Q!=="left")return J();const Y=this._crPage._mainFrameSession._client;let X;const ee=new Promise((v=>X=v));await Promise.all(this._crPage._page.frames().map((async v=>{await v.nonStallingEvaluateInExistingContext(function(){let v=Promise.resolve(false);let S=null;const dragListener=v=>S=v;const mouseListener=()=>{v=new Promise((v=>{window.addEventListener("dragstart",dragListener,{once:true,capture:true});setTimeout((()=>v(S?!S.defaultPrevented:false)),0)}))};window.addEventListener("mousemove",mouseListener,{once:true,capture:true});window.__cleanupDrag=async()=>{const S=await v;window.removeEventListener("mousemove",mouseListener,{capture:true});window.removeEventListener("dragstart",dragListener,{capture:true});delete window.__cleanupDrag;return S}}.toString(),true,"utility").catch((()=>{}))})));Y.on("Input.dragIntercepted",X);try{await Y.send("Input.setInterceptDrags",{enabled:true})}catch{Y.off("Input.dragIntercepted",X);return J()}await J();const ae=(await Promise.all(this._crPage._page.frames().map((async v=>v.nonStallingEvaluateInExistingContext("window.__cleanupDrag && window.__cleanupDrag()",false,"utility").catch((()=>false)))))).some((v=>v));this._dragState=ae?(await ee).data:null;Y.off("Input.dragIntercepted",X);await Y.send("Input.setInterceptDrags",{enabled:false});if(this._dragState){await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:v,y:S,data:this._dragState,modifiers:(0,H.toModifiersMask)(V)})}}isDragging(){return!!this._dragState}async drop(v,S,Q){(0,O.assert)(this._dragState,"missing drag state");await this._crPage._mainFrameSession._client.send("Input.dispatchDragEvent",{type:"drop",x:v,y:S,data:this._dragState,modifiers:(0,H.toModifiersMask)(Q)});this._dragState=null}}S.DragManager=DragManager},4244:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRExecutionContext=void 0;var O=Q(911);var H=_interopRequireWildcard(Q(804));var V=Q(9030);var J=Q(9012);var Y=Q(7314);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class CRExecutionContext{constructor(v,S){this._client=void 0;this._contextId=void 0;this._client=v;this._contextId=S.id}async rawEvaluateJSON(v){const{exceptionDetails:S,result:Q}=await this._client.send("Runtime.evaluate",{expression:v,contextId:this._contextId,returnByValue:true}).catch(rewriteError);if(S)throw new H.JavaScriptErrorInEvaluate((0,O.getExceptionMessage)(S));return Q.value}async rawEvaluateHandle(v){const{exceptionDetails:S,result:Q}=await this._client.send("Runtime.evaluate",{expression:v,contextId:this._contextId}).catch(rewriteError);if(S)throw new H.JavaScriptErrorInEvaluate((0,O.getExceptionMessage)(S));return Q.objectId}rawCallFunctionNoReply(v,...S){this._client.send("Runtime.callFunctionOn",{functionDeclaration:v.toString(),arguments:S.map((v=>v instanceof H.JSHandle?{objectId:v._objectId}:{value:v})),returnByValue:true,executionContextId:this._contextId,userGesture:true}).catch((()=>{}))}async evaluateWithArguments(v,S,Q,V,Y){const{exceptionDetails:X,result:ee}=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:v,objectId:Q._objectId,arguments:[{objectId:Q._objectId},...V.map((v=>({value:v}))),...Y.map((v=>({objectId:v})))],returnByValue:S,awaitPromise:true,userGesture:true}).catch(rewriteError);if(X)throw new H.JavaScriptErrorInEvaluate((0,O.getExceptionMessage)(X));return S?(0,J.parseEvaluationResultValue)(ee.value):Q._context.createHandle(ee)}async getProperties(v,S){const Q=await this._client.send("Runtime.getProperties",{objectId:S,ownProperties:true});const O=new Map;for(const S of Q.result){if(!S.enumerable||!S.value)continue;O.set(S.name,v.createHandle(S.value))}return O}createHandle(v,S){return new H.JSHandle(v,S.subtype||S.type,renderPreview(S),S.objectId,potentiallyUnserializableValue(S))}async releaseHandle(v){await(0,O.releaseObject)(this._client,v)}async objectCount(v){const S=await this._client.send("Runtime.queryObjects",{prototypeObjectId:v});const Q=S.objects.description.match(/Array\((\d+)\)/);return+Q[1]}}S.CRExecutionContext=CRExecutionContext;function rewriteError(v){if(v.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(v.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(v instanceof TypeError&&v.message.startsWith("Converting circular structure to JSON"))(0,V.rewriteErrorMessage)(v,v.message+" Are you passing a nested JSHandle?");if(!H.isJavaScriptErrorInEvaluate(v)&&!(0,Y.isSessionClosedError)(v))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw v}function potentiallyUnserializableValue(v){const S=v.value;const Q=v.unserializableValue;return Q?H.parseUnserializableValue(Q):S}function renderPreview(v){if(v.type==="undefined")return"undefined";if("value"in v)return String(v.value);if(v.unserializableValue)return String(v.unserializableValue);if(v.description==="Object"&&v.preview){const S=[];for(const{name:Q,value:O}of v.preview.properties)S.push(`${Q}: ${O}`);return`{${S.join(", ")}}`}if(v.subtype==="array"&&v.preview)return H.sparseArrayToString(v.preview.properties);return v.description}},921:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.RawTouchscreenImpl=S.RawMouseImpl=S.RawKeyboardImpl=void 0;var O=_interopRequireWildcard(Q(2654));var H=Q(2310);var V=Q(3557);var J=Q(911);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class RawKeyboardImpl{constructor(v,S,Q){this._client=v;this._isMac=S;this._dragManger=Q}_commandsForCode(v,S){if(!this._isMac)return[];const Q=[];for(const v of["Shift","Control","Alt","Meta"]){if(S.has(v))Q.push(v)}Q.push(v);const O=Q.join("+");let J=H.macEditingCommands[O]||[];if((0,V.isString)(J))J=[J];J=J.filter((v=>!v.startsWith("insert")));return J.map((v=>v.substring(0,v.length-1)))}async keydown(v,S,Q,H,V,Y,X,ee){if(S==="Escape"&&await this._dragManger.cancelDrag())return;const ae=this._commandsForCode(S,v);await this._client.send("Input.dispatchKeyEvent",{type:ee?"keyDown":"rawKeyDown",modifiers:(0,J.toModifiersMask)(v),windowsVirtualKeyCode:H,code:S,commands:ae,key:V,text:ee,unmodifiedText:ee,autoRepeat:X,location:Y,isKeypad:Y===O.keypadLocation})}async keyup(v,S,Q,O,H,V){await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:(0,J.toModifiersMask)(v),key:H,windowsVirtualKeyCode:O,code:S,location:V})}async sendText(v){await this._client.send("Input.insertText",{text:v})}}S.RawKeyboardImpl=RawKeyboardImpl;class RawMouseImpl{constructor(v,S,Q){this._client=void 0;this._page=void 0;this._dragManager=void 0;this._page=v;this._client=S;this._dragManager=Q}async move(v,S,Q,O,H,V){const actualMove=async()=>{await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:Q,buttons:(0,J.toButtonsMask)(O),x:v,y:S,modifiers:(0,J.toModifiersMask)(H)})};if(V){return actualMove()}await this._dragManager.interceptDragCausedByMove(v,S,Q,O,H,actualMove)}async down(v,S,Q,O,H,V){if(this._dragManager.isDragging())return;await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:Q,buttons:(0,J.toButtonsMask)(O),x:v,y:S,modifiers:(0,J.toModifiersMask)(H),clickCount:V})}async up(v,S,Q,O,H,V){if(this._dragManager.isDragging()){await this._dragManager.drop(v,S,H);return}await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:Q,buttons:(0,J.toButtonsMask)(O),x:v,y:S,modifiers:(0,J.toModifiersMask)(H),clickCount:V})}async wheel(v,S,Q,O,H,V){await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:v,y:S,modifiers:(0,J.toModifiersMask)(O),deltaX:H,deltaY:V})}}S.RawMouseImpl=RawMouseImpl;class RawTouchscreenImpl{constructor(v){this._client=void 0;this._client=v}async tap(v,S,Q){await Promise.all([this._client.send("Input.dispatchTouchEvent",{type:"touchStart",modifiers:(0,J.toModifiersMask)(Q),touchPoints:[{x:v,y:S}]}),this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",modifiers:(0,J.toModifiersMask)(Q),touchPoints:[]})])}}S.RawTouchscreenImpl=RawTouchscreenImpl},2969:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRNetworkManager=void 0;var O=Q(9175);var H=Q(3841);var V=_interopRequireWildcard(Q(3824));var J=Q(3557);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class CRNetworkManager{constructor(v,S,Q,O){this._session=void 0;this._page=void 0;this._serviceWorker=void 0;this._parentManager=void 0;this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._credentials=null;this._attemptedAuthentications=new Set;this._userRequestInterceptionEnabled=false;this._protocolRequestInterceptionEnabled=false;this._requestIdToRequestPausedEvent=new Map;this._eventListeners=void 0;this._responseExtraInfoTracker=new ResponseExtraInfoTracker;this._session=v;this._page=S;this._serviceWorker=Q;this._parentManager=O;this._eventListeners=this.instrumentNetworkEvents({session:v})}instrumentNetworkEvents(v){const S=[H.eventsHelper.addEventListener(v.session,"Fetch.requestPaused",this._onRequestPaused.bind(this,v)),H.eventsHelper.addEventListener(v.session,"Fetch.authRequired",this._onAuthRequired.bind(this)),H.eventsHelper.addEventListener(v.session,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this,v)),H.eventsHelper.addEventListener(v.session,"Network.requestWillBeSentExtraInfo",this._onRequestWillBeSentExtraInfo.bind(this)),H.eventsHelper.addEventListener(v.session,"Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),H.eventsHelper.addEventListener(v.session,"Network.responseReceived",this._onResponseReceived.bind(this,v)),H.eventsHelper.addEventListener(v.session,"Network.responseReceivedExtraInfo",this._onResponseReceivedExtraInfo.bind(this)),H.eventsHelper.addEventListener(v.session,"Network.loadingFinished",this._onLoadingFinished.bind(this)),H.eventsHelper.addEventListener(v.session,"Network.loadingFailed",this._onLoadingFailed.bind(this,v))];if(this._page){S.push(...[H.eventsHelper.addEventListener(v.session,"Network.webSocketCreated",(v=>this._page._frameManager.onWebSocketCreated(v.requestId,v.url))),H.eventsHelper.addEventListener(v.session,"Network.webSocketWillSendHandshakeRequest",(v=>this._page._frameManager.onWebSocketRequest(v.requestId))),H.eventsHelper.addEventListener(v.session,"Network.webSocketHandshakeResponseReceived",(v=>this._page._frameManager.onWebSocketResponse(v.requestId,v.response.status,v.response.statusText))),H.eventsHelper.addEventListener(v.session,"Network.webSocketFrameSent",(v=>v.response.payloadData&&this._page._frameManager.onWebSocketFrameSent(v.requestId,v.response.opcode,v.response.payloadData))),H.eventsHelper.addEventListener(v.session,"Network.webSocketFrameReceived",(v=>v.response.payloadData&&this._page._frameManager.webSocketFrameReceived(v.requestId,v.response.opcode,v.response.payloadData))),H.eventsHelper.addEventListener(v.session,"Network.webSocketClosed",(v=>this._page._frameManager.webSocketClosed(v.requestId))),H.eventsHelper.addEventListener(v.session,"Network.webSocketFrameError",(v=>this._page._frameManager.webSocketError(v.requestId,v.errorMessage)))])}return S}async initialize(){await this._session.send("Network.enable")}dispose(){H.eventsHelper.removeEventListeners(this._eventListeners)}async authenticate(v){this._credentials=v;await this._updateProtocolRequestInterception()}async setOffline(v){await this._session.send("Network.emulateNetworkConditions",{offline:v,latency:0,downloadThroughput:-1,uploadThroughput:-1})}async setRequestInterception(v){this._userRequestInterceptionEnabled=v;await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const v=this._userRequestInterceptionEnabled||!!this._credentials;if(v===this._protocolRequestInterceptionEnabled)return;this._protocolRequestInterceptionEnabled=v;if(v){await Promise.all([this._session.send("Network.setCacheDisabled",{cacheDisabled:true}),this._session.send("Fetch.enable",{handleAuthRequests:true,patterns:[{urlPattern:"*",requestStage:"Request"}]})])}else{await Promise.all([this._session.send("Network.setCacheDisabled",{cacheDisabled:false}),this._session.send("Fetch.disable")])}}async clearCache(){await this._session.send("Network.setCacheDisabled",{cacheDisabled:true});if(!this._protocolRequestInterceptionEnabled)await this._session.send("Network.setCacheDisabled",{cacheDisabled:false});await this._session.send("Network.clearBrowserCache")}_onRequestWillBeSent(v,S){if(this._protocolRequestInterceptionEnabled&&!S.request.url.startsWith("data:")){const Q=S.requestId;const O=this._requestIdToRequestPausedEvent.get(Q);if(O){this._onRequest(v,S,O);this._requestIdToRequestPausedEvent.delete(Q)}else{this._requestIdToRequestWillBeSentEvent.set(S.requestId,S)}}else{this._onRequest(v,S,null)}}_onRequestServedFromCache(v){this._responseExtraInfoTracker.requestServedFromCache(v)}_onRequestWillBeSentExtraInfo(v){this._responseExtraInfoTracker.requestWillBeSentExtraInfo(v)}_onAuthRequired(v){let S="Default";const Q=this._shouldProvideCredentials(v.request.url);if(this._attemptedAuthentications.has(v.requestId)){S="CancelAuth"}else if(Q){S="ProvideCredentials";this._attemptedAuthentications.add(v.requestId)}const{username:O,password:H}=Q&&this._credentials?this._credentials:{username:undefined,password:undefined};this._session._sendMayFail("Fetch.continueWithAuth",{requestId:v.requestId,authChallengeResponse:{response:S,username:O,password:H}})}_shouldProvideCredentials(v){if(!this._credentials)return false;return!this._credentials.origin||new URL(v).origin.toLowerCase()===this._credentials.origin.toLowerCase()}_onRequestPaused(v,S){if(!S.networkId){this._session._sendMayFail("Fetch.continueRequest",{requestId:S.requestId});return}if(S.request.url.startsWith("data:"))return;const Q=S.networkId;const O=this._requestIdToRequestWillBeSentEvent.get(Q);if(O){this._onRequest(v,O,S);this._requestIdToRequestWillBeSentEvent.delete(Q)}else{var H;const v=this._requestIdToRequest.get(Q);const O=v===null||v===void 0?void 0:(H=v._route)===null||H===void 0?void 0:H._alreadyContinuedParams;if(O&&!S.redirectedRequestId){this._session._sendMayFail("Fetch.continueRequest",{...O,requestId:S.requestId});return}this._requestIdToRequestPausedEvent.set(Q,S)}}_onRequest(v,S,Q){var O,H,Y;if(S.request.url.startsWith("data:"))return;let X=null;if(S.redirectResponse){const v=this._requestIdToRequest.get(S.requestId);if(v){this._handleRequestRedirect(v,S.redirectResponse,S.timestamp,S.redirectHasExtraInfo);X=v}}let ee=S.frameId?(O=this._page)===null||O===void 0?void 0:O._frameManager.frame(S.frameId):v.workerFrame;if(!ee&&this._page&&Q&&Q.frameId)ee=this._page._frameManager.frame(Q.frameId);if(!ee&&this._page&&S.frameId===((H=this._page)===null||H===void 0?void 0:H._delegate)._targetId){ee=this._page._frameManager.frameAttached(S.frameId,null)}const ae=!!Q&&Q.request.method==="OPTIONS"&&S.initiator.type==="preflight";if(ae&&(this._page||this._serviceWorker).needsRequestInterception()){const v=Q.request.headers;const S=[{name:"Access-Control-Allow-Origin",value:v["Origin"]||"*"},{name:"Access-Control-Allow-Methods",value:v["Access-Control-Request-Method"]||"GET, POST, OPTIONS, DELETE"},{name:"Access-Control-Allow-Credentials",value:"true"}];if(v["Access-Control-Request-Headers"])S.push({name:"Access-Control-Allow-Headers",value:v["Access-Control-Request-Headers"]});this._session._sendMayFail("Fetch.fulfillRequest",{requestId:Q.requestId,responseCode:204,responsePhrase:V.STATUS_TEXTS["204"],responseHeaders:S,body:""});return}if(!ee&&!this._serviceWorker){if(Q)this._session._sendMayFail("Fetch.continueRequest",{requestId:Q.requestId});return}let he=null;if(Q){if(X||!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled){var Ee,Be,ke;let v=undefined;const S=(Ee=X)===null||Ee===void 0?void 0:(Be=Ee._originalRequestRoute)===null||Be===void 0?void 0:(ke=Be._alreadyContinuedParams)===null||ke===void 0?void 0:ke.headers;if(S)v=V.mergeHeaders([(0,J.headersObjectToArray)(Q.request.headers,"\n"),S]);this._session._sendMayFail("Fetch.continueRequest",{requestId:Q.requestId,headers:v})}else{he=new RouteImpl(this._session,Q.requestId)}}const Re=S.requestId===S.loaderId&&S.type==="Document";const Oe=Re?S.loaderId:undefined;const Pe=new InterceptableRequest({session:v.session,context:(this._page||this._serviceWorker)._browserContext,frame:ee||null,serviceWorker:this._serviceWorker||null,documentId:Oe,route:he,requestWillBeSentEvent:S,requestPausedEvent:Q,redirectedFrom:X});this._requestIdToRequest.set(S.requestId,Pe);if(Q){Pe.request.setRawRequestHeaders((0,J.headersObjectToArray)(Q.request.headers,"\n"))}(((Y=this._page)===null||Y===void 0?void 0:Y._frameManager)||this._serviceWorker).requestStarted(Pe.request,he||undefined)}_createResponse(v,S,Q){var O,H,Y,X,ee;const getResponseBody=async()=>{const Q=Object.entries(S.headers).find((v=>v[0].toLowerCase()==="content-length"));const O=Q?+Q[1]:undefined;const H=v.session;const V=await H.send("Network.getResponseBody",{requestId:v._requestId});if(V.body||!O)return Buffer.from(V.body,V.base64Encoded?"base64":"utf8");const J=await H.send("Network.loadNetworkResource",{url:v.request.url(),frameId:this._serviceWorker?undefined:v.request.frame()._id,options:{disableCache:false,includeCredentials:true}});const Y=[];while(J.resource.stream){const v=await H.send("IO.read",{handle:J.resource.stream});Y.push(Buffer.from(v.data,v.base64Encoded?"base64":"utf-8"));if(v.eof){await H.send("IO.close",{handle:J.resource.stream});break}}return Buffer.concat(Y)};const ae=S.timing;let he;if(ae&&!this._responseExtraInfoTracker.servedFromCache(v._requestId)){he={startTime:(ae.requestTime-v._timestamp+v._wallTime)*1e3,domainLookupStart:ae.dnsStart,domainLookupEnd:ae.dnsEnd,connectStart:ae.connectStart,secureConnectionStart:ae.sslStart,connectEnd:ae.connectEnd,requestStart:ae.sendStart,responseStart:ae.receiveHeadersEnd}}else{he={startTime:v._wallTime*1e3,domainLookupStart:-1,domainLookupEnd:-1,connectStart:-1,secureConnectionStart:-1,connectEnd:-1,requestStart:-1,responseStart:-1}}const Ee=new V.Response(v.request,S.status,S.statusText,(0,J.headersObjectToArray)(S.headers),he,getResponseBody,!!S.fromServiceWorker,S.protocol);if(S!==null&&S!==void 0&&S.remoteIPAddress&&typeof(S===null||S===void 0?void 0:S.remotePort)==="number"){Ee._serverAddrFinished({ipAddress:S.remoteIPAddress,port:S.remotePort})}else{Ee._serverAddrFinished()}Ee._securityDetailsFinished({protocol:S===null||S===void 0?void 0:(O=S.securityDetails)===null||O===void 0?void 0:O.protocol,subjectName:S===null||S===void 0?void 0:(H=S.securityDetails)===null||H===void 0?void 0:H.subjectName,issuer:S===null||S===void 0?void 0:(Y=S.securityDetails)===null||Y===void 0?void 0:Y.issuer,validFrom:S===null||S===void 0?void 0:(X=S.securityDetails)===null||X===void 0?void 0:X.validFrom,validTo:S===null||S===void 0?void 0:(ee=S.securityDetails)===null||ee===void 0?void 0:ee.validTo});this._responseExtraInfoTracker.processResponse(v._requestId,Ee,Q);return Ee}_deleteRequest(v){this._requestIdToRequest.delete(v._requestId);if(v._interceptionId)this._attemptedAuthentications.delete(v._interceptionId)}_handleRequestRedirect(v,S,Q,O){var H,V;const J=this._createResponse(v,S,O);J.setTransferSize(null);J.setEncodedBodySize(null);J._requestFinished((Q-v._timestamp)*1e3);this._deleteRequest(v);(((H=this._page)===null||H===void 0?void 0:H._frameManager)||this._serviceWorker).requestReceivedResponse(J);(((V=this._page)===null||V===void 0?void 0:V._frameManager)||this._serviceWorker).reportRequestFinished(v.request,J)}_onResponseReceivedExtraInfo(v){this._responseExtraInfoTracker.responseReceivedExtraInfo(v)}_onResponseReceived(v,S){var Q;let O=this._requestIdToRequest.get(S.requestId);if(!O&&S.response.fromServiceWorker){const Q=this._requestIdToRequestWillBeSentEvent.get(S.requestId);if(Q){this._requestIdToRequestWillBeSentEvent.delete(S.requestId);this._onRequest(v,Q,null);O=this._requestIdToRequest.get(S.requestId)}}if(!O)return;const H=this._createResponse(O,S.response,S.hasExtraInfo);(((Q=this._page)===null||Q===void 0?void 0:Q._frameManager)||this._serviceWorker).requestReceivedResponse(H)}_onLoadingFinished(v){var S;this._responseExtraInfoTracker.loadingFinished(v);let Q=this._requestIdToRequest.get(v.requestId);if(!Q)Q=this._maybeAdoptMainRequest(v.requestId);if(!Q)return;const H=Q.request._existingResponse();if(H){H.setTransferSize(v.encodedDataLength);H.responseHeadersSize().then((S=>H.setEncodedBodySize(v.encodedDataLength-S)));H._requestFinished(O.helper.secondsToRoundishMillis(v.timestamp-Q._timestamp))}this._deleteRequest(Q);(((S=this._page)===null||S===void 0?void 0:S._frameManager)||this._serviceWorker).reportRequestFinished(Q.request,H)}_onLoadingFailed(v,S){var Q;this._responseExtraInfoTracker.loadingFailed(S);let H=this._requestIdToRequest.get(S.requestId);if(!H)H=this._maybeAdoptMainRequest(S.requestId);if(!H){const Q=this._requestIdToRequestWillBeSentEvent.get(S.requestId);if(Q){this._requestIdToRequestWillBeSentEvent.delete(S.requestId);this._onRequest(v,Q,null);H=this._requestIdToRequest.get(S.requestId)}}if(!H)return;const V=H.request._existingResponse();if(V){V.setTransferSize(null);V.setEncodedBodySize(null);V._requestFinished(O.helper.secondsToRoundishMillis(S.timestamp-H._timestamp))}this._deleteRequest(H);H.request._setFailureText(S.errorText);(((Q=this._page)===null||Q===void 0?void 0:Q._frameManager)||this._serviceWorker).requestFailed(H.request,!!S.canceled)}_maybeAdoptMainRequest(v){if(!this._parentManager)return;const S=this._parentManager._requestIdToRequest.get(v);if(!S||S._documentId!==v)return;this._requestIdToRequest.set(v,S);S.session=this._session;this._parentManager._requestIdToRequest.delete(v);if(S._interceptionId&&this._parentManager._attemptedAuthentications.has(S._interceptionId)){this._parentManager._attemptedAuthentications.delete(S._interceptionId);this._attemptedAuthentications.add(S._interceptionId)}return S}}S.CRNetworkManager=CRNetworkManager;class InterceptableRequest{constructor(v){this.request=void 0;this._requestId=void 0;this._interceptionId=void 0;this._documentId=void 0;this._timestamp=void 0;this._wallTime=void 0;this._route=void 0;this._originalRequestRoute=void 0;this.session=void 0;const{session:S,context:Q,frame:O,documentId:H,route:Y,requestWillBeSentEvent:X,requestPausedEvent:ee,redirectedFrom:ae,serviceWorker:he}=v;this.session=S;this._timestamp=X.timestamp;this._wallTime=X.wallTime;this._requestId=X.requestId;this._interceptionId=ee&&ee.requestId;this._documentId=H;this._route=Y;this._originalRequestRoute=Y!==null&&Y!==void 0?Y:ae===null||ae===void 0?void 0:ae._originalRequestRoute;const{headers:Ee,method:Be,url:ke,postDataEntries:Re=null}=ee?ee.request:X.request;const Oe=(X.type||"").toLowerCase();let Pe=null;if(Re&&Re.length&&Re[0].bytes)Pe=Buffer.from(Re[0].bytes,"base64");this.request=new V.Request(Q,O,he,(ae===null||ae===void 0?void 0:ae.request)||null,H,ke,Oe,Be,Pe,(0,J.headersObjectToArray)(Ee))}}class RouteImpl{constructor(v,S){this._session=void 0;this._interceptionId=void 0;this._alreadyContinuedParams=void 0;this._session=v;this._interceptionId=S}async continue(v,S){this._alreadyContinuedParams={requestId:this._interceptionId,url:S.url,headers:S.headers,method:S.method,postData:S.postData?S.postData.toString("base64"):undefined};await this._session.send("Fetch.continueRequest",this._alreadyContinuedParams)}async fulfill(v){const S=v.isBase64?v.body:Buffer.from(v.body).toString("base64");const Q=splitSetCookieHeader(v.headers);await this._session.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:v.status,responsePhrase:V.STATUS_TEXTS[String(v.status)],responseHeaders:Q,body:S})}async abort(v="failed"){const S=Y[v];(0,J.assert)(S,"Unknown error code: "+v);await this._session._sendMayFail("Fetch.failRequest",{requestId:this._interceptionId,errorReason:S})}}function splitSetCookieHeader(v){const S=v.findIndex((({name:v})=>v.toLowerCase()==="set-cookie"));if(S===-1)return v;const Q=v[S];const O=Q.value.split("\n");if(O.length===1)return v;const H=v.slice();H.splice(S,1,...O.map((v=>({name:Q.name,value:v}))));return H}const Y={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};class ResponseExtraInfoTracker{constructor(){this._requests=new Map}requestWillBeSentExtraInfo(v){const S=this._getOrCreateEntry(v.requestId);S.requestWillBeSentExtraInfo.push(v);this._patchHeaders(S,S.requestWillBeSentExtraInfo.length-1);this._checkFinished(S)}requestServedFromCache(v){const S=this._getOrCreateEntry(v.requestId);S.servedFromCache=true}servedFromCache(v){const S=this._requests.get(v);return!!(S!==null&&S!==void 0&&S.servedFromCache)}responseReceivedExtraInfo(v){const S=this._getOrCreateEntry(v.requestId);S.responseReceivedExtraInfo.push(v);this._patchHeaders(S,S.responseReceivedExtraInfo.length-1);this._checkFinished(S)}processResponse(v,S,Q){var O;let H=this._requests.get(v);if(!Q||(O=H)!==null&&O!==void 0&&O.servedFromCache){S.request().setRawRequestHeaders(null);S.setResponseHeadersSize(null);S.setRawResponseHeaders(null);return}H=this._getOrCreateEntry(v);H.responses.push(S);this._patchHeaders(H,H.responses.length-1)}loadingFinished(v){const S=this._requests.get(v.requestId);if(!S)return;S.loadingFinished=v;this._checkFinished(S)}loadingFailed(v){const S=this._requests.get(v.requestId);if(!S)return;S.loadingFailed=v;this._checkFinished(S)}_getOrCreateEntry(v){let S=this._requests.get(v);if(!S){S={requestId:v,requestWillBeSentExtraInfo:[],responseReceivedExtraInfo:[],responses:[]};this._requests.set(v,S)}return S}_patchHeaders(v,S){const Q=v.responses[S];const O=v.requestWillBeSentExtraInfo[S];if(Q&&O){Q.request().setRawRequestHeaders((0,J.headersObjectToArray)(O.headers,"\n"));v.requestWillBeSentExtraInfo[S]=undefined}const H=v.responseReceivedExtraInfo[S];if(Q&&H){var V;Q.setResponseHeadersSize(((V=H.headersText)===null||V===void 0?void 0:V.length)||0);Q.setRawResponseHeaders((0,J.headersObjectToArray)(H.headers,"\n"));v.responseReceivedExtraInfo[S]=undefined}}_checkFinished(v){if(!v.loadingFinished&&!v.loadingFailed)return;if(v.responses.length<=v.responseReceivedExtraInfo.length){this._stopTracking(v.requestId);return}}_stopTracking(v){this._requests.delete(v)}}},2382:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRPage=void 0;var O=_interopRequireDefault(Q(1017));var H=Q(3841);var V=Q(9048);var J=Q(9030);var Y=Q(3557);var X=_interopRequireWildcard(Q(1645));var ee=_interopRequireWildcard(Q(8139));var ae=_interopRequireWildcard(Q(3737));var he=Q(9175);var Ee=_interopRequireWildcard(Q(3824));var Be=Q(3555);var ke=Q(5246);var Re=Q(2731);var Oe=Q(9956);var Pe=Q(6027);var Le=Q(4244);var je=Q(921);var qe=Q(2969);var Ve=Q(2206);var ze=Q(911);var $e=Q(5948);var Ye=Q(3202);var et=Q(5985);var tt=Q(1145);var nt=Q(7314);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const it="__playwright_utility_world__";class CRPage{static mainFrameSession(v){const S=v._delegate;return S._mainFrameSession}constructor(v,S,Q,O,H){this._mainFrameSession=void 0;this._sessions=new Map;this._page=void 0;this.rawMouse=void 0;this.rawKeyboard=void 0;this.rawTouchscreen=void 0;this._targetId=void 0;this._opener=void 0;this._pdf=void 0;this._coverage=void 0;this._browserContext=void 0;this._pagePromise=void 0;this._initializedPage=null;this._isBackgroundPage=void 0;this._nextWindowOpenPopupFeatures=[];this._targetId=S;this._opener=O;this._isBackgroundPage=H.isBackgroundPage;const V=new Pe.DragManager(this);this.rawKeyboard=new je.RawKeyboardImpl(v,Q._browser._platform()==="mac",V);this.rawMouse=new je.RawMouseImpl(this,v,V);this.rawTouchscreen=new je.RawTouchscreenImpl(v);this._pdf=new Ve.CRPDF(v);this._coverage=new Oe.CRCoverage(v);this._browserContext=Q;this._page=new Be.Page(this,Q);this._mainFrameSession=new FrameSession(this,v,S,null);this._sessions.set(S,this._mainFrameSession);if(O&&!Q._options.noDefaultViewport){const v=O._nextWindowOpenPopupFeatures.shift()||[];const S=he.helper.getViewportSizeFromWindowFeatures(v);if(S)this._page._emulatedSize={viewport:S,screen:S}}this._pagePromise=this._mainFrameSession._initialize(H.hasUIWindow).then((async v=>{await this._page.initOpener(this._opener);return v})).catch((async v=>{await this._page.initOpener(this._opener);throw v})).then((()=>{this._initializedPage=this._page;this._reportAsNew();return this._page})).catch((v=>{this._reportAsNew(v);return v}))}potentiallyUninitializedPage(){return this._page}_reportAsNew(v){this._page.reportAsNew(v,this._isBackgroundPage?Re.CRBrowserContext.CREvents.BackgroundPage:et.BrowserContext.Events.Page)}async _forAllFrameSessions(v){const S=Array.from(this._sessions.values());await Promise.all(S.map((S=>{if(S._isMainFrame())return v(S);return v(S).catch((v=>{if((0,nt.isSessionClosedError)(v))return;throw v}))})))}_sessionForFrame(v){while(!this._sessions.has(v._id)){const S=v.parentFrame();if(!S)throw new Error(`Frame has been detached.`);v=S}return this._sessions.get(v._id)}_sessionForHandle(v){const S=v._context.frame;return this._sessionForFrame(S)}willBeginDownload(){this._mainFrameSession._willBeginDownload()}async pageOrError(){return this._pagePromise}didClose(){for(const v of this._sessions.values())v.dispose();this._page._didClose()}async navigateFrame(v,S,Q){return this._sessionForFrame(v)._navigate(v,S,Q)}async exposeBinding(v){await this._forAllFrameSessions((S=>S._initBinding(v)));await Promise.all(this._page.frames().map((S=>S.evaluateExpression(v.source).catch((v=>{})))))}async removeExposedBindings(){await this._forAllFrameSessions((v=>v._removeExposedBindings()))}async updateExtraHTTPHeaders(){await this._forAllFrameSessions((v=>v._updateExtraHTTPHeaders(false)))}async updateGeolocation(){await this._forAllFrameSessions((v=>v._updateGeolocation(false)))}async updateOffline(){await this._forAllFrameSessions((v=>v._updateOffline(false)))}async updateHttpCredentials(){await this._forAllFrameSessions((v=>v._updateHttpCredentials(false)))}async updateEmulatedViewportSize(v){await this._mainFrameSession._updateViewport(v)}async bringToFront(){await this._mainFrameSession._client.send("Page.bringToFront")}async updateEmulateMedia(){await this._forAllFrameSessions((v=>v._updateEmulateMedia()))}async updateUserAgent(){await this._forAllFrameSessions((v=>v._updateUserAgent()))}async updateRequestInterception(){await this._forAllFrameSessions((v=>v._updateRequestInterception()))}async updateFileChooserInterception(){await this._forAllFrameSessions((v=>v._updateFileChooserInterception(false)))}async reload(){await this._mainFrameSession._client.send("Page.reload")}async _go(v){const S=await this._mainFrameSession._client.send("Page.getNavigationHistory");const Q=S.entries[S.currentIndex+v];if(!Q)return false;await this._mainFrameSession._client.send("Page.navigateToHistoryEntry",{entryId:Q.id});return true}goBack(){return this._go(-1)}goForward(){return this._go(+1)}async addInitScript(v,S="main"){await this._forAllFrameSessions((Q=>Q._evaluateOnNewDocument(v,S)))}async removeInitScripts(){await this._forAllFrameSessions((v=>v._removeEvaluatesOnNewDocument()))}async closePage(v){if(v)await this._mainFrameSession._client.send("Page.close");else await this._browserContext._browser._closePage(this)}async setBackgroundColor(v){await this._mainFrameSession._client.send("Emulation.setDefaultBackgroundColorOverride",{color:v})}async takeScreenshot(v,S,Q,O,H,V,J){const{visualViewport:Y}=await this._mainFrameSession._client.send("Page.getLayoutMetrics");if(!Q){Q={x:Y.pageX+O.x,y:Y.pageY+O.y,...he.helper.enclosingIntSize({width:O.width/Y.scale,height:O.height/Y.scale})}}const X={...Q,scale:O?Y.scale:1};if(J==="css"){const v=this._browserContext._options.deviceScaleFactor||1;X.scale/=v}v.throwIfAborted();const ee=await this._mainFrameSession._client.send("Page.captureScreenshot",{format:S,quality:H,clip:X,captureBeyondViewport:!V});return Buffer.from(ee.data,"base64")}async getContentFrame(v){return this._sessionForHandle(v)._getContentFrame(v)}async getOwnerFrame(v){return this._sessionForHandle(v)._getOwnerFrame(v)}isElementHandle(v){return v.subtype==="node"}async getBoundingBox(v){return this._sessionForHandle(v)._getBoundingBox(v)}async scrollRectIntoViewIfNeeded(v,S){return this._sessionForHandle(v)._scrollRectIntoViewIfNeeded(v,S)}async setScreencastOptions(v){if(v){await this._mainFrameSession._startScreencast(this,{format:"jpeg",quality:v.quality,maxWidth:v.width,maxHeight:v.height})}else{await this._mainFrameSession._stopScreencast(this)}}rafCountForStablePosition(){return 1}async getContentQuads(v){return this._sessionForHandle(v)._getContentQuads(v)}async setInputFiles(v,S){await v.evaluateInUtility((([v,S,Q])=>v.setInputFiles(S,Q)),S)}async setInputFilePaths(v,S,Q){const O=await S.ownerFrame();if(!O)throw new Error("Cannot set input files to detached input element");const H=this._sessionForFrame(O);await H._client.send("DOM.setFileInputFiles",{objectId:S._objectId,files:Q})}async adoptElementHandle(v,S){return this._sessionForHandle(v)._adoptElementHandle(v,S)}async getAccessibilityTree(v){return(0,ke.getAccessibilityTree)(this._mainFrameSession._client,v)}async inputActionEpilogue(){await this._mainFrameSession._client.send("Page.enable").catch((v=>{}))}async resetForReuse(){}async pdf(v){return this._pdf.generate(v)}coverage(){return this._coverage}async getFrameElement(v){let S=v.parentFrame();if(!S)throw new Error("Frame has been detached.");const Q=this._sessionForFrame(S);const{backendNodeId:O}=await Q._client.send("DOM.getFrameOwner",{frameId:v._id}).catch((v=>{if(v instanceof Error&&v.message.includes("Frame with the given id was not found."))(0,J.rewriteErrorMessage)(v,"Frame has been detached.");throw v}));S=v.parentFrame();if(!S)throw new Error("Frame has been detached.");return Q._adoptBackendNodeId(O,await S._mainContext())}shouldToggleStyleSheetToSyncAnimations(){return false}}S.CRPage=CRPage;class FrameSession{constructor(v,S,Q,O){this._client=void 0;this._crPage=void 0;this._page=void 0;this._networkManager=void 0;this._parentSession=void 0;this._childSessions=new Set;this._contextIdToContext=new Map;this._eventListeners=[];this._targetId=void 0;this._firstNonInitialNavigationCommittedPromise=void 0;this._firstNonInitialNavigationCommittedFulfill=()=>{};this._firstNonInitialNavigationCommittedReject=v=>{};this._windowId=void 0;this._swappedIn=false;this._videoRecorder=null;this._screencastId=null;this._screencastClients=new Set;this._evaluateOnNewDocumentIdentifiers=[];this._exposedBindingNames=[];this._metricsOverride=void 0;this._workerSessions=new Map;this._client=S;this._crPage=v;this._page=v._page;this._targetId=Q;this._networkManager=new qe.CRNetworkManager(S,this._page,null,O?O._networkManager:null);this._parentSession=O;if(O)O._childSessions.add(this);this._firstNonInitialNavigationCommittedPromise=new Promise(((v,S)=>{this._firstNonInitialNavigationCommittedFulfill=v;this._firstNonInitialNavigationCommittedReject=S}))}_isMainFrame(){return this._targetId===this._crPage._targetId}_addRendererListeners(){this._eventListeners.push(...[H.eventsHelper.addEventListener(this._client,"Log.entryAdded",(v=>this._onLogEntryAdded(v))),H.eventsHelper.addEventListener(this._client,"Page.fileChooserOpened",(v=>this._onFileChooserOpened(v))),H.eventsHelper.addEventListener(this._client,"Page.frameAttached",(v=>this._onFrameAttached(v.frameId,v.parentFrameId))),H.eventsHelper.addEventListener(this._client,"Page.frameDetached",(v=>this._onFrameDetached(v.frameId,v.reason))),H.eventsHelper.addEventListener(this._client,"Page.frameNavigated",(v=>this._onFrameNavigated(v.frame,false))),H.eventsHelper.addEventListener(this._client,"Page.frameRequestedNavigation",(v=>this._onFrameRequestedNavigation(v))),H.eventsHelper.addEventListener(this._client,"Page.javascriptDialogOpening",(v=>this._onDialog(v))),H.eventsHelper.addEventListener(this._client,"Page.navigatedWithinDocument",(v=>this._onFrameNavigatedWithinDocument(v.frameId,v.url))),H.eventsHelper.addEventListener(this._client,"Runtime.bindingCalled",(v=>this._onBindingCalled(v))),H.eventsHelper.addEventListener(this._client,"Runtime.consoleAPICalled",(v=>this._onConsoleAPI(v))),H.eventsHelper.addEventListener(this._client,"Runtime.exceptionThrown",(v=>this._handleException(v.exceptionDetails))),H.eventsHelper.addEventListener(this._client,"Runtime.executionContextCreated",(v=>this._onExecutionContextCreated(v.context))),H.eventsHelper.addEventListener(this._client,"Runtime.executionContextDestroyed",(v=>this._onExecutionContextDestroyed(v.executionContextId))),H.eventsHelper.addEventListener(this._client,"Runtime.executionContextsCleared",(v=>this._onExecutionContextsCleared())),H.eventsHelper.addEventListener(this._client,"Target.attachedToTarget",(v=>this._onAttachedToTarget(v))),H.eventsHelper.addEventListener(this._client,"Target.detachedFromTarget",(v=>this._onDetachedFromTarget(v)))])}_addBrowserListeners(){this._eventListeners.push(...[H.eventsHelper.addEventListener(this._client,"Inspector.targetCrashed",(v=>this._onTargetCrashed())),H.eventsHelper.addEventListener(this._client,"Page.screencastFrame",(v=>this._onScreencastFrame(v))),H.eventsHelper.addEventListener(this._client,"Page.windowOpen",(v=>this._onWindowOpen(v)))])}async _initialize(v){const S=this._page._browserContext.isSettingStorageState();if(!S&&v&&!this._crPage._browserContext._browser.isClank()&&!this._crPage._browserContext._options.noDefaultViewport){const{windowId:v}=await this._client.send("Browser.getWindowForTarget");this._windowId=v}let Q;if(!S&&this._isMainFrame()&&this._crPage._browserContext._options.recordVideo&&v){const v=(0,Y.createGuid)();const S=O.default.join(this._crPage._browserContext._options.recordVideo.dir,v+".webm");Q={...this._crPage._browserContext._options.recordVideo.size,outputFile:S};await this._crPage._browserContext._ensureVideosPath();await this._createVideoRecorder(v,Q);this._crPage.pageOrError().then((v=>{if(v instanceof Error)this._stopVideoRecording().catch((()=>{}))}))}let V;if(!this._isMainFrame())this._addRendererListeners();this._addBrowserListeners();const J=[this._client.send("Page.enable"),this._client.send("Page.getFrameTree").then((({frameTree:v})=>{if(this._isMainFrame()){this._handleFrameTree(v);this._addRendererListeners()}const S=this._isMainFrame()?this._page.frames():[this._page._frameManager.frame(this._targetId)];for(const v of S){this._client._sendMayFail("Page.createIsolatedWorld",{frameId:v._id,grantUniveralAccess:true,worldName:it});for(const S of this._crPage._browserContext._pageBindings.values())v.evaluateExpression(S.source).catch((v=>{}));for(const S of this._crPage._browserContext.initScripts)v.evaluateExpression(S).catch((v=>{}))}const Q=this._isMainFrame()&&this._page.mainFrame().url()===":";if(Q){V.catch((v=>{})).then((()=>{this._eventListeners.push(H.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",(v=>this._onLifecycleEvent(v))))}))}else{this._firstNonInitialNavigationCommittedFulfill();this._eventListeners.push(H.eventsHelper.addEventListener(this._client,"Page.lifecycleEvent",(v=>this._onLifecycleEvent(v))))}})),this._client.send("Log.enable",{}),V=this._client.send("Page.setLifecycleEventsEnabled",{enabled:true}),this._client.send("Runtime.enable",{}),this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:"",worldName:it}),this._networkManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true})];if(!S){if(this._isMainFrame())J.push(this._client.send("Emulation.setFocusEmulationEnabled",{enabled:true}));const v=this._crPage._browserContext._options;if(v.bypassCSP)J.push(this._client.send("Page.setBypassCSP",{enabled:true}));if(v.ignoreHTTPSErrors)J.push(this._client.send("Security.setIgnoreCertificateErrors",{ignore:true}));if(this._isMainFrame())J.push(this._updateViewport());if(v.hasTouch)J.push(this._client.send("Emulation.setTouchEmulationEnabled",{enabled:true}));if(v.javaScriptEnabled===false)J.push(this._client.send("Emulation.setScriptExecutionDisabled",{value:true}));if(v.userAgent||v.locale)J.push(this._updateUserAgent());if(v.locale)J.push(emulateLocale(this._client,v.locale));if(v.timezoneId)J.push(emulateTimezone(this._client,v.timezoneId));if(!this._crPage._browserContext._browser.options.headful)J.push(this._setDefaultFontFamilies(this._client));J.push(this._updateGeolocation(true));J.push(this._updateExtraHTTPHeaders(true));J.push(this._updateRequestInterception());J.push(this._updateOffline(true));J.push(this._updateHttpCredentials(true));J.push(this._updateEmulateMedia());J.push(this._updateFileChooserInterception(true));for(const v of this._crPage._page.allBindings())J.push(this._initBinding(v));for(const v of this._crPage._browserContext.initScripts)J.push(this._evaluateOnNewDocument(v,"main"));for(const v of this._crPage._page.initScripts)J.push(this._evaluateOnNewDocument(v,"main"));if(Q)J.push(this._startVideoRecording(Q))}J.push(this._client.send("Runtime.runIfWaitingForDebugger"));J.push(this._firstNonInitialNavigationCommittedPromise);await Promise.all(J)}dispose(){this._firstNonInitialNavigationCommittedReject(new tt.TargetClosedError);for(const v of this._childSessions)v.dispose();if(this._parentSession)this._parentSession._childSessions.delete(this);H.eventsHelper.removeEventListeners(this._eventListeners);this._networkManager.dispose();this._crPage._sessions.delete(this._targetId);this._client.dispose()}async _navigate(v,S,Q){const O=await this._client.send("Page.navigate",{url:S,referrer:Q,frameId:v._id,referrerPolicy:"unsafeUrl"});if(O.errorText)throw new ae.NavigationAbortedError(O.loaderId,`${O.errorText} at ${S}`);return{newDocumentId:O.loaderId}}_onLifecycleEvent(v){if(this._eventBelongsToStaleFrame(v.frameId))return;if(v.name==="load")this._page._frameManager.frameLifecycleEvent(v.frameId,"load");else if(v.name==="DOMContentLoaded")this._page._frameManager.frameLifecycleEvent(v.frameId,"domcontentloaded")}_handleFrameTree(v){this._onFrameAttached(v.frame.id,v.frame.parentId||null);this._onFrameNavigated(v.frame,true);if(!v.childFrames)return;for(const S of v.childFrames)this._handleFrameTree(S)}_eventBelongsToStaleFrame(v){const S=this._page._frameManager.frame(v);if(!S)return true;const Q=this._crPage._sessionForFrame(S);return Q&&Q!==this&&!Q._swappedIn}_onFrameAttached(v,S){const Q=this._crPage._sessions.get(v);if(Q&&v!==this._targetId){Q._swappedIn=true;const S=this._page._frameManager.frame(v);if(S)this._page._frameManager.removeChildFramesRecursively(S);return}if(S&&!this._page._frameManager.frame(S)){return}this._page._frameManager.frameAttached(v,S)}_onFrameNavigated(v,S){if(this._eventBelongsToStaleFrame(v.id))return;this._page._frameManager.frameCommittedNewDocumentNavigation(v.id,v.url+(v.urlFragment||""),v.name||"",v.loaderId,S);if(!S)this._firstNonInitialNavigationCommittedFulfill()}_onFrameRequestedNavigation(v){if(this._eventBelongsToStaleFrame(v.frameId))return;if(v.disposition==="currentTab")this._page._frameManager.frameRequestedNavigation(v.frameId)}_onFrameNavigatedWithinDocument(v,S){if(this._eventBelongsToStaleFrame(v))return;this._page._frameManager.frameCommittedSameDocumentNavigation(v,S)}_onFrameDetached(v,S){if(this._crPage._sessions.has(v)){return}if(S==="swap"){const S=this._page._frameManager.frame(v);if(S)this._page._frameManager.removeChildFramesRecursively(S);return}this._page._frameManager.frameDetached(v)}_onExecutionContextCreated(v){const S=v.auxData?this._page._frameManager.frame(v.auxData.frameId):null;if(!S||this._eventBelongsToStaleFrame(S._id))return;const Q=new Le.CRExecutionContext(this._client,v);let O=null;if(v.auxData&&!!v.auxData.isDefault)O="main";else if(v.name===it)O="utility";const H=new ee.FrameExecutionContext(Q,S,O);H[st]=Q;if(O)S._contextCreated(O,H);this._contextIdToContext.set(v.id,H)}_onExecutionContextDestroyed(v){const S=this._contextIdToContext.get(v);if(!S)return;this._contextIdToContext.delete(v);S.frame._contextDestroyed(S)}_onExecutionContextsCleared(){for(const v of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed(v)}_onAttachedToTarget(v){var S;const Q=this._client.createChildSession(v.sessionId);if(v.targetInfo.type==="iframe"){const S=v.targetInfo.targetId;const O=this._page._frameManager.frame(S);if(!O)return;this._page._frameManager.removeChildFramesRecursively(O);const H=new FrameSession(this._crPage,Q,S,this);this._crPage._sessions.set(S,H);H._initialize(false).catch((v=>v));return}if(v.targetInfo.type!=="worker"){Q.detach().catch((()=>{}));return}const O=v.targetInfo.url;const H=new Be.Worker(this._page,O);this._page._addWorker(v.sessionId,H);this._workerSessions.set(v.sessionId,Q);Q.once("Runtime.executionContextCreated",(async v=>{H._createExecutionContext(new Le.CRExecutionContext(Q,v.context))}));Q._sendMayFail("Runtime.enable");Q._sendMayFail("Network.enable");Q._sendMayFail("Runtime.runIfWaitingForDebugger");Q._sendMayFail("Target.setAutoAttach",{autoAttach:true,waitForDebuggerOnStart:true,flatten:true});Q.on("Target.attachedToTarget",(v=>this._onAttachedToTarget(v)));Q.on("Target.detachedFromTarget",(v=>this._onDetachedFromTarget(v)));Q.on("Runtime.consoleAPICalled",(v=>{const S=v.args.map((v=>H._existingExecutionContext.createHandle(v)));this._page._addConsoleMessage(v.type,S,(0,ze.toConsoleMessageLocation)(v.stackTrace))}));Q.on("Runtime.exceptionThrown",(v=>this._page.emitOnContextOnceInitialized(et.BrowserContext.Events.PageError,(0,ze.exceptionToError)(v.exceptionDetails),this._page)));this._networkManager.instrumentNetworkEvents({session:Q,workerFrame:(S=this._page._frameManager.frame(this._targetId))!==null&&S!==void 0?S:undefined})}_onDetachedFromTarget(v){const S=this._workerSessions.get(v.sessionId);if(S){S.dispose();this._page._removeWorker(v.sessionId);return}const Q=this._crPage._sessions.get(v.targetId);if(!Q)return;if(Q._swappedIn){Q.dispose();return}this._client.send("Page.enable").catch((v=>null)).then((()=>{if(!Q._swappedIn)this._page._frameManager.frameDetached(v.targetId);Q.dispose()}))}_onWindowOpen(v){this._crPage._nextWindowOpenPopupFeatures.push(v.windowFeatures)}async _onConsoleAPI(v){if(v.executionContextId===0){return}const S=this._contextIdToContext.get(v.executionContextId);if(!S)return;const Q=v.args.map((v=>S.createHandle(v)));this._page._addConsoleMessage(v.type,Q,(0,ze.toConsoleMessageLocation)(v.stackTrace))}async _initBinding(v){const[,S]=await Promise.all([this._client.send("Runtime.addBinding",{name:v.name}),this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:v.source})]);this._exposedBindingNames.push(v.name);if(!v.name.startsWith("__pw"))this._evaluateOnNewDocumentIdentifiers.push(S.identifier)}async _removeExposedBindings(){const v=[];const S=[];for(const Q of this._exposedBindingNames)(Q.startsWith("__pw_")?v:S).push(Q);this._exposedBindingNames=v;await Promise.all(S.map((v=>this._client.send("Runtime.removeBinding",{name:v}))))}async _onBindingCalled(v){const S=await this._crPage.pageOrError();if(!(S instanceof Error)){const S=this._contextIdToContext.get(v.executionContextId);if(S)await this._page._onBindingCalled(v.payload,S)}}_onDialog(v){if(!this._page._frameManager.frame(this._targetId))return;this._page.emitOnContext(et.BrowserContext.Events.Dialog,new X.Dialog(this._page,v.type,v.message,(async(v,S)=>{await this._client.send("Page.handleJavaScriptDialog",{accept:v,promptText:S})}),v.defaultPrompt))}_handleException(v){this._page.emitOnContextOnceInitialized(et.BrowserContext.Events.PageError,(0,ze.exceptionToError)(v),this._page)}async _onTargetCrashed(){this._client._markAsCrashed();this._page._didCrash()}_onLogEntryAdded(v){const{level:S,text:Q,args:O,source:H,url:V,lineNumber:J}=v.entry;if(O)O.map((v=>(0,ze.releaseObject)(this._client,v.objectId)));if(H!=="worker"){const v={url:V||"",lineNumber:J||0,columnNumber:0};this._page._addConsoleMessage(S,[],v,Q)}}async _onFileChooserOpened(v){if(!v.backendNodeId)return;const S=this._page._frameManager.frame(v.frameId);if(!S)return;let Q;try{const O=await S._utilityContext();Q=await this._adoptBackendNodeId(v.backendNodeId,O)}catch(v){return}await this._page._onFileChooserOpened(Q)}_willBeginDownload(){const v=this._crPage._initializedPage;if(!v){this._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"))}}_onScreencastFrame(v){this._page.throttleScreencastFrameAck((()=>{this._client.send("Page.screencastFrameAck",{sessionId:v.sessionId}).catch((()=>{}))}));const S=Buffer.from(v.data,"base64");this._page.emit(Be.Page.Events.ScreencastFrame,{buffer:S,timestamp:v.metadata.timestamp,width:v.metadata.deviceWidth,height:v.metadata.deviceHeight})}async _createVideoRecorder(v,S){(0,Y.assert)(!this._screencastId);const Q=V.registry.findExecutable("ffmpeg").executablePathOrDie(this._page.attribution.playwright.options.sdkLanguage);this._videoRecorder=await Ye.VideoRecorder.launch(this._crPage._page,Q,S);this._screencastId=v}async _startVideoRecording(v){const S=this._screencastId;(0,Y.assert)(S);this._page.once(Be.Page.Events.Close,(()=>this._stopVideoRecording().catch((()=>{}))));const Q=new Promise((v=>this._client.once("Page.screencastFrame",v)));await this._startScreencast(this._videoRecorder,{format:"jpeg",quality:90,maxWidth:v.width,maxHeight:v.height});Q.then((()=>{this._crPage._browserContext._browser._videoStarted(this._crPage._browserContext,S,v.outputFile,this._crPage.pageOrError())}))}async _stopVideoRecording(){if(!this._screencastId)return;const v=this._screencastId;this._screencastId=null;const S=this._videoRecorder;this._videoRecorder=null;await this._stopScreencast(S);await S.stop().catch((()=>{}));const Q=this._crPage._browserContext._browser._takeVideo(v);Q===null||Q===void 0?void 0:Q.reportFinished()}async _startScreencast(v,S={}){this._screencastClients.add(v);if(this._screencastClients.size===1)await this._client.send("Page.startScreencast",S)}async _stopScreencast(v){this._screencastClients.delete(v);if(!this._screencastClients.size)await this._client._sendMayFail("Page.stopScreencast")}async _updateExtraHTTPHeaders(v){const S=Ee.mergeHeaders([this._crPage._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders()]);if(!v||S.length)await this._client.send("Network.setExtraHTTPHeaders",{headers:(0,Y.headersArrayToObject)(S,false)})}async _updateGeolocation(v){const S=this._crPage._browserContext._options.geolocation;if(!v||S)await this._client.send("Emulation.setGeolocationOverride",S||{})}async _updateOffline(v){const S=!!this._crPage._browserContext._options.offline;if(!v||S)await this._networkManager.setOffline(S)}async _updateHttpCredentials(v){const S=this._crPage._browserContext._options.httpCredentials||null;if(!v||S)await this._networkManager.authenticate(S)}async _updateViewport(v){if(this._crPage._browserContext._browser.isClank())return;(0,Y.assert)(this._isMainFrame());const S=this._crPage._browserContext._options;const Q=this._page.emulatedSize();if(Q===null)return;const O=Q.viewport;const H=Q.screen;const V=H.width>H.height;const J={mobile:!!S.isMobile,width:O.width,height:O.height,screenWidth:H.width,screenHeight:H.height,deviceScaleFactor:S.deviceScaleFactor||1,screenOrientation:!!S.isMobile?V?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"}:{angle:0,type:"landscapePrimary"},dontSetVisibleSize:v};if(JSON.stringify(this._metricsOverride)===JSON.stringify(J))return;const X=[this._client.send("Emulation.setDeviceMetricsOverride",J)];if(!v&&this._windowId){let v={width:0,height:0};if(this._crPage._browserContext._browser.options.headful){v={width:24,height:88};if(process.platform==="win32")v={width:16,height:88};else if(process.platform==="linux")v={width:8,height:85};else if(process.platform==="darwin")v={width:2,height:80};if(this._crPage._browserContext.isPersistentContext()){v.height+=46}}X.push(this.setWindowBounds({width:O.width+v.width,height:O.height+v.height}))}await Promise.all(X);this._metricsOverride=J}async windowBounds(){const{bounds:v}=await this._client.send("Browser.getWindowBounds",{windowId:this._windowId});return v}async setWindowBounds(v){return await this._client.send("Browser.setWindowBounds",{windowId:this._windowId,bounds:v})}async _updateEmulateMedia(){const v=this._page.emulatedMedia();const S=v.media==="no-override"?"":v.media;const Q=v.colorScheme==="no-override"?"":v.colorScheme;const O=v.reducedMotion==="no-override"?"":v.reducedMotion;const H=v.forcedColors==="no-override"?"":v.forcedColors;const V=[{name:"prefers-color-scheme",value:Q},{name:"prefers-reduced-motion",value:O},{name:"forced-colors",value:H}];await this._client.send("Emulation.setEmulatedMedia",{media:S,features:V})}async _updateUserAgent(){const v=this._crPage._browserContext._options;await this._client.send("Emulation.setUserAgentOverride",{userAgent:v.userAgent||"",acceptLanguage:v.locale})}async _setDefaultFontFamilies(v){const S=$e.platformToFontFamilies[this._crPage._browserContext._browser._platform()];await v.send("Page.setFontFamilies",S)}async _updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async _updateFileChooserInterception(v){const S=this._page.fileChooserIntercepted();if(v&&!S)return;await this._client.send("Page.setInterceptFileChooserDialog",{enabled:S}).catch((()=>{}))}async _evaluateOnNewDocument(v,S){const Q=S==="utility"?it:undefined;const{identifier:O}=await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:v,worldName:Q});this._evaluateOnNewDocumentIdentifiers.push(O)}async _removeEvaluatesOnNewDocument(){const v=this._evaluateOnNewDocumentIdentifiers;this._evaluateOnNewDocumentIdentifiers=[];await Promise.all(v.map((v=>this._client.send("Page.removeScriptToEvaluateOnNewDocument",{identifier:v}))))}async _getContentFrame(v){const S=await this._client.send("DOM.describeNode",{objectId:v._objectId});if(!S||typeof S.node.frameId!=="string")return null;return this._page._frameManager.frame(S.node.frameId)}async _getOwnerFrame(v){const S=await v.evaluateHandle((v=>{const S=v;if(S.documentElement&&S.documentElement.ownerDocument===S)return S.documentElement;return v.ownerDocument?v.ownerDocument.documentElement:null}));if(!S)return null;if(!S._objectId)return null;const Q=await this._client.send("DOM.describeNode",{objectId:S._objectId});const O=Q&&typeof Q.node.frameId==="string"?Q.node.frameId:null;S.dispose();return O}async _getBoundingBox(v){const S=await this._client._sendMayFail("DOM.getBoxModel",{objectId:v._objectId});if(!S)return null;const Q=S.model.border;const O=Math.min(Q[0],Q[2],Q[4],Q[6]);const H=Math.min(Q[1],Q[3],Q[5],Q[7]);const V=Math.max(Q[0],Q[2],Q[4],Q[6])-O;const J=Math.max(Q[1],Q[3],Q[5],Q[7])-H;const Y=await this._framePosition();if(!Y)return null;return{x:O+Y.x,y:H+Y.y,width:V,height:J}}async _framePosition(){const v=this._page._frameManager.frame(this._targetId);if(!v)return null;if(v===this._page.mainFrame())return{x:0,y:0};const S=await v.frameElement();const Q=await S.boundingBox();return Q}async _scrollRectIntoViewIfNeeded(v,S){return await this._client.send("DOM.scrollIntoViewIfNeeded",{objectId:v._objectId,rect:S}).then((()=>"done")).catch((v=>{if(v instanceof Error&&v.message.includes("Node does not have a layout object"))return"error:notvisible";if(v instanceof Error&&v.message.includes("Node is detached from document"))return"error:notconnected";throw v}))}async _getContentQuads(v){const S=await this._client._sendMayFail("DOM.getContentQuads",{objectId:v._objectId});if(!S)return null;const Q=await this._framePosition();if(!Q)return null;return S.quads.map((v=>[{x:v[0]+Q.x,y:v[1]+Q.y},{x:v[2]+Q.x,y:v[3]+Q.y},{x:v[4]+Q.x,y:v[5]+Q.y},{x:v[6]+Q.x,y:v[7]+Q.y}]))}async _adoptElementHandle(v,S){const Q=await this._client.send("DOM.describeNode",{objectId:v._objectId});return this._adoptBackendNodeId(Q.node.backendNodeId,S)}async _adoptBackendNodeId(v,S){const Q=await this._client._sendMayFail("DOM.resolveNode",{backendNodeId:v,executionContextId:S[st]._contextId});if(!Q||Q.object.subtype==="null")throw new Error(ee.kUnableToAdoptErrorMessage);return S.createHandle(Q.object).asElement()}}async function emulateLocale(v,S){try{await v.send("Emulation.setLocaleOverride",{locale:S})}catch(v){if(v.message.includes("Another locale override is already in effect"))return;throw v}}async function emulateTimezone(v,S){try{await v.send("Emulation.setTimezoneOverride",{timezoneId:S})}catch(v){if(v.message.includes("Timezone override is already in effect"))return;if(v.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${S}`);throw v}}const st=Symbol("delegate")},2206:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRPDF=void 0;var O=Q(3557);var H=Q(911);const V={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};const J={px:1,in:96,cm:37.8,mm:3.78};function convertPrintParameterToInches(v){if(v===undefined)return undefined;let S=v.substring(v.length-2).toLowerCase();let Q="";if(J.hasOwnProperty(S)){Q=v.substring(0,v.length-2)}else{S="px";Q=v}const H=Number(Q);(0,O.assert)(!isNaN(H),"Failed to parse parameter value: "+v);const V=H*J[S];return V/96}class CRPDF{constructor(v){this._client=void 0;this._client=v}async generate(v){const{scale:S=1,displayHeaderFooter:Q=false,headerTemplate:J="",footerTemplate:Y="",printBackground:X=false,landscape:ee=false,pageRanges:ae="",preferCSSPageSize:he=false,margin:Ee={}}=v;let Be=8.5;let ke=11;if(v.format){const S=V[v.format.toLowerCase()];(0,O.assert)(S,"Unknown paper format: "+v.format);Be=S.width;ke=S.height}else{Be=convertPrintParameterToInches(v.width)||Be;ke=convertPrintParameterToInches(v.height)||ke}const Re=convertPrintParameterToInches(Ee.top)||0;const Oe=convertPrintParameterToInches(Ee.left)||0;const Pe=convertPrintParameterToInches(Ee.bottom)||0;const Le=convertPrintParameterToInches(Ee.right)||0;const je=await this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:ee,displayHeaderFooter:Q,headerTemplate:J,footerTemplate:Y,printBackground:X,scale:S,paperWidth:Be,paperHeight:ke,marginTop:Re,marginBottom:Pe,marginLeft:Oe,marginRight:Le,pageRanges:ae,preferCSSPageSize:he});return await(0,H.readProtocolStream)(this._client,je.stream)}}S.CRPDF=CRPDF},911:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.exceptionToError=exceptionToError;S.getExceptionMessage=getExceptionMessage;S.readProtocolStream=readProtocolStream;S.releaseObject=releaseObject;S.saveProtocolStream=saveProtocolStream;S.toButtonsMask=toButtonsMask;S.toConsoleMessageLocation=toConsoleMessageLocation;S.toModifiersMask=toModifiersMask;var O=_interopRequireDefault(Q(7147));var H=Q(6034);var V=Q(9030);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function getExceptionMessage(v){if(v.exception)return v.exception.description||String(v.exception.value);let S=v.text;if(v.stackTrace){for(const Q of v.stackTrace.callFrames){const v=Q.url+":"+Q.lineNumber+":"+Q.columnNumber;const O=Q.functionName||"<anonymous>";S+=`\n    at ${O} (${v})`}}return S}async function releaseObject(v,S){await v.send("Runtime.releaseObject",{objectId:S}).catch((v=>{}))}async function saveProtocolStream(v,S,Q){let V=false;await(0,H.mkdirIfNeeded)(Q);const J=await O.default.promises.open(Q,"w");while(!V){const Q=await v.send("IO.read",{handle:S});V=Q.eof;const O=Buffer.from(Q.data,Q.base64Encoded?"base64":undefined);await J.write(O)}await J.close();await v.send("IO.close",{handle:S})}async function readProtocolStream(v,S){let Q=false;const O=[];while(!Q){const H=await v.send("IO.read",{handle:S});Q=H.eof;const V=Buffer.from(H.data,H.base64Encoded?"base64":undefined);O.push(V)}await v.send("IO.close",{handle:S});return Buffer.concat(O)}function toConsoleMessageLocation(v){return v&&v.callFrames.length?{url:v.callFrames[0].url,lineNumber:v.callFrames[0].lineNumber,columnNumber:v.callFrames[0].columnNumber}:{url:"",lineNumber:0,columnNumber:0}}function exceptionToError(v){const S=getExceptionMessage(v);const Q=S.split("\n");const O=Q.findIndex((v=>v.startsWith("    at")));let H="";let J="";if(O===-1){H=S}else{H=Q.slice(0,O).join("\n");J=S}const{name:Y,message:X}=(0,V.splitErrorMessage)(H);const ee=new Error(X);ee.stack=J;ee.name=Y;return ee}function toModifiersMask(v){let S=0;if(v.has("Alt"))S|=1;if(v.has("Control"))S|=2;if(v.has("Meta"))S|=4;if(v.has("Shift"))S|=8;return S}function toButtonsMask(v){let S=0;if(v.has("left"))S|=1;if(v.has("right"))S|=2;if(v.has("middle"))S|=4;return S}},2594:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CRServiceWorker=void 0;var O=Q(3555);var H=Q(4244);var V=Q(2969);var J=_interopRequireWildcard(Q(3824));var Y=Q(5985);var X=Q(3557);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class CRServiceWorker extends O.Worker{constructor(v,S,Q){super(v,Q);this._browserContext=void 0;this._networkManager=void 0;this._session=void 0;this._extraHTTPHeaders=null;this._session=S;this._browserContext=v;if(!!process.env.PW_EXPERIMENTAL_SERVICE_WORKER_NETWORK_EVENTS)this._networkManager=new V.CRNetworkManager(S,null,this,null);S.once("Runtime.executionContextCreated",(v=>{this._createExecutionContext(new H.CRExecutionContext(S,v.context))}));if(this._networkManager&&this._isNetworkInspectionEnabled()){this._networkManager.initialize().catch((()=>{}));this.updateRequestInterception();this.updateExtraHTTPHeaders(true);this.updateHttpCredentials(true);this.updateOffline(true)}S.send("Runtime.enable",{}).catch((v=>{}));S.send("Runtime.runIfWaitingForDebugger").catch((v=>{}));S.on("Inspector.targetReloadedAfterCrash",(()=>{S._sendMayFail("Runtime.runIfWaitingForDebugger",{})}))}didClose(){this._session.dispose();super.didClose()}async updateOffline(v){var S;if(!this._isNetworkInspectionEnabled())return;const Q=!!this._browserContext._options.offline;if(!v||Q)await((S=this._networkManager)===null||S===void 0?void 0:S.setOffline(Q))}async updateHttpCredentials(v){var S;if(!this._isNetworkInspectionEnabled())return;const Q=this._browserContext._options.httpCredentials||null;if(!v||Q)await((S=this._networkManager)===null||S===void 0?void 0:S.authenticate(Q))}async updateExtraHTTPHeaders(v){if(!this._isNetworkInspectionEnabled())return;const S=J.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._extraHTTPHeaders]);if(!v||S.length)await this._session.send("Network.setExtraHTTPHeaders",{headers:(0,X.headersArrayToObject)(S,false)})}updateRequestInterception(){if(!this._networkManager||!this._isNetworkInspectionEnabled())return Promise.resolve();return this._networkManager.setRequestInterception(this.needsRequestInterception()).catch((v=>{}))}needsRequestInterception(){return this._isNetworkInspectionEnabled()&&!!this._browserContext._requestInterceptor}reportRequestFinished(v,S){this._browserContext.emit(Y.BrowserContext.Events.RequestFinished,{request:v,response:S})}requestFailed(v,S){this._browserContext.emit(Y.BrowserContext.Events.RequestFailed,v)}requestReceivedResponse(v){this._browserContext.emit(Y.BrowserContext.Events.Response,v)}requestStarted(v,S){this._browserContext.emit(Y.BrowserContext.Events.Request,v);if(S){var Q,O;const H=new J.Route(v,S);if((Q=(O=this._browserContext)._requestInterceptor)!==null&&Q!==void 0&&Q.call(O,H,v))return;H.continue({isFallback:true}).catch((()=>{}))}}_isNetworkInspectionEnabled(){return this._browserContext._options.serviceWorkers!=="block"}}S.CRServiceWorker=CRServiceWorker},5948:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.platformToFontFamilies=void 0;const Q=S.platformToFontFamilies={linux:{fontFamilies:{standard:"Times New Roman",fixed:"Monospace",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"}},mac:{fontFamilies:{standard:"Times",fixed:"Courier",serif:"Times",sansSerif:"Helvetica",cursive:"Apple Chancery",fantasy:"Papyrus"},forScripts:[{script:"jpan",fontFamilies:{standard:"Hiragino Kaku Gothic ProN",fixed:"Osaka-Mono",serif:"Hiragino Mincho ProN",sansSerif:"Hiragino Kaku Gothic ProN"}},{script:"hang",fontFamilies:{standard:"Apple SD Gothic Neo",serif:"AppleMyungjo",sansSerif:"Apple SD Gothic Neo"}},{script:"hans",fontFamilies:{standard:",PingFang SC,STHeiti",serif:"Songti SC",sansSerif:",PingFang SC,STHeiti",cursive:"Kaiti SC"}},{script:"hant",fontFamilies:{standard:",PingFang TC,Heiti TC",serif:"Songti TC",sansSerif:",PingFang TC,Heiti TC",cursive:"Kaiti TC"}}]},win:{fontFamilies:{standard:"Times New Roman",fixed:"Consolas",serif:"Times New Roman",sansSerif:"Arial",cursive:"Comic Sans MS",fantasy:"Impact"},forScripts:[{script:"cyrl",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"arab",fontFamilies:{fixed:"Courier New",sansSerif:"Segoe UI"}},{script:"grek",fontFamilies:{standard:"Times New Roman",fixed:"Courier New",serif:"Times New Roman",sansSerif:"Arial"}},{script:"jpan",fontFamilies:{standard:",Meiryo,Yu Gothic",fixed:"MS Gothic",serif:",Yu Mincho,MS PMincho",sansSerif:",Meiryo,Yu Gothic"}},{script:"hang",fontFamilies:{standard:"Malgun Gothic",fixed:"Gulimche",serif:"Batang",sansSerif:"Malgun Gothic",cursive:"Gungsuh"}},{script:"hans",fontFamilies:{standard:"Microsoft YaHei",fixed:"NSimsun",serif:"Simsun",sansSerif:"Microsoft YaHei",cursive:"KaiTi"}},{script:"hant",fontFamilies:{standard:"Microsoft JhengHei",fixed:"MingLiU",serif:"PMingLiU",sansSerif:"Microsoft JhengHei",cursive:"DFKai-SB"}}]}}},3202:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.VideoRecorder=void 0;var O=Q(3557);var H=Q(3555);var V=Q(1441);var J=Q(2836);var Y=Q(6686);const X=25;class VideoRecorder{static async launch(v,S,Q){if(!Q.outputFile.endsWith(".webm"))throw new Error("File must have .webm extension");const O=new J.ProgressController((0,Y.serverSideCallMetadata)(),v);O.setLogName("browser");return await O.run((async O=>{const H=new VideoRecorder(v,S,O);await H._launch(Q);return H}))}constructor(v,S,Q){this._process=null;this._gracefullyClose=null;this._lastWritePromise=Promise.resolve();this._lastFrameTimestamp=0;this._lastFrameBuffer=null;this._lastWriteTimestamp=0;this._progress=void 0;this._frameQueue=[];this._isStopped=false;this._ffmpegPath=void 0;this._progress=Q;this._ffmpegPath=S;v.on(H.Page.Events.ScreencastFrame,(v=>this.writeFrame(v.buffer,v.timestamp)))}async _launch(v){const S=v.width;const Q=v.height;const O=`-loglevel error -f image2pipe -avioflags direct -fpsprobesize 0 -probesize 32 -analyzeduration 0 -c:v mjpeg -i - -y -an -r ${X} -c:v vp8 -qmin 0 -qmax 50 -crf 8 -deadline realtime -speed 8 -b:v 1M -threads 1 -vf pad=${S}:${Q}:0:0:gray,crop=${S}:${Q}:0:0`.split(" ");O.push(v.outputFile);const H=this._progress;const{launchedProcess:J,gracefullyClose:Y}=await(0,V.launchProcess)({command:this._ffmpegPath,args:O,stdio:"stdin",log:v=>H.log(v),tempDirectories:[],attemptToGracefullyClose:async()=>{H.log("Closing stdin...");J.stdin.end()},onExit:(v,S)=>{H.log(`ffmpeg onkill exitCode=${v} signal=${S}`)}});J.stdin.on("finish",(()=>{H.log("ffmpeg finished input.")}));J.stdin.on("error",(()=>{H.log("ffmpeg error.")}));this._process=J;this._gracefullyClose=Y}writeFrame(v,S){(0,O.assert)(this._process);if(this._isStopped)return;if(this._lastFrameBuffer){const v=S-this._lastFrameTimestamp;const Q=Math.max(1,Math.round(X*v));for(let v=0;v<Q;++v)this._frameQueue.push(this._lastFrameBuffer);this._lastWritePromise=this._lastWritePromise.then((()=>this._sendFrames()))}this._lastFrameBuffer=v;this._lastFrameTimestamp=S;this._lastWriteTimestamp=(0,O.monotonicTime)()}async _sendFrames(){while(this._frameQueue.length)await this._sendFrame(this._frameQueue.shift())}async _sendFrame(v){return new Promise((S=>this._process.stdin.write(v,S))).then((v=>{if(v)this._progress.log(`ffmpeg failed to write: ${String(v)}`)}))}async stop(){if(this._isStopped)return;this.writeFrame(Buffer.from([]),this._lastFrameTimestamp+((0,O.monotonicTime)()-this._lastWriteTimestamp)/1e3);this._isStopped=true;await this._lastWritePromise;await this._gracefullyClose()}}S.VideoRecorder=VideoRecorder},8477:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ConsoleMessage=void 0;var O=Q(6686);class ConsoleMessage extends O.SdkObject{constructor(v,S,Q,O,H){super(v,"console-message");this._type=void 0;this._text=void 0;this._args=void 0;this._location=void 0;this._page=void 0;this._page=v;this._type=S;this._text=Q;this._args=O;this._location=H||{url:"",lineNumber:0,columnNumber:0}}page(){return this._page}type(){return this._type}text(){if(this._text===undefined)this._text=this._args.map((v=>v.preview())).join(" ");return this._text}args(){return this._args}location(){return this._location}}S.ConsoleMessage=ConsoleMessage},9260:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CookieStore=void 0;S.domainMatches=domainMatches;class Cookie{constructor(v){this._raw=void 0;this._raw=v}name(){return this._raw.name}matches(v){if(this._raw.secure&&v.protocol!=="https:"&&v.hostname!=="localhost")return false;if(!domainMatches(v.hostname,this._raw.domain))return false;if(!pathMatches(v.pathname,this._raw.path))return false;return true}equals(v){return this._raw.name===v._raw.name&&this._raw.domain===v._raw.domain&&this._raw.path===v._raw.path}networkCookie(){return this._raw}updateExpiresFrom(v){this._raw.expires=v._raw.expires}expired(){if(this._raw.expires===-1)return false;return this._raw.expires*1e3<Date.now()}}class CookieStore{constructor(){this._nameToCookies=new Map}addCookies(v){for(const S of v)this._addCookie(new Cookie(S))}cookies(v){const S=[];for(const Q of this._cookiesIterator()){if(Q.matches(v))S.push(Q.networkCookie())}return S}allCookies(){const v=[];for(const S of this._cookiesIterator())v.push(S.networkCookie());return v}_addCookie(v){let S=this._nameToCookies.get(v.name());if(!S){S=new Set;this._nameToCookies.set(v.name(),S)}for(const Q of S){if(Q.equals(v))S.delete(Q)}S.add(v);CookieStore.pruneExpired(S)}*_cookiesIterator(){for(const[v,S]of this._nameToCookies){CookieStore.pruneExpired(S);for(const v of S)yield v;if(S.size===0)this._nameToCookies.delete(v)}}static pruneExpired(v){for(const S of v){if(S.expired())v.delete(S)}}}S.CookieStore=CookieStore;function domainMatches(v,S){if(v===S)return true;if(!S.startsWith("."))return false;v="."+v;return v.endsWith(S)}function pathMatches(v,S){if(v===S)return true;if(!v.endsWith("/"))v=v+"/";if(!S.endsWith("/"))S=S+"/";return v.startsWith(S)}},1455:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.DebugController=void 0;var O=Q(1441);var H=Q(6686);var V=Q(8584);var J=Q(7351);var Y=Q(7113);const X=(0,H.serverSideCallMetadata)();class DebugController extends H.SdkObject{constructor(v){super({attribution:{isInternalPlaywright:true},instrumentation:(0,H.createInstrumentation)()},undefined,"DebugController");this._autoCloseTimer=void 0;this._autoCloseAllowed=false;this._trackHierarchyListener=void 0;this._playwright=void 0;this._sdkLanguage="javascript";this._codegenId="playwright-test";this._playwright=v}initialize(v,S){this._codegenId=v;this._sdkLanguage=S;V.Recorder.setAppFactory((async()=>new InspectingRecorderApp(this)))}setAutoCloseAllowed(v){this._autoCloseAllowed=v}dispose(){this.setReportStateChanged(false);this.setAutoCloseAllowed(false);V.Recorder.setAppFactory(undefined)}setReportStateChanged(v){if(v&&!this._trackHierarchyListener){this._trackHierarchyListener={onPageOpen:()=>this._emitSnapshot(),onPageClose:()=>this._emitSnapshot()};this._playwright.instrumentation.addListener(this._trackHierarchyListener,null)}else if(!v&&this._trackHierarchyListener){this._playwright.instrumentation.removeListener(this._trackHierarchyListener);this._trackHierarchyListener=undefined}}async resetForReuse(){const v=new Set;for(const S of this._playwright.allPages())v.add(S.context());for(const S of v)await S.resetForReuse(X,null)}async navigate(v){for(const S of this._playwright.allPages())await S.mainFrame().goto(X,v)}async setRecorderMode(v){await this._closeBrowsersWithoutPages();if(v.mode==="none"){for(const v of await this._allRecorders()){v.hideHighlightedSelector();v.setMode("none")}this.setAutoCloseEnabled(true);return}if(!this._playwright.allBrowsers().length)await this._playwright.chromium.launch(X,{headless:!!process.env.PW_DEBUG_CONTROLLER_HEADLESS});const S=this._playwright.allPages();if(!S.length){const[v]=this._playwright.allBrowsers();const{context:S}=await v.newContextForReuse({},X);await S.newPage(X)}if(v.testIdAttributeName){for(const S of this._playwright.allPages())S.context().selectors().setTestIdAttributeName(v.testIdAttributeName)}for(const S of await this._allRecorders()){S.hideHighlightedSelector();if(v.mode!=="inspecting")S.setOutput(this._codegenId,v.file);S.setMode(v.mode)}this.setAutoCloseEnabled(true)}async setAutoCloseEnabled(v){if(!this._autoCloseAllowed)return;if(this._autoCloseTimer)clearTimeout(this._autoCloseTimer);if(!v)return;const heartBeat=()=>{if(!this._playwright.allPages().length)(0,O.gracefullyProcessExitDoNotHang)(0);else this._autoCloseTimer=setTimeout(heartBeat,5e3)};this._autoCloseTimer=setTimeout(heartBeat,3e4)}async highlight(v){for(const S of await this._allRecorders())S.setHighlightedSelector(this._sdkLanguage,v)}async hideHighlight(){for(const v of await this._allRecorders())v.hideHighlightedSelector();await this._playwright.hideHighlight()}allBrowsers(){return[...this._playwright.allBrowsers()]}async resume(){for(const v of await this._allRecorders())v.resume()}async kill(){(0,O.gracefullyProcessExitDoNotHang)(0)}async closeAllBrowsers(){await Promise.all(this.allBrowsers().map((v=>v.close({reason:"Close all browsers requested"}))))}_emitSnapshot(){const v=[];let S=0;for(const Q of this._playwright.allBrowsers()){const O={contexts:[]};v.push(O);for(const v of Q.contexts()){const Q={pages:[]};O.contexts.push(Q);for(const S of v.pages())Q.pages.push(S.mainFrame().url());S+=v.pages().length}}this.emit(DebugController.Events.BrowsersChanged,v);this.emit(DebugController.Events.StateChanged,{pageCount:S})}async _allRecorders(){const v=new Set;for(const S of this._playwright.allPages())v.add(S.context());const S=await Promise.all([...v].map((v=>V.Recorder.show(v,{omitCallTracking:true}))));return S.filter(Boolean)}async _closeBrowsersWithoutPages(){for(const v of this._playwright.allBrowsers()){for(const S of v.contexts()){if(!S.pages().length)await S.close({reason:"Browser collected"})}if(!v.contexts())await v.close({reason:"Browser collected"})}}}S.DebugController=DebugController;DebugController.Events={BrowsersChanged:"browsersChanged",StateChanged:"stateChanged",InspectRequested:"inspectRequested",SourceChanged:"sourceChanged",Paused:"paused",SetModeRequested:"setModeRequested"};class InspectingRecorderApp extends J.EmptyRecorderApp{constructor(v){super();this._debugController=void 0;this._debugController=v}async setSelector(v){const S=(0,Y.asLocator)(this._debugController._sdkLanguage,v);this._debugController.emit(DebugController.Events.InspectRequested,{selector:v,locator:S})}async setSources(v){const S=v.find((v=>v.id===this._debugController._codegenId));const{text:Q,header:O,footer:H,actions:V}=S||{text:""};this._debugController.emit(DebugController.Events.SourceChanged,{text:Q,header:O,footer:H,actions:V})}async setPaused(v){this._debugController.emit(DebugController.Events.Paused,{paused:v})}async setMode(v){this._debugController.emit(DebugController.Events.SetModeRequested,{mode:v})}}},7370:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Debugger=void 0;S.shouldSlowMo=shouldSlowMo;var O=Q(2361);var H=Q(3557);var V=Q(5985);var J=Q(2476);const Y=Symbol("Debugger");class Debugger extends O.EventEmitter{constructor(v){super();this._pauseOnNextStatement=false;this._pausedCallsMetadata=new Map;this._enabled=void 0;this._context=void 0;this._muted=false;this._slowMo=void 0;this._context=v;this._context[Y]=this;this._enabled=(0,H.debugMode)()==="inspector";if(this._enabled)this.pauseOnNextStatement();v.instrumentation.addListener(this,v);this._context.once(V.BrowserContext.Events.Close,(()=>{this._context.instrumentation.removeListener(this)}));this._slowMo=this._context._browser.options.slowMo}async setMuted(v){this._muted=v}async onBeforeCall(v,S){if(this._muted)return;if(shouldPauseOnCall(v,S)||this._pauseOnNextStatement&&shouldPauseBeforeStep(S))await this.pause(v,S)}async _doSlowMo(){await new Promise((v=>setTimeout(v,this._slowMo)))}async onAfterCall(v,S){if(this._slowMo&&shouldSlowMo(S))await this._doSlowMo()}async onBeforeInputAction(v,S){if(this._muted)return;if(this._enabled&&this._pauseOnNextStatement)await this.pause(v,S)}async pause(v,S){if(this._muted)return;this._enabled=true;S.pauseStartTime=(0,H.monotonicTime)();const Q=new Promise((Q=>{this._pausedCallsMetadata.set(S,{resolve:Q,sdkObject:v})}));this.emit(Debugger.Events.PausedStateChanged);return Q}resume(v){if(!this.isPaused())return;this._pauseOnNextStatement=v;const S=(0,H.monotonicTime)();for(const[v,{resolve:Q}]of this._pausedCallsMetadata){v.pauseEndTime=S;Q()}this._pausedCallsMetadata.clear();this.emit(Debugger.Events.PausedStateChanged)}pauseOnNextStatement(){this._pauseOnNextStatement=true}isPaused(v){if(v)return this._pausedCallsMetadata.has(v);return!!this._pausedCallsMetadata.size}pausedDetails(){const v=[];for(const[S,{sdkObject:Q}]of this._pausedCallsMetadata)v.push({metadata:S,sdkObject:Q});return v}}S.Debugger=Debugger;Debugger.Events={PausedStateChanged:"pausedstatechanged"};function shouldPauseOnCall(v,S){var Q;if(v.attribution.playwright.options.isServer)return false;if(!((Q=v.attribution.browser)!==null&&Q!==void 0&&Q.options.headful)&&!(0,H.isUnderTest)())return false;return S.method==="pause"}function shouldPauseBeforeStep(v){if(!v.apiName)return false;if(v.method==="close")return true;if(v.method==="waitForSelector"||v.method==="waitForEventInfo")return false;const S=v.type+"."+v.method;return J.commandsWithTracingSnapshots.has(S)&&!J.pausesBeforeInputActions.has(v.type+"."+v.method)}function shouldSlowMo(v){return J.slowMoActions.has(v.type+"."+v.method)}},2327:(v,S,Q)=>{v.exports=Q(9870)},1645:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Dialog=void 0;var O=Q(3557);var H=Q(6686);class Dialog extends H.SdkObject{constructor(v,S,Q,O,H){super(v,"dialog");this._page=void 0;this._type=void 0;this._message=void 0;this._onHandle=void 0;this._handled=false;this._defaultValue=void 0;this._page=v;this._type=S;this._message=Q;this._onHandle=O;this._defaultValue=H||"";this._page._frameManager.dialogDidOpen(this)}page(){return this._page}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(v){(0,O.assert)(!this._handled,"Cannot accept dialog which is already handled!");this._handled=true;this._page._frameManager.dialogWillClose(this);await this._onHandle(true,v)}async dismiss(){(0,O.assert)(!this._handled,"Cannot dismiss dialog which is already handled!");this._handled=true;this._page._frameManager.dialogWillClose(this);await this._onHandle(false)}async close(){if(this._type==="beforeunload")await this.accept();else await this.dismiss()}}S.Dialog=Dialog},3037:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.AndroidSocketDispatcher=S.AndroidDispatcher=S.AndroidDeviceDispatcher=void 0;var O=Q(4098);var H=Q(6781);var V=Q(6170);class AndroidDispatcher extends O.Dispatcher{constructor(v,S){super(v,S,"Android",{});this._type_Android=true}async devices(v){const S=await this._object.devices(v);return{devices:S.map((v=>AndroidDeviceDispatcher.from(this,v)))}}async setDefaultTimeoutNoReply(v){this._object.setDefaultTimeout(v.timeout)}}S.AndroidDispatcher=AndroidDispatcher;class AndroidDeviceDispatcher extends O.Dispatcher{static from(v,S){const Q=(0,O.existingDispatcher)(S);return Q||new AndroidDeviceDispatcher(v,S)}constructor(v,S){super(v,S,"AndroidDevice",{model:S.model,serial:S.serial});this._type_EventTarget=true;this._type_AndroidDevice=true;for(const v of S.webViews())this._dispatchEvent("webViewAdded",{webView:v});this.addObjectListener(H.AndroidDevice.Events.WebViewAdded,(v=>this._dispatchEvent("webViewAdded",{webView:v})));this.addObjectListener(H.AndroidDevice.Events.WebViewRemoved,(v=>this._dispatchEvent("webViewRemoved",{socketName:v})));this.addObjectListener(H.AndroidDevice.Events.Close,(v=>this._dispatchEvent("close")))}async wait(v){await this._object.send("wait",v)}async fill(v){await this._object.send("click",{selector:v.selector});await this._object.send("fill",v)}async tap(v){await this._object.send("click",v)}async drag(v){await this._object.send("drag",v)}async fling(v){await this._object.send("fling",v)}async longTap(v){await this._object.send("longClick",v)}async pinchClose(v){await this._object.send("pinchClose",v)}async pinchOpen(v){await this._object.send("pinchOpen",v)}async scroll(v){await this._object.send("scroll",v)}async swipe(v){await this._object.send("swipe",v)}async info(v){return{info:await this._object.send("info",v)}}async inputType(v){const S=v.text;const Q=[];for(let v=0;v<S.length;++v){const O=J.get(S[v].toUpperCase());if(O===undefined)throw new Error("No mapping for "+S[v]+" found");Q.push(O)}await Promise.all(Q.map((v=>this._object.send("inputPress",{keyCode:v}))))}async inputPress(v){if(!J.has(v.key))throw new Error("Unknown key: "+v.key);await this._object.send("inputPress",{keyCode:J.get(v.key)})}async inputTap(v){await this._object.send("inputClick",v)}async inputSwipe(v){await this._object.send("inputSwipe",v)}async inputDrag(v){await this._object.send("inputDrag",v)}async screenshot(v){return{binary:await this._object.screenshot()}}async shell(v){return{result:await this._object.shell(v.command)}}async open(v,S){const Q=await this._object.open(v.command);return{socket:new AndroidSocketDispatcher(this,Q)}}async installApk(v){await this._object.installApk(v.file,{args:v.args})}async push(v){await this._object.push(v.file,v.path,v.mode)}async launchBrowser(v){const S=await this._object.launchBrowser(v.pkg,v);return{context:new V.BrowserContextDispatcher(this,S)}}async close(v){await this._object.close()}async setDefaultTimeoutNoReply(v){this._object.setDefaultTimeout(v.timeout)}async connectToWebView(v){return{context:new V.BrowserContextDispatcher(this,await this._object.connectToWebView(v.socketName))}}}S.AndroidDeviceDispatcher=AndroidDeviceDispatcher;class AndroidSocketDispatcher extends O.Dispatcher{constructor(v,S){super(v,S,"AndroidSocket",{});this._type_AndroidSocket=true;this.addObjectListener("data",(v=>this._dispatchEvent("data",{data:v})));this.addObjectListener("close",(()=>{this._dispatchEvent("close");this._dispose()}))}async write(v,S){await this._object.write(v.data)}async close(v,S){this._object.close()}}S.AndroidSocketDispatcher=AndroidSocketDispatcher;const J=new Map([["Unknown",0],["SoftLeft",1],["SoftRight",2],["Home",3],["Back",4],["Call",5],["EndCall",6],["0",7],["1",8],["2",9],["3",10],["4",11],["5",12],["6",13],["7",14],["8",15],["9",16],["Star",17],["*",17],["Pound",18],["#",18],["DialUp",19],["DialDown",20],["DialLeft",21],["DialRight",22],["DialCenter",23],["VolumeUp",24],["VolumeDown",25],["Power",26],["Camera",27],["Clear",28],["A",29],["B",30],["C",31],["D",32],["E",33],["F",34],["G",35],["H",36],["I",37],["J",38],["K",39],["L",40],["M",41],["N",42],["O",43],["P",44],["Q",45],["R",46],["S",47],["T",48],["U",49],["V",50],["W",51],["X",52],["Y",53],["Z",54],["Comma",55],[",",55],["Period",56],[".",56],["AltLeft",57],["AltRight",58],["ShiftLeft",59],["ShiftRight",60],["Tab",61],["\t",61],["Space",62],[" ",62],["Sym",63],["Explorer",64],["Envelop",65],["Enter",66],["Del",67],["Grave",68],["Minus",69],["-",69],["Equals",70],["=",70],["LeftBracket",71],["(",71],["RightBracket",72],[")",72],["Backslash",73],["\\",73],["Semicolon",74],[";",74],["Apostrophe",75],["`",75],["Slash",76],["/",76],["At",77],["@",77],["Num",78],["HeadsetHook",79],["Focus",80],["Plus",81],["Menu",82],["Notification",83],["Search",84],["AppSwitch",187],["Assist",219],["Cut",277],["Copy",278],["Paste",279]])},2810:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ArtifactDispatcher=void 0;var O=Q(4098);var H=Q(3239);var V=_interopRequireDefault(Q(7147));var J=Q(6034);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class ArtifactDispatcher extends O.Dispatcher{static from(v,S){return ArtifactDispatcher.fromNullable(v,S)}static fromNullable(v,S){if(!S)return undefined;const Q=(0,O.existingDispatcher)(S);return Q||new ArtifactDispatcher(v,S)}constructor(v,S){super(v,S,"Artifact",{absolutePath:S.localPath()});this._type_Artifact=true}async pathAfterFinished(){const v=await this._object.localPathAfterFinished();return{value:v}}async saveAs(v){return await new Promise(((S,Q)=>{this._object.saveAs((async(O,H)=>{if(H){Q(H);return}try{await(0,J.mkdirIfNeeded)(v.path);await V.default.promises.copyFile(O,v.path);S()}catch(v){Q(v)}}))}))}async saveAsStream(){return await new Promise(((v,S)=>{this._object.saveAs((async(Q,O)=>{if(O){S(O);return}try{const S=V.default.createReadStream(Q,{highWaterMark:1024*1024});const O=new H.StreamDispatcher(this,S);v({stream:O});await new Promise((v=>{S.on("close",v);S.on("end",v);S.on("error",v)}))}catch(v){S(v)}}))}))}async stream(){const v=await this._object.localPathAfterFinished();const S=V.default.createReadStream(v,{highWaterMark:1024*1024});return{stream:new H.StreamDispatcher(this,S)}}async failure(){const v=await this._object.failureError();return{error:v||undefined}}async cancel(){await this._object.cancel()}async delete(v,S){S.potentiallyClosesScope=true;await this._object.delete();this._dispose()}}S.ArtifactDispatcher=ArtifactDispatcher},6170:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.BrowserContextDispatcher=void 0;var O=Q(5985);var H=Q(4098);var V=Q(7916);var J=Q(1584);var Y=Q(2731);var X=Q(5223);var ee=Q(8584);var ae=Q(2810);var he=Q(7178);var Ee=_interopRequireWildcard(Q(7147));var Be=_interopRequireWildcard(Q(1017));var ke=Q(3557);var Re=Q(1253);var Oe=Q(1865);var Pe=Q(1145);var Le=Q(1311);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class BrowserContextDispatcher extends H.Dispatcher{constructor(v,S){const Q=J.APIRequestContextDispatcher.from(v,S.fetchRequest);const X=he.TracingDispatcher.from(v,S.tracing);super(v,S,"BrowserContext",{isChromium:S._browser.options.isChromium,isLocalBrowserOnServer:S._browser._isCollocatedWithServer,requestContext:Q,tracing:X});this._type_EventTarget=true;this._type_BrowserContext=true;this._context=void 0;this._subscriptions=new Set;this.adopt(Q);this.adopt(X);this._context=S;const onVideo=S=>{const Q=ae.ArtifactDispatcher.from(v,S);this._dispatchEvent("video",{artifact:Q})};this.addObjectListener(O.BrowserContext.Events.VideoStarted,onVideo);for(const v of S._browser._idToVideo.values()){if(v.context===S)onVideo(v.artifact)}for(const v of S.pages())this._dispatchEvent("page",{page:V.PageDispatcher.from(this,v)});this.addObjectListener(O.BrowserContext.Events.Page,(v=>{this._dispatchEvent("page",{page:V.PageDispatcher.from(this,v)})}));this.addObjectListener(O.BrowserContext.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(O.BrowserContext.Events.PageError,((v,S)=>{this._dispatchEvent("pageError",{error:(0,Pe.serializeError)(v),page:V.PageDispatcher.from(this,S)})}));this.addObjectListener(O.BrowserContext.Events.Console,(v=>{if(this._shouldDispatchEvent(v.page(),"console")){const S=V.PageDispatcher.from(this,v.page());this._dispatchEvent("console",{page:S,type:v.type(),text:v.text(),args:v.args().map((v=>Le.ElementHandleDispatcher.fromJSHandle(S,v))),location:v.location()})}}));this.addObjectListener(O.BrowserContext.Events.Dialog,(v=>{if(this._shouldDispatchEvent(v.page(),"dialog"))this._dispatchEvent("dialog",{dialog:new Oe.DialogDispatcher(this,v)});else v.close().catch((()=>{}))}));if(S._browser.options.name==="chromium"){for(const v of S.backgroundPages())this._dispatchEvent("backgroundPage",{page:V.PageDispatcher.from(this,v)});this.addObjectListener(Y.CRBrowserContext.CREvents.BackgroundPage,(v=>this._dispatchEvent("backgroundPage",{page:V.PageDispatcher.from(this,v)})));for(const v of S.serviceWorkers())this._dispatchEvent("serviceWorker",{worker:new V.WorkerDispatcher(this,v)});this.addObjectListener(Y.CRBrowserContext.CREvents.ServiceWorker,(v=>this._dispatchEvent("serviceWorker",{worker:new V.WorkerDispatcher(this,v)})))}this.addObjectListener(O.BrowserContext.Events.Request,(v=>{var S;const Q=v.redirectedFrom()&&(0,H.existingDispatcher)(v.redirectedFrom());if(!Q&&!this._shouldDispatchNetworkEvent(v,"request")&&!v.isNavigationRequest())return;const O=J.RequestDispatcher.from(this,v);this._dispatchEvent("request",{request:O,page:V.PageDispatcher.fromNullable(this,(S=v.frame())===null||S===void 0?void 0:S._page.initializedOrUndefined())})}));this.addObjectListener(O.BrowserContext.Events.Response,(v=>{var S;const Q=(0,H.existingDispatcher)(v.request());if(!Q&&!this._shouldDispatchNetworkEvent(v.request(),"response"))return;this._dispatchEvent("response",{response:J.ResponseDispatcher.from(this,v),page:V.PageDispatcher.fromNullable(this,(S=v.frame())===null||S===void 0?void 0:S._page.initializedOrUndefined())})}));this.addObjectListener(O.BrowserContext.Events.RequestFailed,(v=>{var S;const Q=(0,H.existingDispatcher)(v);if(!Q&&!this._shouldDispatchNetworkEvent(v,"requestFailed"))return;this._dispatchEvent("requestFailed",{request:J.RequestDispatcher.from(this,v),failureText:v._failureText||undefined,responseEndTiming:v._responseEndTiming,page:V.PageDispatcher.fromNullable(this,(S=v.frame())===null||S===void 0?void 0:S._page.initializedOrUndefined())})}));this.addObjectListener(O.BrowserContext.Events.RequestFinished,(({request:v,response:S})=>{var Q;const O=(0,H.existingDispatcher)(v);if(!O&&!this._shouldDispatchNetworkEvent(v,"requestFinished"))return;this._dispatchEvent("requestFinished",{request:J.RequestDispatcher.from(this,v),response:J.ResponseDispatcher.fromNullable(this,S),responseEndTiming:v._responseEndTiming,page:V.PageDispatcher.fromNullable(this,(Q=v.frame())===null||Q===void 0?void 0:Q._page.initializedOrUndefined())})}))}_shouldDispatchNetworkEvent(v,S){var Q,O;return this._shouldDispatchEvent((Q=v.frame())===null||Q===void 0?void 0:(O=Q._page)===null||O===void 0?void 0:O.initializedOrUndefined(),S)}_shouldDispatchEvent(v,S){if(this._subscriptions.has(S))return true;const Q=v?(0,H.existingDispatcher)(v):undefined;if(Q!==null&&Q!==void 0&&Q._subscriptions.has(S))return true;return false}async createTempFile(v){const S=this._context._browser.options.artifactsDir;const Q=Be.join(S,"upload-"+(0,ke.createGuid)());await Ee.promises.mkdir(Q);this._context._tempDirs.push(Q);const O=Ee.createWriteStream(Be.join(Q,v.name));return{writableStream:new Re.WritableStreamDispatcher(this,O,v.lastModifiedMs)}}async setDefaultNavigationTimeoutNoReply(v){this._context.setDefaultNavigationTimeout(v.timeout)}async setDefaultTimeoutNoReply(v){this._context.setDefaultTimeout(v.timeout)}async exposeBinding(v){await this._context.exposeBinding(v.name,!!v.needsHandle,((S,...Q)=>{if(this._disposed)return;const O=V.PageDispatcher.from(this,S.page);const H=new V.BindingCallDispatcher(O,v.name,!!v.needsHandle,S,Q);this._dispatchEvent("bindingCall",{binding:H});return H.promise()}))}async newPage(v,S){return{page:V.PageDispatcher.from(this,await this._context.newPage(S))}}async cookies(v){return{cookies:await this._context.cookies(v.urls)}}async addCookies(v){await this._context.addCookies(v.cookies)}async clearCookies(){await this._context.clearCookies()}async grantPermissions(v){await this._context.grantPermissions(v.permissions,v.origin)}async clearPermissions(){await this._context.clearPermissions()}async setGeolocation(v){await this._context.setGeolocation(v.geolocation)}async setExtraHTTPHeaders(v){await this._context.setExtraHTTPHeaders(v.headers)}async setOffline(v){await this._context.setOffline(v.offline)}async setHTTPCredentials(v){await this._context.setHTTPCredentials(v.httpCredentials)}async addInitScript(v){await this._context.addInitScript(v.source)}async setNetworkInterceptionPatterns(v){if(!v.patterns.length){await this._context.setRequestInterceptor(undefined);return}const S=v.patterns.map((v=>v.regexSource?new RegExp(v.regexSource,v.regexFlags):v.glob));await this._context.setRequestInterceptor(((v,Q)=>{const O=S.some((v=>(0,ke.urlMatches)(this._context._options.baseURL,Q.url(),v)));if(!O)return false;this._dispatchEvent("route",{route:J.RouteDispatcher.from(J.RequestDispatcher.from(this,Q),v)});return true}))}async storageState(v,S){return await this._context.storageState()}async close(v,S){S.potentiallyClosesScope=true;await this._context.close(v)}async recorderSupplementEnable(v){await ee.Recorder.show(this._context,v)}async pause(v,S){}async newCDPSession(v){if(!this._object._browser.options.isChromium)throw new Error(`CDP session is only available in Chromium`);if(!v.page&&!v.frame||v.page&&v.frame)throw new Error(`CDP session must be initiated with either Page or Frame, not none or both`);const S=this._object;return{session:new X.CDPSessionDispatcher(this,await S.newCDPSession((v.page?v.page:v.frame)._object))}}async harStart(v){const S=await this._context._harStart(v.page?v.page._object:null,v.options);return{harId:S}}async harExport(v){const S=await this._context._harExport(v.harId);if(!S)throw new Error("No HAR artifact. Ensure record.harPath is set.");return{artifact:ae.ArtifactDispatcher.from(this,S)}}async updateSubscription(v){if(v.enabled)this._subscriptions.add(v.event);else this._subscriptions.delete(v.event)}_onDispose(){if(!this._context.isClosingOrClosed())this._context.setRequestInterceptor(undefined).catch((()=>{}))}}S.BrowserContextDispatcher=BrowserContextDispatcher},9241:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ConnectedBrowserDispatcher=S.BrowserDispatcher=void 0;var O=Q(6705);var H=Q(6170);var V=Q(5223);var J=Q(4098);var Y=Q(5985);var X=Q(5875);var ee=Q(2810);class BrowserDispatcher extends J.Dispatcher{constructor(v,S){super(v,S,"Browser",{version:S.version(),name:S.options.name});this._type_Browser=true;this.addObjectListener(O.Browser.Events.Disconnected,(()=>this._didClose()))}_didClose(){this._dispatchEvent("close");this._dispose()}async newContext(v,S){const Q=await this._object.newContext(S,v);return{context:new H.BrowserContextDispatcher(this,Q)}}async newContextForReuse(v,S){return await newContextForReuse(this._object,this,v,null,S)}async stopPendingOperations(v,S){await this._object.stopPendingOperations(v.reason)}async close(v,S){S.potentiallyClosesScope=true;await this._object.close(v)}async killForTests(v,S){S.potentiallyClosesScope=true;await this._object.killForTests()}async defaultUserAgentForTest(){return{userAgent:this._object.userAgent()}}async newBrowserCDPSession(){if(!this._object.options.isChromium)throw new Error(`CDP session is only available in Chromium`);const v=this._object;return{session:new V.CDPSessionDispatcher(this,await v.newBrowserCDPSession())}}async startTracing(v){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const S=this._object;await S.startTracing(v.page?v.page._object:undefined,v)}async stopTracing(){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const v=this._object;return{artifact:ee.ArtifactDispatcher.from(this,await v.stopTracing())}}}S.BrowserDispatcher=BrowserDispatcher;class ConnectedBrowserDispatcher extends J.Dispatcher{constructor(v,S){super(v,S,"Browser",{version:S.version(),name:S.options.name});this._type_Browser=true;this._contexts=new Set;this.selectors=void 0;this.selectors=new X.Selectors}async newContext(v,S){if(v.recordVideo)v.recordVideo.dir=this._object.options.artifactsDir;const Q=await this._object.newContext(S,v);this._contexts.add(Q);Q.setSelectors(this.selectors);Q.on(Y.BrowserContext.Events.Close,(()=>this._contexts.delete(Q)));return{context:new H.BrowserContextDispatcher(this,Q)}}async newContextForReuse(v,S){return await newContextForReuse(this._object,this,v,this.selectors,S)}async stopPendingOperations(v,S){await this._object.stopPendingOperations(v.reason)}async close(){}async killForTests(){}async defaultUserAgentForTest(){throw new Error("Client should not send us Browser.defaultUserAgentForTest")}async newBrowserCDPSession(){if(!this._object.options.isChromium)throw new Error(`CDP session is only available in Chromium`);const v=this._object;return{session:new V.CDPSessionDispatcher(this,await v.newBrowserCDPSession())}}async startTracing(v){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const S=this._object;await S.startTracing(v.page?v.page._object:undefined,v)}async stopTracing(){if(!this._object.options.isChromium)throw new Error(`Tracing is only available in Chromium`);const v=this._object;return{artifact:ee.ArtifactDispatcher.from(this,await v.stopTracing())}}async cleanupContexts(){await Promise.all(Array.from(this._contexts).map((v=>v.close({reason:"Global context cleanup (connection terminated)"}))))}}S.ConnectedBrowserDispatcher=ConnectedBrowserDispatcher;async function newContextForReuse(v,S,Q,O,V){const{context:Y,needsReset:X}=await v.newContextForReuse(Q,V);if(X){const v=(0,J.existingDispatcher)(Y);if(v)v._dispose();await Y.resetForReuse(V,Q)}if(O)Y.setSelectors(O);const ee=new H.BrowserContextDispatcher(S,Y);return{context:ee}}},6555:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.BrowserTypeDispatcher=void 0;var O=Q(9241);var H=Q(4098);var V=Q(6170);class BrowserTypeDispatcher extends H.Dispatcher{constructor(v,S){super(v,S,"BrowserType",{executablePath:S.executablePath(),name:S.name()});this._type_BrowserType=true}async launch(v,S){const Q=await this._object.launch(S,v);return{browser:new O.BrowserDispatcher(this,Q)}}async launchPersistentContext(v,S){const Q=await this._object.launchPersistentContext(S,v.userDataDir,v);return{context:new V.BrowserContextDispatcher(this,Q)}}async connectOverCDP(v,S){const Q=await this._object.connectOverCDP(S,v.endpointURL,v,v.timeout);const H=new O.BrowserDispatcher(this,Q);return{browser:H,defaultContext:Q._defaultContext?new V.BrowserContextDispatcher(H,Q._defaultContext):undefined}}}S.BrowserTypeDispatcher=BrowserTypeDispatcher},5223:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CDPSessionDispatcher=void 0;var O=Q(5460);var H=Q(4098);class CDPSessionDispatcher extends H.Dispatcher{constructor(v,S){super(v,S,"CDPSession",{});this._type_CDPSession=true;this.addObjectListener(O.CDPSession.Events.Event,(({method:v,params:S})=>this._dispatchEvent("event",{method:v,params:S})));this.addObjectListener(O.CDPSession.Events.Closed,(()=>this._dispose()))}async send(v){return{result:await this._object.send(v.method,v.params)}}async detach(v,S){S.potentiallyClosesScope=true;await this._object.detach()}}S.CDPSessionDispatcher=CDPSessionDispatcher},8365:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.DebugControllerDispatcher=void 0;var O=Q(3557);var H=Q(1455);var V=Q(4098);class DebugControllerDispatcher extends V.Dispatcher{constructor(v,S){super(v,S,"DebugController",{});this._type_DebugController=void 0;this._listeners=void 0;this._type_DebugController=true;this._listeners=[O.eventsHelper.addEventListener(this._object,H.DebugController.Events.StateChanged,(v=>{this._dispatchEvent("stateChanged",v)})),O.eventsHelper.addEventListener(this._object,H.DebugController.Events.InspectRequested,(({selector:v,locator:S})=>{this._dispatchEvent("inspectRequested",{selector:v,locator:S})})),O.eventsHelper.addEventListener(this._object,H.DebugController.Events.SourceChanged,(({text:v,header:S,footer:Q,actions:O})=>{this._dispatchEvent("sourceChanged",{text:v,header:S,footer:Q,actions:O})})),O.eventsHelper.addEventListener(this._object,H.DebugController.Events.Paused,(({paused:v})=>{this._dispatchEvent("paused",{paused:v})})),O.eventsHelper.addEventListener(this._object,H.DebugController.Events.SetModeRequested,(({mode:v})=>{this._dispatchEvent("setModeRequested",{mode:v})}))]}async initialize(v){this._object.initialize(v.codegenId,v.sdkLanguage)}async setReportStateChanged(v){this._object.setReportStateChanged(v.enabled)}async resetForReuse(){await this._object.resetForReuse()}async navigate(v){await this._object.navigate(v.url)}async setRecorderMode(v){await this._object.setRecorderMode(v)}async highlight(v){await this._object.highlight(v.selector)}async hideHighlight(){await this._object.hideHighlight()}async resume(){await this._object.resume()}async kill(){await this._object.kill()}async closeAllBrowsers(){await this._object.closeAllBrowsers()}_onDispose(){O.eventsHelper.removeEventListeners(this._listeners);this._object.dispose()}}S.DebugControllerDispatcher=DebugControllerDispatcher},1865:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.DialogDispatcher=void 0;var O=Q(4098);var H=Q(7916);class DialogDispatcher extends O.Dispatcher{constructor(v,S){const Q=H.PageDispatcher.fromNullable(v,S.page().initializedOrUndefined());super(Q||v,S,"Dialog",{page:Q,type:S.type(),message:S.message(),defaultValue:S.defaultValue()});this._type_Dialog=true}async accept(v){await this._object.accept(v.promptText)}async dismiss(){await this._object.dismiss()}}S.DialogDispatcher=DialogDispatcher},4098:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.dispatcherSymbol=S.RootDispatcher=S.DispatcherConnection=S.Dispatcher=void 0;S.existingDispatcher=existingDispatcher;S.setMaxDispatchersForTest=setMaxDispatchersForTest;var O=Q(2361);var H=Q(7989);var V=Q(3557);var J=Q(1145);var Y=Q(6686);var X=Q(3841);var ee=Q(7314);const ae=S.dispatcherSymbol=Symbol("dispatcher");const he=(0,H.createMetadataValidator)();function existingDispatcher(v){return v[ae]}let Ee;function setMaxDispatchersForTest(v){Ee=v}function maxDispatchersForBucket(v){var S,Q;return(S=(Q=Ee)!==null&&Q!==void 0?Q:{JSHandle:1e5,ElementHandle:1e5}[v])!==null&&S!==void 0?S:1e4}class Dispatcher extends O.EventEmitter{constructor(v,S,Q,O,H){super();this._connection=void 0;this._parent=void 0;this._dispatchers=new Map;this._disposed=false;this._eventListeners=[];this._guid=void 0;this._type=void 0;this._gcBucket=void 0;this._object=void 0;this._openScope=new V.LongStandingScope;this._connection=v instanceof DispatcherConnection?v:v._connection;this._parent=v instanceof DispatcherConnection?undefined:v;const J=S.guid;this._guid=J;this._type=Q;this._object=S;this._gcBucket=H!==null&&H!==void 0?H:Q;S[ae]=this;this._connection.registerDispatcher(this);if(this._parent){(0,V.assert)(!this._parent._dispatchers.has(J));this._parent._dispatchers.set(J,this)}if(this._parent)this._connection.sendCreate(this._parent,Q,J,O,this._parent._object);this._connection.maybeDisposeStaleDispatchers(this._gcBucket)}parentScope(){return this._parent}addObjectListener(v,S){this._eventListeners.push(X.eventsHelper.addEventListener(this._object,v,S))}adopt(v){if(v._parent===this)return;const S=v._parent;S._dispatchers.delete(v._guid);this._dispatchers.set(v._guid,v);v._parent=this;this._connection.sendAdopt(this,v)}async _handleCommand(v,S,Q){const O=this[S](Q,v);try{return await this._openScope.race(O)}catch(S){if(v.potentiallyClosesScope&&(0,J.isTargetClosedError)(S))return await O;throw S}}_dispatchEvent(v,S){if(this._disposed){if((0,V.isUnderTest)())throw new Error(`${this._guid} is sending "${String(v)}" event after being disposed`);return}const Q=this._object instanceof Y.SdkObject?this._object:undefined;this._connection.sendEvent(this,v,S,Q)}_dispose(v){this._disposeRecursively(new J.TargetClosedError);this._connection.sendDispose(this,v)}_onDispose(){}_disposeRecursively(v){var S;(0,V.assert)(!this._disposed,`${this._guid} is disposed more than once`);this._onDispose();this._disposed=true;X.eventsHelper.removeEventListeners(this._eventListeners);(S=this._parent)===null||S===void 0?void 0:S._dispatchers.delete(this._guid);const Q=this._connection._dispatchersByBucket.get(this._gcBucket);Q===null||Q===void 0?void 0:Q.delete(this._guid);this._connection._dispatchers.delete(this._guid);for(const S of[...this._dispatchers.values()])S._disposeRecursively(v);this._dispatchers.clear();delete this._object[ae];this._openScope.close(v)}_debugScopeState(){return{_guid:this._guid,objects:Array.from(this._dispatchers.values()).map((v=>v._debugScopeState()))}}async waitForEventInfo(){}}S.Dispatcher=Dispatcher;class RootDispatcher extends Dispatcher{constructor(v,S){super(v,{guid:""},"Root",{});this._initialized=false;this.createPlaywright=S}async initialize(v){(0,V.assert)(this.createPlaywright);(0,V.assert)(!this._initialized);this._initialized=true;return{playwright:await this.createPlaywright(this,v)}}}S.RootDispatcher=RootDispatcher;class DispatcherConnection{constructor(v){this._dispatchers=new Map;this._dispatchersByBucket=new Map;this.onmessage=v=>{};this._waitOperations=new Map;this._isLocal=void 0;this._isLocal=!!v}sendEvent(v,S,Q,O){const V=(0,H.findValidator)(v._type,S,"Event");Q=V(Q,"",{tChannelImpl:this._tChannelImplToWire.bind(this),binary:this._isLocal?"buffer":"toBase64"});this._sendMessageToClient(v._guid,v._type,S,Q,O)}sendCreate(v,S,Q,O,V){const J=(0,H.findValidator)(S,"","Initializer");O=J(O,"",{tChannelImpl:this._tChannelImplToWire.bind(this),binary:this._isLocal?"buffer":"toBase64"});this._sendMessageToClient(v._guid,S,"__create__",{type:S,initializer:O,guid:Q},V)}sendAdopt(v,S){this._sendMessageToClient(v._guid,S._type,"__adopt__",{guid:S._guid})}sendDispose(v,S){this._sendMessageToClient(v._guid,v._type,"__dispose__",{reason:S})}_sendMessageToClient(v,S,Q,O,H){if(H){var J,Y,X;const v={type:"event",class:S,method:Q,params:O||{},time:(0,V.monotonicTime)(),pageId:H===null||H===void 0?void 0:(J=H.attribution)===null||J===void 0?void 0:(Y=J.page)===null||Y===void 0?void 0:Y.guid};(X=H.instrumentation)===null||X===void 0?void 0:X.onEvent(H,v)}this.onmessage({guid:v,method:Q,params:O})}_tChannelImplFromWire(v,S,Q,O){if(S&&typeof S==="object"&&typeof S.guid==="string"){const O=S.guid;const V=this._dispatchers.get(O);if(!V)throw new H.ValidationError(`${Q}: no object with guid ${O}`);if(v!=="*"&&!v.includes(V._type))throw new H.ValidationError(`${Q}: object with guid ${O} has type ${V._type}, expected ${v.toString()}`);return V}throw new H.ValidationError(`${Q}: expected guid for ${v.toString()}`)}_tChannelImplToWire(v,S,Q,O){if(S instanceof Dispatcher){if(v!=="*"&&!v.includes(S._type))throw new H.ValidationError(`${Q}: dispatcher with guid ${S._guid} has type ${S._type}, expected ${v.toString()}`);return{guid:S._guid}}throw new H.ValidationError(`${Q}: expected dispatcher ${v.toString()}`)}registerDispatcher(v){(0,V.assert)(!this._dispatchers.has(v._guid));this._dispatchers.set(v._guid,v);let S=this._dispatchersByBucket.get(v._gcBucket);if(!S){S=new Set;this._dispatchersByBucket.set(v._gcBucket,S)}S.add(v._guid)}maybeDisposeStaleDispatchers(v){const S=maxDispatchersForBucket(v);const Q=this._dispatchersByBucket.get(v);if(!Q||Q.size<=S)return;const O=[...Q];const H=S/10|0;this._dispatchersByBucket.set(v,new Set(O.slice(H)));for(let v=0;v<H;++v){const S=this._dispatchers.get(O[v]);if(!S)continue;S._dispose("gc")}}async dispatch(v){var S,Q,O,X,ae;const{id:Ee,guid:Be,method:ke,params:Re,metadata:Oe}=v;const Pe=this._dispatchers.get(Be);if(!Pe){this.onmessage({id:Ee,error:(0,J.serializeError)(new J.TargetClosedError)});return}let Le;let je;try{const v=(0,H.findValidator)(Pe._type,ke,"Params");Le=v(Re,"",{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._isLocal?"buffer":"fromBase64"});je=he(Oe,"",{tChannelImpl:this._tChannelImplFromWire.bind(this),binary:this._isLocal?"buffer":"fromBase64"});if(typeof Pe[ke]!=="function")throw new Error(`Mismatching dispatcher: "${Pe._type}" does not implement "${ke}"`)}catch(v){this.onmessage({id:Ee,error:(0,J.serializeError)(v)});return}const qe=Pe._object instanceof Y.SdkObject?Pe._object:undefined;const Ve={id:`call@${Ee}`,wallTime:je.wallTime||Date.now(),location:je.location,apiName:je.apiName,internal:je.internal,objectId:qe===null||qe===void 0?void 0:qe.guid,pageId:qe===null||qe===void 0?void 0:(S=qe.attribution)===null||S===void 0?void 0:(Q=S.page)===null||Q===void 0?void 0:Q.guid,frameId:qe===null||qe===void 0?void 0:(O=qe.attribution)===null||O===void 0?void 0:(X=O.frame)===null||X===void 0?void 0:X.guid,startTime:(0,V.monotonicTime)(),endTime:0,type:Pe._type,method:ke,params:Re||{},log:[]};if(qe&&Re!==null&&Re!==void 0&&(ae=Re.info)!==null&&ae!==void 0&&ae.waitId){const v=Re.info;switch(v.phase){case"before":{this._waitOperations.set(v.waitId,Ve);await qe.instrumentation.onBeforeCall(qe,Ve);this.onmessage({id:Ee});return}case"log":{const S=this._waitOperations.get(v.waitId);S.log.push(v.message);qe.instrumentation.onCallLog(qe,S,"api",v.message);this.onmessage({id:Ee});return}case"after":{const S=this._waitOperations.get(v.waitId);S.endTime=(0,V.monotonicTime)();S.error=v.error?{error:{name:"Error",message:v.error}}:undefined;this._waitOperations.delete(v.waitId);await qe.instrumentation.onAfterCall(qe,S);this.onmessage({id:Ee});return}}}await(qe===null||qe===void 0?void 0:qe.instrumentation.onBeforeCall(qe,Ve));try{const v=await Pe._handleCommand(Ve,ke,Le);const S=(0,H.findValidator)(Pe._type,ke,"Result");Ve.result=S(v,"",{tChannelImpl:this._tChannelImplToWire.bind(this),binary:this._isLocal?"buffer":"toBase64"})}catch(v){if((0,J.isTargetClosedError)(v)&&qe){const S=closeReason(qe);if(S)(0,V.rewriteErrorMessage)(v,S)}else if((0,ee.isProtocolError)(v)){if(v.type==="closed"){const S=qe?closeReason(qe):undefined;v=new J.TargetClosedError(S,v.browserLogMessage())}else if(v.type==="crashed"){(0,V.rewriteErrorMessage)(v,"Target crashed "+v.browserLogMessage())}}Ve.error=(0,J.serializeError)(v)}finally{Ve.endTime=(0,V.monotonicTime)();await(qe===null||qe===void 0?void 0:qe.instrumentation.onAfterCall(qe,Ve))}const ze={id:Ee};if(Ve.result)ze.result=Ve.result;if(Ve.error){ze.error=Ve.error;ze.log=Ve.log}this.onmessage(ze)}}S.DispatcherConnection=DispatcherConnection;function closeReason(v){var S,Q,O;return((S=v.attribution.page)===null||S===void 0?void 0:S._closeReason)||((Q=v.attribution.context)===null||Q===void 0?void 0:Q._closeReason)||((O=v.attribution.browser)===null||O===void 0?void 0:O._closeReason)}},1733:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ElectronDispatcher=S.ElectronApplicationDispatcher=void 0;var O=Q(4098);var H=Q(9229);var V=Q(6170);var J=Q(3652);var Y=Q(1311);class ElectronDispatcher extends O.Dispatcher{constructor(v,S){super(v,S,"Electron",{});this._type_Electron=true}async launch(v){const S=await this._object.launch(v);return{electronApplication:new ElectronApplicationDispatcher(this,S)}}}S.ElectronDispatcher=ElectronDispatcher;class ElectronApplicationDispatcher extends O.Dispatcher{constructor(v,S){super(v,S,"ElectronApplication",{context:new V.BrowserContextDispatcher(v,S.context())});this._type_EventTarget=true;this._type_ElectronApplication=true;this.addObjectListener(H.ElectronApplication.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}))}async browserWindow(v){const S=await this._object.browserWindow(v.page.page());return{handle:Y.ElementHandleDispatcher.fromJSHandle(this,S)}}async evaluateExpression(v){const S=await this._object._nodeElectronHandlePromise;return{value:(0,J.serializeResult)(await S.evaluateExpression(v.expression,{isFunction:v.isFunction},(0,J.parseArgument)(v.arg)))}}async evaluateExpressionHandle(v){const S=await this._object._nodeElectronHandlePromise;const Q=await S.evaluateExpressionHandle(v.expression,{isFunction:v.isFunction},(0,J.parseArgument)(v.arg));return{handle:Y.ElementHandleDispatcher.fromJSHandle(this,Q)}}async close(){await this._object.close()}}S.ElectronApplicationDispatcher=ElectronApplicationDispatcher},1311:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ElementHandleDispatcher=void 0;var O=Q(4098);var H=Q(3652);var V=Q(9151);var J=Q(6170);var Y=Q(7916);class ElementHandleDispatcher extends H.JSHandleDispatcher{static from(v,S){return(0,O.existingDispatcher)(S)||new ElementHandleDispatcher(v,S)}static fromNullable(v,S){if(!S)return undefined;return(0,O.existingDispatcher)(S)||new ElementHandleDispatcher(v,S)}static fromJSHandle(v,S){const Q=(0,O.existingDispatcher)(S);if(Q)return Q;return S.asElement()?new ElementHandleDispatcher(v,S.asElement()):new H.JSHandleDispatcher(v,S)}constructor(v,S){super(v,S);this._type_ElementHandle=true;this._elementHandle=void 0;this._elementHandle=S}async ownerFrame(v,S){const Q=await this._elementHandle.ownerFrame();return{frame:Q?V.FrameDispatcher.from(this._browserContextDispatcher(),Q):undefined}}async contentFrame(v,S){const Q=await this._elementHandle.contentFrame();return{frame:Q?V.FrameDispatcher.from(this._browserContextDispatcher(),Q):undefined}}async getAttribute(v,S){const Q=await this._elementHandle.getAttribute(S,v.name);return{value:Q===null?undefined:Q}}async inputValue(v,S){const Q=await this._elementHandle.inputValue(S);return{value:Q}}async textContent(v,S){const Q=await this._elementHandle.textContent(S);return{value:Q===null?undefined:Q}}async innerText(v,S){return{value:await this._elementHandle.innerText(S)}}async innerHTML(v,S){return{value:await this._elementHandle.innerHTML(S)}}async isChecked(v,S){return{value:await this._elementHandle.isChecked(S)}}async isDisabled(v,S){return{value:await this._elementHandle.isDisabled(S)}}async isEditable(v,S){return{value:await this._elementHandle.isEditable(S)}}async isEnabled(v,S){return{value:await this._elementHandle.isEnabled(S)}}async isHidden(v,S){return{value:await this._elementHandle.isHidden(S)}}async isVisible(v,S){return{value:await this._elementHandle.isVisible(S)}}async dispatchEvent(v,S){await this._elementHandle.dispatchEvent(S,v.type,(0,H.parseArgument)(v.eventInit))}async scrollIntoViewIfNeeded(v,S){await this._elementHandle.scrollIntoViewIfNeeded(S,v)}async hover(v,S){return await this._elementHandle.hover(S,v)}async click(v,S){return await this._elementHandle.click(S,v)}async dblclick(v,S){return await this._elementHandle.dblclick(S,v)}async tap(v,S){return await this._elementHandle.tap(S,v)}async selectOption(v,S){const Q=(v.elements||[]).map((v=>v._elementHandle));return{values:await this._elementHandle.selectOption(S,Q,v.options||[],v)}}async fill(v,S){return await this._elementHandle.fill(S,v.value,v)}async selectText(v,S){await this._elementHandle.selectText(S,v)}async setInputFiles(v,S){return await this._elementHandle.setInputFiles(S,v)}async focus(v,S){await this._elementHandle.focus(S)}async type(v,S){return await this._elementHandle.type(S,v.text,v)}async press(v,S){return await this._elementHandle.press(S,v.key,v)}async check(v,S){return await this._elementHandle.check(S,v)}async uncheck(v,S){return await this._elementHandle.uncheck(S,v)}async boundingBox(v,S){const Q=await this._elementHandle.boundingBox();return{value:Q||undefined}}async screenshot(v,S){const Q=(v.mask||[]).map((({frame:v,selector:S})=>({frame:v._object,selector:S})));return{binary:await this._elementHandle.screenshot(S,{...v,mask:Q})}}async querySelector(v,S){const Q=await this._elementHandle.querySelector(v.selector,v);return{element:ElementHandleDispatcher.fromNullable(this.parentScope(),Q)}}async querySelectorAll(v,S){const Q=await this._elementHandle.querySelectorAll(v.selector);return{elements:Q.map((v=>ElementHandleDispatcher.from(this.parentScope(),v)))}}async evalOnSelector(v,S){return{value:(0,H.serializeResult)(await this._elementHandle.evalOnSelector(v.selector,!!v.strict,v.expression,v.isFunction,(0,H.parseArgument)(v.arg)))}}async evalOnSelectorAll(v,S){return{value:(0,H.serializeResult)(await this._elementHandle.evalOnSelectorAll(v.selector,v.expression,v.isFunction,(0,H.parseArgument)(v.arg)))}}async waitForElementState(v,S){await this._elementHandle.waitForElementState(S,v.state,v)}async waitForSelector(v,S){return{element:ElementHandleDispatcher.fromNullable(this.parentScope(),await this._elementHandle.waitForSelector(S,v.selector,v))}}_browserContextDispatcher(){const v=this.parentScope();if(v instanceof J.BrowserContextDispatcher)return v;if(v instanceof Y.PageDispatcher)return v.parentScope();if(v instanceof Y.WorkerDispatcher||v instanceof V.FrameDispatcher){const S=v.parentScope();if(S instanceof J.BrowserContextDispatcher)return S;return S.parentScope()}throw new Error("ElementHandle belongs to unexpected scope")}}S.ElementHandleDispatcher=ElementHandleDispatcher},9151:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FrameDispatcher=void 0;var O=Q(3737);var H=Q(4098);var V=Q(1311);var J=Q(3652);var Y=Q(1584);var X=Q(3557);class FrameDispatcher extends H.Dispatcher{static from(v,S){const Q=(0,H.existingDispatcher)(S);return Q||new FrameDispatcher(v,S)}static fromNullable(v,S){if(!S)return;return FrameDispatcher.from(v,S)}constructor(v,S){(0,X.debugAssert)(S._page.mainFrame(),"Cannot determine whether the frame is a main frame");const Q=S._page.mainFrame()===S?"MainFrame":"Frame";const V=(0,H.existingDispatcher)(S._page);super(V||v,S,"Frame",{url:S.url(),name:S.name(),parentFrame:FrameDispatcher.fromNullable(v,S.parentFrame()),loadStates:Array.from(S._firedLifecycleEvents)},Q);this._type_Frame=true;this._frame=void 0;this._browserContextDispatcher=void 0;this._browserContextDispatcher=v;this._frame=S;this.addObjectListener(O.Frame.Events.AddLifecycle,(v=>{this._dispatchEvent("loadstate",{add:v})}));this.addObjectListener(O.Frame.Events.RemoveLifecycle,(v=>{this._dispatchEvent("loadstate",{remove:v})}));this.addObjectListener(O.Frame.Events.InternalNavigation,(v=>{if(!v.isPublic)return;const S={url:v.url,name:v.name,error:v.error?v.error.message:undefined};if(v.newDocument)S.newDocument={request:Y.RequestDispatcher.fromNullable(this._browserContextDispatcher,v.newDocument.request||null)};this._dispatchEvent("navigated",S)}))}async goto(v,S){return{response:Y.ResponseDispatcher.fromNullable(this._browserContextDispatcher,await this._frame.goto(S,v.url,v))}}async frameElement(){return{element:V.ElementHandleDispatcher.from(this,await this._frame.frameElement())}}async evaluateExpression(v,S){return{value:(0,J.serializeResult)(await this._frame.evaluateExpression(v.expression,{isFunction:v.isFunction,exposeUtilityScript:v.exposeUtilityScript},(0,J.parseArgument)(v.arg)))}}async evaluateExpressionHandle(v,S){return{handle:V.ElementHandleDispatcher.fromJSHandle(this,await this._frame.evaluateExpressionHandle(v.expression,{isFunction:v.isFunction},(0,J.parseArgument)(v.arg)))}}async waitForSelector(v,S){return{element:V.ElementHandleDispatcher.fromNullable(this,await this._frame.waitForSelector(S,v.selector,v))}}async dispatchEvent(v,S){return this._frame.dispatchEvent(S,v.selector,v.type,(0,J.parseArgument)(v.eventInit),v)}async evalOnSelector(v,S){return{value:(0,J.serializeResult)(await this._frame.evalOnSelector(v.selector,!!v.strict,v.expression,v.isFunction,(0,J.parseArgument)(v.arg)))}}async evalOnSelectorAll(v,S){return{value:(0,J.serializeResult)(await this._frame.evalOnSelectorAll(v.selector,v.expression,v.isFunction,(0,J.parseArgument)(v.arg)))}}async querySelector(v,S){return{element:V.ElementHandleDispatcher.fromNullable(this,await this._frame.querySelector(v.selector,v))}}async querySelectorAll(v,S){const Q=await this._frame.querySelectorAll(v.selector);return{elements:Q.map((v=>V.ElementHandleDispatcher.from(this,v)))}}async queryCount(v){return{value:await this._frame.queryCount(v.selector)}}async content(){return{value:await this._frame.content()}}async setContent(v,S){return await this._frame.setContent(S,v.html,v)}async addScriptTag(v,S){return{element:V.ElementHandleDispatcher.from(this,await this._frame.addScriptTag(v))}}async addStyleTag(v,S){return{element:V.ElementHandleDispatcher.from(this,await this._frame.addStyleTag(v))}}async click(v,S){S.potentiallyClosesScope=true;return await this._frame.click(S,v.selector,v)}async dblclick(v,S){return await this._frame.dblclick(S,v.selector,v)}async dragAndDrop(v,S){return await this._frame.dragAndDrop(S,v.source,v.target,v)}async tap(v,S){return await this._frame.tap(S,v.selector,v)}async fill(v,S){return await this._frame.fill(S,v.selector,v.value,v)}async focus(v,S){await this._frame.focus(S,v.selector,v)}async blur(v,S){await this._frame.blur(S,v.selector,v)}async textContent(v,S){const Q=await this._frame.textContent(S,v.selector,v);return{value:Q===null?undefined:Q}}async innerText(v,S){return{value:await this._frame.innerText(S,v.selector,v)}}async innerHTML(v,S){return{value:await this._frame.innerHTML(S,v.selector,v)}}async getAttribute(v,S){const Q=await this._frame.getAttribute(S,v.selector,v.name,v);return{value:Q===null?undefined:Q}}async inputValue(v,S){const Q=await this._frame.inputValue(S,v.selector,v);return{value:Q}}async isChecked(v,S){return{value:await this._frame.isChecked(S,v.selector,v)}}async isDisabled(v,S){return{value:await this._frame.isDisabled(S,v.selector,v)}}async isEditable(v,S){return{value:await this._frame.isEditable(S,v.selector,v)}}async isEnabled(v,S){return{value:await this._frame.isEnabled(S,v.selector,v)}}async isHidden(v,S){return{value:await this._frame.isHidden(S,v.selector,v)}}async isVisible(v,S){return{value:await this._frame.isVisible(S,v.selector,v)}}async hover(v,S){return await this._frame.hover(S,v.selector,v)}async selectOption(v,S){const Q=(v.elements||[]).map((v=>v._elementHandle));return{values:await this._frame.selectOption(S,v.selector,Q,v.options||[],v)}}async setInputFiles(v,S){return await this._frame.setInputFiles(S,v.selector,v)}async type(v,S){return await this._frame.type(S,v.selector,v.text,v)}async press(v,S){return await this._frame.press(S,v.selector,v.key,v)}async check(v,S){return await this._frame.check(S,v.selector,v)}async uncheck(v,S){return await this._frame.uncheck(S,v.selector,v)}async waitForTimeout(v,S){return await this._frame.waitForTimeout(S,v.timeout)}async waitForFunction(v,S){return{handle:V.ElementHandleDispatcher.fromJSHandle(this,await this._frame._waitForFunctionExpression(S,v.expression,v.isFunction,(0,J.parseArgument)(v.arg),v))}}async title(v,S){return{value:await this._frame.title()}}async highlight(v,S){return await this._frame.highlight(v.selector)}async expect(v,S){S.potentiallyClosesScope=true;const Q=v.expectedValue?(0,J.parseArgument)(v.expectedValue):undefined;const O=await this._frame.expect(S,v.selector,{...v,expectedValue:Q});if(O.received!==undefined)O.received=(0,J.serializeResult)(O.received);return O}}S.FrameDispatcher=FrameDispatcher},3652:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JSHandleDispatcher=void 0;S.parseArgument=parseArgument;S.parseValue=parseValue;S.serializeResult=serializeResult;var O=Q(4098);var H=Q(1311);var V=Q(5644);class JSHandleDispatcher extends O.Dispatcher{constructor(v,S){super(v,S,S.asElement()?"ElementHandle":"JSHandle",{preview:S.toString()});this._type_JSHandle=true;S._setPreviewCallback((v=>this._dispatchEvent("previewUpdated",{preview:v})))}async evaluateExpression(v){return{value:serializeResult(await this._object.evaluateExpression(v.expression,{isFunction:v.isFunction},parseArgument(v.arg)))}}async evaluateExpressionHandle(v){const S=await this._object.evaluateExpressionHandle(v.expression,{isFunction:v.isFunction},parseArgument(v.arg));return{handle:H.ElementHandleDispatcher.fromJSHandle(this.parentScope(),S)}}async getProperty(v){const S=await this._object.getProperty(v.name);return{handle:H.ElementHandleDispatcher.fromJSHandle(this.parentScope(),S)}}async getPropertyList(){const v=await this._object.getProperties();const S=[];for(const[Q,O]of v)S.push({name:Q,value:H.ElementHandleDispatcher.fromJSHandle(this.parentScope(),O)});return{properties:S}}async jsonValue(){return{value:serializeResult(await this._object.jsonValue())}}async objectCount(v){return{count:await this._object.objectCount()}}async dispose(v,S){S.potentiallyClosesScope=true;this._object.dispose();this._dispose()}}S.JSHandleDispatcher=JSHandleDispatcher;function parseArgument(v){return(0,V.parseSerializedValue)(v.value,v.handles.map((v=>v._object)))}function parseValue(v){return(0,V.parseSerializedValue)(v,[])}function serializeResult(v){return(0,V.serializeValue)(v,(v=>({fallThrough:v})))}},9764:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JsonPipeDispatcher=void 0;var O=Q(4098);var H=Q(3557);var V=Q(1145);class JsonPipeDispatcher extends O.Dispatcher{constructor(v){super(v,{guid:"jsonPipe@"+(0,H.createGuid)()},"JsonPipe",{});this._type_JsonPipe=true}async send(v){this.emit("message",v.message)}async close(){this.emit("close");if(!this._disposed){this._dispatchEvent("closed",{});this._dispose()}}dispatch(v){if(!this._disposed)this._dispatchEvent("message",{message:v})}wasClosed(v){if(!this._disposed){const S=v?{error:(0,V.serializeError)(v)}:{};this._dispatchEvent("closed",S);this._dispose()}}dispose(){this._dispose()}}S.JsonPipeDispatcher=JsonPipeDispatcher},1392:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.LocalUtilsDispatcher=void 0;S.urlToWSEndpoint=urlToWSEndpoint;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=_interopRequireDefault(Q(2037));var J=Q(6729);var Y=Q(3557);var X=Q(4098);var ee=Q(6383);var ae=Q(6435);var he=Q(9764);var Ee=Q(1232);var Be=Q(1010);var ke=Q(9521);var Re=Q(2836);var Oe=Q(9965);var Pe=Q(6686);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class LocalUtilsDispatcher extends X.Dispatcher{constructor(v,S){const O=new Pe.SdkObject(S,"localUtils","localUtils");const H=Q(2327);const V=Object.entries(H).map((([v,S])=>({name:v,descriptor:S})));super(v,O,"LocalUtils",{deviceDescriptors:V});this._type_LocalUtils=void 0;this._harBackends=new Map;this._stackSessions=new Map;this._type_LocalUtils=true}async zip(v){const S=new J.ManualPromise;const Q=new ee.yazl.ZipFile;Q.on("error",(v=>S.reject(v)));const addFile=(v,S)=>{try{if(O.default.statSync(v).isFile())Q.addFile(v,S)}catch(v){}};for(const S of v.entries)addFile(S.value,S.name);const V=v.stacksId?this._stackSessions.get(v.stacksId):undefined;if(V!==null&&V!==void 0&&V.callStacks.length){await V.writer;if(process.env.PW_LIVE_TRACE_STACKS){Q.addFile(V.file,"trace.stacks")}else{const v=Buffer.from(JSON.stringify((0,Y.serializeClientSideCallMetadata)(V.callStacks)));Q.addBuffer(v,"trace.stacks")}}if(v.includeSources){const v=new Set;for(const{stack:S}of(V===null||V===void 0?void 0:V.callStacks)||[]){if(!S)continue;for(const{file:Q}of S)v.add(Q)}for(const S of v)addFile(S,"resources/src@"+(0,Y.calculateSha1)(S)+".txt")}if(v.mode==="write"){await O.default.promises.mkdir(H.default.dirname(v.zipFile),{recursive:true});Q.end(undefined,(()=>{Q.outputStream.pipe(O.default.createWriteStream(v.zipFile)).on("close",(()=>S.resolve())).on("error",(v=>S.reject(v)))}));await S;await this._deleteStackSession(v.stacksId);return}const X=v.zipFile+".tmp";await O.default.promises.rename(v.zipFile,X);ee.yauzl.open(X,((H,V)=>{if(H){S.reject(H);return}(0,Y.assert)(V);let J=V.entryCount;V.on("entry",(H=>{V.openReadStream(H,((V,Y)=>{if(V){S.reject(V);return}Q.addReadStream(Y,H.fileName);if(--J===0){Q.end(undefined,(()=>{Q.outputStream.pipe(O.default.createWriteStream(v.zipFile)).on("close",(()=>{O.default.promises.unlink(X).then((()=>{S.resolve()})).catch((v=>S.reject(v)))}))}))}}))}))}));await S;await this._deleteStackSession(v.stacksId)}async harOpen(v,S){let Q;if(v.file.endsWith(".zip")){const S=new ae.ZipFile(v.file);const O=await S.entries();const H=O.find((v=>v.endsWith(".har")));if(!H)return{error:"Specified archive does not have a .har file"};const V=await S.read(H);const J=JSON.parse(V.toString());Q=new HarBackend(J,null,S)}else{const S=JSON.parse(await O.default.promises.readFile(v.file,"utf-8"));Q=new HarBackend(S,H.default.dirname(v.file),null)}this._harBackends.set(Q.id,Q);return{harId:Q.id}}async harLookup(v,S){const Q=this._harBackends.get(v.harId);if(!Q)return{action:"error",message:`Internal error: har was not opened`};return await Q.lookup(v.url,v.method,v.headers,v.postData,v.isNavigationRequest)}async harClose(v,S){const Q=this._harBackends.get(v.harId);if(Q){this._harBackends.delete(Q.id);Q.dispose()}}async harUnzip(v,S){const Q=H.default.dirname(v.zipFile);const V=new ae.ZipFile(v.zipFile);for(const S of await V.entries()){const J=await V.read(S);if(S==="har.har")await O.default.promises.writeFile(v.harFile,J);else await O.default.promises.writeFile(H.default.join(Q,S),J)}V.close();await O.default.promises.unlink(v.zipFile)}async connect(v,S){const Q=new Re.ProgressController(S,this._object);Q.setLogName("browser");return await Q.run((async S=>{var Q;const O={"User-Agent":(0,ke.getUserAgent)(),"x-playwright-proxy":(Q=v.exposeNetwork)!==null&&Q!==void 0?Q:"",...v.headers};const H=await urlToWSEndpoint(S,v.wsEndpoint);const V=await Ee.WebSocketTransport.connect(S,H,O,true,"x-playwright-debug-log");const J=new Be.SocksInterceptor(V,v.exposeNetwork,v.socksProxyRedirectPortForTest);const Y=new he.JsonPipeDispatcher(this);V.onmessage=S=>{if(J.interceptMessage(S))return;const cb=()=>{try{Y.dispatch(S)}catch(v){V.close()}};if(v.slowMo)setTimeout(cb,v.slowMo);else cb()};Y.on("message",(v=>{V.send(v)}));V.onclose=()=>{J===null||J===void 0?void 0:J.cleanup();Y.wasClosed()};Y.on("close",(()=>V.close()));return{pipe:Y,headers:V.headers}}),v.timeout||0)}async tracingStarted(v,S){let Q=undefined;if(!v.tracesDir)Q=await O.default.promises.mkdtemp(H.default.join(V.default.tmpdir(),"playwright-tracing-"));const J=H.default.join(v.tracesDir||Q,v.traceName+".stacks");this._stackSessions.set(J,{callStacks:[],file:J,writer:Promise.resolve(),tmpDir:Q});return{stacksId:J}}async traceDiscarded(v,S){await this._deleteStackSession(v.stacksId)}async addStackToTracingNoReply(v,S){for(const S of this._stackSessions.values()){S.callStacks.push(v.callData);if(process.env.PW_LIVE_TRACE_STACKS){S.writer=S.writer.then((()=>{const v=Buffer.from(JSON.stringify((0,Y.serializeClientSideCallMetadata)(S.callStacks)));return O.default.promises.writeFile(S.file,v)}))}}}async _deleteStackSession(v){const S=v?this._stackSessions.get(v):undefined;if(!S)return;await S.writer;if(S.tmpDir)await(0,Y.removeFolders)([S.tmpDir]);this._stackSessions.delete(v)}}S.LocalUtilsDispatcher=LocalUtilsDispatcher;const Le=[301,302,303,307,308];class HarBackend{constructor(v,S,Q){this.id=(0,Y.createGuid)();this._harFile=void 0;this._zipFile=void 0;this._baseDir=void 0;this._harFile=v;this._baseDir=S;this._zipFile=Q}async lookup(v,S,Q,O,H){let V;try{V=await this._harFindResponse(v,S,Q,O)}catch(v){return{action:"error",message:"HAR error: "+v.message}}if(!V)return{action:"noentry"};if(V.request.url!==v&&H)return{action:"redirect",redirectURL:V.request.url};const J=V.response;try{const v=await this._loadContent(J.content);return{action:"fulfill",status:J.status,headers:J.headers,body:v}}catch(v){return{action:"error",message:v.message}}}async _loadContent(v){const S=v._file;let Q;if(S){if(this._zipFile)Q=await this._zipFile.read(S);else Q=await O.default.promises.readFile(H.default.resolve(this._baseDir,S))}else{Q=Buffer.from(v.text||"",v.encoding==="base64"?"base64":"utf-8")}return Q}async _harFindResponse(v,S,Q,O){const H=this._harFile.log;const V=new Set;while(true){const J=[];for(const Q of H.entries){if(Q.request.url!==v||Q.request.method!==S)continue;if(S==="POST"&&O&&Q.request.postData){const v=await this._loadContent(Q.request.postData);if(!v.equals(O))continue}J.push(Q)}if(!J.length)return;let Y=J[0];if(J.length>1){const v=[];for(const S of J){const O=countMatchingHeaders(S.request.headers,Q);v.push({candidate:S,matchingHeaders:O})}v.sort(((v,S)=>S.matchingHeaders-v.matchingHeaders));Y=v[0].candidate}if(V.has(Y))throw new Error(`Found redirect cycle for ${v}`);V.add(Y);const X=Y.response.headers.find((v=>v.name.toLowerCase()==="location"));if(Le.includes(Y.response.status)&&X){const Q=new URL(X.value,v);v=Q.toString();if((Y.response.status===301||Y.response.status===302)&&S==="POST"||Y.response.status===303&&!["GET","HEAD"].includes(S)){S="GET"}continue}return Y}}dispose(){var v;(v=this._zipFile)===null||v===void 0?void 0:v.close()}}function countMatchingHeaders(v,S){const Q=new Set(S.map((v=>v.name.toLowerCase()+":"+v.value)));let O=0;for(const S of v){if(Q.has(S.name.toLowerCase()+":"+S.value))++O}return O}async function urlToWSEndpoint(v,S){var Q;if(S.startsWith("ws"))return S;v===null||v===void 0?void 0:v.log(`<ws preparing> retrieving websocket url from ${S}`);const O=new URL(S);if(!O.pathname.endsWith("/"))O.pathname+="/";O.pathname+="json";const H=await(0,Oe.fetchData)({url:O.toString(),method:"GET",timeout:(Q=v===null||v===void 0?void 0:v.timeUntilDeadline())!==null&&Q!==void 0?Q:3e4,headers:{"User-Agent":(0,ke.getUserAgent)()}},(async(v,S)=>new Error(`Unexpected status ${S.statusCode} when connecting to ${O.toString()}.\n`+`This does not look like a Playwright server, try connecting via ws://.`)));v===null||v===void 0?void 0:v.throwIfAborted();const V=new URL(S);let J=JSON.parse(H).wsEndpointPath;if(J.startsWith("/"))J=J.substring(1);if(!V.pathname.endsWith("/"))V.pathname+="/";V.pathname+=J;V.protocol=V.protocol==="https:"?"wss:":"ws:";return V.toString()}},1584:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WebSocketDispatcher=S.RouteDispatcher=S.ResponseDispatcher=S.RequestDispatcher=S.APIRequestContextDispatcher=void 0;var O=Q(3824);var H=Q(4098);var V=Q(7178);var J=Q(9151);var Y=Q(7916);class RequestDispatcher extends H.Dispatcher{static from(v,S){const Q=(0,H.existingDispatcher)(S);return Q||new RequestDispatcher(v,S)}static fromNullable(v,S){return S?RequestDispatcher.from(v,S):undefined}constructor(v,S){var Q;const O=S.postDataBuffer();const V=S.frame();const X=(Q=S.frame())===null||Q===void 0?void 0:Q._page;const ee=X?(0,H.existingDispatcher)(X):null;const ae=V?J.FrameDispatcher.from(v,V):null;super(ee||ae||v,S,"Request",{frame:J.FrameDispatcher.fromNullable(v,S.frame()),serviceWorker:Y.WorkerDispatcher.fromNullable(v,S.serviceWorker()),url:S.url(),resourceType:S.resourceType(),method:S.method(),postData:O===null?undefined:O,headers:S.headers(),isNavigationRequest:S.isNavigationRequest(),redirectedFrom:RequestDispatcher.fromNullable(v,S.redirectedFrom())});this._type_Request=void 0;this._browserContextDispatcher=void 0;this._type_Request=true;this._browserContextDispatcher=v}async rawRequestHeaders(v){return{headers:await this._object.rawRequestHeaders()}}async response(){return{response:ResponseDispatcher.fromNullable(this._browserContextDispatcher,await this._object.response())}}}S.RequestDispatcher=RequestDispatcher;class ResponseDispatcher extends H.Dispatcher{static from(v,S){const Q=(0,H.existingDispatcher)(S);const O=RequestDispatcher.from(v,S.request());return Q||new ResponseDispatcher(O,S)}static fromNullable(v,S){return S?ResponseDispatcher.from(v,S):undefined}constructor(v,S){super(v,S,"Response",{request:v,url:S.url(),status:S.status(),statusText:S.statusText(),headers:S.headers(),timing:S.timing(),fromServiceWorker:S.fromServiceWorker()});this._type_Response=true}async body(){return{binary:await this._object.body()}}async securityDetails(){return{value:await this._object.securityDetails()||undefined}}async serverAddr(){return{value:await this._object.serverAddr()||undefined}}async rawResponseHeaders(v){return{headers:await this._object.rawResponseHeaders()}}async sizes(v){return{sizes:await this._object.sizes()}}}S.ResponseDispatcher=ResponseDispatcher;class RouteDispatcher extends H.Dispatcher{static from(v,S){const Q=(0,H.existingDispatcher)(S);return Q||new RouteDispatcher(v,S)}constructor(v,S){super(v,S,"Route",{request:v});this._type_Route=true}async continue(v,S){await this._object.continue({url:v.url,method:v.method,headers:v.headers,postData:v.postData,isFallback:v.isFallback})}async fulfill(v,S){await this._object.fulfill(v)}async abort(v,S){await this._object.abort(v.errorCode||"failed")}async redirectNavigationRequest(v){await this._object.redirectNavigationRequest(v.url)}}S.RouteDispatcher=RouteDispatcher;class WebSocketDispatcher extends H.Dispatcher{constructor(v,S){super(v,S,"WebSocket",{url:S.url()});this._type_EventTarget=true;this._type_WebSocket=true;this.addObjectListener(O.WebSocket.Events.FrameSent,(v=>this._dispatchEvent("frameSent",v)));this.addObjectListener(O.WebSocket.Events.FrameReceived,(v=>this._dispatchEvent("frameReceived",v)));this.addObjectListener(O.WebSocket.Events.SocketError,(v=>this._dispatchEvent("socketError",{error:v})));this.addObjectListener(O.WebSocket.Events.Close,(()=>this._dispatchEvent("close",{})))}}S.WebSocketDispatcher=WebSocketDispatcher;class APIRequestContextDispatcher extends H.Dispatcher{static from(v,S){const Q=(0,H.existingDispatcher)(S);return Q||new APIRequestContextDispatcher(v,S)}static fromNullable(v,S){return S?APIRequestContextDispatcher.from(v,S):undefined}constructor(v,S){const Q=V.TracingDispatcher.from(v,S.tracing());super(v,S,"APIRequestContext",{tracing:Q});this._type_APIRequestContext=true;this.adopt(Q)}async storageState(){return this._object.storageState()}async dispose(v,S){S.potentiallyClosesScope=true;await this._object.dispose();this._dispose()}async fetch(v,S){const Q=await this._object.fetch(v,S);return{response:{url:Q.url,status:Q.status,statusText:Q.statusText,headers:Q.headers,fetchUid:Q.fetchUid}}}async fetchResponseBody(v){return{binary:this._object.fetchResponses.get(v.fetchUid)}}async fetchLog(v){const S=this._object.fetchLog.get(v.fetchUid)||[];return{log:S}}async disposeAPIResponse(v){this._object.disposeResponse(v.fetchUid)}}S.APIRequestContextDispatcher=APIRequestContextDispatcher},7916:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WorkerDispatcher=S.PageDispatcher=S.BindingCallDispatcher=void 0;var O=Q(3555);var H=Q(4098);var V=Q(1145);var J=Q(9151);var Y=Q(1584);var X=Q(3652);var ee=Q(1311);var ae=Q(2810);var he=Q(3557);class PageDispatcher extends H.Dispatcher{static from(v,S){return PageDispatcher.fromNullable(v,S)}static fromNullable(v,S){if(!S)return undefined;const Q=(0,H.existingDispatcher)(S);return Q||new PageDispatcher(v,S)}constructor(v,S){const Q=J.FrameDispatcher.from(v,S.mainFrame());super(v,S,"Page",{mainFrame:Q,viewportSize:S.viewportSize()||undefined,isClosed:S.isClosed(),opener:PageDispatcher.fromNullable(v,S.opener())});this._type_EventTarget=true;this._type_Page=true;this._page=void 0;this._subscriptions=new Set;this.adopt(Q);this._page=S;this.addObjectListener(O.Page.Events.Close,(()=>{this._dispatchEvent("close");this._dispose()}));this.addObjectListener(O.Page.Events.Crash,(()=>this._dispatchEvent("crash")));this.addObjectListener(O.Page.Events.Download,(S=>{this._dispatchEvent("download",{url:S.url,suggestedFilename:S.suggestedFilename(),artifact:ae.ArtifactDispatcher.from(v,S.artifact)})}));this.addObjectListener(O.Page.Events.FileChooser,(v=>this._dispatchEvent("fileChooser",{element:ee.ElementHandleDispatcher.from(Q,v.element()),isMultiple:v.isMultiple()})));this.addObjectListener(O.Page.Events.FrameAttached,(v=>this._onFrameAttached(v)));this.addObjectListener(O.Page.Events.FrameDetached,(v=>this._onFrameDetached(v)));this.addObjectListener(O.Page.Events.WebSocket,(v=>this._dispatchEvent("webSocket",{webSocket:new Y.WebSocketDispatcher(this,v)})));this.addObjectListener(O.Page.Events.Worker,(v=>this._dispatchEvent("worker",{worker:new WorkerDispatcher(this,v)})));this.addObjectListener(O.Page.Events.Video,(S=>this._dispatchEvent("video",{artifact:ae.ArtifactDispatcher.from(v,S)})));if(S._video)this._dispatchEvent("video",{artifact:ae.ArtifactDispatcher.from(this.parentScope(),S._video)});const H=S._frameManager.frames();for(let v=1;v<H.length;v++)this._onFrameAttached(H[v])}page(){return this._page}async setDefaultNavigationTimeoutNoReply(v,S){this._page.setDefaultNavigationTimeout(v.timeout)}async setDefaultTimeoutNoReply(v,S){this._page.setDefaultTimeout(v.timeout)}async exposeBinding(v,S){await this._page.exposeBinding(v.name,!!v.needsHandle,((S,...Q)=>{if(this._disposed)return;const O=new BindingCallDispatcher(this,v.name,!!v.needsHandle,S,Q);this._dispatchEvent("bindingCall",{binding:O});return O.promise()}))}async setExtraHTTPHeaders(v,S){await this._page.setExtraHTTPHeaders(v.headers)}async reload(v,S){return{response:Y.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.reload(S,v))}}async goBack(v,S){return{response:Y.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goBack(S,v))}}async goForward(v,S){return{response:Y.ResponseDispatcher.fromNullable(this.parentScope(),await this._page.goForward(S,v))}}async emulateMedia(v,S){await this._page.emulateMedia({media:v.media,colorScheme:v.colorScheme,reducedMotion:v.reducedMotion,forcedColors:v.forcedColors})}async setViewportSize(v,S){await this._page.setViewportSize(v.viewportSize)}async addInitScript(v,S){await this._page.addInitScript(v.source)}async setNetworkInterceptionPatterns(v,S){if(!v.patterns.length){await this._page.setClientRequestInterceptor(undefined);return}const Q=v.patterns.map((v=>v.regexSource?new RegExp(v.regexSource,v.regexFlags):v.glob));await this._page.setClientRequestInterceptor(((v,S)=>{const O=Q.some((v=>(0,he.urlMatches)(this._page._browserContext._options.baseURL,S.url(),v)));if(!O)return false;this._dispatchEvent("route",{route:Y.RouteDispatcher.from(Y.RequestDispatcher.from(this.parentScope(),S),v)});return true}))}async expectScreenshot(v,S){var Q,O;const H=(((Q=v.screenshotOptions)===null||Q===void 0?void 0:Q.mask)||[]).map((({frame:v,selector:S})=>({frame:v._object,selector:S})));const V=v.locator?{frame:v.locator.frame._object,selector:v.locator.selector}:undefined;return await this._page.expectScreenshot(S,{...v,locator:V,comparatorOptions:{...v.comparatorOptions,_comparator:(O=v.comparatorOptions)===null||O===void 0?void 0:O.comparator},screenshotOptions:{...v.screenshotOptions,mask:H}})}async screenshot(v,S){const Q=(v.mask||[]).map((({frame:v,selector:S})=>({frame:v._object,selector:S})));return{binary:await this._page.screenshot(S,{...v,mask:Q})}}async close(v,S){if(!v.runBeforeUnload)S.potentiallyClosesScope=true;await this._page.close(S,v)}async updateSubscription(v){if(v.event==="fileChooser")await this._page.setFileChooserIntercepted(v.enabled);if(v.enabled)this._subscriptions.add(v.event);else this._subscriptions.delete(v.event)}async keyboardDown(v,S){await this._page.keyboard.down(v.key)}async keyboardUp(v,S){await this._page.keyboard.up(v.key)}async keyboardInsertText(v,S){await this._page.keyboard.insertText(v.text)}async keyboardType(v,S){await this._page.keyboard.type(v.text,v)}async keyboardPress(v,S){await this._page.keyboard.press(v.key,v)}async mouseMove(v,S){await this._page.mouse.move(v.x,v.y,v,S)}async mouseDown(v,S){await this._page.mouse.down(v,S)}async mouseUp(v,S){await this._page.mouse.up(v,S)}async mouseClick(v,S){await this._page.mouse.click(v.x,v.y,v,S)}async mouseWheel(v,S){await this._page.mouse.wheel(v.deltaX,v.deltaY)}async touchscreenTap(v,S){await this._page.touchscreen.tap(v.x,v.y,S)}async accessibilitySnapshot(v,S){const Q=await this._page.accessibility.snapshot({interestingOnly:v.interestingOnly,root:v.root?v.root._elementHandle:undefined});return{rootAXNode:Q||undefined}}async pdf(v,S){if(!this._page.pdf)throw new Error("PDF generation is only supported for Headless Chromium");const Q=await this._page.pdf(v);return{pdf:Q}}async bringToFront(v,S){await this._page.bringToFront()}async startJSCoverage(v,S){const Q=this._page.coverage;await Q.startJSCoverage(v)}async stopJSCoverage(v,S){const Q=this._page.coverage;return await Q.stopJSCoverage()}async startCSSCoverage(v,S){const Q=this._page.coverage;await Q.startCSSCoverage(v)}async stopCSSCoverage(v,S){const Q=this._page.coverage;return await Q.stopCSSCoverage()}_onFrameAttached(v){this._dispatchEvent("frameAttached",{frame:J.FrameDispatcher.from(this.parentScope(),v)})}_onFrameDetached(v){this._dispatchEvent("frameDetached",{frame:J.FrameDispatcher.from(this.parentScope(),v)})}_onDispose(){if(!this._page.isClosedOrClosingOrCrashed())this._page.setClientRequestInterceptor(undefined).catch((()=>{}))}}S.PageDispatcher=PageDispatcher;class WorkerDispatcher extends H.Dispatcher{static fromNullable(v,S){if(!S)return undefined;const Q=(0,H.existingDispatcher)(S);return Q||new WorkerDispatcher(v,S)}constructor(v,S){super(v,S,"Worker",{url:S.url()});this._type_Worker=true;this.addObjectListener(O.Worker.Events.Close,(()=>this._dispatchEvent("close")))}async evaluateExpression(v,S){return{value:(0,X.serializeResult)(await this._object.evaluateExpression(v.expression,v.isFunction,(0,X.parseArgument)(v.arg)))}}async evaluateExpressionHandle(v,S){return{handle:ee.ElementHandleDispatcher.fromJSHandle(this,await this._object.evaluateExpressionHandle(v.expression,v.isFunction,(0,X.parseArgument)(v.arg)))}}}S.WorkerDispatcher=WorkerDispatcher;class BindingCallDispatcher extends H.Dispatcher{constructor(v,S,Q,O,H){super(v,{guid:"bindingCall@"+(0,he.createGuid)()},"BindingCall",{frame:J.FrameDispatcher.from(v.parentScope(),O.frame),name:S,args:Q?undefined:H.map(X.serializeResult),handle:Q?ee.ElementHandleDispatcher.fromJSHandle(v,H[0]):undefined});this._type_BindingCall=true;this._resolve=void 0;this._reject=void 0;this._promise=void 0;this._promise=new Promise(((v,S)=>{this._resolve=v;this._reject=S}))}promise(){return this._promise}async resolve(v,S){this._resolve((0,X.parseArgument)(v.result));this._dispose()}async reject(v,S){this._reject((0,V.parseError)(v.error));this._dispose()}}S.BindingCallDispatcher=BindingCallDispatcher},8650:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.PlaywrightDispatcher=void 0;var O=Q(2857);var H=Q(1570);var V=Q(3037);var J=Q(6555);var Y=Q(4098);var X=Q(1733);var ee=Q(1392);var ae=Q(1584);var he=Q(2222);var Ee=Q(9241);var Be=Q(3557);var ke=Q(3841);class PlaywrightDispatcher extends Y.Dispatcher{constructor(v,S,Q,O,H){const Y=O?new Ee.ConnectedBrowserDispatcher(v,O):undefined;const ae=new V.AndroidDispatcher(v,S.android);const Be=H?new V.AndroidDeviceDispatcher(ae,H):undefined;super(v,S,"Playwright",{chromium:new J.BrowserTypeDispatcher(v,S.chromium),firefox:new J.BrowserTypeDispatcher(v,S.firefox),webkit:new J.BrowserTypeDispatcher(v,S.webkit),android:ae,electron:new X.ElectronDispatcher(v,S.electron),utils:S.options.isServer?undefined:new ee.LocalUtilsDispatcher(v,S),selectors:new he.SelectorsDispatcher(v,(Y===null||Y===void 0?void 0:Y.selectors)||S.selectors),preLaunchedBrowser:Y,preConnectedAndroidDevice:Be,socksSupport:Q?new SocksSupportDispatcher(v,Q):undefined});this._type_Playwright=void 0;this._browserDispatcher=void 0;this._type_Playwright=true;this._browserDispatcher=Y}async newRequest(v){const S=new O.GlobalAPIRequestContext(this._object,v);return{request:ae.APIRequestContextDispatcher.from(this.parentScope(),S)}}async cleanup(){var v;await((v=this._browserDispatcher)===null||v===void 0?void 0:v.cleanupContexts())}}S.PlaywrightDispatcher=PlaywrightDispatcher;class SocksSupportDispatcher extends Y.Dispatcher{constructor(v,S){super(v,{guid:"socksSupport@"+(0,Be.createGuid)()},"SocksSupport",{});this._type_SocksSupport=void 0;this._socksProxy=void 0;this._socksListeners=void 0;this._type_SocksSupport=true;this._socksProxy=S;this._socksListeners=[ke.eventsHelper.addEventListener(S,H.SocksProxy.Events.SocksRequested,(v=>this._dispatchEvent("socksRequested",v))),ke.eventsHelper.addEventListener(S,H.SocksProxy.Events.SocksData,(v=>this._dispatchEvent("socksData",v))),ke.eventsHelper.addEventListener(S,H.SocksProxy.Events.SocksClosed,(v=>this._dispatchEvent("socksClosed",v)))]}async socksConnected(v){var S;(S=this._socksProxy)===null||S===void 0?void 0:S.socketConnected(v)}async socksFailed(v){var S;(S=this._socksProxy)===null||S===void 0?void 0:S.socketFailed(v)}async socksData(v){var S;(S=this._socksProxy)===null||S===void 0?void 0:S.sendSocketData(v)}async socksError(v){var S;(S=this._socksProxy)===null||S===void 0?void 0:S.sendSocketError(v)}async socksEnd(v){var S;(S=this._socksProxy)===null||S===void 0?void 0:S.sendSocketEnd(v)}_onDispose(){ke.eventsHelper.removeEventListeners(this._socksListeners)}}},2222:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.SelectorsDispatcher=void 0;var O=Q(4098);class SelectorsDispatcher extends O.Dispatcher{constructor(v,S){super(v,S,"Selectors",{});this._type_Selectors=true}async register(v){await this._object.register(v.name,v.source,v.contentScript)}async setTestIdAttributeName(v){this._object.setTestIdAttributeName(v.testIdAttributeName)}}S.SelectorsDispatcher=SelectorsDispatcher},3239:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.StreamDispatcher=void 0;var O=Q(4098);var H=Q(3557);class StreamDispatcher extends O.Dispatcher{constructor(v,S){super(v,{guid:"stream@"+(0,H.createGuid)(),stream:S},"Stream",{});this._type_Stream=true;this._ended=false;S.once("end",(()=>this._ended=true));S.once("error",(()=>this._ended=true))}async read(v){const S=this._object.stream;if(this._ended)return{binary:Buffer.from("")};if(!S.readableLength){const v=new H.ManualPromise;const done=()=>v.resolve();S.on("readable",done);S.on("end",done);S.on("error",done);await v;S.off("readable",done);S.off("end",done);S.off("error",done)}const Q=S.read(Math.min(S.readableLength,v.size||S.readableLength));return{binary:Q||Buffer.from("")}}async close(){this._object.stream.destroy()}}S.StreamDispatcher=StreamDispatcher},7178:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.TracingDispatcher=void 0;var O=Q(2810);var H=Q(4098);class TracingDispatcher extends H.Dispatcher{static from(v,S){const Q=(0,H.existingDispatcher)(S);return Q||new TracingDispatcher(v,S)}constructor(v,S){super(v,S,"Tracing",{});this._type_Tracing=true}async tracingStart(v){await this._object.start(v)}async tracingStartChunk(v){return await this._object.startChunk(v)}async tracingStopChunk(v){const{artifact:S,entries:Q}=await this._object.stopChunk(v);return{artifact:S?O.ArtifactDispatcher.from(this,S):undefined,entries:Q}}async tracingStop(v){await this._object.stop()}}S.TracingDispatcher=TracingDispatcher},1253:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WritableStreamDispatcher=void 0;var O=Q(4098);var H=_interopRequireWildcard(Q(7147));var V=Q(3557);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class WritableStreamDispatcher extends O.Dispatcher{constructor(v,S,Q){super(v,{guid:"writableStream@"+(0,V.createGuid)(),stream:S},"WritableStream",{});this._type_WritableStream=true;this._lastModifiedMs=void 0;this._lastModifiedMs=Q}async write(v){const S=this._object.stream;await new Promise(((Q,O)=>{S.write(v.binary,(v=>{if(v)O(v);else Q()}))}))}async close(){const v=this._object.stream;await new Promise((S=>v.end(S)));if(this._lastModifiedMs)await H.promises.utimes(this.path(),new Date(this._lastModifiedMs),new Date(this._lastModifiedMs))}path(){return this._object.stream.path}}S.WritableStreamDispatcher=WritableStreamDispatcher},8139:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.NonRecoverableDOMError=S.InjectedScriptPollHandler=S.FrameExecutionContext=S.ElementHandle=void 0;S.assertDone=assertDone;S.isNonRecoverableDOMError=isNonRecoverableDOMError;S.kUnableToAdoptErrorMessage=void 0;S.throwRetargetableDOMError=throwRetargetableDOMError;var O=_interopRequireWildcard(Q(6390));var H=Q(7314);var V=_interopRequireWildcard(Q(804));var J=Q(2836);var Y=Q(3557);var X=Q(6582);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class NonRecoverableDOMError extends Error{}S.NonRecoverableDOMError=NonRecoverableDOMError;function isNonRecoverableDOMError(v){return v instanceof NonRecoverableDOMError}class FrameExecutionContext extends V.ExecutionContext{constructor(v,S,Q){super(S,v,Q||"content-script");this.frame=void 0;this._injectedScriptPromise=void 0;this.world=void 0;this.frame=S;this.world=Q}adoptIfNeeded(v){if(v instanceof ElementHandle&&v._context!==this)return this.frame._page._delegate.adoptElementHandle(v,this);return null}async evaluate(v,S){return V.evaluate(this,true,v,S)}async evaluateHandle(v,S){return V.evaluate(this,false,v,S)}async evaluateExpression(v,S,Q){return V.evaluateExpression(this,v,{...S,returnByValue:true},Q)}async evaluateExpressionHandle(v,S,Q){return V.evaluateExpression(this,v,{...S,returnByValue:false},Q)}createHandle(v){if(this.frame._page._delegate.isElementHandle(v))return new ElementHandle(this,v.objectId);return super.createHandle(v)}injectedScript(){if(!this._injectedScriptPromise){const v=[];const S=this.frame._page.context().selectors();for(const[Q,{source:O}]of S._engines)v.push(`{ name: '${Q}', engine: (${O}) }`);const Q=this.frame.attribution.playwright.options.sdkLanguage;const H=`\n        (() => {\n        const module = {};\n        ${O.source}\n        return new (module.exports.InjectedScript())(\n          globalThis,\n          ${(0,Y.isUnderTest)()},\n          "${Q}",\n          ${JSON.stringify(S.testIdAttributeName())},\n          ${this.frame._page._delegate.rafCountForStablePosition()},\n          "${this.frame._page._browserContext._browser.options.name}",\n          [${v.join(",\n")}]\n        );\n        })();\n      `;this._injectedScriptPromise=this.rawEvaluateHandle(H).then((v=>new V.JSHandle(this,"object","InjectedScript",v)))}return this._injectedScriptPromise}}S.FrameExecutionContext=FrameExecutionContext;class ElementHandle extends V.JSHandle{constructor(v,S){super(v,"node",undefined,S);this.__elementhandle=true;this._page=void 0;this._frame=void 0;this._page=v.frame._page;this._frame=v.frame;this._initializePreview().catch((v=>{}))}async _initializePreview(){const v=await this._context.injectedScript();this._setPreview(await v.evaluate(((v,S)=>"JSHandle@"+v.previewNode(S)),this))}asElement(){return this}async evaluateInUtility(v,S){try{const Q=await this._frame._utilityContext();return await Q.evaluate(v,[await Q.injectedScript(),this,S])}catch(v){if(V.isJavaScriptErrorInEvaluate(v)||(0,H.isSessionClosedError)(v))throw v;return"error:notconnected"}}async evaluateHandleInUtility(v,S){try{const Q=await this._frame._utilityContext();return await Q.evaluateHandle(v,[await Q.injectedScript(),this,S])}catch(v){if(V.isJavaScriptErrorInEvaluate(v)||(0,H.isSessionClosedError)(v))throw v;return"error:notconnected"}}async evaluatePoll(v,S,Q){try{const O=await this._frame._utilityContext();const H=await O.evaluateHandle(S,[await O.injectedScript(),this,Q]);const V=new InjectedScriptPollHandler(v,H);return await V.finish()}catch(v){if(V.isJavaScriptErrorInEvaluate(v)||(0,H.isSessionClosedError)(v))throw v;return"error:notconnected"}}async ownerFrame(){const v=await this._page._delegate.getOwnerFrame(this);if(!v)return null;const S=this._page._frameManager.frame(v);if(S)return S;for(const S of this._page._browserContext.pages()){const Q=S._frameManager.frame(v);if(Q)return Q}return null}async isIframeElement(){return this.evaluateInUtility((([v,S])=>S&&(S.nodeName==="IFRAME"||S.nodeName==="FRAME")),{})}async contentFrame(){const v=throwRetargetableDOMError(await this.isIframeElement());if(!v)return null;return this._page._delegate.getContentFrame(this)}async getAttribute(v,S){return this._frame.getAttribute(v,":scope",S,{},this)}async inputValue(v){return this._frame.inputValue(v,":scope",{},this)}async textContent(v){return this._frame.textContent(v,":scope",{},this)}async innerText(v){return this._frame.innerText(v,":scope",{},this)}async innerHTML(v){return this._frame.innerHTML(v,":scope",{},this)}async dispatchEvent(v,S,Q={}){return this._frame.dispatchEvent(v,":scope",S,Q,{},this)}async _scrollRectIntoViewIfNeeded(v){return await this._page._delegate.scrollRectIntoViewIfNeeded(this,v)}async _waitAndScrollIntoViewIfNeeded(v,S){const Q=[0,50,100,250];while(v.isRunning()){assertDone(throwRetargetableDOMError(await this._waitForElementStates(v,S?["visible","stable"]:["stable"],false)));v.throwIfAborted();const H=throwRetargetableDOMError(await this._scrollRectIntoViewIfNeeded());if(H==="error:notvisible"){if(!S){var O;const S=(O=Q.shift())!==null&&O!==void 0?O:500;v.log(`  element is not displayed, retrying in ${S}ms`);await new Promise((v=>setTimeout(v,S)))}continue}assertDone(H);return}}async scrollIntoViewIfNeeded(v,S={}){const Q=new J.ProgressController(v,this);return Q.run((v=>this._waitAndScrollIntoViewIfNeeded(v,false)),this._page._timeoutSettings.timeout(S))}async _clickablePoint(){const intersectQuadWithViewport=v=>v.map((v=>({x:Math.min(Math.max(v.x,0),S.width),y:Math.min(Math.max(v.y,0),S.height)})));const computeQuadArea=v=>{let S=0;for(let Q=0;Q<v.length;++Q){const O=v[Q];const H=v[(Q+1)%v.length];S+=(O.x*H.y-H.x*O.y)/2}return Math.abs(S)};const[v,S]=await Promise.all([this._page._delegate.getContentQuads(this),this._page.mainFrame()._utilityContext().then((v=>v.evaluate((()=>({width:innerWidth,height:innerHeight})))))]);if(!v||!v.length)return"error:notvisible";const Q=v.map((v=>intersectQuadWithViewport(v))).filter((v=>computeQuadArea(v)>.99));if(!Q.length)return"error:notinviewport";const O={x:0,y:0};for(const v of Q[0]){O.x+=v.x/4;O.y+=v.y/4}compensateHalfIntegerRoundingError(O);return O}async _offsetPoint(v){const[S,Q]=await Promise.all([this.boundingBox(),this.evaluateInUtility((([v,S])=>v.getElementBorderWidth(S)),{}).catch((v=>{}))]);if(!S||!Q)return"error:notvisible";if(Q==="error:notconnected")return Q;return{x:S.x+Q.left+v.x,y:S.y+Q.top+v.y}}async _retryPointerAction(v,S,Q,O,H){let V=0;const J=[0,20,100,100,500];const Y=[undefined,{block:"end",inline:"end"},{block:"center",inline:"center"},{block:"start",inline:"start"}];while(v.isRunning()){if(V){v.log(`retrying ${S} action${H.trial?" (trial run)":""}, attempt #${V}`);const Q=J[Math.min(V-1,J.length-1)];if(Q){v.log(`  waiting ${Q}ms`);const S=await this.evaluateInUtility((([v,S,Q])=>new Promise((v=>setTimeout(v,Q)))),Q);if(S==="error:notconnected")return S}}else{v.log(`attempting ${S} action${H.trial?" (trial run)":""}`)}const X=Y[V%Y.length];const ee=await this._performPointerAction(v,S,Q,O,X,H);++V;if(ee==="error:notvisible"){if(H.force)throw new NonRecoverableDOMError("Element is not visible");v.log("  element is not visible");continue}if(ee==="error:notinviewport"){if(H.force)throw new NonRecoverableDOMError("Element is outside of the viewport");v.log("  element is outside of the viewport");continue}if(typeof ee==="object"&&"hitTargetDescription"in ee){v.log(`  ${ee.hitTargetDescription} intercepts pointer events`);continue}return ee}return"done"}async _performPointerAction(v,S,Q,O,H,V){const{force:J=false,position:Y}=V;const doScrollIntoView=async()=>{if(H){return await this.evaluateInUtility((([v,S,Q])=>{if(S.nodeType===1)S.scrollIntoView(Q);return"done"}),H)}return await this._scrollRectIntoViewIfNeeded(Y?{x:Y.x,y:Y.y,width:0,height:0}:undefined)};if(this._frame.parentFrame()){v.throwIfAborted();await doScrollIntoView().catch((()=>{}))}if(V.__testHookBeforeStable)await V.__testHookBeforeStable();const X=await this._waitForElementStates(v,Q?["visible","enabled","stable"]:["visible","stable"],J);if(X!=="done")return X;if(V.__testHookAfterStable)await V.__testHookAfterStable();v.log("  scrolling into view if needed");v.throwIfAborted();const ee=await doScrollIntoView();if(ee!=="done")return ee;v.log("  done scrolling");const ae=Y?await this._offsetPoint(Y):await this._clickablePoint();if(typeof ae==="string")return ae;const he=roundPoint(ae);v.metadata.point=he;await v.beforeInputAction(this);let Ee;if(!V.force){if(V.__testHookBeforeHitTarget)await V.__testHookBeforeHitTarget();const Q=await this._checkFrameIsHitTarget(he);if(Q==="error:notconnected"||"hitTargetDescription"in Q)return Q;const O=Q.framePoint;const H=S==="move and up"?"drag":S==="hover"||S==="tap"?S:"mouse";const J=await this.evaluateHandleInUtility((([v,S,{actionType:Q,hitPoint:O,trial:H}])=>v.setupHitTargetInterceptor(S,Q,O,H)),{actionType:H,hitPoint:O,trial:!!V.trial});if(J==="error:notconnected")return J;if(!J._objectId){const v=J.rawValue();if(v==="error:notconnected")return v;return{hitTargetDescription:v}}Ee=J;v.cleanupWhenAborted((()=>{Ee.evaluate((v=>v.stop())).catch((v=>{}));Ee.dispose()}))}const Be=await this._page._frameManager.waitForSignalsCreatedBy(v,V.noWaitAfter,(async()=>{if(V.__testHookBeforePointerAction)await V.__testHookBeforePointerAction();v.throwIfAborted();let Q;if(V&&V.modifiers)Q=await this._page.keyboard._ensureModifiers(V.modifiers);v.log(`  performing ${S} action`);await O(he);if(Q)await this._page.keyboard._ensureModifiers(Q);if(Ee){const v=Ee.evaluate((v=>v.stop())).catch((v=>"done")).finally((()=>{var v;(v=Ee)===null||v===void 0?void 0:v.dispose()}));if(!V.noWaitAfter){const S=await v;if(S!=="done")return S}}v.log(`  ${V.trial?"trial ":""}${S} action done`);v.log("  waiting for scheduled navigations to finish");if(V.__testHookAfterPointerAction)await V.__testHookAfterPointerAction();return"done"}),"input");if(Be!=="done")return Be;v.log("  navigations have finished");return"done"}async hover(v,S){const Q=new J.ProgressController(v,this);return Q.run((async v=>{const Q=await this._hover(v,S);return assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}_hover(v,S){return this._retryPointerAction(v,"hover",false,(v=>this._page.mouse.move(v.x,v.y)),S)}async click(v,S={}){const Q=new J.ProgressController(v,this);return Q.run((async v=>{const Q=await this._click(v,S);return assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}_click(v,S){return this._retryPointerAction(v,"click",true,(v=>this._page.mouse.click(v.x,v.y,S)),S)}async dblclick(v,S){const Q=new J.ProgressController(v,this);return Q.run((async v=>{const Q=await this._dblclick(v,S);return assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}_dblclick(v,S){return this._retryPointerAction(v,"dblclick",true,(v=>this._page.mouse.dblclick(v.x,v.y,S)),S)}async tap(v,S={}){const Q=new J.ProgressController(v,this);return Q.run((async v=>{const Q=await this._tap(v,S);return assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}_tap(v,S){return this._retryPointerAction(v,"tap",true,(v=>this._page.touchscreen.tap(v.x,v.y)),S)}async selectOption(v,S,Q,O){const H=new J.ProgressController(v,this);return H.run((async v=>{const H=await this._selectOption(v,S,Q,O);return throwRetargetableDOMError(H)}),this._page._timeoutSettings.timeout(O))}async _selectOption(v,S,Q,O){const H=[...S,...Q];await v.beforeInputAction(this);return this._page._frameManager.waitForSignalsCreatedBy(v,O.noWaitAfter,(async()=>{v.throwIfAborted();v.log("  selecting specified option(s)");const S=await this.evaluatePoll(v,(([v,S,{optionsToSelect:Q,force:O}])=>v.waitForElementStatesAndPerformAction(S,["visible","enabled"],O,v.selectOptions.bind(v,Q))),{optionsToSelect:H,force:O.force});return S}))}async fill(v,S,Q={}){const O=new J.ProgressController(v,this);return O.run((async v=>{const O=await this._fill(v,S,Q);assertDone(throwRetargetableDOMError(O))}),this._page._timeoutSettings.timeout(Q))}async _fill(v,S,Q){v.log(`elementHandle.fill("${S}")`);await v.beforeInputAction(this);return this._page._frameManager.waitForSignalsCreatedBy(v,Q.noWaitAfter,(async()=>{v.log("  waiting for element to be visible, enabled and editable");const O=await this.evaluatePoll(v,(([v,S,{value:Q,force:O}])=>v.waitForElementStatesAndPerformAction(S,["visible","enabled","editable"],O,v.fill.bind(v,Q))),{value:S,force:Q.force});v.throwIfAborted();if(O==="error:notconnected")return O;v.log("  element is visible, enabled and editable");if(O==="needsinput"){v.throwIfAborted();if(S)await this._page.keyboard.insertText(S);else await this._page.keyboard.press("Delete")}else{assertDone(O)}return"done"}),"input")}async selectText(v,S={}){const Q=new J.ProgressController(v,this);return Q.run((async v=>{v.throwIfAborted();const Q=await this.evaluatePoll(v,(([v,S,Q])=>v.waitForElementStatesAndPerformAction(S,["visible"],Q,v.selectText.bind(v))),S.force);assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}async setInputFiles(v,S){const Q=await(0,X.prepareFilesForUpload)(this._frame,S);const O=new J.ProgressController(v,this);return O.run((async v=>{const O=await this._setInputFiles(v,Q,S);return assertDone(throwRetargetableDOMError(O))}),this._page._timeoutSettings.timeout(S))}async _setInputFiles(v,S,Q){const{filePayloads:O,localPaths:H}=S;const V=O&&O.length>1||H&&H.length>1;const J=await this.evaluateHandleInUtility((([v,S,Q])=>{const O=v.retarget(S,"follow-label");if(!O)return;if(O.tagName!=="INPUT")throw v.createStacklessError("Node is not an HTMLInputElement");if(Q&&!O.multiple)throw v.createStacklessError("Non-multiple file input can only accept single file");return O}),V);if(J==="error:notconnected"||!J.asElement())return"error:notconnected";const Y=J.asElement();await v.beforeInputAction(this);await this._page._frameManager.waitForSignalsCreatedBy(v,Q.noWaitAfter,(async()=>{v.throwIfAborted();if(H)await this._page._delegate.setInputFilePaths(v,Y,H);else await this._page._delegate.setInputFiles(Y,O)}));return"done"}async focus(v){const S=new J.ProgressController(v,this);await S.run((async v=>{const S=await this._focus(v);return assertDone(throwRetargetableDOMError(S))}),0)}async _focus(v,S){v.throwIfAborted();return await this.evaluateInUtility((([v,S,Q])=>v.focusNode(S,Q)),S)}async _blur(v){v.throwIfAborted();return await this.evaluateInUtility((([v,S])=>v.blurNode(S)),{})}async type(v,S,Q){const O=new J.ProgressController(v,this);return O.run((async v=>{const O=await this._type(v,S,Q);return assertDone(throwRetargetableDOMError(O))}),this._page._timeoutSettings.timeout(Q))}async _type(v,S,Q){v.log(`elementHandle.type("${S}")`);await v.beforeInputAction(this);return this._page._frameManager.waitForSignalsCreatedBy(v,Q.noWaitAfter,(async()=>{const O=await this._focus(v,true);if(O!=="done")return O;v.throwIfAborted();await this._page.keyboard.type(S,Q);return"done"}),"input")}async press(v,S,Q){const O=new J.ProgressController(v,this);return O.run((async v=>{const O=await this._press(v,S,Q);return assertDone(throwRetargetableDOMError(O))}),this._page._timeoutSettings.timeout(Q))}async _press(v,S,Q){v.log(`elementHandle.press("${S}")`);await v.beforeInputAction(this);return this._page._frameManager.waitForSignalsCreatedBy(v,Q.noWaitAfter,(async()=>{const O=await this._focus(v,true);if(O!=="done")return O;v.throwIfAborted();await this._page.keyboard.press(S,Q);return"done"}),"input")}async check(v,S){const Q=new J.ProgressController(v,this);return Q.run((async v=>{const Q=await this._setChecked(v,true,S);return assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}async uncheck(v,S){const Q=new J.ProgressController(v,this);return Q.run((async v=>{const Q=await this._setChecked(v,false,S);return assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(S))}async _setChecked(v,S,Q){const isChecked=async()=>{const v=await this.evaluateInUtility((([v,S])=>v.elementState(S,"checked")),{});return throwRetargetableDOMError(v)};if(await isChecked()===S)return"done";const O=await this._click(v,Q);if(O!=="done")return O;if(Q.trial)return"done";if(await isChecked()!==S)throw new NonRecoverableDOMError("Clicking the checkbox did not change its state");return"done"}async boundingBox(){return this._page._delegate.getBoundingBox(this)}async screenshot(v,S={}){const Q=new J.ProgressController(v,this);return Q.run((v=>this._page._screenshotter.screenshotElement(v,this,S)),this._page._timeoutSettings.timeout(S))}async querySelector(v,S){return this._frame.selectors.query(v,S,this)}async querySelectorAll(v){return this._frame.selectors.queryAll(v,this)}async evalOnSelector(v,S,Q,O,H){return this._frame.evalOnSelector(v,S,Q,O,H,this)}async evalOnSelectorAll(v,S,Q,O){return this._frame.evalOnSelectorAll(v,S,Q,O,this)}async isVisible(v){return this._frame.isVisible(v,":scope",{},this)}async isHidden(v){return this._frame.isHidden(v,":scope",{},this)}async isEnabled(v){return this._frame.isEnabled(v,":scope",{},this)}async isDisabled(v){return this._frame.isDisabled(v,":scope",{},this)}async isEditable(v){return this._frame.isEditable(v,":scope",{},this)}async isChecked(v){return this._frame.isChecked(v,":scope",{},this)}async waitForElementState(v,S,Q={}){const O=new J.ProgressController(v,this);return O.run((async v=>{v.log(`  waiting for element to be ${S}`);const Q=await this.evaluatePoll(v,(([v,S,Q])=>v.waitForElementStatesAndPerformAction(S,[Q],false,(()=>"done"))),S);assertDone(throwRetargetableDOMError(Q))}),this._page._timeoutSettings.timeout(Q))}async waitForSelector(v,S,Q={}){return this._frame.waitForSelector(v,S,Q,this)}async _adoptTo(v){if(this._context!==v){const S=await this._page._delegate.adoptElementHandle(this,v);this.dispose();return S}return this}async _waitForElementStates(v,S,Q){const O=joinWithAnd(S);v.log(`  waiting for element to be ${O}`);const H=await this.evaluatePoll(v,(([v,S,{states:Q,force:O}])=>v.waitForElementStatesAndPerformAction(S,Q,O,(()=>"done"))),{states:S,force:Q});if(H==="error:notconnected")return H;v.log(`  element is ${O}`);return H}async _checkFrameIsHitTarget(v){let S=this._frame;const Q=[];while(S.parentFrame()){const O=await S.frameElement();const H=await O.boundingBox();const V=await O.evaluateInUtility((([v,S])=>v.describeIFrameStyle(S)),{}).catch((v=>"error:notconnected"));if(!H||V==="error:notconnected")return"error:notconnected";if(V==="transformed"){return{framePoint:undefined}}const J={x:v.x-H.x-V.left,y:v.y-H.y-V.top};Q.push({frame:S,frameElement:O,pointInFrame:J});S=S.parentFrame()}Q.push({frame:S,frameElement:null,pointInFrame:v});for(let v=Q.length-1;v>0;v--){const S=Q[v-1].frameElement;const O=Q[v].pointInFrame;const H=await S.evaluateInUtility((([v,S,Q])=>v.expectHitTarget(Q,S)),O);if(H!=="done")return H}return{framePoint:Q[0].pointInFrame}}}S.ElementHandle=ElementHandle;class InjectedScriptPollHandler{constructor(v,S){this._progress=void 0;this._poll=void 0;this._progress=v;this._poll=S;this._progress.cleanupWhenAborted((()=>this.cancel()));this._streamLogs()}async _streamLogs(){while(this._poll&&this._progress.isRunning()){const v=await this._poll.evaluate((v=>v.takeNextLogs())).catch((v=>[]));if(!this._poll||!this._progress.isRunning())return;for(const S of v)this._progress.logEntry(S)}}async finishHandle(){try{const v=await this._poll.evaluateHandle((v=>v.run()));await this._finishInternal();return v}finally{await this.cancel()}}async finish(){try{const v=await this._poll.evaluate((v=>v.run()));await this._finishInternal();return v}finally{await this.cancel()}}async _finishInternal(){if(!this._poll)return;const v=await this._poll.evaluate((v=>v.takeLastLogs())).catch((v=>[]));for(const S of v)this._progress.logEntry(S)}async cancel(){if(!this._poll)return;const v=this._poll;this._poll=null;await v.evaluate((v=>v.cancel())).catch((v=>{}));v.dispose()}}S.InjectedScriptPollHandler=InjectedScriptPollHandler;function throwRetargetableDOMError(v){if(v==="error:notconnected")throw new Error("Element is not attached to the DOM");return v}function assertDone(v){}function roundPoint(v){return{x:(v.x*100|0)/100,y:(v.y*100|0)/100}}function compensateHalfIntegerRoundingError(v){const S=v.x-Math.floor(v.x);if(S>.49&&S<.51)v.x-=.02;const Q=v.y-Math.floor(v.y);if(Q>.49&&Q<.51)v.y-=.02}function joinWithAnd(v){if(v.length<=1)return v.join("");return v.slice(0,v.length-1).join(", ")+" and "+v[v.length-1]}const ee=S.kUnableToAdoptErrorMessage="Unable to adopt element handle from a different document"},3404:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Download=void 0;var O=_interopRequireDefault(Q(1017));var H=Q(3555);var V=Q(3557);var J=Q(1796);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class Download{constructor(v,S,Q,V,Y){this.artifact=void 0;this.url=void 0;this._page=void 0;this._suggestedFilename=void 0;const X=v._browserContext._options.acceptDownloads==="deny"?"Pass { acceptDownloads: true } when you are creating your browser context.":undefined;this.artifact=new J.Artifact(v,O.default.join(S,Q),X,(()=>this._page._browserContext.cancelDownload(Q)));this._page=v;this.url=V;this._suggestedFilename=Y;v._browserContext._downloads.add(this);if(Y!==undefined)this._page.emit(H.Page.Events.Download,this)}_filenameSuggested(v){(0,V.assert)(this._suggestedFilename===undefined);this._suggestedFilename=v;this._page.emit(H.Page.Events.Download,this)}suggestedFilename(){return this._suggestedFilename}}S.Download=Download},9229:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ElectronApplication=S.Electron=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(2037));var V=_interopRequireDefault(Q(1017));var J=Q(2731);var Y=Q(5460);var X=Q(4244);var ee=_interopRequireWildcard(Q(804));var ae=Q(9053);var he=Q(3557);var Ee=Q(1232);var Be=Q(1441);var ke=Q(5985);var Re=Q(2836);var Oe=Q(9175);var Pe=Q(3841);var Le=_interopRequireWildcard(Q(4521));var je=Q(2003);var qe=Q(6686);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const Ve=V.default.join(H.default.tmpdir(),"playwright-artifacts-");class ElectronApplication extends qe.SdkObject{constructor(v,S,Q,O){super(v,"electron-app");this._browserContext=void 0;this._nodeConnection=void 0;this._nodeSession=void 0;this._nodeExecutionContext=void 0;this._nodeElectronHandlePromise=new he.ManualPromise;this._timeoutSettings=new ae.TimeoutSettings;this._process=void 0;this._process=O;this._browserContext=S._defaultContext;this._browserContext.on(ke.BrowserContext.Events.Close,(()=>{Promise.resolve().then((()=>this.emit(ElectronApplication.Events.Close)))}));this._nodeConnection=Q;this._nodeSession=Q.rootSession;this._nodeSession.on("Runtime.executionContextCreated",(async v=>{if(!v.context.auxData||!v.context.auxData.isDefault)return;const S=new X.CRExecutionContext(this._nodeSession,v.context);this._nodeExecutionContext=new ee.ExecutionContext(this,S,"electron");const{result:Q}=await S._client.send("Runtime.evaluate",{expression:`require('electron')`,contextId:v.context.id,includeCommandLineAPI:true});this._nodeElectronHandlePromise.resolve(new ee.JSHandle(this._nodeExecutionContext,"object","ElectronModule",Q.objectId))}));this._browserContext.setCustomCloseHandler((async()=>{await this._browserContext.stopVideoRecording();const v=await this._nodeElectronHandlePromise;await v.evaluate((({app:v})=>v.quit())).catch((()=>{}))}))}async initialize(){await this._nodeSession.send("Runtime.enable",{});await this._nodeSession.send("Runtime.evaluate",{expression:"__playwright_run()"})}process(){return this._process}context(){return this._browserContext}async close(){const v=new Re.ProgressController((0,qe.serverSideCallMetadata)(),this);const S=v.run((v=>Oe.helper.waitForEvent(v,this,ElectronApplication.Events.Close).promise));await this._browserContext.close({reason:"Application exited"});this._nodeConnection.close();await S}async browserWindow(v){const S=v._delegate._targetId;const Q=await this._nodeElectronHandlePromise;return await Q.evaluateHandle((({BrowserWindow:v,webContents:S},Q)=>{const O=S.fromDevToolsTargetId(Q);return v.fromWebContents(O)}),S)}}S.ElectronApplication=ElectronApplication;ElectronApplication.Events={Close:"close"};class Electron extends qe.SdkObject{constructor(v){super(v,"electron")}async launch(v){const{args:S=[]}=v;const V=new Re.ProgressController((0,qe.serverSideCallMetadata)(),this);V.setLogName("browser");return V.run((async V=>{let X=undefined;const ee=["--inspect=0","--remote-debugging-port=0",...S];if(H.default.platform()==="linux"){const v=process.geteuid&&process.geteuid()===0;if(v&&ee.indexOf("--no-sandbox")===-1)ee.push("--no-sandbox")}const ae=await O.default.promises.mkdtemp(Ve);const Re=new je.RecentLogsCollector;const Pe=v.env?(0,Be.envArrayToObject)(v.env):process.env;let Le;if(v.executablePath){Le=v.executablePath}else{try{Le=Q(2732)}catch(v){if((v===null||v===void 0?void 0:v.code)==="MODULE_NOT_FOUND"){throw new Error("\n"+(0,he.wrapInASCIIBox)(["Electron executablePath not found!","Please install it using `npm install -D electron` or set the executablePath to your Electron executable."].join("\n"),1))}throw v}ee.unshift("-r",Q.ab+"loader.js")}delete Pe.NODE_OPTIONS;const{launchedProcess:qe,gracefullyClose:ze,kill:$e}=await(0,Be.launchProcess)({command:Le,args:ee,env:Pe,log:v=>{V.log(v);Re.log(v)},stdio:"pipe",cwd:v.cwd,tempDirectories:[ae],attemptToGracefullyClose:()=>X.close(),handleSIGINT:true,handleSIGTERM:true,handleSIGHUP:true,onExit:()=>{}});const Ye=new Promise((async(v,S)=>{waitForLine(V,qe,/Unable to open X display/).then((()=>S(new Error(["Unable to open X display!",`================================`,"Most likely this is because there is no X server available.","Use 'xvfb-run' on Linux to launch your tests with an emulated display server.","For example: 'xvfb-run npm run test:e2e'",`================================`,V.metadata.log].join("\n"))))).catch((()=>{}))}));const et=await waitForLine(V,qe,/^Debugger listening on (ws:\/\/.*)$/);const tt=await Ee.WebSocketTransport.connect(V,et[1]);const nt=new Y.CRConnection(tt,Oe.helper.debugProtocolLogger(),Re);waitForLine(V,qe,/Waiting for the debugger to disconnect\.\.\./).then((()=>{tt.close()})).catch((()=>{}));const it=await Promise.race([waitForLine(V,qe,/^DevTools listening on (ws:\/\/.*)$/),Ye]);const st=await Ee.WebSocketTransport.connect(V,it[1]);const at={onclose:undefined,process:qe,close:ze,kill:$e};const lt={...v,noDefaultViewport:true};const ct={name:"electron",isChromium:true,headful:true,persistent:lt,browserProcess:at,protocolLogger:Oe.helper.debugProtocolLogger(),browserLogsCollector:Re,artifactsDir:ae,downloadsPath:ae,tracesDir:v.tracesDir||ae,originalLaunchOptions:{}};(0,ke.validateBrowserContextOptions)(lt,ct);const ut=await J.CRBrowser.connect(this.attribution.playwright,st,ct);X=new ElectronApplication(this,ut,nt,qe);await X.initialize();return X}),ae.TimeoutSettings.launchTimeout(v))}}S.Electron=Electron;function waitForLine(v,S,Q){return new Promise(((O,H)=>{const V=Le.createInterface({input:S.stderr});const J=new Error("Process failed to launch!");const Y=[Pe.eventsHelper.addEventListener(V,"line",onLine),Pe.eventsHelper.addEventListener(V,"close",H.bind(null,J)),Pe.eventsHelper.addEventListener(S,"exit",H.bind(null,J)),Pe.eventsHelper.addEventListener(S,"error",H.bind(null,J))];v.cleanupWhenAborted(cleanup);function onLine(v){const S=v.match(Q);if(!S)return;cleanup();O(S)}function cleanup(){Pe.eventsHelper.removeEventListeners(Y)}}))}},1145:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.TimeoutError=S.TargetClosedError=void 0;S.isTargetClosedError=isTargetClosedError;S.parseError=parseError;S.serializeError=serializeError;var O=Q(3557);var H=Q(5644);class CustomError extends Error{constructor(v){super(v);this.name=this.constructor.name}}class TimeoutError extends CustomError{}S.TimeoutError=TimeoutError;class TargetClosedError extends CustomError{constructor(v,S){super((v||"Target page, context or browser has been closed")+(S||""))}}S.TargetClosedError=TargetClosedError;function isTargetClosedError(v){return v instanceof TargetClosedError||v.name==="TargetClosedError"}function serializeError(v){if((0,O.isError)(v))return{error:{message:v.message,stack:v.stack,name:v.name}};return{value:(0,H.serializeValue)(v,(v=>({fallThrough:v})))}}function parseError(v){if(!v.error){if(v.value===undefined)throw new Error("Serialized error must have either an error or a value");return(0,H.parseSerializedValue)(v.value,undefined)}const S=new Error(v.error.message);S.stack=v.error.stack||"";S.name=v.error.name;return S}},2857:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.GlobalAPIRequestContext=S.BrowserContextAPIRequestContext=S.APIRequestContext=void 0;var O=_interopRequireWildcard(Q(3685));var H=_interopRequireWildcard(Q(5687));var V=Q(2781);var J=_interopRequireDefault(Q(7310));var Y=_interopRequireDefault(Q(9796));var X=Q(9053);var ee=Q(9521);var ae=Q(3557);var he=Q(1319);var Ee=Q(5985);var Be=Q(9260);var ke=Q(7291);var Re=Q(7363);var Oe=Q(6686);var Pe=Q(2836);var Le=Q(865);var je=Q(3824);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class APIRequestContext extends Oe.SdkObject{static findResponseBody(v){for(const S of APIRequestContext.allInstances){const Q=S.fetchResponses.get(v);if(Q)return Q}return undefined}constructor(v){super(v,"request-context");this.fetchResponses=new Map;this.fetchLog=new Map;this._activeProgressControllers=new Set;this._closeReason=void 0;APIRequestContext.allInstances.add(this)}_disposeImpl(){APIRequestContext.allInstances.delete(this);this.fetchResponses.clear();this.fetchLog.clear();this.emit(APIRequestContext.Events.Dispose)}disposeResponse(v){this.fetchResponses.delete(v);this.fetchLog.delete(v)}_storeResponseBody(v){const S=(0,ae.createGuid)();this.fetchResponses.set(S,v);return S}async fetch(v,S){var Q;const O=this._defaultOptions();const H={"user-agent":O.userAgent,accept:"*/*","accept-encoding":"gzip,deflate,br"};if(O.extraHTTPHeaders){for(const{name:v,value:S}of O.extraHTTPHeaders)setHeader(H,v,S)}if(v.headers){for(const{name:S,value:Q}of v.headers)setHeader(H,S,Q)}const V=new URL(v.url,O.baseURL);if(v.params){for(const{name:S,value:Q}of v.params)V.searchParams.set(S,Q)}const Y=((Q=v.method)===null||Q===void 0?void 0:Q.toUpperCase())||"GET";const X=O.proxy;let ee;if(X&&X.server!=="per-context"&&!shouldBypassProxy(V,X.bypass)){var Ee;const v=J.default.parse(X.server);if((Ee=v.protocol)!==null&&Ee!==void 0&&Ee.startsWith("socks")){ee=new he.SocksProxyAgent({host:v.hostname,port:v.port||undefined})}else{if(X.username)v.auth=`${X.username}:${X.password||""}`;ee=new he.HttpsProxyAgent(v)}}const Be=O.timeoutSettings.timeout(v);const ke=Be&&(0,ae.monotonicTime)()+Be;const Re={method:Y,headers:H,agent:ee,maxRedirects:v.maxRedirects===0?-1:v.maxRedirects===undefined?20:v.maxRedirects,timeout:Be,deadline:ke,__testHookLookup:v.__testHookLookup};if(v.ignoreHTTPSErrors||O.ignoreHTTPSErrors)Re.rejectUnauthorized=false;const Oe=serializePostData(v,H);if(Oe)setHeader(H,"content-length",String(Oe.byteLength));const Le=new Pe.ProgressController(S,this);const je=await Le.run((v=>this._sendRequest(v,V,Re,Oe)));const qe=this._storeResponseBody(je.body);this.fetchLog.set(qe,Le.metadata.log);if(v.failOnStatusCode&&(je.status<200||je.status>=400))throw new Error(`${je.status} ${je.statusText}`);return{...je,fetchUid:qe}}_parseSetCookieHeader(v,S){if(!S)return[];const Q=new URL(v);const O="/"+Q.pathname.substr(1).split("/").slice(0,-1).join("/");const H=[];for(const v of S){const S=parseCookie(v);if(!S)continue;if(!S.domain)S.domain=Q.hostname;else(0,ae.assert)(S.domain.startsWith(".")||!S.domain.includes("."));if(!(0,Be.domainMatches)(Q.hostname,S.domain))continue;if(!S.path||!S.path.startsWith("/"))S.path=O;H.push(S)}return H}async _updateRequestCookieHeader(v,S){if(getHeader(S,"cookie")!==undefined)return;const Q=await this._cookies(v);if(Q.length){const v=Q.map((v=>`${v.name}=${v.value}`));setHeader(S,"cookie",v.join("; "))}}async _sendRequest(v,S,Q,J){var X;await this._updateRequestCookieHeader(S,Q.headers);const ee=((X=getHeader(Q.headers,"cookie"))===null||X===void 0?void 0:X.split(";").map((v=>{const[S,Q]=v.split("=").map((v=>v.trim()));return{name:S,value:Q}})))||[];const he={url:S,method:Q.method,headers:Q.headers,cookies:ee,postData:J};this.emit(APIRequestContext.Events.Request,he);return new Promise(((X,ee)=>{const Ee=(S.protocol==="https:"?H:O).request;const Be=Q.agent||(S.protocol==="https:"?Re.httpsHappyEyeballsAgent:Re.httpHappyEyeballsAgent);const ke={...Q,agent:Be};const Oe=Ee(S,ke,(async O=>{const notifyRequestFinished=v=>{const S={requestEvent:he,httpVersion:O.httpVersion,statusCode:O.statusCode||0,statusMessage:O.statusMessage||"",headers:O.headers,rawHeaders:O.rawHeaders,cookies:H,body:v};this.emit(APIRequestContext.Events.RequestFinished,S)};v.log(`← ${O.statusCode} ${O.statusMessage}`);for(const[S,Q]of Object.entries(O.headers))v.log(`  ${S}: ${Q}`);const H=this._parseSetCookieHeader(O.url||S.toString(),O.headers["set-cookie"]);if(H.length){try{await this._addCookies(H)}catch(v){await Promise.all(H.map((v=>this._addCookies([v]).catch((()=>{})))))}}if(qe.includes(O.statusCode)&&Q.maxRedirects>=0){if(!Q.maxRedirects){ee(new Error("Max redirect count exceeded"));Oe.destroy();return}const H={...Q.headers};removeHeader(H,`cookie`);const V=O.statusCode;let Y=Q.method;if((V===301||V===302)&&Y==="POST"||V===303&&!["GET","HEAD"].includes(Y)){Y="GET";J=undefined;removeHeader(H,`content-encoding`);removeHeader(H,`content-language`);removeHeader(H,`content-length`);removeHeader(H,`content-location`);removeHeader(H,`content-type`)}const ae={method:Y,headers:H,agent:Q.agent,maxRedirects:Q.maxRedirects-1,timeout:Q.timeout,deadline:Q.deadline,__testHookLookup:Q.__testHookLookup};if(Q.rejectUnauthorized===false)ae.rejectUnauthorized=false;if(O.headers.location){let Q;try{Q=new URL(O.headers.location,S)}catch(v){ee(new Error(`uri requested responds with an invalid redirect URL: ${O.headers.location}`));Oe.destroy();return}if(H["host"])H["host"]=Q.host;notifyRequestFinished();X(this._sendRequest(v,Q,ae,J));Oe.destroy();return}}if(O.statusCode===401&&!getHeader(Q.headers,"authorization")){const H=O.headers["www-authenticate"];const V=this._getHttpCredentials(S);if(H!==null&&H!==void 0&&H.trim().startsWith("Basic")&&V){const{username:O,password:H}=V;const Y=Buffer.from(`${O||""}:${H||""}`).toString("base64");setHeader(Q.headers,"authorization",`Basic ${Y}`);notifyRequestFinished();X(this._sendRequest(v,S,Q,J));Oe.destroy();return}}O.on("aborted",(()=>ee(new Error("aborted"))));const ae=[];const notifyBodyFinished=()=>{const v=Buffer.concat(ae);notifyRequestFinished(v);X({url:O.url||S.toString(),status:O.statusCode||0,statusText:O.statusMessage||"",headers:toHeadersArray(O.rawHeaders),body:v})};let Ee=O;let Be;const ke=O.headers["content-encoding"];if(ke==="gzip"||ke==="x-gzip"){Be=Y.default.createGunzip({flush:Y.default.constants.Z_SYNC_FLUSH,finishFlush:Y.default.constants.Z_SYNC_FLUSH})}else if(ke==="br"){Be=Y.default.createBrotliDecompress()}else if(ke==="deflate"){Be=Y.default.createInflate()}if(Be){const v=new SafeEmptyStreamTransform(notifyBodyFinished);Ee=(0,V.pipeline)(O,v,Be,(v=>{if(v)ee(new Error(`failed to decompress '${ke}' encoding: ${v.message}`))}));Ee.on("error",(v=>ee(new Error(`failed to decompress '${ke}' encoding: ${v}`))))}else{Ee.on("error",ee)}Ee.on("data",(v=>ae.push(v)));Ee.on("end",notifyBodyFinished)}));Oe.on("error",ee);const disposeListener=()=>{ee(new Error("Request context disposed."));Oe.destroy()};this.on(APIRequestContext.Events.Dispose,disposeListener);Oe.on("close",(()=>this.off(APIRequestContext.Events.Dispose,disposeListener)));v.log(`→ ${Q.method} ${S.toString()}`);if(Q.headers){for(const[S,O]of Object.entries(Q.headers))v.log(`  ${S}: ${O}`)}if(Q.deadline){const rejectOnTimeout=()=>{ee(new Error(`Request timed out after ${Q.timeout}ms`));Oe.destroy()};const v=Q.deadline-(0,ae.monotonicTime)();if(v<=0){rejectOnTimeout();return}Oe.setTimeout(v,rejectOnTimeout)}if(J)Oe.write(J);Oe.end()}))}_getHttpCredentials(v){var S,Q,O;if(!((S=this._defaultOptions().httpCredentials)!==null&&S!==void 0&&S.origin)||v.origin.toLowerCase()===((Q=this._defaultOptions().httpCredentials)===null||Q===void 0?void 0:(O=Q.origin)===null||O===void 0?void 0:O.toLowerCase()))return this._defaultOptions().httpCredentials;return undefined}}S.APIRequestContext=APIRequestContext;APIRequestContext.Events={Dispose:"dispose",Request:"request",RequestFinished:"requestfinished"};APIRequestContext.allInstances=new Set;class SafeEmptyStreamTransform extends V.Transform{constructor(v){super();this._receivedSomeData=false;this._onEmptyStreamCallback=void 0;this._onEmptyStreamCallback=v}_transform(v,S,Q){this._receivedSomeData=true;Q(null,v)}_flush(v){if(this._receivedSomeData)v(null);else this._onEmptyStreamCallback()}}class BrowserContextAPIRequestContext extends APIRequestContext{constructor(v){super(v);this._context=void 0;this._context=v;v.once(Ee.BrowserContext.Events.Close,(()=>this._disposeImpl()))}tracing(){return this._context.tracing}async dispose(){this.fetchResponses.clear()}_defaultOptions(){return{userAgent:this._context._options.userAgent||this._context._browser.userAgent(),extraHTTPHeaders:this._context._options.extraHTTPHeaders,httpCredentials:this._context._options.httpCredentials,proxy:this._context._options.proxy||this._context._browser.options.proxy,timeoutSettings:this._context._timeoutSettings,ignoreHTTPSErrors:this._context._options.ignoreHTTPSErrors,baseURL:this._context._options.baseURL}}async _addCookies(v){await this._context.addCookies(v)}async _cookies(v){return await this._context.cookies(v.toString())}async storageState(){return this._context.storageState()}}S.BrowserContextAPIRequestContext=BrowserContextAPIRequestContext;class GlobalAPIRequestContext extends APIRequestContext{constructor(v,S){super(v);this._cookieStore=new Be.CookieStore;this._options=void 0;this._origins=void 0;this._tracing=void 0;this.attribution.context=this;const Q=new X.TimeoutSettings;if(S.timeout!==undefined)Q.setDefaultTimeout(S.timeout);const O=S.proxy;if(O!==null&&O!==void 0&&O.server){let v=O===null||O===void 0?void 0:O.server.trim();if(!/^\w+:\/\//.test(v))v="http://"+v;O.server=v}if(S.storageState){this._origins=S.storageState.origins;this._cookieStore.addCookies(S.storageState.cookies||[])}this._options={baseURL:S.baseURL,userAgent:S.userAgent||(0,ee.getUserAgent)(),extraHTTPHeaders:S.extraHTTPHeaders,ignoreHTTPSErrors:!!S.ignoreHTTPSErrors,httpCredentials:S.httpCredentials,proxy:O,timeoutSettings:Q};this._tracing=new Le.Tracing(this,S.tracesDir)}tracing(){return this._tracing}async dispose(){await this._tracing.flush();await this._tracing.deleteTmpTracesDir();this._disposeImpl()}_defaultOptions(){return this._options}async _addCookies(v){this._cookieStore.addCookies(v)}async _cookies(v){return this._cookieStore.cookies(v)}async storageState(){return{cookies:this._cookieStore.allCookies(),origins:this._origins||[]}}}S.GlobalAPIRequestContext=GlobalAPIRequestContext;function toHeadersArray(v){const S=[];for(let Q=0;Q<v.length;Q+=2)S.push({name:v[Q],value:v[Q+1]});return S}const qe=[301,302,303,307,308];function parseCookie(v){const S=v.split(";").filter((v=>v.trim().length>0)).map((v=>{let S="";let Q="";const O=v.indexOf("=");if(O===-1){S=v.trim()}else{S=v.slice(0,O).trim();Q=v.slice(O+1).trim()}return[S,Q]}));if(!S.length)return null;const[Q,O]=S[0];const H={name:Q,value:O,domain:"",path:"",expires:-1,httpOnly:false,secure:false,sameSite:"Lax"};for(let v=1;v<S.length;v++){const[Q,O]=S[v];switch(Q.toLowerCase()){case"expires":const v=+new Date(O);if(isFinite(v)){if(v<=0)H.expires=0;else H.expires=Math.min(v/1e3,je.kMaxCookieExpiresDateInSeconds)}break;case"max-age":const S=parseInt(O,10);if(isFinite(S)){if(S<=0)H.expires=0;else H.expires=Math.min(Date.now()/1e3+S,je.kMaxCookieExpiresDateInSeconds)}break;case"domain":H.domain=O.toLocaleLowerCase()||"";if(H.domain&&!H.domain.startsWith(".")&&H.domain.includes("."))H.domain="."+H.domain;break;case"path":H.path=O||"";break;case"secure":H.secure=true;break;case"httponly":H.httpOnly=true;break;case"samesite":switch(O.toLowerCase()){case"none":H.sameSite="None";break;case"lax":H.sameSite="Lax";break;case"strict":H.sameSite="Strict";break}break}}return H}function serializePostData(v,S){(0,ae.assert)((v.postData?1:0)+(v.jsonData?1:0)+(v.formData?1:0)+(v.multipartData?1:0)<=1,`Only one of 'data', 'form' or 'multipart' can be specified`);if(v.jsonData!==undefined){setHeader(S,"content-type","application/json",true);return Buffer.from(v.jsonData,"utf8")}else if(v.formData){const Q=new URLSearchParams;for(const{name:S,value:O}of v.formData)Q.append(S,O);setHeader(S,"content-type","application/x-www-form-urlencoded",true);return Buffer.from(Q.toString(),"utf8")}else if(v.multipartData){const Q=new ke.MultipartFormData;for(const S of v.multipartData){if(S.file)Q.addFileField(S.name,S.file);else if(S.value)Q.addField(S.name,S.value)}setHeader(S,"content-type",Q.contentTypeHeader(),true);return Q.finish()}else if(v.postData!==undefined){setHeader(S,"content-type","application/octet-stream",true);return v.postData}return undefined}function setHeader(v,S,Q,O=false){const H=Object.entries(v).find((v=>v[0].toLowerCase()===S.toLowerCase()));if(!H)v[S]=Q;else if(!O)v[H[0]]=Q}function getHeader(v,S){const Q=Object.entries(v).find((v=>v[0].toLowerCase()===S.toLowerCase()));return Q?Q[1]:undefined}function removeHeader(v,S){delete v[S]}function shouldBypassProxy(v,S){if(!S)return false;const Q=S.split(",").map((v=>{v=v.trim();if(!v.startsWith("."))v="."+v;return v}));const O="."+v.hostname;return Q.some((v=>O.endsWith(v)))}},2337:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FileChooser=void 0;class FileChooser{constructor(v,S,Q){this._page=void 0;this._elementHandle=void 0;this._isMultiple=void 0;this._page=v;this._elementHandle=S;this._isMultiple=Q}element(){return this._elementHandle}isMultiple(){return this._isMultiple}page(){return this._page}}S.FileChooser=FileChooser},6582:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.prepareFilesForUpload=prepareFilesForUpload;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=Q(3557);var J=Q(1319);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}async function filesExceedUploadLimit(v){const S=await Promise.all(v.map((async v=>(await O.default.promises.stat(v)).size)));return S.reduce(((v,S)=>v+S),0)>=V.fileUploadSizeLimit}async function prepareFilesForUpload(v,S){var Q;const{payloads:Y,streams:X}=S;let{localPaths:ee}=S;if([Y,ee,X].filter(Boolean).length!==1)throw new Error("Exactly one of payloads, localPaths and streams must be provided");if(X)ee=X.map((v=>v.path()));if(ee){for(const v of ee)(0,V.assert)(H.default.isAbsolute(v)&&H.default.resolve(v)===v,"Paths provided to localPaths must be absolute and fully resolved.")}let ae=Y;if(!v._page._browserContext._browser._isCollocatedWithServer){if(ee){if(await filesExceedUploadLimit(ee))throw new Error("Cannot transfer files larger than 50Mb to a browser not co-located with the server");ae=await Promise.all(ee.map((async v=>({name:H.default.basename(v),buffer:await O.default.promises.readFile(v),lastModifiedMs:(await O.default.promises.stat(v)).mtimeMs}))));ee=undefined}}const he=(Q=ae)===null||Q===void 0?void 0:Q.map((v=>({name:v.name,mimeType:v.mimeType||J.mime.getType(v.name)||"application/octet-stream",buffer:v.buffer.toString("base64"),lastModifiedMs:v.lastModifiedMs})));return{localPaths:ee,filePayloads:he}}},1112:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getAccessibilityTree=getAccessibilityTree;async function getAccessibilityTree(v,S){const Q=S?S._objectId:undefined;const{tree:O}=await v.send("Accessibility.getFullAXTree",{objectId:Q});const H=new FFAXNode(O);return{tree:H,needle:S?H._findNeedle():null}}const Q=new Map(Object.entries({pushbutton:"button",checkbutton:"checkbox",editcombobox:"combobox","content deletion":"deletion",footnote:"doc-footnote","non-native document":"document",grouping:"group",graphic:"img","content insertion":"insertion",animation:"marquee","flat equation":"math",menupopup:"menu","check menu item":"menuitemcheckbox","radio menu item":"menuitemradio","listbox option":"option",radiobutton:"radio",statusbar:"status",pagetab:"tab",pagetablist:"tablist",propertypage:"tabpanel",entry:"textbox",outline:"tree","tree table":"treegrid",outlineitem:"treeitem"}));class FFAXNode{constructor(v){this._children=void 0;this._payload=void 0;this._editable=void 0;this._richlyEditable=void 0;this._focusable=void 0;this._expanded=void 0;this._name=void 0;this._role=void 0;this._cachedHasFocusableChild=void 0;this._payload=v;this._children=(v.children||[]).map((v=>new FFAXNode(v)));this._editable=!!v.editable;this._richlyEditable=this._editable&&v.tag!=="textarea"&&v.tag!=="input";this._focusable=!!v.focusable;this._expanded=!!v.expanded;this._name=this._payload.name;this._role=this._payload.role}_isPlainTextField(){if(this._richlyEditable)return false;if(this._editable)return true;return this._role==="entry"}_isTextOnlyObject(){const v=this._role;return v==="text leaf"||v==="text"||v==="statictext"}_hasFocusableChild(){if(this._cachedHasFocusableChild===undefined){this._cachedHasFocusableChild=false;for(const v of this._children){if(v._focusable||v._hasFocusableChild()){this._cachedHasFocusableChild=true;break}}}return this._cachedHasFocusableChild}children(){return this._children}_findNeedle(){if(this._payload.foundObject)return this;for(const v of this._children){const S=v._findNeedle();if(S)return S}return null}isLeafNode(){if(!this._children.length)return true;if(this._isPlainTextField()||this._isTextOnlyObject())return true;switch(this._role){case"graphic":case"scrollbar":case"slider":case"separator":case"progressbar":return true;default:break}if(this._hasFocusableChild())return false;if(this._focusable&&this._role!=="document"&&this._name)return true;if(this._role==="heading"&&this._name)return true;return false}isControl(){switch(this._role){case"checkbutton":case"check menu item":case"check rich option":case"combobox":case"combobox option":case"color chooser":case"listbox":case"listbox option":case"listbox rich option":case"popup menu":case"menupopup":case"menuitem":case"menubar":case"button":case"pushbutton":case"radiobutton":case"radio menuitem":case"scrollbar":case"slider":case"spinbutton":case"switch":case"pagetab":case"entry":case"tree table":return true;default:return false}}isInteresting(v){if(this._focusable||this._richlyEditable)return true;if(this.isControl())return true;if(v)return false;return this.isLeafNode()&&!!this._name.trim()}serialize(){const v={role:Q.get(this._role)||this._role,name:this._name||""};const S=["name","description","roledescription","valuetext","keyshortcuts"];for(const Q of S){if(!(Q in this._payload))continue;v[Q]=this._payload[Q]}const O=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"];for(const S of O){if(this._role==="document"&&S==="focused")continue;const Q=this._payload[S];if(!Q)continue;v[S]=Q}const H=["level"];for(const S of H){if(!(S in this._payload))continue;v[S]=this._payload[S]}const V=["autocomplete","haspopup","invalid","orientation"];for(const S of V){const Q=this._payload[S];if(!Q||Q==="false")continue;v[S]=Q}const J=v;J.valueString=this._payload.value;if("checked"in this._payload)J.checked=this._payload.checked===true?"checked":this._payload.checked==="mixed"?"mixed":"unchecked";if("pressed"in this._payload)J.pressed=this._payload.pressed===true?"pressed":"released";return J}}},923:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FFBrowserContext=S.FFBrowser=void 0;var O=Q(1145);var H=Q(3557);var V=Q(6705);var J=Q(5985);var Y=_interopRequireWildcard(Q(3824));var X=Q(4327);var ee=Q(1674);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class FFBrowser extends V.Browser{static async connect(v,S,Q){var O;const H=new X.FFConnection(S,Q.protocolLogger,Q.browserLogsCollector);const V=new FFBrowser(v,H,Q);if(Q.__testHookOnConnectToBrowser)await Q.__testHookOnConnectToBrowser();let J=(O=Q.originalLaunchOptions.firefoxUserPrefs)!==null&&O!==void 0?O:{};if(Object.keys(ae).length)J={...ae,...J};const Y=[V.session.send("Browser.enable",{attachToDefaultContext:!!Q.persistent,userPrefs:Object.entries(J).map((([v,S])=>({name:v,value:S})))}),V._initVersion()];if(Q.persistent){V._defaultContext=new FFBrowserContext(V,undefined,Q.persistent);Y.push(V._defaultContext._initialize())}if(Q.proxy)Y.push(V.session.send("Browser.setBrowserProxy",toJugglerProxyOptions(Q.proxy)));await Promise.all(Y);return V}constructor(v,S,Q){super(v,Q);this._connection=void 0;this.session=void 0;this._ffPages=void 0;this._contexts=void 0;this._version="";this._userAgent="";this._connection=S;this.session=S.rootSession;this._ffPages=new Map;this._contexts=new Map;this._connection.on(X.ConnectionEvents.Disconnected,(()=>this._onDisconnect()));this.session.on("Browser.attachedToTarget",this._onAttachedToTarget.bind(this));this.session.on("Browser.detachedFromTarget",this._onDetachedFromTarget.bind(this));this.session.on("Browser.downloadCreated",this._onDownloadCreated.bind(this));this.session.on("Browser.downloadFinished",this._onDownloadFinished.bind(this));this.session.on("Browser.videoRecordingFinished",this._onVideoRecordingFinished.bind(this))}async _initVersion(){const v=await this.session.send("Browser.getInfo");this._version=v.version.substring(v.version.indexOf("/")+1);this._userAgent=v.userAgent}isConnected(){return!this._connection._closed}async doCreateNewContext(v){if(v.isMobile)throw new Error("options.isMobile is not supported in Firefox");const{browserContextId:S}=await this.session.send("Browser.createBrowserContext",{removeOnDetach:true});const Q=new FFBrowserContext(this,S,v);await Q._initialize();this._contexts.set(S,Q);return Q}contexts(){return Array.from(this._contexts.values())}version(){return this._version}userAgent(){return this._userAgent}_onDetachedFromTarget(v){const S=this._ffPages.get(v.targetId);this._ffPages.delete(v.targetId);S.didClose()}_onAttachedToTarget(v){const{targetId:S,browserContextId:Q,openerId:O,type:V}=v.targetInfo;(0,H.assert)(V==="page");const J=Q?this._contexts.get(Q):this._defaultContext;(0,H.assert)(J,`Unknown context id:${Q}, _defaultContext: ${this._defaultContext}`);const Y=this._connection.createSession(v.sessionId);const X=O?this._ffPages.get(O):null;const ae=new ee.FFPage(Y,J,X);this._ffPages.set(S,ae)}_onDownloadCreated(v){const S=this._ffPages.get(v.pageTargetId);if(!S)return;S._page._frameManager.frameAbortedNavigation(v.frameId,"Download is starting");let Q=S._initializedPage;if(!Q){S._markAsError(new Error("Starting new page download"));if(S._opener)Q=S._opener._initializedPage}if(!Q)return;this._downloadCreated(Q,v.uuid,v.url,v.suggestedFileName)}_onDownloadFinished(v){const S=v.canceled?"canceled":v.error;this._downloadFinished(v.uuid,S)}_onVideoRecordingFinished(v){var S;(S=this._takeVideo(v.screencastId))===null||S===void 0?void 0:S.reportFinished()}_onDisconnect(){for(const v of this._idToVideo.values())v.artifact.reportFinished(new O.TargetClosedError);this._idToVideo.clear();for(const v of this._ffPages.values())v.didClose();this._ffPages.clear();this._didClose()}}S.FFBrowser=FFBrowser;class FFBrowserContext extends J.BrowserContext{constructor(v,S,Q){super(v,Q,S)}async _initialize(){(0,H.assert)(!this._ffPages().length);const v=this._browserContextId;const S=[super._initialize()];if(this._options.acceptDownloads!=="internal-browser-default"){S.push(this._browser.session.send("Browser.setDownloadOptions",{browserContextId:v,downloadOptions:{behavior:this._options.acceptDownloads==="accept"?"saveToDisk":"cancel",downloadsDir:this._browser.options.downloadsPath}}))}if(this._options.viewport){const Q={viewportSize:{width:this._options.viewport.width,height:this._options.viewport.height},deviceScaleFactor:this._options.deviceScaleFactor||1};S.push(this._browser.session.send("Browser.setDefaultViewport",{browserContextId:v,viewport:Q}))}if(this._options.hasTouch)S.push(this._browser.session.send("Browser.setTouchOverride",{browserContextId:v,hasTouch:true}));if(this._options.userAgent)S.push(this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:v,userAgent:this._options.userAgent}));if(this._options.bypassCSP)S.push(this._browser.session.send("Browser.setBypassCSP",{browserContextId:v,bypassCSP:true}));if(this._options.ignoreHTTPSErrors)S.push(this._browser.session.send("Browser.setIgnoreHTTPSErrors",{browserContextId:v,ignoreHTTPSErrors:true}));if(this._options.javaScriptEnabled===false)S.push(this._browser.session.send("Browser.setJavaScriptDisabled",{browserContextId:v,javaScriptDisabled:true}));if(this._options.locale)S.push(this._browser.session.send("Browser.setLocaleOverride",{browserContextId:v,locale:this._options.locale}));if(this._options.timezoneId)S.push(this._browser.session.send("Browser.setTimezoneOverride",{browserContextId:v,timezoneId:this._options.timezoneId}));if(this._options.extraHTTPHeaders||this._options.locale)S.push(this.setExtraHTTPHeaders(this._options.extraHTTPHeaders||[]));if(this._options.httpCredentials)S.push(this.setHTTPCredentials(this._options.httpCredentials));if(this._options.geolocation)S.push(this.setGeolocation(this._options.geolocation));if(this._options.offline)S.push(this.setOffline(this._options.offline));if(this._options.colorScheme!=="no-override"){S.push(this._browser.session.send("Browser.setColorScheme",{browserContextId:v,colorScheme:this._options.colorScheme!==undefined?this._options.colorScheme:"light"}))}if(this._options.reducedMotion!=="no-override"){S.push(this._browser.session.send("Browser.setReducedMotion",{browserContextId:v,reducedMotion:this._options.reducedMotion!==undefined?this._options.reducedMotion:"no-preference"}))}if(this._options.forcedColors!=="no-override"){S.push(this._browser.session.send("Browser.setForcedColors",{browserContextId:v,forcedColors:this._options.forcedColors!==undefined?this._options.forcedColors:"none"}))}if(this._options.recordVideo){S.push(this._ensureVideosPath().then((()=>this._browser.session.send("Browser.setVideoRecordingOptions",{options:{...this._options.recordVideo.size,dir:this._options.recordVideo.dir},browserContextId:this._browserContextId}))))}if(this._options.proxy){S.push(this._browser.session.send("Browser.setContextProxy",{browserContextId:this._browserContextId,...toJugglerProxyOptions(this._options.proxy)}))}await Promise.all(S)}_ffPages(){return Array.from(this._browser._ffPages.values()).filter((v=>v._browserContext===this))}pages(){return this._ffPages().map((v=>v._initializedPage)).filter((v=>!!v))}async newPageDelegate(){(0,J.assertBrowserContextIsNotOwned)(this);const{targetId:v}=await this._browser.session.send("Browser.newPage",{browserContextId:this._browserContextId}).catch((v=>{if(v.message.includes("Failed to override timezone"))throw new Error(`Invalid timezone ID: ${this._options.timezoneId}`);throw v}));return this._browser._ffPages.get(v)}async doGetCookies(v){const{cookies:S}=await this._browser.session.send("Browser.getCookies",{browserContextId:this._browserContextId});return Y.filterCookies(S.map((v=>{const S={...v};delete S.size;delete S.session;return S})),v)}async addCookies(v){const S=Y.rewriteCookies(v).map((v=>({...v,expires:v.expires===-1?undefined:v.expires})));await this._browser.session.send("Browser.setCookies",{browserContextId:this._browserContextId,cookies:S})}async clearCookies(){await this._browser.session.send("Browser.clearCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(v,S){const Q=new Map([["geolocation","geo"],["persistent-storage","persistent-storage"],["push","push"],["notifications","desktop-notification"]]);const O=S.map((v=>{const S=Q.get(v);if(!S)throw new Error("Unknown permission: "+v);return S}));await this._browser.session.send("Browser.grantPermissions",{origin:v,browserContextId:this._browserContextId,permissions:O})}async doClearPermissions(){await this._browser.session.send("Browser.resetPermissions",{browserContextId:this._browserContextId})}async setGeolocation(v){(0,J.verifyGeolocation)(v);this._options.geolocation=v;await this._browser.session.send("Browser.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:v||null})}async setExtraHTTPHeaders(v){this._options.extraHTTPHeaders=v;let S=this._options.extraHTTPHeaders;if(this._options.locale)S=Y.mergeHeaders([S,Y.singleHeader("Accept-Language",this._options.locale)]);await this._browser.session.send("Browser.setExtraHTTPHeaders",{browserContextId:this._browserContextId,headers:S})}async setUserAgent(v){await this._browser.session.send("Browser.setUserAgentOverride",{browserContextId:this._browserContextId,userAgent:v||null})}async setOffline(v){this._options.offline=v;await this._browser.session.send("Browser.setOnlineOverride",{browserContextId:this._browserContextId,override:v?"offline":"online"})}async doSetHTTPCredentials(v){this._options.httpCredentials=v;await this._browser.session.send("Browser.setHTTPCredentials",{browserContextId:this._browserContextId,credentials:v||null})}async doAddInitScript(v){await this._browser.session.send("Browser.setInitScripts",{browserContextId:this._browserContextId,scripts:this.initScripts.map((v=>({script:v})))})}async doRemoveInitScripts(){await this._browser.session.send("Browser.setInitScripts",{browserContextId:this._browserContextId,scripts:[]})}async doExposeBinding(v){await this._browser.session.send("Browser.addBinding",{browserContextId:this._browserContextId,name:v.name,script:v.source})}async doRemoveExposedBindings(){}async doUpdateRequestInterception(){await this._browser.session.send("Browser.setRequestInterception",{browserContextId:this._browserContextId,enabled:!!this._requestInterceptor})}onClosePersistent(){}async clearCache(){await this._browser.session.send("Browser.clearCache")}async doClose(v){if(!this._browserContextId){if(this._options.recordVideo){await this._browser.session.send("Browser.setVideoRecordingOptions",{options:undefined,browserContextId:this._browserContextId})}await this._browser.close({reason:v})}else{await this._browser.session.send("Browser.removeBrowserContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}}async cancelDownload(v){await this._browser.session.send("Browser.cancelDownload",{uuid:v})}}S.FFBrowserContext=FFBrowserContext;function toJugglerProxyOptions(v){const S=new URL(v.server);let Q=parseInt(S.port,10);let O="http";if(S.protocol==="socks5:")O="socks";else if(S.protocol==="socks4:")O="socks4";else if(S.protocol==="https:")O="https";if(S.port===""){if(S.protocol==="http:")Q=80;else if(S.protocol==="https:")Q=443}return{type:O,bypass:v.bypass?v.bypass.split(",").map((v=>v.trim())):[],host:S.hostname,port:Q,username:v.username,password:v.password}}const ae={}},4327:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.kBrowserCloseMessageId=S.FFSession=S.FFConnection=S.ConnectionEvents=void 0;var O=Q(2361);var H=Q(2003);var V=Q(9175);var J=Q(7314);const Y=S.ConnectionEvents={Disconnected:Symbol("Disconnected")};const X=S.kBrowserCloseMessageId=-9999;class FFConnection extends O.EventEmitter{constructor(v,S,Q){super();this._lastId=void 0;this._transport=void 0;this._protocolLogger=void 0;this._browserLogsCollector=void 0;this._browserDisconnectedLogs=void 0;this.rootSession=void 0;this._sessions=void 0;this._closed=void 0;this.setMaxListeners(0);this._transport=v;this._protocolLogger=S;this._browserLogsCollector=Q;this._lastId=0;this._sessions=new Map;this._closed=false;this.rootSession=new FFSession(this,"",(v=>this._rawSend(v)));this._sessions.set("",this.rootSession);this._transport.onmessage=this._onMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}_rawSend(v){this._protocolLogger("send",v);this._transport.send(v)}async _onMessage(v){this._protocolLogger("receive",v);if(v.id===X)return;const S=this._sessions.get(v.sessionId||"");if(S)S.dispatchMessage(v)}_onClose(){this._closed=true;this._transport.onmessage=undefined;this._transport.onclose=undefined;this._browserDisconnectedLogs=V.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs());this.rootSession.dispose();Promise.resolve().then((()=>this.emit(Y.Disconnected)))}close(){if(!this._closed)this._transport.close()}createSession(v){const S=new FFSession(this,v,(S=>this._rawSend({...S,sessionId:v})));this._sessions.set(v,S);return S}}S.FFConnection=FFConnection;class FFSession extends O.EventEmitter{constructor(v,S,Q){super();this._connection=void 0;this._disposed=false;this._callbacks=void 0;this._sessionId=void 0;this._rawSend=void 0;this._crashed=false;this.on=void 0;this.addListener=void 0;this.off=void 0;this.removeListener=void 0;this.once=void 0;this.setMaxListeners(0);this._callbacks=new Map;this._connection=v;this._sessionId=S;this._rawSend=Q;this.on=super.on;this.addListener=super.addListener;this.off=super.removeListener;this.removeListener=super.removeListener;this.once=super.once}markAsCrashed(){this._crashed=true}async send(v,S){if(this._crashed||this._disposed||this._connection._closed||this._connection._browserDisconnectedLogs)throw new J.ProtocolError(this._crashed?"crashed":"closed",undefined,this._connection._browserDisconnectedLogs);const Q=this._connection.nextMessageId();this._rawSend({method:v,params:S,id:Q});return new Promise(((S,O)=>{this._callbacks.set(Q,{resolve:S,reject:O,error:new J.ProtocolError("error",v)})}))}sendMayFail(v,S){return this.send(v,S).catch((v=>H.debugLogger.log("error",v)))}dispatchMessage(v){if(v.id){const S=this._callbacks.get(v.id);if(S){this._callbacks.delete(v.id);if(v.error){S.error.setMessage(v.error.message);S.reject(S.error)}else{S.resolve(v.result)}}}else{Promise.resolve().then((()=>this.emit(v.method,v.params)))}}dispose(){this._disposed=true;this._connection._sessions.delete(this._sessionId);for(const v of this._callbacks.values()){v.error.type=this._crashed?"crashed":"closed";v.error.logs=this._connection._browserDisconnectedLogs;v.reject(v.error)}this._callbacks.clear()}}S.FFSession=FFSession},131:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FFExecutionContext=void 0;var O=_interopRequireWildcard(Q(804));var H=Q(9030);var V=Q(9012);var J=Q(7314);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class FFExecutionContext{constructor(v,S){this._session=void 0;this._executionContextId=void 0;this._session=v;this._executionContextId=S}async rawEvaluateJSON(v){const S=await this._session.send("Runtime.evaluate",{expression:v,returnByValue:true,executionContextId:this._executionContextId}).catch(rewriteError);checkException(S.exceptionDetails);return S.result.value}async rawEvaluateHandle(v){const S=await this._session.send("Runtime.evaluate",{expression:v,returnByValue:false,executionContextId:this._executionContextId}).catch(rewriteError);checkException(S.exceptionDetails);return S.result.objectId}rawCallFunctionNoReply(v,...S){this._session.send("Runtime.callFunction",{functionDeclaration:v.toString(),args:S.map((v=>v instanceof O.JSHandle?{objectId:v._objectId}:{value:v})),returnByValue:true,executionContextId:this._executionContextId}).catch((()=>{}))}async evaluateWithArguments(v,S,Q,O,H){const J=await this._session.send("Runtime.callFunction",{functionDeclaration:v,args:[{objectId:Q._objectId,value:undefined},...O.map((v=>({value:v}))),...H.map((v=>({objectId:v,value:undefined})))],returnByValue:S,executionContextId:this._executionContextId}).catch(rewriteError);checkException(J.exceptionDetails);if(S)return(0,V.parseEvaluationResultValue)(J.result.value);return Q._context.createHandle(J.result)}async getProperties(v,S){const Q=await this._session.send("Runtime.getObjectProperties",{executionContextId:this._executionContextId,objectId:S});const O=new Map;for(const S of Q.properties)O.set(S.name,v.createHandle(S.value));return O}createHandle(v,S){return new O.JSHandle(v,S.subtype||S.type||"",renderPreview(S),S.objectId,potentiallyUnserializableValue(S))}async releaseHandle(v){await this._session.send("Runtime.disposeObject",{executionContextId:this._executionContextId,objectId:v})}objectCount(v){throw new Error("Method not implemented in Firefox.")}}S.FFExecutionContext=FFExecutionContext;function checkException(v){if(!v)return;if(v.value)throw new O.JavaScriptErrorInEvaluate(JSON.stringify(v.value));else throw new O.JavaScriptErrorInEvaluate(v.text+(v.stack?"\n"+v.stack:""))}function rewriteError(v){if(v.message.includes("cyclic object value")||v.message.includes("Object is not serializable"))return{result:{type:"undefined",value:undefined}};if(v instanceof TypeError&&v.message.startsWith("Converting circular structure to JSON"))(0,H.rewriteErrorMessage)(v,v.message+" Are you passing a nested JSHandle?");if(!O.isJavaScriptErrorInEvaluate(v)&&!(0,J.isSessionClosedError)(v))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw v}function potentiallyUnserializableValue(v){const S=v.value;const Q=v.unserializableValue;return Q?O.parseUnserializableValue(Q):S}function renderPreview(v){if(v.type==="undefined")return"undefined";if(v.unserializableValue)return String(v.unserializableValue);if(v.type==="symbol")return"Symbol()";if(v.subtype==="regexp")return"RegExp";if(v.subtype==="weakmap")return"WeakMap";if(v.subtype==="weakset")return"WeakSet";if(v.subtype)return v.subtype[0].toUpperCase()+v.subtype.slice(1);if("value"in v)return String(v.value)}},7848:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.RawTouchscreenImpl=S.RawMouseImpl=S.RawKeyboardImpl=void 0;function toModifiersMask(v){let S=0;if(v.has("Alt"))S|=1;if(v.has("Control"))S|=2;if(v.has("Shift"))S|=4;if(v.has("Meta"))S|=8;return S}function toButtonNumber(v){if(v==="left")return 0;if(v==="middle")return 1;if(v==="right")return 2;return 0}function toButtonsMask(v){let S=0;if(v.has("left"))S|=1;if(v.has("right"))S|=2;if(v.has("middle"))S|=4;return S}class RawKeyboardImpl{constructor(v){this._client=void 0;this._client=v}async keydown(v,S,Q,O,H,V,J,Y){if(Y==="\r")Y="";await this._client.send("Page.dispatchKeyEvent",{type:"keydown",keyCode:O,code:S,key:H,repeat:J,location:V,text:Y})}async keyup(v,S,Q,O,H,V){await this._client.send("Page.dispatchKeyEvent",{type:"keyup",key:H,keyCode:O,code:S,location:V,repeat:false})}async sendText(v){await this._client.send("Page.insertText",{text:v})}}S.RawKeyboardImpl=RawKeyboardImpl;class RawMouseImpl{constructor(v){this._client=void 0;this._page=void 0;this._client=v}async move(v,S,Q,O,H,V){await this._client.send("Page.dispatchMouseEvent",{type:"mousemove",button:0,buttons:toButtonsMask(O),x:Math.floor(v),y:Math.floor(S),modifiers:toModifiersMask(H)})}async down(v,S,Q,O,H,V){await this._client.send("Page.dispatchMouseEvent",{type:"mousedown",button:toButtonNumber(Q),buttons:toButtonsMask(O),x:Math.floor(v),y:Math.floor(S),modifiers:toModifiersMask(H),clickCount:V})}async up(v,S,Q,O,H,V){await this._client.send("Page.dispatchMouseEvent",{type:"mouseup",button:toButtonNumber(Q),buttons:toButtonsMask(O),x:Math.floor(v),y:Math.floor(S),modifiers:toModifiersMask(H),clickCount:V})}async wheel(v,S,Q,O,H,V){await this._page.mainFrame().evaluateExpression(`new Promise(requestAnimationFrame)`,{world:"utility"});await this._client.send("Page.dispatchWheelEvent",{deltaX:H,deltaY:V,x:Math.floor(v),y:Math.floor(S),deltaZ:0,modifiers:toModifiersMask(O)})}setPage(v){this._page=v}}S.RawMouseImpl=RawMouseImpl;class RawTouchscreenImpl{constructor(v){this._client=void 0;this._client=v}async tap(v,S,Q){await this._client.send("Page.dispatchTapEvent",{x:v,y:S,modifiers:toModifiersMask(Q)})}}S.RawTouchscreenImpl=RawTouchscreenImpl},6427:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FFNetworkManager=void 0;var O=Q(3841);var H=_interopRequireWildcard(Q(3824));function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class FFNetworkManager{constructor(v,S){this._session=void 0;this._requests=void 0;this._page=void 0;this._eventListeners=void 0;this._session=v;this._requests=new Map;this._page=S;this._eventListeners=[O.eventsHelper.addEventListener(v,"Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),O.eventsHelper.addEventListener(v,"Network.responseReceived",this._onResponseReceived.bind(this)),O.eventsHelper.addEventListener(v,"Network.requestFinished",this._onRequestFinished.bind(this)),O.eventsHelper.addEventListener(v,"Network.requestFailed",this._onRequestFailed.bind(this))]}dispose(){O.eventsHelper.removeEventListeners(this._eventListeners)}async setRequestInterception(v){await this._session.send("Network.setRequestInterception",{enabled:v})}_onRequestWillBeSent(v){const S=v.redirectedFrom?this._requests.get(v.redirectedFrom)||null:null;const Q=S?S.request.frame():v.frameId?this._page._frameManager.frame(v.frameId):null;if(!Q)return;if(S)this._requests.delete(S._id);const O=new InterceptableRequest(Q,S,v);let H;if(v.isIntercepted)H=new FFRouteImpl(this._session,O);this._requests.set(O._id,O);this._page._frameManager.requestStarted(O.request,H)}_onResponseReceived(v){var S,Q,O,V,J;const Y=this._requests.get(v.requestId);if(!Y)return;const getResponseBody=async()=>{const v=await this._session.send("Network.getResponseBody",{requestId:Y._id});if(v.evicted)throw new Error(`Response body for ${Y.request.method()} ${Y.request.url()} was evicted!`);return Buffer.from(v.base64body,"base64")};const X=v.timing.startTime;function relativeToStart(v){if(!v)return-1;return(v-X)/1e3}const ee={startTime:X/1e3,domainLookupStart:relativeToStart(v.timing.domainLookupStart),domainLookupEnd:relativeToStart(v.timing.domainLookupEnd),connectStart:relativeToStart(v.timing.connectStart),secureConnectionStart:relativeToStart(v.timing.secureConnectionStart),connectEnd:relativeToStart(v.timing.connectEnd),requestStart:relativeToStart(v.timing.requestStart),responseStart:relativeToStart(v.timing.responseStart)};const ae=new H.Response(Y.request,v.status,v.statusText,parseMultivalueHeaders(v.headers),ee,getResponseBody,v.fromServiceWorker);if(v!==null&&v!==void 0&&v.remoteIPAddress&&typeof(v===null||v===void 0?void 0:v.remotePort)==="number"){ae._serverAddrFinished({ipAddress:v.remoteIPAddress,port:v.remotePort})}else{ae._serverAddrFinished()}ae._securityDetailsFinished({protocol:v===null||v===void 0?void 0:(S=v.securityDetails)===null||S===void 0?void 0:S.protocol,subjectName:v===null||v===void 0?void 0:(Q=v.securityDetails)===null||Q===void 0?void 0:Q.subjectName,issuer:v===null||v===void 0?void 0:(O=v.securityDetails)===null||O===void 0?void 0:O.issuer,validFrom:v===null||v===void 0?void 0:(V=v.securityDetails)===null||V===void 0?void 0:V.validFrom,validTo:v===null||v===void 0?void 0:(J=v.securityDetails)===null||J===void 0?void 0:J.validTo});ae.setRawResponseHeaders(null);ae.setResponseHeadersSize(null);this._page._frameManager.requestReceivedResponse(ae)}_onRequestFinished(v){const S=this._requests.get(v.requestId);if(!S)return;const Q=S.request._existingResponse();Q.setTransferSize(v.transferSize);Q.setEncodedBodySize(v.encodedBodySize);const O=Q.status()>=300&&Q.status()<=399;const H=v.responseEndTime?v.responseEndTime/1e3-Q.timing().startTime:-1;if(O){Q._requestFinished(H)}else{this._requests.delete(S._id);Q._requestFinished(H)}if(v.protocolVersion)Q._setHttpVersion(v.protocolVersion);this._page._frameManager.reportRequestFinished(S.request,Q)}_onRequestFailed(v){const S=this._requests.get(v.requestId);if(!S)return;this._requests.delete(S._id);const Q=S.request._existingResponse();if(Q){Q.setTransferSize(null);Q.setEncodedBodySize(null);Q._requestFinished(-1)}S.request._setFailureText(v.errorCode);this._page._frameManager.requestFailed(S.request,v.errorCode==="NS_BINDING_ABORTED")}}S.FFNetworkManager=FFNetworkManager;const V={TYPE_INVALID:"other",TYPE_OTHER:"other",TYPE_SCRIPT:"script",TYPE_IMAGE:"image",TYPE_STYLESHEET:"stylesheet",TYPE_OBJECT:"other",TYPE_DOCUMENT:"document",TYPE_SUBDOCUMENT:"document",TYPE_REFRESH:"document",TYPE_XBL:"other",TYPE_PING:"other",TYPE_XMLHTTPREQUEST:"xhr",TYPE_OBJECT_SUBREQUEST:"other",TYPE_DTD:"other",TYPE_FONT:"font",TYPE_MEDIA:"media",TYPE_WEBSOCKET:"websocket",TYPE_CSP_REPORT:"other",TYPE_XSLT:"other",TYPE_BEACON:"other",TYPE_FETCH:"fetch",TYPE_IMAGESET:"images",TYPE_WEB_MANIFEST:"manifest"};const J={TYPE_INTERNAL_EVENTSOURCE:"eventsource"};class InterceptableRequest{constructor(v,S,Q){this.request=void 0;this._id=void 0;this._redirectedTo=void 0;this._id=Q.requestId;if(S)S._redirectedTo=this;let O=null;if(Q.postData)O=Buffer.from(Q.postData,"base64");this.request=new H.Request(v._page._browserContext,v,null,S?S.request:null,Q.navigationId,Q.url,J[Q.internalCause]||V[Q.cause]||"other",Q.method,O,Q.headers);this.request.setRawRequestHeaders(null)}_finalRequest(){let v=this;while(v._redirectedTo)v=v._redirectedTo;return v}}class FFRouteImpl{constructor(v,S){this._request=void 0;this._session=void 0;this._session=v;this._request=S}async continue(v,S){await this._session.sendMayFail("Network.resumeInterceptedRequest",{requestId:this._request._id,url:S.url,method:S.method,headers:S.headers,postData:S.postData?Buffer.from(S.postData).toString("base64"):undefined})}async fulfill(v){const S=v.isBase64?v.body:Buffer.from(v.body).toString("base64");await this._session.sendMayFail("Network.fulfillInterceptedRequest",{requestId:this._request._id,status:v.status,statusText:H.STATUS_TEXTS[String(v.status)]||"",headers:v.headers,base64body:S})}async abort(v){await this._session.sendMayFail("Network.abortInterceptedRequest",{requestId:this._request._id,errorCode:v})}}function parseMultivalueHeaders(v){const S=[];for(const Q of v){const v=Q.name.toLowerCase()==="set-cookie"?"\n":",";const O=Q.value.split(v).map((v=>v.trim()));for(const v of O)S.push({name:Q.name,value:v})}return S}},1674:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.UTILITY_WORLD_NAME=S.FFPage=void 0;var O=_interopRequireWildcard(Q(1645));var H=_interopRequireWildcard(Q(8139));var V=Q(3841);var J=Q(3555);var Y=Q(1112);var X=Q(4327);var ee=Q(131);var ae=Q(7848);var he=Q(6427);var Ee=Q(9030);var Be=Q(2003);var ke=Q(6729);var Re=Q(5985);var Oe=Q(1145);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const Pe=S.UTILITY_WORLD_NAME="__playwright_utility_world__";class FFPage{constructor(v,S,Q){this.cspErrorsAsynchronousForInlineScipts=true;this.rawMouse=void 0;this.rawKeyboard=void 0;this.rawTouchscreen=void 0;this._session=void 0;this._page=void 0;this._networkManager=void 0;this._browserContext=void 0;this._pagePromise=new ke.ManualPromise;this._initializedPage=null;this._initializationFailed=false;this._opener=void 0;this._contextIdToContext=void 0;this._eventListeners=void 0;this._workers=new Map;this._screencastId=void 0;this._initScripts=[];this._session=v;this._opener=Q;this.rawKeyboard=new ae.RawKeyboardImpl(v);this.rawMouse=new ae.RawMouseImpl(v);this.rawTouchscreen=new ae.RawTouchscreenImpl(v);this._contextIdToContext=new Map;this._browserContext=S;this._page=new J.Page(this,S);this.rawMouse.setPage(this._page);this._networkManager=new he.FFNetworkManager(v,this._page);this._page.on(J.Page.Events.FrameDetached,(v=>this._removeContextsForFrame(v)));this._eventListeners=[V.eventsHelper.addEventListener(this._session,"Page.eventFired",this._onEventFired.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.frameAttached",this._onFrameAttached.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.frameDetached",this._onFrameDetached.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.navigationAborted",this._onNavigationAborted.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.navigationCommitted",this._onNavigationCommitted.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.navigationStarted",this._onNavigationStarted.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.sameDocumentNavigation",this._onSameDocumentNavigation.bind(this)),V.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",this._onExecutionContextCreated.bind(this)),V.eventsHelper.addEventListener(this._session,"Runtime.executionContextDestroyed",this._onExecutionContextDestroyed.bind(this)),V.eventsHelper.addEventListener(this._session,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.linkClicked",(v=>this._onLinkClicked(v.phase))),V.eventsHelper.addEventListener(this._session,"Page.uncaughtError",this._onUncaughtError.bind(this)),V.eventsHelper.addEventListener(this._session,"Runtime.console",this._onConsole.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.dialogOpened",this._onDialogOpened.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.bindingCalled",this._onBindingCalled.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",this._onFileChooserOpened.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.workerCreated",this._onWorkerCreated.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.workerDestroyed",this._onWorkerDestroyed.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.dispatchMessageFromWorker",this._onDispatchMessageFromWorker.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.crashed",this._onCrashed.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.videoRecordingStarted",this._onVideoRecordingStarted.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.webSocketCreated",this._onWebSocketCreated.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.webSocketClosed",this._onWebSocketClosed.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.webSocketFrameReceived",this._onWebSocketFrameReceived.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.webSocketFrameSent",this._onWebSocketFrameSent.bind(this)),V.eventsHelper.addEventListener(this._session,"Page.screencastFrame",this._onScreencastFrame.bind(this))];this._session.once("Page.ready",(async()=>{await this._page.initOpener(this._opener);if(this._initializationFailed)return;this._initializedPage=this._page;this._page.reportAsNew();this._pagePromise.resolve(this._page)}));this.addInitScript("",Pe).catch((v=>this._markAsError(v)))}potentiallyUninitializedPage(){return this._page}async _markAsError(v){if(this._initializationFailed)return;this._initializationFailed=true;if(!this._initializedPage){await this._page.initOpener(this._opener);this._page.reportAsNew(v);this._pagePromise.resolve(v)}}async pageOrError(){return this._pagePromise}_onWebSocketCreated(v){this._page._frameManager.onWebSocketCreated(webSocketId(v.frameId,v.wsid),v.requestURL);this._page._frameManager.onWebSocketRequest(webSocketId(v.frameId,v.wsid))}_onWebSocketClosed(v){if(v.error)this._page._frameManager.webSocketError(webSocketId(v.frameId,v.wsid),v.error);this._page._frameManager.webSocketClosed(webSocketId(v.frameId,v.wsid))}_onWebSocketFrameReceived(v){this._page._frameManager.webSocketFrameReceived(webSocketId(v.frameId,v.wsid),v.opcode,v.data)}_onWebSocketFrameSent(v){this._page._frameManager.onWebSocketFrameSent(webSocketId(v.frameId,v.wsid),v.opcode,v.data)}_onExecutionContextCreated(v){const{executionContextId:S,auxData:Q}=v;const O=this._page._frameManager.frame(Q.frameId);if(!O)return;const V=new ee.FFExecutionContext(this._session,S);let J=null;if(Q.name===Pe)J="utility";else if(!Q.name)J="main";const Y=new H.FrameExecutionContext(V,O,J);Y[Le]=V;if(J)O._contextCreated(J,Y);this._contextIdToContext.set(S,Y)}_onExecutionContextDestroyed(v){const{executionContextId:S}=v;const Q=this._contextIdToContext.get(S);if(!Q)return;this._contextIdToContext.delete(S);Q.frame._contextDestroyed(Q)}_onExecutionContextsCleared(){for(const v of Array.from(this._contextIdToContext.keys()))this._onExecutionContextDestroyed({executionContextId:v})}_removeContextsForFrame(v){for(const[S,Q]of this._contextIdToContext){if(Q.frame===v)this._contextIdToContext.delete(S)}}_onLinkClicked(v){if(v==="before")this._page._frameManager.frameWillPotentiallyRequestNavigation();else this._page._frameManager.frameDidPotentiallyRequestNavigation()}_onNavigationStarted(v){this._page._frameManager.frameRequestedNavigation(v.frameId,v.navigationId)}_onNavigationAborted(v){this._page._frameManager.frameAbortedNavigation(v.frameId,v.errorText,v.navigationId)}_onNavigationCommitted(v){for(const[S,Q]of this._workers){if(Q.frameId===v.frameId)this._onWorkerDestroyed({workerId:S})}this._page._frameManager.frameCommittedNewDocumentNavigation(v.frameId,v.url,v.name||"",v.navigationId||"",false)}_onSameDocumentNavigation(v){this._page._frameManager.frameCommittedSameDocumentNavigation(v.frameId,v.url)}_onFrameAttached(v){this._page._frameManager.frameAttached(v.frameId,v.parentFrameId)}_onFrameDetached(v){this._page._frameManager.frameDetached(v.frameId)}_onEventFired(v){const{frameId:S,name:Q}=v;if(Q==="load")this._page._frameManager.frameLifecycleEvent(S,"load");if(Q==="DOMContentLoaded")this._page._frameManager.frameLifecycleEvent(S,"domcontentloaded")}_onUncaughtError(v){const{name:S,message:Q}=(0,Ee.splitErrorMessage)(v.message);const O=new Error(Q);O.stack=v.message+"\n"+v.stack.split("\n").filter(Boolean).map((v=>v.replace(/([^@]*)@(.*)/,"    at $1 ($2)"))).join("\n");O.name=S;this._page.emitOnContextOnceInitialized(Re.BrowserContext.Events.PageError,O,this._page)}_onConsole(v){const{type:S,args:Q,executionContextId:O,location:H}=v;const V=this._contextIdToContext.get(O);if(!V)return;this._page._addConsoleMessage(S,Q.map((v=>V.createHandle(v))),H)}_onDialogOpened(v){this._page.emitOnContext(Re.BrowserContext.Events.Dialog,new O.Dialog(this._page,v.type,v.message,(async(S,Q)=>{await this._session.sendMayFail("Page.handleDialog",{dialogId:v.dialogId,accept:S,promptText:Q})}),v.defaultValue))}async _onBindingCalled(v){const S=await this.pageOrError();if(!(S instanceof Error)){const S=this._contextIdToContext.get(v.executionContextId);if(S)await this._page._onBindingCalled(v.payload,S)}}async _onFileChooserOpened(v){const{executionContextId:S,element:Q}=v;const O=this._contextIdToContext.get(S);if(!O)return;const H=O.createHandle(Q).asElement();await this._page._onFileChooserOpened(H)}async _onWorkerCreated(v){const S=v.workerId;const Q=new J.Worker(this._page,v.url);const O=new X.FFSession(this._session._connection,S,(Q=>{this._session.send("Page.sendMessageToWorker",{frameId:v.frameId,workerId:S,message:JSON.stringify(Q)}).catch((v=>{O.dispatchMessage({id:Q.id,method:"",params:{},error:{message:v.message,data:undefined}})}))}));this._workers.set(S,{session:O,frameId:v.frameId});this._page._addWorker(S,Q);O.once("Runtime.executionContextCreated",(v=>{Q._createExecutionContext(new ee.FFExecutionContext(O,v.executionContextId))}));O.on("Runtime.console",(v=>{const{type:S,args:O,location:H}=v;const V=Q._existingExecutionContext;this._page._addConsoleMessage(S,O.map((v=>V.createHandle(v))),H)}))}_onWorkerDestroyed(v){const S=v.workerId;const Q=this._workers.get(S);if(!Q)return;Q.session.dispose();this._workers.delete(S);this._page._removeWorker(S)}async _onDispatchMessageFromWorker(v){const S=this._workers.get(v.workerId);if(!S)return;S.session.dispatchMessage(JSON.parse(v.message))}async _onCrashed(v){this._session.markAsCrashed();this._page._didCrash()}_onVideoRecordingStarted(v){this._browserContext._browser._videoStarted(this._browserContext,v.screencastId,v.file,this.pageOrError())}async exposeBinding(v){await this._session.send("Page.addBinding",{name:v.name,script:v.source})}async removeExposedBindings(){}didClose(){this._markAsError(new Oe.TargetClosedError);this._session.dispose();V.eventsHelper.removeEventListeners(this._eventListeners);this._networkManager.dispose();this._page._didClose()}async navigateFrame(v,S,Q){const O=await this._session.send("Page.navigate",{url:S,referer:Q,frameId:v._id});return{newDocumentId:O.navigationId||undefined}}async updateExtraHTTPHeaders(){await this._session.send("Network.setExtraHTTPHeaders",{headers:this._page.extraHTTPHeaders()||[]})}async updateEmulatedViewportSize(){const v=this._page.viewportSize();await this._session.send("Page.setViewportSize",{viewportSize:v})}async bringToFront(){await this._session.send("Page.bringToFront",{})}async updateEmulateMedia(){const v=this._page.emulatedMedia();const S=v.colorScheme==="no-override"?undefined:v.colorScheme;const Q=v.reducedMotion==="no-override"?undefined:v.reducedMotion;const O=v.forcedColors==="no-override"?undefined:v.forcedColors;await this._session.send("Page.setEmulatedMedia",{type:v.media==="no-override"?"":v.media,colorScheme:S,reducedMotion:Q,forcedColors:O})}async updateRequestInterception(){await this._networkManager.setRequestInterception(this._page.needsRequestInterception())}async updateFileChooserInterception(){const v=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:v}).catch((()=>{}))}async reload(){await this._session.send("Page.reload")}async goBack(){const{success:v}=await this._session.send("Page.goBack",{frameId:this._page.mainFrame()._id});return v}async goForward(){const{success:v}=await this._session.send("Page.goForward",{frameId:this._page.mainFrame()._id});return v}async addInitScript(v,S){this._initScripts.push({script:v,worldName:S});await this._session.send("Page.setInitScripts",{scripts:this._initScripts})}async removeInitScripts(){this._initScripts=[];await this._session.send("Page.setInitScripts",{scripts:[]})}async closePage(v){await this._session.send("Page.close",{runBeforeUnload:v})}async setBackgroundColor(v){if(v)throw new Error("Not implemented")}async takeScreenshot(v,S,Q,O,H,V,J){if(!Q){const S=await this._page.mainFrame().waitForFunctionValueInUtility(v,(()=>({x:window.scrollX,y:window.scrollY})));Q={x:O.x+S.x,y:O.y+S.y,width:O.width,height:O.height}}v.throwIfAborted();const{data:Y}=await this._session.send("Page.screenshot",{mimeType:"image/"+S,clip:Q,quality:H,omitDeviceScaleFactor:J==="css"});return Buffer.from(Y,"base64")}async getContentFrame(v){const{contentFrameId:S}=await this._session.send("Page.describeNode",{frameId:v._context.frame._id,objectId:v._objectId});if(!S)return null;return this._page._frameManager.frame(S)}async getOwnerFrame(v){const{ownerFrameId:S}=await this._session.send("Page.describeNode",{frameId:v._context.frame._id,objectId:v._objectId});return S||null}isElementHandle(v){return v.subtype==="node"}async getBoundingBox(v){const S=await this.getContentQuads(v);if(!S||!S.length)return null;let Q=Infinity;let O=-Infinity;let H=Infinity;let V=-Infinity;for(const v of S){for(const S of v){Q=Math.min(Q,S.x);O=Math.max(O,S.x);H=Math.min(H,S.y);V=Math.max(V,S.y)}}return{x:Q,y:H,width:O-Q,height:V-H}}async scrollRectIntoViewIfNeeded(v,S){return await this._session.send("Page.scrollIntoViewIfNeeded",{frameId:v._context.frame._id,objectId:v._objectId,rect:S}).then((()=>"done")).catch((v=>{if(v instanceof Error&&v.message.includes("Node is detached from document"))return"error:notconnected";if(v instanceof Error&&v.message.includes("Node does not have a layout object"))return"error:notvisible";throw v}))}async setScreencastOptions(v){if(v){const{screencastId:S}=await this._session.send("Page.startScreencast",v);this._screencastId=S}else{await this._session.send("Page.stopScreencast")}}_onScreencastFrame(v){if(!this._screencastId)return;const S=this._screencastId;this._page.throttleScreencastFrameAck((()=>{this._session.send("Page.screencastFrameAck",{screencastId:S}).catch((v=>Be.debugLogger.log("error",v)))}));const Q=Buffer.from(v.data,"base64");this._page.emit(J.Page.Events.ScreencastFrame,{buffer:Q,width:v.deviceWidth,height:v.deviceHeight})}rafCountForStablePosition(){return 1}async getContentQuads(v){const S=await this._session.sendMayFail("Page.getContentQuads",{frameId:v._context.frame._id,objectId:v._objectId});if(!S)return null;return S.quads.map((v=>[v.p1,v.p2,v.p3,v.p4]))}async setInputFiles(v,S){await v.evaluateInUtility((([v,S,Q])=>v.setInputFiles(S,Q)),S)}async setInputFilePaths(v,S,Q){await Promise.all([this._session.send("Page.setFileInputFiles",{frameId:S._context.frame._id,objectId:S._objectId,files:Q}),S.dispatchEvent(v.metadata,"input"),S.dispatchEvent(v.metadata,"change")])}async adoptElementHandle(v,S){const Q=await this._session.send("Page.adoptNode",{frameId:v._context.frame._id,objectId:v._objectId,executionContextId:S[Le]._executionContextId});if(!Q.remoteObject)throw new Error(H.kUnableToAdoptErrorMessage);return S.createHandle(Q.remoteObject)}async getAccessibilityTree(v){return(0,Y.getAccessibilityTree)(this._session,v)}async inputActionEpilogue(){}async resetForReuse(){await this.rawMouse.move(-1,-1,"none",new Set,new Set,false)}async getFrameElement(v){const S=v.parentFrame();if(!S)throw new Error("Frame has been detached.");const Q=await S._mainContext();const O=await this._session.send("Page.adoptNode",{frameId:v._id,executionContextId:Q[Le]._executionContextId});if(!O.remoteObject)throw new Error("Frame has been detached.");return Q.createHandle(O.remoteObject)}shouldToggleStyleSheetToSyncAnimations(){return false}}S.FFPage=FFPage;function webSocketId(v,S){return`${v}---${S}`}const Le=Symbol("delegate")},2792:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Firefox=void 0;var O=_interopRequireWildcard(Q(2037));var H=_interopRequireDefault(Q(1017));var V=Q(923);var J=Q(4327);var Y=Q(1192);var X=Q(3557);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class Firefox extends Y.BrowserType{constructor(v){super(v,"firefox")}_connectToTransport(v,S){return V.FFBrowser.connect(this.attribution.playwright,v,S)}_doRewriteStartupLog(v){if(!v.logs)return v;if(v.logs.includes(`as root in a regular user's session is not supported.`))v.logs="\n"+(0,X.wrapInASCIIBox)(`Firefox is unable to launch if the $HOME folder isn't owned by the current user.\nWorkaround: Set the HOME=/root environment variable${process.env.GITHUB_ACTION?" in your GitHub Actions workflow file":""} when running Playwright.`,1);if(v.logs.includes("no DISPLAY environment variable specified"))v.logs="\n"+(0,X.wrapInASCIIBox)(Y.kNoXServerRunningError,1);return v}_amendEnvironment(v,S,Q,V){if(!H.default.isAbsolute(O.homedir()))throw new Error(`Cannot launch Firefox with relative home directory. Did you set ${O.platform()==="win32"?"USERPROFILE":"HOME"} to a relative path?`);if(O.platform()==="linux"){return{...v,SNAP_NAME:undefined,SNAP_INSTANCE_NAME:undefined}}return v}_attemptToGracefullyCloseBrowser(v){const S={method:"Browser.close",params:{},id:J.kBrowserCloseMessageId};v.send(S)}_defaultArgs(v,S,Q){const{args:O=[],headless:H}=v;const V=O.find((v=>v.startsWith("-profile")||v.startsWith("--profile")));if(V)throw this._createUserDataDirArgMisuseError("--profile");if(O.find((v=>v.startsWith("-juggler"))))throw new Error("Use the port parameter instead of -juggler argument");const J=["-no-remote"];if(H){J.push("-headless")}else{J.push("-wait-for-browser");J.push("-foreground")}J.push(`-profile`,Q);J.push("-juggler-pipe");J.push(...O);if(S)J.push("about:blank");else J.push("-silent");return J}}S.Firefox=Firefox},7291:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.MultipartFormData=void 0;var O=Q(1319);class MultipartFormData{constructor(){this._boundary=void 0;this._chunks=[];this._boundary=generateUniqueBoundaryString()}contentTypeHeader(){return`multipart/form-data; boundary=${this._boundary}`}addField(v,S){this._beginMultiPartHeader(v);this._finishMultiPartHeader();this._chunks.push(Buffer.from(S));this._finishMultiPartField()}addFileField(v,S){this._beginMultiPartHeader(v);this._chunks.push(Buffer.from(`; filename="${S.name}"`));this._chunks.push(Buffer.from(`\r\ncontent-type: ${S.mimeType||O.mime.getType(S.name)||"application/octet-stream"}`));this._finishMultiPartHeader();this._chunks.push(S.buffer);this._finishMultiPartField()}finish(){this._addBoundary(true);return Buffer.concat(this._chunks)}_beginMultiPartHeader(v){this._addBoundary();this._chunks.push(Buffer.from(`content-disposition: form-data; name="${v}"`))}_finishMultiPartHeader(){this._chunks.push(Buffer.from(`\r\n\r\n`))}_finishMultiPartField(){this._chunks.push(Buffer.from(`\r\n`))}_addBoundary(v){this._chunks.push(Buffer.from("--"+this._boundary));if(v)this._chunks.push(Buffer.from("--"));this._chunks.push(Buffer.from("\r\n"))}}S.MultipartFormData=MultipartFormData;const H=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,65,66];function generateUniqueBoundaryString(){const v=[];for(let S=0;S<16;S++)v.push(H[Math.floor(Math.random()*H.length)]);return"----WebKitFormBoundary"+String.fromCharCode(...v)}},5759:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.FrameSelectors=void 0;var O=Q(942);var H=Q(7113);class FrameSelectors{constructor(v){this.frame=void 0;this.frame=v}_parseSelector(v,S){const Q=typeof(S===null||S===void 0?void 0:S.strict)==="boolean"?S.strict:!!this.frame._page.context()._options.strictSelectors;return this.frame._page.context().selectors().parseSelector(v,Q)}async query(v,S,Q){const O=await this.resolveInjectedForSelector(v,S,Q);if(!O)return null;const H=await O.injected.evaluateHandle(((v,{info:S,scope:Q})=>v.querySelector(S.parsed,Q||document,S.strict)),{info:O.info,scope:O.scope});const V=H.asElement();if(!V){H.dispose();return null}return adoptIfNeeded(V,await O.frame._mainContext())}async queryArrayInMainWorld(v,S){const Q=await this.resolveInjectedForSelector(v,{mainWorld:true},S);if(!Q)throw new Error(`Failed to find frame for selector "${v}"`);return await Q.injected.evaluateHandle(((v,{info:S,scope:Q})=>v.querySelectorAll(S.parsed,Q||document)),{info:Q.info,scope:Q.scope})}async queryCount(v){const S=await this.resolveInjectedForSelector(v);if(!S)throw new Error(`Failed to find frame for selector "${v}"`);return await S.injected.evaluate(((v,{info:S})=>v.querySelectorAll(S.parsed,document).length),{info:S.info})}async queryAll(v,S){const Q=await this.resolveInjectedForSelector(v,{},S);if(!Q)return[];const O=await Q.injected.evaluateHandle(((v,{info:S,scope:Q})=>v.querySelectorAll(S.parsed,Q||document)),{info:Q.info,scope:Q.scope});const H=await O.getProperties();O.dispose();const V=await Q.frame._mainContext();const J=[];for(const v of H.values()){const S=v.asElement();if(S)J.push(adoptIfNeeded(S,V));else v.dispose()}return Promise.all(J)}async resolveFrameForSelector(v,S={},Q){let V=this.frame;const J=(0,O.splitSelectorByFrame)(v);for(const S of J){(0,O.visitAllSelectorParts)(S,((S,Q)=>{if(Q&&S.name==="internal:control"&&S.body==="enter-frame"){const S=(0,H.asLocator)(this.frame._page.attribution.playwright.options.sdkLanguage,v);throw new O.InvalidSelectorError(`Frame locators are not allowed inside composite locators, while querying "${S}"`)}}))}for(let v=0;v<J.length-1;++v){const H=this._parseSelector(J[v],S);const Y=await V._context(H.world);const X=await Y.injectedScript();const ee=await X.evaluateHandle(((v,{info:S,scope:Q,selectorString:O})=>{const H=v.querySelector(S.parsed,Q||document,S.strict);if(H&&H.nodeName!=="IFRAME"&&H.nodeName!=="FRAME")throw v.createStacklessError(`Selector "${O}" resolved to ${v.previewNode(H)}, <iframe> was expected`);return H}),{info:H,scope:v===0?Q:undefined,selectorString:(0,O.stringifySelector)(H.parsed)});const ae=ee.asElement();if(!ae)return null;const he=await V._page._delegate.getContentFrame(ae);ae.dispose();if(!he)return null;V=he}if(V!==this.frame)Q=undefined;return{frame:V,info:V.selectors._parseSelector(J[J.length-1],S),scope:Q}}async resolveInjectedForSelector(v,S,Q){const O=await this.resolveFrameForSelector(v,S,Q);if(!O)return;const H=await O.frame._context(S!==null&&S!==void 0&&S.mainWorld?"main":O.info.world);const V=await H.injectedScript();return{injected:V,info:O.info,frame:O.frame,scope:O.scope}}}S.FrameSelectors=FrameSelectors;async function adoptIfNeeded(v,S){if(v._context===S)return v;const Q=v._page._delegate.adoptElementHandle(v,S);v.dispose();return Q}},3737:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.NavigationAbortedError=S.FrameManager=S.Frame=void 0;var O=_interopRequireWildcard(Q(8139));var H=Q(9175);var V=Q(3841);var J=_interopRequireWildcard(Q(804));var Y=_interopRequireWildcard(Q(3824));var X=Q(3555);var ee=_interopRequireWildcard(Q(6919));var ae=Q(5985);var he=Q(2836);var Ee=Q(3557);var Be=Q(6729);var ke=Q(2003);var Re=Q(6686);var Oe=Q(7314);var Pe=Q(942);var Le=Q(7113);var je=Q(5759);var qe=Q(1145);var Ve=Q(6582);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class NavigationAbortedError extends Error{constructor(v,S){super(S);this.documentId=void 0;this.documentId=v}}S.NavigationAbortedError=NavigationAbortedError;const ze="<dummy>";class FrameManager{constructor(v){this._page=void 0;this._frames=new Map;this._mainFrame=void 0;this._consoleMessageTags=new Map;this._signalBarriers=new Set;this._webSockets=new Map;this._openedDialogs=new Set;this._closeAllOpeningDialogs=false;this._page=v;this._mainFrame=undefined}createDummyMainFrameIfNeeded(){if(!this._mainFrame)this.frameAttached(ze,null)}dispose(){for(const v of this._frames.values()){v._stopNetworkIdleTimer();v._invalidateNonStallingEvaluations("Target crashed")}}mainFrame(){return this._mainFrame}frames(){const v=[];collect(this._mainFrame);return v;function collect(S){v.push(S);for(const v of S.childFrames())collect(v)}}frame(v){return this._frames.get(v)||null}frameAttached(v,S){const Q=S?this._frames.get(S):null;if(!Q){if(this._mainFrame){this._frames.delete(this._mainFrame._id);this._mainFrame._id=v}else{(0,Ee.assert)(!this._frames.has(v));this._mainFrame=new Frame(this._page,v,Q)}this._frames.set(v,this._mainFrame);return this._mainFrame}else{(0,Ee.assert)(!this._frames.has(v));const S=new Frame(this._page,v,Q);this._frames.set(v,S);this._page.emit(X.Page.Events.FrameAttached,S);return S}}async waitForSignalsCreatedBy(v,S,Q,O){if(S)return Q();const H=new SignalBarrier(v);this._signalBarriers.add(H);if(v)v.cleanupWhenAborted((()=>this._signalBarriers.delete(H)));const V=await Q();if(O==="input")await this._page._delegate.inputActionEpilogue();await H.waitFor();this._signalBarriers.delete(H);await new Promise((0,Ee.makeWaitForNextTask)());return V}frameWillPotentiallyRequestNavigation(){for(const v of this._signalBarriers)v.retain()}frameDidPotentiallyRequestNavigation(){for(const v of this._signalBarriers)v.release()}frameRequestedNavigation(v,S){const Q=this._frames.get(v);if(!Q)return;for(const v of this._signalBarriers)v.addFrameNavigation(Q);if(Q.pendingDocument()&&Q.pendingDocument().documentId===S){return}const O=S?Array.from(Q._inflightRequests).find((v=>v._documentId===S)):undefined;Q.setPendingDocument({documentId:S,request:O})}frameCommittedNewDocumentNavigation(v,S,Q,O,H){const V=this._frames.get(v);this.removeChildFramesRecursively(V);this.clearWebSockets(V);V._url=S;V._name=Q;let J;const Y=V.pendingDocument();if(Y){if(Y.documentId===undefined){Y.documentId=O}if(Y.documentId===O){V._currentDocument=Y}else{J=Y;V._currentDocument={documentId:O,request:undefined}}V.setPendingDocument(undefined)}else{V._currentDocument={documentId:O,request:undefined}}V._onClearLifecycle();const X={url:S,name:Q,newDocument:V._currentDocument,isPublic:true};this._fireInternalFrameNavigation(V,X);if(!H){ke.debugLogger.log("api",`  navigated to "${S}"`);this._page.frameNavigatedToNewDocument(V)}V.setPendingDocument(J)}frameCommittedSameDocumentNavigation(v,S){const Q=this._frames.get(v);if(!Q)return;Q._url=S;const O={url:S,name:Q._name,isPublic:true};this._fireInternalFrameNavigation(Q,O);ke.debugLogger.log("api",`  navigated to "${S}"`)}frameAbortedNavigation(v,S,Q){const O=this._frames.get(v);if(!O||!O.pendingDocument())return;if(Q!==undefined&&O.pendingDocument().documentId!==Q)return;const H={url:O._url,name:O._name,newDocument:O.pendingDocument(),error:new NavigationAbortedError(Q,S),isPublic:!(Q&&O._redirectedNavigations.has(Q))};O.setPendingDocument(undefined);this._fireInternalFrameNavigation(O,H)}frameDetached(v){const S=this._frames.get(v);if(S){this._removeFramesRecursively(S);this._page.mainFrame()._recalculateNetworkIdle()}}frameLifecycleEvent(v,S){const Q=this._frames.get(v);if(Q)Q._onLifecycleEvent(S)}requestStarted(v,S){const Q=v.frame();this._inflightRequestStarted(v);if(v._documentId)Q.setPendingDocument({documentId:v._documentId,request:v});if(v._isFavicon){if(S)S.continue(v,{isFallback:true}).catch((()=>{}));return}this._page.emitOnContext(ae.BrowserContext.Events.Request,v);if(S){var O,H,V,J,X,ee;const Q=new Y.Route(v,S);if((O=(H=this._page)._serverRequestInterceptor)!==null&&O!==void 0&&O.call(H,Q,v))return;if((V=(J=this._page)._clientRequestInterceptor)!==null&&V!==void 0&&V.call(J,Q,v))return;if((X=(ee=this._page._browserContext)._requestInterceptor)!==null&&X!==void 0&&X.call(ee,Q,v))return;Q.continue({isFallback:true}).catch((()=>{}))}}requestReceivedResponse(v){if(v.request()._isFavicon)return;this._page.emitOnContext(ae.BrowserContext.Events.Response,v)}reportRequestFinished(v,S){this._inflightRequestFinished(v);if(v._isFavicon)return;this._page.emitOnContext(ae.BrowserContext.Events.RequestFinished,{request:v,response:S})}requestFailed(v,S){const Q=v.frame();this._inflightRequestFinished(v);if(Q.pendingDocument()&&Q.pendingDocument().request===v){let O=v.failure().errorText;if(S)O+="; maybe frame was detached?";this.frameAbortedNavigation(Q._id,O,Q.pendingDocument().documentId)}if(v._isFavicon)return;this._page.emitOnContext(ae.BrowserContext.Events.RequestFailed,v)}dialogDidOpen(v){for(const v of this._frames.values())v._invalidateNonStallingEvaluations("JavaScript dialog interrupted evaluation");if(this._closeAllOpeningDialogs)v.close().then((()=>{}));else this._openedDialogs.add(v)}dialogWillClose(v){this._openedDialogs.delete(v)}async closeOpenDialogs(){await Promise.all([...this._openedDialogs].map((v=>v.close()))).catch((()=>{}));this._openedDialogs.clear()}setCloseAllOpeningDialogs(v){this._closeAllOpeningDialogs=v}removeChildFramesRecursively(v){for(const S of v.childFrames())this._removeFramesRecursively(S)}_removeFramesRecursively(v){this.removeChildFramesRecursively(v);v._onDetached();this._frames.delete(v._id);if(!this._page.isClosed())this._page.emit(X.Page.Events.FrameDetached,v)}_inflightRequestFinished(v){const S=v.frame();if(v._isFavicon)return;if(!S._inflightRequests.has(v))return;S._inflightRequests.delete(v);if(S._inflightRequests.size===0)S._startNetworkIdleTimer()}_inflightRequestStarted(v){const S=v.frame();if(v._isFavicon)return;S._inflightRequests.add(v);if(S._inflightRequests.size===1)S._stopNetworkIdleTimer()}interceptConsoleMessage(v){if(v.type()!=="debug")return false;const S=v.text();const Q=this._consoleMessageTags.get(S);if(!Q)return false;this._consoleMessageTags.delete(S);Q();return true}clearWebSockets(v){if(v.parentFrame())return;this._webSockets.clear()}onWebSocketCreated(v,S){const Q=new Y.WebSocket(this._page,S);this._webSockets.set(v,Q)}onWebSocketRequest(v){const S=this._webSockets.get(v);if(S&&S.markAsNotified())this._page.emit(X.Page.Events.WebSocket,S)}onWebSocketResponse(v,S,Q){const O=this._webSockets.get(v);if(S<400)return;if(O)O.error(`${Q}: ${S}`)}onWebSocketFrameSent(v,S,Q){const O=this._webSockets.get(v);if(O)O.frameSent(S,Q)}webSocketFrameReceived(v,S,Q){const O=this._webSockets.get(v);if(O)O.frameReceived(S,Q)}webSocketClosed(v){const S=this._webSockets.get(v);if(S)S.closed();this._webSockets.delete(v)}webSocketError(v,S){const Q=this._webSockets.get(v);if(Q)Q.error(S)}_fireInternalFrameNavigation(v,S){v.emit(Frame.Events.InternalNavigation,S)}}S.FrameManager=FrameManager;class Frame extends Re.SdkObject{constructor(v,S,Q){super(v,"frame");this._id=void 0;this._firedLifecycleEvents=new Set;this._firedNetworkIdleSelf=false;this._currentDocument=void 0;this._pendingDocument=void 0;this._page=void 0;this._parentFrame=void 0;this._url="";this._contextData=new Map;this._childFrames=new Set;this._name="";this._inflightRequests=new Set;this._networkIdleTimer=void 0;this._setContentCounter=0;this._detachedScope=new Ee.LongStandingScope;this._raceAgainstEvaluationStallingEventsPromises=new Set;this._redirectedNavigations=new Map;this.selectors=void 0;this.attribution.frame=this;this._id=S;this._page=v;this._parentFrame=Q;this._currentDocument={documentId:undefined,request:undefined};this.selectors=new je.FrameSelectors(this);this._contextData.set("main",{contextPromise:new Be.ManualPromise,context:null});this._contextData.set("utility",{contextPromise:new Be.ManualPromise,context:null});this._setContext("main",null);this._setContext("utility",null);if(this._parentFrame)this._parentFrame._childFrames.add(this);this._firedLifecycleEvents.add("commit");if(S!==ze)this._startNetworkIdleTimer()}isDetached(){return this._detachedScope.isClosed()}_onLifecycleEvent(v){if(this._firedLifecycleEvents.has(v))return;this._firedLifecycleEvents.add(v);this.emit(Frame.Events.AddLifecycle,v);if(this===this._page.mainFrame()&&this._url!=="about:blank")ke.debugLogger.log("api",`  "${v}" event fired`);this._page.mainFrame()._recalculateNetworkIdle()}_onClearLifecycle(){for(const v of this._firedLifecycleEvents)this.emit(Frame.Events.RemoveLifecycle,v);this._firedLifecycleEvents.clear();this._inflightRequests=new Set(Array.from(this._inflightRequests).filter((v=>v===this._currentDocument.request)));this._stopNetworkIdleTimer();if(this._inflightRequests.size===0)this._startNetworkIdleTimer();this._page.mainFrame()._recalculateNetworkIdle(this);this._onLifecycleEvent("commit")}setPendingDocument(v){this._pendingDocument=v;if(v)this._invalidateNonStallingEvaluations("Navigation interrupted the evaluation")}pendingDocument(){return this._pendingDocument}_invalidateNonStallingEvaluations(v){if(!this._raceAgainstEvaluationStallingEventsPromises.size)return;const S=new Error(v);for(const v of this._raceAgainstEvaluationStallingEventsPromises)v.reject(S)}async raceAgainstEvaluationStallingEvents(v){if(this._pendingDocument)throw new Error("Frame is currently attempting a navigation");if(this._page._frameManager._openedDialogs.size)throw new Error("Open JavaScript dialog prevents evaluation");const S=new Be.ManualPromise;this._raceAgainstEvaluationStallingEventsPromises.add(S);try{return await Promise.race([v(),S])}finally{this._raceAgainstEvaluationStallingEventsPromises.delete(S)}}nonStallingRawEvaluateInExistingMainContext(v){return this.raceAgainstEvaluationStallingEvents((()=>{const S=this._existingMainContext();if(!S)throw new Error("Frame does not yet have a main execution context");return S.rawEvaluateJSON(v)}))}nonStallingEvaluateInExistingContext(v,S,Q){return this.raceAgainstEvaluationStallingEvents((()=>{var O;const H=(O=this._contextData.get(Q))===null||O===void 0?void 0:O.context;if(!H)throw new Error("Frame does not yet have the execution context");return H.evaluateExpression(v,{isFunction:S})}))}_recalculateNetworkIdle(v){let S=this._firedNetworkIdleSelf;for(const Q of this._childFrames){Q._recalculateNetworkIdle(v);if(!Q._firedLifecycleEvents.has("networkidle"))S=false}if(S&&!this._firedLifecycleEvents.has("networkidle")){this._firedLifecycleEvents.add("networkidle");this.emit(Frame.Events.AddLifecycle,"networkidle");if(this===this._page.mainFrame()&&this._url!=="about:blank")ke.debugLogger.log("api",`  "networkidle" event fired`)}if(v!==this&&this._firedLifecycleEvents.has("networkidle")&&!S){this._firedLifecycleEvents.delete("networkidle");this.emit(Frame.Events.RemoveLifecycle,"networkidle")}}async raceNavigationAction(v,S,Q){return Ee.LongStandingScope.raceMultiple([this._detachedScope,this._page.openScope],Q().catch((S=>{if(S instanceof NavigationAbortedError&&S.documentId){const Q=this._redirectedNavigations.get(S.documentId);if(Q){v.log(`waiting for redirected navigation to "${Q.url}"`);return Q.gotoPromise}}throw S})))}redirectNavigation(v,S,Q){const O=new he.ProgressController((0,Re.serverSideCallMetadata)(),this);const H={url:v,gotoPromise:O.run((S=>this._gotoAction(S,v,{referer:Q})),0)};this._redirectedNavigations.set(S,H);H.gotoPromise.finally((()=>this._redirectedNavigations.delete(S)))}async goto(v,S,Q={}){const O=(0,Ee.constructURLBasedOnBaseURL)(this._page._browserContext._options.baseURL,S);const H=new he.ProgressController(v,this);return H.run((v=>this._goto(v,O,Q)),this._page._timeoutSettings.navigationTimeout(Q))}async _goto(v,S,Q){return this.raceNavigationAction(v,Q,(async()=>this._gotoAction(v,S,Q)))}async _gotoAction(v,S,Q){const O=verifyLifecycle("waitUntil",Q.waitUntil===undefined?"load":Q.waitUntil);v.log(`navigating to "${S}", waiting until "${O}"`);const V=this._page.extraHTTPHeaders()||[];const J=V.find((v=>v.name.toLowerCase()==="referer"));let Y=J?J.value:undefined;if(Q.referer!==undefined){if(Y!==undefined&&Y!==Q.referer)throw new Error('"referer" is already specified as extra HTTP header');Y=Q.referer}S=H.helper.completeUserURL(S);const X=H.helper.waitForEvent(v,this,Frame.Events.InternalNavigation,(v=>!v.newDocument));const ee=await this._page._delegate.navigateFrame(this,S,Y);let ae;if(ee.newDocumentId){X.dispose();ae=await H.helper.waitForEvent(v,this,Frame.Events.InternalNavigation,(v=>v.newDocument&&(v.newDocument.documentId===ee.newDocumentId||!v.error))).promise;if(ae.newDocument.documentId!==ee.newDocumentId){throw new NavigationAbortedError(ee.newDocumentId,`Navigation to "${S}" is interrupted by another navigation to "${ae.url}"`)}if(ae.error)throw ae.error}else{ae=await X.promise}if(!this._firedLifecycleEvents.has(O))await H.helper.waitForEvent(v,this,Frame.Events.AddLifecycle,(v=>v===O)).promise;const he=ae.newDocument?ae.newDocument.request:undefined;const Ee=he?he._finalRequest().response():null;return Ee}async _waitForNavigation(v,S,Q){const O=verifyLifecycle("waitUntil",Q.waitUntil===undefined?"load":Q.waitUntil);v.log(`waiting for navigation until "${O}"`);const V=await H.helper.waitForEvent(v,this,Frame.Events.InternalNavigation,(Q=>{if(Q.error)return true;if(S&&!Q.newDocument)return false;v.log(`  navigated to "${this._url}"`);return true})).promise;if(V.error)throw V.error;if(!this._firedLifecycleEvents.has(O))await H.helper.waitForEvent(v,this,Frame.Events.AddLifecycle,(v=>v===O)).promise;const J=V.newDocument?V.newDocument.request:undefined;return J?J._finalRequest().response():null}async _waitForLoadState(v,S){const Q=verifyLifecycle("state",S);if(!this._firedLifecycleEvents.has(Q))await H.helper.waitForEvent(v,this,Frame.Events.AddLifecycle,(v=>v===Q)).promise}async frameElement(){return this._page._delegate.getFrameElement(this)}_context(v){return this._contextData.get(v).contextPromise.then((v=>{if(v instanceof J.ExecutionContext)return v;throw new Error(v.destroyedReason)}))}_mainContext(){return this._context("main")}_existingMainContext(){var v;return((v=this._contextData.get("main"))===null||v===void 0?void 0:v.context)||null}_utilityContext(){return this._context("utility")}async evaluateExpression(v,S={},Q){var O;const H=await this._context((O=S.world)!==null&&O!==void 0?O:"main");const V=await H.evaluateExpression(v,S,Q);return V}async evaluateExpressionHandle(v,S={},Q){var O;const H=await this._context((O=S.world)!==null&&O!==void 0?O:"main");const V=await H.evaluateExpressionHandle(v,S,Q);return V}async querySelector(v,S){ke.debugLogger.log("api",`    finding element using the selector "${v}"`);return this.selectors.query(v,S)}async waitForSelector(v,S,Q,O){const H=new he.ProgressController(v,this);if(Q.visibility)throw new Error("options.visibility is not supported, did you mean options.state?");if(Q.waitFor&&Q.waitFor!=="visible")throw new Error("options.waitFor is not supported, did you mean options.state?");const{state:V="visible"}=Q;if(!["attached","detached","visible","hidden"].includes(V))throw new Error(`state: expected one of (attached|detached|visible|hidden)`);return H.run((async v=>{v.log(`waiting for ${this._asLocator(S)}${V==="attached"?"":" to be "+V}`);const H=this.retryWithProgressAndTimeouts(v,[0,20,50,100,100,500],(async H=>{const J=await this.selectors.resolveInjectedForSelector(S,Q,O);v.throwIfAborted();if(!J){if(V==="hidden"||V==="detached")return null;return H}const Y=await J.injected.evaluateHandle(((v,{info:S,root:Q})=>{const O=v.querySelectorAll(S.parsed,Q||document);const H=O[0];const V=H?v.isVisible(H):false;let J="";if(O.length>1){if(S.strict)throw v.strictModeViolationError(S.parsed,O);J=`  locator resolved to ${O.length} elements. Proceeding with the first one: ${v.previewNode(O[0])}`}else if(H){J=`  locator resolved to ${V?"visible":"hidden"} ${v.previewNode(H)}`}return{log:J,element:H,visible:V,attached:!!H}}),{info:J.info,root:J.frame===this?O:undefined});const{log:X,visible:ee,attached:ae}=await Y.evaluate((v=>({log:v.log,visible:v.visible,attached:v.attached})));if(X)v.log(X);const he={attached:ae,detached:!ae,visible:ee,hidden:!ee}[V];if(!he){Y.dispose();return H}if(Q.omitReturnValue){Y.dispose();return null}const Ee=V==="attached"||V==="visible"?await Y.evaluateHandle((v=>v.element)):null;Y.dispose();if(!Ee)return null;if(Q.__testHookBeforeAdoptNode)await Q.__testHookBeforeAdoptNode();try{return await Ee._adoptTo(await J.frame._mainContext())}catch(v){return H}}));return O?O._context._raceAgainstContextDestroyed(H):H}),this._page._timeoutSettings.timeout(Q))}async dispatchEvent(v,S,Q,O={},H={},V){await this._callOnElementOnceMatches(v,S,((v,S,Q)=>{v.dispatchEvent(S,Q.type,Q.eventInit)}),{type:Q,eventInit:O},{mainWorld:true,...H},V)}async evalOnSelector(v,S,Q,O,H,V){const J=await this.selectors.query(v,{strict:S},V);if(!J)throw new Error(`Failed to find element matching selector "${v}"`);const Y=await J.evaluateExpression(Q,{isFunction:O},H);J.dispose();return Y}async evalOnSelectorAll(v,S,Q,O,H){const V=await this.selectors.queryArrayInMainWorld(v,H);const J=await V.evaluateExpression(S,{isFunction:Q},O);V.dispose();return J}async maskSelectors(v,S){const Q=await this._utilityContext();const O=await Q.injectedScript();await O.evaluate(((v,{parsed:S,color:Q})=>{v.maskSelectors(S,Q)}),{parsed:v,color:S})}async querySelectorAll(v){return this.selectors.queryAll(v)}async queryCount(v){return await this.selectors.queryCount(v)}async content(){try{const v=await this._utilityContext();return await v.evaluate((()=>{let v="";if(document.doctype)v=(new XMLSerializer).serializeToString(document.doctype);if(document.documentElement)v+=document.documentElement.outerHTML;return v}))}catch(v){if(J.isJavaScriptErrorInEvaluate(v)||(0,Oe.isSessionClosedError)(v))throw v;throw new Error(`Unable to retrieve content because the page is navigating and changing the content.`)}}async setContent(v,S,Q={}){const O=new he.ProgressController(v,this);return O.run((async v=>{await this.raceNavigationAction(v,Q,(async()=>{const O=Q.waitUntil===undefined?"load":Q.waitUntil;v.log(`setting frame content, waiting until "${O}"`);const H=`--playwright--set--content--${this._id}--${++this._setContentCounter}--`;const V=await this._utilityContext();const J=new Promise(((S,Q)=>{this._page._frameManager._consoleMessageTags.set(H,(()=>{this._onClearLifecycle();this._waitForLoadState(v,O).then(S).catch(Q)}))}));const Y=V.evaluate((({html:v,tag:S})=>{document.open();console.debug(S);document.write(v);document.close()}),{html:S,tag:H});await Promise.all([Y,J]);return null}))}),this._page._timeoutSettings.navigationTimeout(Q))}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}async addScriptTag(v){const{url:S=null,content:Q=null,type:O=""}=v;if(!S&&!Q)throw new Error("Provide an object with a `url`, `path` or `content` property");const H=await this._mainContext();return this._raceWithCSPError((async()=>{if(S!==null)return(await H.evaluateHandle(addScriptUrl,{url:S,type:O})).asElement();const v=(await H.evaluateHandle(addScriptContent,{content:Q,type:O})).asElement();if(this._page._delegate.cspErrorsAsynchronousForInlineScipts)await H.evaluate((()=>true));return v}));async function addScriptUrl(v){const S=document.createElement("script");S.src=v.url;if(v.type)S.type=v.type;const Q=new Promise(((v,Q)=>{S.onload=v;S.onerror=v=>Q(typeof v==="string"?new Error(v):new Error(`Failed to load script at ${S.src}`))}));document.head.appendChild(S);await Q;return S}function addScriptContent(v){const S=document.createElement("script");S.type=v.type||"text/javascript";S.text=v.content;let Q=null;S.onerror=v=>Q=v;document.head.appendChild(S);if(Q)throw Q;return S}}async addStyleTag(v){const{url:S=null,content:Q=null}=v;if(!S&&!Q)throw new Error("Provide an object with a `url`, `path` or `content` property");const O=await this._mainContext();return this._raceWithCSPError((async()=>{if(S!==null)return(await O.evaluateHandle(addStyleUrl,S)).asElement();return(await O.evaluateHandle(addStyleContent,Q)).asElement()}));async function addStyleUrl(v){const S=document.createElement("link");S.rel="stylesheet";S.href=v;const Q=new Promise(((v,Q)=>{S.onload=v;S.onerror=Q}));document.head.appendChild(S);await Q;return S}async function addStyleContent(v){const S=document.createElement("style");S.type="text/css";S.appendChild(document.createTextNode(v));const Q=new Promise(((v,Q)=>{S.onload=v;S.onerror=Q}));document.head.appendChild(S);await Q;return S}}async _raceWithCSPError(v){const S=[];let Q;let O;let H;const J=v().then((v=>Q=v)).catch((v=>O=v));const Y=new Promise((v=>{S.push(V.eventsHelper.addEventListener(this._page._browserContext,ae.BrowserContext.Events.Console,(S=>{if(S.page()!==this._page||S.type()!=="error")return;if(S.text().includes("Content-Security-Policy")||S.text().includes("Content Security Policy")){H=S;v()}})))}));await Promise.race([J,Y]);V.eventsHelper.removeEventListeners(S);if(H)throw new Error(H.text());if(O)throw O;return Q}async retryWithProgressAndTimeouts(v,S,Q){const O=Symbol("continuePolling");S=[0,...S];let H=0;while(v.isRunning()){const V=S[Math.min(H++,S.length-1)];if(V){const v=new Promise((v=>setTimeout(v,V)));await Ee.LongStandingScope.raceMultiple([this._page.openScope,this._detachedScope],v)}v.throwIfAborted();try{const v=await Q(O);if(v===O)continue;return v}catch(v){if(this._isErrorThatCannotBeRetried(v))throw v;continue}}v.throwIfAborted();return undefined}_isErrorThatCannotBeRetried(v){if(J.isJavaScriptErrorInEvaluate(v)||(0,Oe.isSessionClosedError)(v))return true;if(O.isNonRecoverableDOMError(v)||(0,Pe.isInvalidSelectorError)(v))return true;if(this.isDetached())return true;return false}async _retryWithProgressIfNotConnected(v,S,Q,O){v.log(`waiting for ${this._asLocator(S)}`);return this.retryWithProgressAndTimeouts(v,[0,20,50,100,100,500],(async H=>{const V=await this.selectors.resolveInjectedForSelector(S,{strict:Q});v.throwIfAborted();if(!V)return H;const J=await V.injected.evaluateHandle(((v,{info:S})=>{const Q=v.querySelectorAll(S.parsed,document);const O=Q[0];let H="";if(Q.length>1){if(S.strict)throw v.strictModeViolationError(S.parsed,Q);H=`  locator resolved to ${Q.length} elements. Proceeding with the first one: ${v.previewNode(Q[0])}`}else if(O){H=`  locator resolved to ${v.previewNode(O)}`}return{log:H,success:!!O,element:O}}),{info:V.info});const{log:Y,success:X}=await J.evaluate((v=>({log:v.log,success:v.success})));if(Y)v.log(Y);if(!X){J.dispose();return H}const ee=await J.evaluateHandle((v=>v.element));J.dispose();try{const S=await O(ee);if(S==="error:notconnected"){v.log("element was detached from the DOM, retrying");return H}return S}finally{ee===null||ee===void 0?void 0:ee.dispose()}}))}async rafrafTimeoutScreenshotElementWithProgress(v,S,Q,O){return await this._retryWithProgressIfNotConnected(v,S,true,(async S=>{await S._frame.rafrafTimeout(Q);return await this._page._screenshotter.screenshotElement(v,S,O)}))}async click(v,S,Q){const H=new he.ProgressController(v,this);return H.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._click(v,Q))))),this._page._timeoutSettings.timeout(Q))}async dblclick(v,S,Q={}){const H=new he.ProgressController(v,this);return H.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._dblclick(v,Q))))),this._page._timeoutSettings.timeout(Q))}async dragAndDrop(v,S,Q,H={}){const V=new he.ProgressController(v,this);await V.run((async v=>{O.assertDone(await this._retryWithProgressIfNotConnected(v,S,H.strict,(async S=>S._retryPointerAction(v,"move and down",false,(async v=>{await this._page.mouse.move(v.x,v.y);await this._page.mouse.down()}),{...H,position:H.sourcePosition,timeout:v.timeUntilDeadline()}))));O.assertDone(await this._retryWithProgressIfNotConnected(v,Q,H.strict,(async S=>S._retryPointerAction(v,"move and up",false,(async v=>{await this._page.mouse.move(v.x,v.y);await this._page.mouse.up()}),{...H,position:H.targetPosition,timeout:v.timeUntilDeadline()}))))}),this._page._timeoutSettings.timeout(H))}async tap(v,S,Q){if(!this._page._browserContext._options.hasTouch)throw new Error("The page does not support tap. Use hasTouch context option to enable touch support.");const H=new he.ProgressController(v,this);return H.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._tap(v,Q))))),this._page._timeoutSettings.timeout(Q))}async fill(v,S,Q,H){const V=new he.ProgressController(v,this);return V.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,H.strict,(S=>S._fill(v,Q,H))))),this._page._timeoutSettings.timeout(H))}async focus(v,S,Q={}){const H=new he.ProgressController(v,this);await H.run((async v=>{O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._focus(v))))}),this._page._timeoutSettings.timeout(Q))}async blur(v,S,Q={}){const H=new he.ProgressController(v,this);await H.run((async v=>{O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._blur(v))))}),this._page._timeoutSettings.timeout(Q))}async textContent(v,S,Q={},O){return this._callOnElementOnceMatches(v,S,((v,S)=>S.textContent),undefined,Q,O)}async innerText(v,S,Q={},O){return this._callOnElementOnceMatches(v,S,((v,S)=>{if(S.namespaceURI!=="http://www.w3.org/1999/xhtml")throw v.createStacklessError("Node is not an HTMLElement");return S.innerText}),undefined,Q,O)}async innerHTML(v,S,Q={},O){return this._callOnElementOnceMatches(v,S,((v,S)=>S.innerHTML),undefined,Q,O)}async getAttribute(v,S,Q,O={},H){return this._callOnElementOnceMatches(v,S,((v,S,Q)=>S.getAttribute(Q.name)),{name:Q},O,H)}async inputValue(v,S,Q={},O){return this._callOnElementOnceMatches(v,S,((v,S)=>{const Q=v.retarget(S,"follow-label");if(!Q||Q.nodeName!=="INPUT"&&Q.nodeName!=="TEXTAREA"&&Q.nodeName!=="SELECT")throw v.createStacklessError("Node is not an <input>, <textarea> or <select> element");return Q.value}),undefined,Q,O)}async highlight(v){const S=await this.selectors.resolveInjectedForSelector(v);if(!S)return;return await S.injected.evaluate(((v,{info:S})=>v.highlight(S.parsed)),{info:S.info})}async hideHighlight(){return this.raceAgainstEvaluationStallingEvents((async()=>{const v=await this._utilityContext();const S=await v.injectedScript();return await S.evaluate((v=>v.hideHighlight()))}))}async _elementState(v,S,Q,H={},V){const J=await this._callOnElementOnceMatches(v,S,((v,S,Q)=>v.elementState(S,Q.state)),{state:Q},H,V);return O.throwRetargetableDOMError(J)}async isVisible(v,S,Q={},O){const H=new he.ProgressController(v,this);return H.run((async v=>{v.log(`  checking visibility of ${this._asLocator(S)}`);const H=await this.selectors.resolveInjectedForSelector(S,Q,O);if(!H)return false;return await H.injected.evaluate(((v,{info:S,root:Q})=>{const O=v.querySelector(S.parsed,Q||document,S.strict);const H=O?v.elementState(O,"visible"):false;return H==="error:notconnected"?false:H}),{info:H.info,root:H.frame===this?O:undefined})}),this._page._timeoutSettings.timeout({})).catch((v=>{if(J.isJavaScriptErrorInEvaluate(v)||(0,Pe.isInvalidSelectorError)(v)||(0,Oe.isSessionClosedError)(v))throw v;return false}))}async isHidden(v,S,Q={},O){return!await this.isVisible(v,S,Q,O)}async isDisabled(v,S,Q={},O){return this._elementState(v,S,"disabled",Q,O)}async isEnabled(v,S,Q={},O){return this._elementState(v,S,"enabled",Q,O)}async isEditable(v,S,Q={},O){return this._elementState(v,S,"editable",Q,O)}async isChecked(v,S,Q={},O){return this._elementState(v,S,"checked",Q,O)}async hover(v,S,Q={}){const H=new he.ProgressController(v,this);return H.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._hover(v,Q))))),this._page._timeoutSettings.timeout(Q))}async selectOption(v,S,Q,O,H={}){const V=new he.ProgressController(v,this);return V.run((async v=>await this._retryWithProgressIfNotConnected(v,S,H.strict,(S=>S._selectOption(v,Q,O,H)))),this._page._timeoutSettings.timeout(H))}async setInputFiles(v,S,Q){const H=await(0,Ve.prepareFilesForUpload)(this,Q);const V=new he.ProgressController(v,this);return V.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._setInputFiles(v,H,Q))))),this._page._timeoutSettings.timeout(Q))}async type(v,S,Q,H={}){const V=new he.ProgressController(v,this);return V.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,H.strict,(S=>S._type(v,Q,H))))),this._page._timeoutSettings.timeout(H))}async press(v,S,Q,H={}){const V=new he.ProgressController(v,this);return V.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,H.strict,(S=>S._press(v,Q,H))))),this._page._timeoutSettings.timeout(H))}async check(v,S,Q={}){const H=new he.ProgressController(v,this);return H.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._setChecked(v,true,Q))))),this._page._timeoutSettings.timeout(Q))}async uncheck(v,S,Q={}){const H=new he.ProgressController(v,this);return H.run((async v=>O.assertDone(await this._retryWithProgressIfNotConnected(v,S,Q.strict,(S=>S._setChecked(v,false,Q))))),this._page._timeoutSettings.timeout(Q))}async waitForTimeout(v,S){const Q=new he.ProgressController(v,this);return Q.run((async()=>{await new Promise((v=>setTimeout(v,S)))}))}async expect(v,S,Q){let O=this._page._timeoutSettings.timeout(Q);const H=O>0?(0,Ee.monotonicTime)():0;const V={isSet:false};const J=await this._expectInternal(v,S,Q,true,O,V);if(J.matches!==Q.isNot)return J;if(O>0){const v=(0,Ee.monotonicTime)()-H;O-=v}if(O<0)return{matches:Q.isNot,log:v.log,timedOut:true,received:V.received};return await this._expectInternal(v,S,Q,false,O,V)}async _expectInternal(v,S,Q,O,H,V){const Y=new he.ProgressController(v,this);return Y.run((async J=>{if(O){J.log(`${v.apiName}${H?` with timeout ${H}ms`:""}`);J.log(`waiting for ${this._asLocator(S)}`)}return await this.retryWithProgressAndTimeouts(J,[100,250,500,1e3],(async H=>{var Y;const X=await this.selectors.resolveFrameForSelector(S,{strict:true});J.throwIfAborted();const{frame:ee,info:ae}=X||{frame:this,info:undefined};const he=Q.expression==="to.have.property"?"main":(Y=ae===null||ae===void 0?void 0:ae.world)!==null&&Y!==void 0?Y:"utility";const Ee=await ee._context(he);const Be=await Ee.injectedScript();J.throwIfAborted();const{log:ke,matches:Re,received:Oe,missingRecevied:Pe}=await Be.evaluate((async(v,{info:S,options:Q,callId:O})=>{const H=S?v.querySelectorAll(S.parsed,document):[];const V=Q.expression==="to.have.count"||Q.expression.endsWith(".array");let J="";if(V)J=`  locator resolved to ${H.length} element${H.length===1?"":"s"}`;else if(H.length>1)throw v.strictModeViolationError(S.parsed,H);else if(H.length)J=`  locator resolved to ${v.previewNode(H[0])}`;if(O)v.markTargetElements(new Set(H),O);return{log:J,...await v.expect(H[0],Q,H)}}),{info:ae,options:Q,callId:v.id});if(ke)J.log(ke);if(Re===Q.isNot&&!Pe){V.received=Oe;V.isSet=true;if(!Array.isArray(Oe))J.log(`  unexpected value "${renderUnexpectedValue(Q.expression,Oe)}"`)}if(!O&&Re===Q.isNot){return H}return{matches:Re,received:Oe}}))}),O?0:H).catch((S=>{if(J.isJavaScriptErrorInEvaluate(S)||(0,Pe.isInvalidSelectorError)(S))throw S;const O={matches:Q.isNot,log:v.log};if(V.isSet)O.received=V.received;if(S instanceof qe.TimeoutError)O.timedOut=true;return O}))}async _waitForFunctionExpression(v,S,Q,O,H,V="main"){const Y=new he.ProgressController(v,this);if(typeof H.pollingInterval==="number")(0,Ee.assert)(H.pollingInterval>0,"Cannot poll with non-positive interval: "+H.pollingInterval);S=J.normalizeEvaluationExpression(S,Q);return Y.run((async v=>this.retryWithProgressAndTimeouts(v,[100],(async()=>{const J=V==="main"?await this._mainContext():await this._utilityContext();const Y=await J.injectedScript();const X=await Y.evaluateHandle(((v,{expression:S,isFunction:Q,polling:O,arg:H})=>{const predicate=()=>{let v=globalThis.eval(S);if(Q===true){v=v(H)}else if(Q===false){v=v}else{if(typeof v==="function")v=v(H)}return v};let V;let J;let Y=false;const X=new Promise(((v,S)=>{V=v;J=S}));const next=()=>{if(Y)return;try{const v=predicate();if(v){V(v);return}if(typeof O!=="number")requestAnimationFrame(next);else setTimeout(next,O)}catch(v){J(v)}};next();return{result:X,abort:()=>Y=true}}),{expression:S,isFunction:Q,polling:H.pollingInterval,arg:O});v.cleanupWhenAborted((()=>X.evaluate((v=>v.abort())).catch((()=>{}))));return X.evaluateHandle((v=>v.result))}))),this._page._timeoutSettings.timeout(H))}async waitForFunctionValueInUtility(v,S){const Q=`() => {\n      const result = (${S})();\n      if (!result)\n        return result;\n      return JSON.stringify(result);\n    }`;const O=await this._waitForFunctionExpression((0,Re.serverSideCallMetadata)(),Q,true,undefined,{timeout:v.timeUntilDeadline()},"utility");return JSON.parse(O.rawValue())}async title(){const v=await this._utilityContext();return v.evaluate((()=>document.title))}async rafrafTimeout(v){if(v===0)return;const S=await this._utilityContext();await Promise.all([S.evaluate((()=>new Promise((v=>{requestAnimationFrame((()=>{requestAnimationFrame(v)}))})))),new Promise((S=>setTimeout(S,v)))])}_onDetached(){this._stopNetworkIdleTimer();this._detachedScope.close(new Error("Frame was detached"));for(const v of this._contextData.values()){if(v.context)v.context.contextDestroyed("Frame was detached");v.contextPromise.resolve({destroyedReason:"Frame was detached"})}if(this._parentFrame)this._parentFrame._childFrames.delete(this);this._parentFrame=null}async _callOnElementOnceMatches(v,S,Q,O,H={},V){const J=Q.toString();const Y=new he.ProgressController(v,this);return Y.run((async v=>{v.log(`waiting for ${this._asLocator(S)}`);const Q=this.retryWithProgressAndTimeouts(v,[0,20,50,100,100,500],(async Q=>{const Y=await this.selectors.resolveInjectedForSelector(S,H,V);v.throwIfAborted();if(!Y)return Q;const{log:X,success:ee,value:ae}=await Y.injected.evaluate(((v,{info:S,callbackText:Q,taskData:O,callId:H,root:V})=>{const J=v.eval(Q);const Y=v.querySelector(S.parsed,V||document,S.strict);if(!Y)return{success:false};const X=`  locator resolved to ${v.previewNode(Y)}`;if(H)v.markTargetElements(new Set([Y]),H);return{log:X,success:true,value:J(v,Y,O)}}),{info:Y.info,callbackText:J,taskData:O,callId:v.metadata.id,root:Y.frame===this?V:undefined});if(X)v.log(X);if(!ee)return Q;return ae}));return V?V._context._raceAgainstContextDestroyed(Q):Q}),this._page._timeoutSettings.timeout(H))}_setContext(v,S){const Q=this._contextData.get(v);Q.context=S;if(S)Q.contextPromise.resolve(S);else Q.contextPromise=new Be.ManualPromise}_contextCreated(v,S){const Q=this._contextData.get(v);if(Q.context){Q.context.contextDestroyed("Execution context was destroyed, most likely because of a navigation");this._setContext(v,null)}this._setContext(v,S)}_contextDestroyed(v){if(this._detachedScope.isClosed())return;v.contextDestroyed("Execution context was destroyed, most likely because of a navigation");for(const[S,Q]of this._contextData){if(Q.context===v)this._setContext(S,null)}}_startNetworkIdleTimer(){(0,Ee.assert)(!this._networkIdleTimer);if(this._firedLifecycleEvents.has("networkidle")||this._detachedScope.isClosed())return;this._networkIdleTimer=setTimeout((()=>{this._firedNetworkIdleSelf=true;this._page.mainFrame()._recalculateNetworkIdle()}),500)}_stopNetworkIdleTimer(){if(this._networkIdleTimer)clearTimeout(this._networkIdleTimer);this._networkIdleTimer=undefined;this._firedNetworkIdleSelf=false}async extendInjectedScript(v,S){const Q=await this._context("main");const O=await Q.injectedScript();return O.evaluateHandle(((v,{source:S,arg:Q})=>v.extend(S,Q)),{source:v,arg:S})}async resetStorageForCurrentOriginBestEffort(v){const S=await this._utilityContext();await S.evaluate((async({ls:v})=>{sessionStorage.clear();localStorage.clear();for(const S of v||[])localStorage[S.name]=S.value;const S=navigator.serviceWorker?await navigator.serviceWorker.getRegistrations():[];await Promise.all(S.map((async v=>{if(!v.installing&&!v.waiting&&!v.active)v.unregister().catch((()=>{}));else await v.unregister().catch((()=>{}))})));for(const v of await((Q=(O=indexedDB).databases)===null||Q===void 0?void 0:Q.call(O))||[]){var Q,O;if(v.name)indexedDB.deleteDatabase(v.name)}}),{ls:v===null||v===void 0?void 0:v.localStorage}).catch((()=>{}))}_asLocator(v){return(0,Le.asLocator)(this._page.attribution.playwright.options.sdkLanguage,v)}}S.Frame=Frame;Frame.Events={InternalNavigation:"internalnavigation",AddLifecycle:"addlifecycle",RemoveLifecycle:"removelifecycle"};class SignalBarrier{constructor(v){this._progress=void 0;this._protectCount=0;this._promise=new Be.ManualPromise;this._progress=v;this.retain()}waitFor(){this.release();return this._promise}async addFrameNavigation(v){if(v.parentFrame())return;this.retain();const S=H.helper.waitForEvent(null,v,Frame.Events.InternalNavigation,(S=>{if(!S.isPublic)return false;if(!S.error&&this._progress)this._progress.log(`  navigated to "${v._url}"`);return true}));await Ee.LongStandingScope.raceMultiple([v._page.openScope,v._detachedScope],S.promise).catch((()=>{}));S.dispose();this.release()}retain(){++this._protectCount}release(){--this._protectCount;if(!this._protectCount)this._promise.resolve()}}function verifyLifecycle(v,S){if(S==="networkidle0")S="networkidle";if(!ee.kLifecycleEvents.has(S))throw new Error(`${v}: expected one of (load|domcontentloaded|networkidle|commit)`);return S}function renderUnexpectedValue(v,S){if(v==="to.be.checked")return S?"checked":"unchecked";if(v==="to.be.unchecked")return S?"unchecked":"checked";if(v==="to.be.visible")return S?"visible":"hidden";if(v==="to.be.hidden")return S?"hidden":"visible";if(v==="to.be.enabled")return S?"enabled":"disabled";if(v==="to.be.disabled")return S?"disabled":"enabled";if(v==="to.be.editable")return S?"editable":"readonly";if(v==="to.be.readonly")return S?"readonly":"editable";if(v==="to.be.empty")return S?"empty":"not empty";if(v==="to.be.focused")return S?"focused":"not focused";return S}},746:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.HarRecorder=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=Q(1796);var J=Q(4012);var Y=Q(6383);var X=Q(6729);var ee=Q(3557);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class HarRecorder{constructor(v,S,Q){this._artifact=void 0;this._isFlushed=false;this._tracer=void 0;this._entries=[];this._zipFile=null;this._writtenZipEntries=new Set;this._artifact=new V.Artifact(v,H.default.join(v._browser.options.artifactsDir,`${(0,ee.createGuid)()}.har`));const O=Q.urlRegexSource!==undefined&&Q.urlRegexFlags!==undefined?new RegExp(Q.urlRegexSource,Q.urlRegexFlags):undefined;const X=Q.path.endsWith(".zip");const ae=Q.content||(X?"attach":"embed");this._tracer=new J.HarTracer(v,S,this,{content:ae,slimMode:Q.mode==="minimal",includeTraceInfo:false,recordRequestOverrides:true,waitForContentOnStop:true,urlFilter:O!==null&&O!==void 0?O:Q.urlGlob});this._zipFile=ae==="attach"||X?new Y.yazl.ZipFile:null;this._tracer.start({omitScripts:false})}onEntryStarted(v){this._entries.push(v)}onEntryFinished(v){}onContentBlob(v,S){if(!this._zipFile||this._writtenZipEntries.has(v))return;this._writtenZipEntries.add(v);this._zipFile.addBuffer(S,v)}async flush(){if(this._isFlushed)return;this._isFlushed=true;await this._tracer.flush();const v=this._tracer.stop();v.entries=this._entries;const S=jsonStringify({log:v});if(this._zipFile){const v=new X.ManualPromise;this._zipFile.on("error",(S=>v.reject(S)));this._zipFile.addBuffer(Buffer.from(S,"utf-8"),"har.har");this._zipFile.end();this._zipFile.outputStream.pipe(O.default.createWriteStream(this._artifact.localPath())).on("close",(()=>{v.resolve()}));await v}else{await O.default.promises.writeFile(this._artifact.localPath(),S)}}async export(){await this.flush();this._artifact.reportFinished();return this._artifact}}S.HarRecorder=HarRecorder;function jsonStringify(v){const S=[];innerJsonStringify(v,S,"",false,undefined);return S.join("")}function innerJsonStringify(v,S,Q,O,H){if(typeof v!=="object"||v===null){S.push(JSON.stringify(v));return}const V=Array.isArray(v);if(!V&&v.constructor.name!=="Object"){S.push(JSON.stringify(v));return}const J=V?v:Object.entries(v).filter((v=>v[1]!==undefined));if(!J.length){S.push(V?`[]`:`{}`);return}const Y=`${Q}  `;let X;if(V)X=O?{open:"[",close:"]"}:{open:`[\n${Y}`,close:`\n${Q}]`};else X=O?{open:"{ ",close:" }"}:{open:`{\n${Y}`,close:`\n${Q}}`};S.push(X.open);for(let v=0;v<J.length;++v){const Q=J[v];if(v)S.push(O?`, `:`,\n${Y}`);if(!V)S.push(`${JSON.stringify(Q[0])}: `);const X=V?undefined:Q[0];const ee=O||X==="timings"||H==="headers";innerJsonStringify(V?Q:Q[1],S,Y,ee,X)}S.push(X.close)}},4012:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.HarTracer=void 0;var O=Q(5985);var H=Q(2857);var V=Q(9175);var J=_interopRequireWildcard(Q(3824));var Y=Q(3557);var X=Q(3841);var ee=Q(1319);var ae=Q(6729);var he=Q(9521);var Ee=Q(9965);var Be=Q(3737);var ke=Q(5746);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const Re="HTTP/1.1";class HarTracer{constructor(v,S,Q,O){this._context=void 0;this._barrierPromises=new Set;this._delegate=void 0;this._options=void 0;this._pageEntries=new Map;this._eventListeners=[];this._started=false;this._entrySymbol=void 0;this._baseURL=void 0;this._page=void 0;this._context=v;this._page=S;this._delegate=Q;this._options=O;if(O.slimMode){O.omitSecurityDetails=true;O.omitCookies=true;O.omitTiming=true;O.omitServerIP=true;O.omitSizes=true;O.omitPages=true}this._entrySymbol=Symbol("requestHarEntry");this._baseURL=v instanceof H.APIRequestContext?v._defaultOptions().baseURL:v._options.baseURL}start(v){if(this._started)return;this._options.omitScripts=v.omitScripts;this._started=true;const S=this._context instanceof H.APIRequestContext?this._context:this._context.fetchRequest;this._eventListeners=[X.eventsHelper.addEventListener(S,H.APIRequestContext.Events.Request,(v=>this._onAPIRequest(v))),X.eventsHelper.addEventListener(S,H.APIRequestContext.Events.RequestFinished,(v=>this._onAPIRequestFinished(v)))];if(this._context instanceof O.BrowserContext){this._eventListeners.push(X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.Page,(v=>this._createPageEntryIfNeeded(v))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.Request,(v=>this._onRequest(v))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.RequestFinished,(({request:v,response:S})=>this._onRequestFinished(v,S).catch((()=>{})))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.RequestFailed,(v=>this._onRequestFailed(v))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.Response,(v=>this._onResponse(v))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.RequestAborted,(v=>this._onRequestAborted(v))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.RequestFulfilled,(v=>this._onRequestFulfilled(v))),X.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.RequestContinued,(v=>this._onRequestContinued(v))))}}_shouldIncludeEntryWithUrl(v){return!this._options.urlFilter||(0,Ee.urlMatches)(this._baseURL,v,this._options.urlFilter)}_entryForRequest(v){return v[this._entrySymbol]}_createPageEntryIfNeeded(v){if(!v)return;if(this._options.omitPages)return;if(this._page&&v!==this._page)return;let S=this._pageEntries.get(v);if(!S){const Q=new Date;S={startedDateTime:Q.toISOString(),id:v.guid,title:"",pageTimings:this._options.omitTiming?{}:{onContentLoad:-1,onLoad:-1}};S[Oe]=Q;v.mainFrame().on(Be.Frame.Events.AddLifecycle,(Q=>{if(Q==="load")this._onLoad(v,S);if(Q==="domcontentloaded")this._onDOMContentLoaded(v,S)}));this._pageEntries.set(v,S)}return S}_onDOMContentLoaded(v,S){const Q=v.mainFrame().evaluateExpression(String((()=>({title:document.title,domContentLoaded:performance.timing.domContentLoadedEventStart}))),{isFunction:true,world:"utility"}).then((v=>{S.title=v.title;if(!this._options.omitTiming)S.pageTimings.onContentLoad=v.domContentLoaded})).catch((()=>{}));this._addBarrier(v,Q)}_onLoad(v,S){const Q=v.mainFrame().evaluateExpression(String((()=>({title:document.title,loaded:performance.timing.loadEventStart}))),{isFunction:true,world:"utility"}).then((v=>{S.title=v.title;if(!this._options.omitTiming)S.pageTimings.onLoad=v.loaded})).catch((()=>{}));this._addBarrier(v,Q)}_addBarrier(v,S){if(!v)return null;if(!this._options.waitForContentOnStop)return;const Q=v.openScope.safeRace(S);this._barrierPromises.add(Q);Q.then((()=>this._barrierPromises.delete(Q)))}_onAPIRequest(v){var S;if(!this._shouldIncludeEntryWithUrl(v.url.toString()))return;const Q=createHarEntry(v.method,v.url,undefined,this._options);Q._apiRequest=true;if(!this._options.omitCookies)Q.request.cookies=v.cookies;Q.request.headers=Object.entries(v.headers).map((([v,S])=>({name:v,value:S})));Q.request.postData=this._postDataForBuffer(v.postData||null,v.headers["content-type"],this._options.content);if(!this._options.omitSizes)Q.request.bodySize=((S=v.postData)===null||S===void 0?void 0:S.length)||0;v[this._entrySymbol]=Q;if(this._started)this._delegate.onEntryStarted(Q)}_onAPIRequestFinished(v){const S=this._entryForRequest(v.requestEvent);if(!S)return;S.response.status=v.statusCode;S.response.statusText=v.statusMessage;S.response.httpVersion=v.httpVersion;S.response.redirectURL=v.headers.location||"";for(let Q=0;Q<v.rawHeaders.length;Q+=2){S.response.headers.push({name:v.rawHeaders[Q],value:v.rawHeaders[Q+1]})}S.response.cookies=this._options.omitCookies?[]:v.cookies.map((v=>({...v,expires:v.expires===-1?undefined:safeDateToISOString(v.expires)})));const Q=S.response.content;const O=v.headers["content-type"];if(O)Q.mimeType=O;this._storeResponseContent(v.body,Q,"other");if(this._started)this._delegate.onEntryFinished(S)}_onRequest(v){var S,Q;if(!this._shouldIncludeEntryWithUrl(v.url()))return;const O=(S=v.frame())===null||S===void 0?void 0:S._page;if(this._page&&O!==this._page)return;const H=J.parsedURL(v.url());if(!H)return;const V=this._createPageEntryIfNeeded(O);const X=createHarEntry(v.method(),H,(Q=v.frame())===null||Q===void 0?void 0:Q.guid,this._options);if(V)X.pageref=V.id;this._recordRequestHeadersAndCookies(X,v.headers());X.request.postData=this._postDataForRequest(v,this._options.content);if(!this._options.omitSizes)X.request.bodySize=v.bodySize();if(v.redirectedFrom()){const S=this._entryForRequest(v.redirectedFrom());if(S)S.response.redirectURL=v.url()}v[this._entrySymbol]=X;(0,Y.assert)(this._started);this._delegate.onEntryStarted(X)}_recordRequestHeadersAndCookies(v,S){if(!this._options.omitCookies){v.request.cookies=[];for(const Q of S.filter((v=>v.name.toLowerCase()==="cookie")))v.request.cookies.push(...Q.value.split(";").map(parseCookie))}v.request.headers=S}_recordRequestOverrides(v,S){if(!S._hasOverrides()||!this._options.recordRequestOverrides)return;v.request.method=S.method();v.request.url=S.url();v.request.postData=this._postDataForRequest(S,this._options.content);this._recordRequestHeadersAndCookies(v,S.headers())}async _onRequestFinished(v,S){var Q;if(!S)return;const O=this._entryForRequest(v);if(!O)return;const H=(Q=v.frame())===null||Q===void 0?void 0:Q._page;if(!this._options.omitServerIP){this._addBarrier(H||v.serviceWorker(),S.serverAddr().then((v=>{if(v!==null&&v!==void 0&&v.ipAddress)O.serverIPAddress=v.ipAddress;if(v!==null&&v!==void 0&&v.port)O._serverPort=v.port})))}if(!this._options.omitSecurityDetails){this._addBarrier(H||v.serviceWorker(),S.securityDetails().then((v=>{if(v)O._securityDetails=v})))}const J=S.httpVersion();O.request.httpVersion=J;O.response.httpVersion=J;const Y=this._options.omitSizes?undefined:{_encodedBodySize:-1,_decodedBodySize:-1,barrier:new ae.ManualPromise,_check:function(){if(this._encodedBodySize!==-1&&this._decodedBodySize!==-1){O.response.content.compression=Math.max(0,this._decodedBodySize-this._encodedBodySize);this.barrier.resolve()}},setEncodedBodySize:function(v){this._encodedBodySize=v;this._check()},setDecodedBodySize:function(v){this._decodedBodySize=v;this._check()}};if(Y)this._addBarrier(H||v.serviceWorker(),Y.barrier);const X=S.body().then((S=>{if(this._options.omitScripts&&v.resourceType()==="script"){Y===null||Y===void 0?void 0:Y.setDecodedBodySize(0);return}const Q=O.response.content;Y===null||Y===void 0?void 0:Y.setDecodedBodySize(S.length);this._storeResponseContent(S,Q,v.resourceType())})).catch((()=>{Y===null||Y===void 0?void 0:Y.setDecodedBodySize(0)})).then((()=>{if(this._started)this._delegate.onEntryFinished(O)}));this._addBarrier(H||v.serviceWorker(),X);const ee=S.timing();O.timings.receive=S.request()._responseEndTiming!==-1?V.helper.millisToRoundishMillis(S.request()._responseEndTiming-ee.responseStart):-1;this._computeHarEntryTotalTime(O);if(!this._options.omitSizes){this._addBarrier(H||v.serviceWorker(),S.sizes().then((v=>{O.response.bodySize=v.responseBodySize;O.response.headersSize=v.responseHeadersSize;O.response._transferSize=v.transferSize;O.request.headersSize=v.requestHeadersSize;Y===null||Y===void 0?void 0:Y.setEncodedBodySize(v.responseBodySize)})))}}async _onRequestFailed(v){const S=this._entryForRequest(v);if(!S)return;if(v._failureText!==null)S.response._failureText=v._failureText;this._recordRequestOverrides(S,v);if(this._started)this._delegate.onEntryFinished(S)}_onRequestAborted(v){const S=this._entryForRequest(v);if(S)S._wasAborted=true}_onRequestFulfilled(v){const S=this._entryForRequest(v);if(S)S._wasFulfilled=true}_onRequestContinued(v){const S=this._entryForRequest(v);if(S)S._wasContinued=true}_storeResponseContent(v,S,Q){if(!v){S.size=0;return}if(!this._options.omitSizes)S.size=v.length;if(this._options.content==="embed"){if((0,ke.isTextualMimeType)(S.mimeType)&&Q!=="font"){S.text=v.toString()}else{S.text=v.toString("base64");S.encoding="base64"}}else if(this._options.content==="attach"){const Q=(0,Y.calculateSha1)(v)+"."+(ee.mime.getExtension(S.mimeType)||"dat");if(this._options.includeTraceInfo)S._sha1=Q;else S._file=Q;if(this._started)this._delegate.onContentBlob(Q,v)}}_onResponse(v){var S;const Q=this._entryForRequest(v.request());if(!Q)return;const O=(S=v.frame())===null||S===void 0?void 0:S._page;const H=this._createPageEntryIfNeeded(O);const J=v.request();if(this._options.includeTraceInfo)Q._monotonicTime=(0,Y.monotonicTime)();Q.response={status:v.status(),statusText:v.statusText(),httpVersion:v.httpVersion(),cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:this._options.omitSizes?undefined:-1};if(!this._options.omitTiming){const S=H?H[Oe].valueOf():0;const O=v.timing();if(H&&S>O.startTime)H.startedDateTime=new Date(O.startTime).toISOString();const J=O.domainLookupEnd!==-1?V.helper.millisToRoundishMillis(O.domainLookupEnd-O.domainLookupStart):-1;const Y=O.connectEnd!==-1?V.helper.millisToRoundishMillis(O.connectEnd-O.connectStart):-1;const X=O.connectEnd!==-1?V.helper.millisToRoundishMillis(O.connectEnd-O.secureConnectionStart):-1;const ee=O.responseStart!==-1?V.helper.millisToRoundishMillis(O.responseStart-O.requestStart):-1;const ae=-1;Q.timings={dns:J,connect:Y,ssl:X,send:0,wait:ee,receive:ae};this._computeHarEntryTotalTime(Q)}this._recordRequestOverrides(Q,J);this._addBarrier(O||J.serviceWorker(),J.rawRequestHeaders().then((v=>{this._recordRequestHeadersAndCookies(Q,v)})));this._recordResponseHeaders(Q,v.headers());this._addBarrier(O||J.serviceWorker(),v.rawResponseHeaders().then((v=>{this._recordResponseHeaders(Q,v)})))}_recordResponseHeaders(v,S){if(!this._options.omitCookies){v.response.cookies=S.filter((v=>v.name.toLowerCase()==="set-cookie")).map((v=>parseCookie(v.value)))}v.response.headers=S;const Q=S.find((v=>v.name.toLowerCase()==="content-type"));if(Q)v.response.content.mimeType=Q.value}_computeHarEntryTotalTime(v){v.time=[v.timings.dns,v.timings.connect,v.timings.ssl,v.timings.wait,v.timings.receive].reduce(((v,S)=>(S||-1)>0?S+v:v),0)}async flush(){await Promise.all(this._barrierPromises)}stop(){this._started=false;X.eventsHelper.removeEventListeners(this._eventListeners);this._barrierPromises.clear();const v=this._context instanceof O.BrowserContext?this._context:undefined;const S={version:"1.2",creator:{name:"Playwright",version:(0,he.getPlaywrightVersion)()},browser:{name:(v===null||v===void 0?void 0:v._browser.options.name)||"",version:(v===null||v===void 0?void 0:v._browser.version())||""},pages:this._pageEntries.size?Array.from(this._pageEntries.values()):undefined,entries:[]};if(!this._options.omitTiming){for(const v of S.pages||[]){const S=v[Oe].valueOf();if(typeof v.pageTimings.onContentLoad==="number"&&v.pageTimings.onContentLoad>=0)v.pageTimings.onContentLoad-=S;else v.pageTimings.onContentLoad=-1;if(typeof v.pageTimings.onLoad==="number"&&v.pageTimings.onLoad>=0)v.pageTimings.onLoad-=S;else v.pageTimings.onLoad=-1}}this._pageEntries.clear();return S}_postDataForRequest(v,S){const Q=v.postDataBuffer();if(!Q)return;const O=v.headerValue("content-type");return this._postDataForBuffer(Q,O,S)}_postDataForBuffer(v,S,Q){var O;if(!v)return;(O=S)!==null&&O!==void 0?O:S="application/octet-stream";const H={mimeType:S,text:"",params:[]};if(Q==="embed"&&S!=="application/octet-stream")H.text=v.toString();if(Q==="attach"){const Q=(0,Y.calculateSha1)(v)+"."+(ee.mime.getExtension(S)||"dat");if(this._options.includeTraceInfo)H._sha1=Q;else H._file=Q;this._delegate.onContentBlob(Q,v)}if(S==="application/x-www-form-urlencoded"){const S=new URLSearchParams(v.toString());for(const[v,Q]of S.entries())H.params.push({name:v,value:Q})}return H}}S.HarTracer=HarTracer;function createHarEntry(v,S,Q,O){const H={_frameref:O.includeTraceInfo?Q:undefined,_monotonicTime:O.includeTraceInfo?(0,Y.monotonicTime)():undefined,startedDateTime:(new Date).toISOString(),time:-1,request:{method:v,url:S.toString(),httpVersion:Re,cookies:[],headers:[],queryString:[...S.searchParams].map((v=>({name:v[0],value:v[1]}))),headersSize:-1,bodySize:-1},response:{status:-1,statusText:"",httpVersion:Re,cookies:[],headers:[],content:{size:-1,mimeType:"x-unknown"},headersSize:-1,bodySize:-1,redirectURL:"",_transferSize:O.omitSizes?undefined:-1},cache:{},timings:{send:-1,wait:-1,receive:-1}};return H}function parseCookie(v){const S={name:"",value:""};let Q=true;for(const O of v.split(/; */)){const v=O.indexOf("=");const H=v!==-1?O.substr(0,v).trim():O.trim();const V=v!==-1?O.substr(v+1,O.length).trim():"";if(Q){Q=false;S.name=H;S.value=V;continue}if(H==="Domain")S.domain=V;if(H==="Expires")S.expires=safeDateToISOString(V);if(H==="HttpOnly")S.httpOnly=true;if(H==="Max-Age")S.expires=safeDateToISOString(Date.now()+ +V*1e3);if(H==="Path")S.path=V;if(H==="SameSite")S.sameSite=V;if(H==="Secure")S.secure=true}return S}function safeDateToISOString(v){try{return new Date(v).toISOString()}catch(v){}}const Oe=Symbol("startedDate")},9175:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.helper=void 0;var O=Q(2003);var H=Q(3841);const V=process.env.MAX_LOG_LENGTH?+process.env.MAX_LOG_LENGTH:Infinity;class Helper{static completeUserURL(v){if(v.startsWith("localhost")||v.startsWith("127.0.0.1"))v="http://"+v;return v}static enclosingIntRect(v){const S=Math.floor(v.x+.001);const Q=Math.floor(v.y+.001);const O=Math.ceil(v.x+v.width-.001);const H=Math.ceil(v.y+v.height-.001);return{x:S,y:Q,width:O-S,height:H-Q}}static enclosingIntSize(v){return{width:Math.floor(v.width+.001),height:Math.floor(v.height+.001)}}static getViewportSizeFromWindowFeatures(v){const S=v.find((v=>v.startsWith("width=")));const Q=v.find((v=>v.startsWith("height=")));const O=S?parseInt(S.substring(6),10):NaN;const H=Q?parseInt(Q.substring(7),10):NaN;if(!Number.isNaN(O)&&!Number.isNaN(H))return{width:O,height:H};return null}static waitForEvent(v,S,Q,O){const V=[];const J=new Promise(((v,J)=>{V.push(H.eventsHelper.addEventListener(S,Q,(S=>{try{if(O&&!O(S))return;H.eventsHelper.removeEventListeners(V);v(S)}catch(v){H.eventsHelper.removeEventListeners(V);J(v)}})))}));const dispose=()=>H.eventsHelper.removeEventListeners(V);if(v)v.cleanupWhenAborted(dispose);return{promise:J,dispose:dispose}}static secondsToRoundishMillis(v){return(v*1e6|0)/1e3}static millisToRoundishMillis(v){return(v*1e3|0)/1e3}static debugProtocolLogger(v){return(S,Q)=>{if(v)v(S,Q);if(O.debugLogger.isEnabled("protocol")){let v=JSON.stringify(Q);if(v.length>V)v=v.substring(0,V/2)+" <<<<<( LOG TRUNCATED )>>>>> "+v.substring(v.length-V/2);O.debugLogger.log("protocol",(S==="send"?"SEND ► ":"◀ RECV ")+v)}}}static formatBrowserLogs(v){if(!v.length)return"";return"\n"+v.join("\n")}}const J=S.helper=Helper},4540:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});Object.defineProperty(S,"DispatcherConnection",{enumerable:true,get:function(){return H.DispatcherConnection}});Object.defineProperty(S,"PlaywrightDispatcher",{enumerable:true,get:function(){return V.PlaywrightDispatcher}});Object.defineProperty(S,"Registry",{enumerable:true,get:function(){return O.Registry}});Object.defineProperty(S,"RootDispatcher",{enumerable:true,get:function(){return H.RootDispatcher}});Object.defineProperty(S,"SocksProxy",{enumerable:true,get:function(){return ee.SocksProxy}});Object.defineProperty(S,"createPlaywright",{enumerable:true,get:function(){return J.createPlaywright}});Object.defineProperty(S,"installBrowsersForNpmInstall",{enumerable:true,get:function(){return O.installBrowsersForNpmInstall}});Object.defineProperty(S,"installDefaultBrowsersForNpmInstall",{enumerable:true,get:function(){return O.installDefaultBrowsersForNpmInstall}});Object.defineProperty(S,"openTraceInBrowser",{enumerable:true,get:function(){return Y.openTraceInBrowser}});Object.defineProperty(S,"openTraceViewerApp",{enumerable:true,get:function(){return Y.openTraceViewerApp}});Object.defineProperty(S,"registry",{enumerable:true,get:function(){return O.registry}});Object.defineProperty(S,"registryDirectory",{enumerable:true,get:function(){return O.registryDirectory}});Object.defineProperty(S,"serverSideCallMetadata",{enumerable:true,get:function(){return X.serverSideCallMetadata}});Object.defineProperty(S,"writeDockerVersion",{enumerable:true,get:function(){return O.writeDockerVersion}});var O=Q(9048);var H=Q(4098);var V=Q(8650);var J=Q(4506);var Y=Q(2790);var X=Q(6686);var ee=Q(1570)},2654:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.keypadLocation=S.Touchscreen=S.Mouse=S.Keyboard=void 0;var O=Q(3557);var H=_interopRequireWildcard(Q(574));function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const V=S.keypadLocation=H.keypadLocation;const J=["Alt","Control","Meta","Shift"];class Keyboard{constructor(v,S){this._pressedModifiers=new Set;this._pressedKeys=new Set;this._raw=void 0;this._page=void 0;this._raw=v;this._page=S}async down(v){const S=this._keyDescriptionForString(v);const Q=this._pressedKeys.has(S.code);this._pressedKeys.add(S.code);if(J.includes(S.key))this._pressedModifiers.add(S.key);const O=S.text;await this._raw.keydown(this._pressedModifiers,S.code,S.keyCode,S.keyCodeWithoutLocation,S.key,S.location,Q,O)}_keyDescriptionForString(v){let S=X.get(v);(0,O.assert)(S,`Unknown key: "${v}"`);const Q=this._pressedModifiers.has("Shift");S=Q&&S.shifted?S.shifted:S;if(this._pressedModifiers.size>1||!this._pressedModifiers.has("Shift")&&this._pressedModifiers.size===1)return{...S,text:""};return S}async up(v){const S=this._keyDescriptionForString(v);if(J.includes(S.key))this._pressedModifiers.delete(S.key);this._pressedKeys.delete(S.code);await this._raw.keyup(this._pressedModifiers,S.code,S.keyCode,S.keyCodeWithoutLocation,S.key,S.location)}async insertText(v){await this._raw.sendText(v)}async type(v,S){const Q=S&&S.delay||undefined;for(const S of v){if(X.has(S)){await this.press(S,{delay:Q})}else{if(Q)await new Promise((v=>setTimeout(v,Q)));await this.insertText(S)}}}async press(v,S={}){function split(v){const S=[];let Q="";for(const O of v){if(O==="+"&&Q){S.push(Q);Q=""}else{Q+=O}}S.push(Q);return S}const Q=split(v);v=Q[Q.length-1];for(let v=0;v<Q.length-1;++v)await this.down(Q[v]);await this.down(v);if(S.delay)await new Promise((v=>setTimeout(v,S.delay)));await this.up(v);for(let v=Q.length-2;v>=0;--v)await this.up(Q[v])}async _ensureModifiers(v){for(const S of v){if(!J.includes(S))throw new Error("Unknown modifier "+S)}const S=Array.from(this._pressedModifiers);for(const S of J){const Q=v.includes(S);const O=this._pressedModifiers.has(S);if(Q&&!O)await this.down(S);else if(!Q&&O)await this.up(S)}return S}_modifiers(){return this._pressedModifiers}}S.Keyboard=Keyboard;class Mouse{constructor(v,S){this._keyboard=void 0;this._x=0;this._y=0;this._lastButton="none";this._buttons=new Set;this._raw=void 0;this._page=void 0;this._raw=v;this._page=S;this._keyboard=this._page.keyboard}async move(v,S,Q={},O){if(O)O.point={x:v,y:S};const{steps:H=1}=Q;const V=this._x;const J=this._y;this._x=v;this._y=S;for(let O=1;O<=H;O++){const Y=V+(v-V)*(O/H);const X=J+(S-J)*(O/H);await this._raw.move(Y,X,this._lastButton,this._buttons,this._keyboard._modifiers(),!!Q.forClick)}}async down(v={},S){if(S)S.point={x:this._x,y:this._y};const{button:Q="left",clickCount:O=1}=v;this._lastButton=Q;this._buttons.add(Q);await this._raw.down(this._x,this._y,this._lastButton,this._buttons,this._keyboard._modifiers(),O)}async up(v={},S){if(S)S.point={x:this._x,y:this._y};const{button:Q="left",clickCount:O=1}=v;this._lastButton="none";this._buttons.delete(Q);await this._raw.up(this._x,this._y,Q,this._buttons,this._keyboard._modifiers(),O)}async click(v,S,Q={},O){if(O)O.point={x:this._x,y:this._y};const{delay:H=null,clickCount:V=1}=Q;if(H){this.move(v,S,{forClick:true});for(let v=1;v<=V;++v){await this.down({...Q,clickCount:v});await new Promise((v=>setTimeout(v,H)));await this.up({...Q,clickCount:v});if(v<V)await new Promise((v=>setTimeout(v,H)))}}else{const O=[];O.push(this.move(v,S,{forClick:true}));for(let v=1;v<=V;++v){O.push(this.down({...Q,clickCount:v}));O.push(this.up({...Q,clickCount:v}))}await Promise.all(O)}}async dblclick(v,S,Q={}){await this.click(v,S,{...Q,clickCount:2})}async wheel(v,S){await this._raw.wheel(this._x,this._y,this._buttons,this._keyboard._modifiers(),v,S)}}S.Mouse=Mouse;const Y=new Map([["ShiftLeft",["Shift"]],["ControlLeft",["Control"]],["AltLeft",["Alt"]],["MetaLeft",["Meta"]],["Enter",["\n","\r"]]]);const X=buildLayoutClosure(H.USKeyboardLayout);function buildLayoutClosure(v){const S=new Map;for(const Q in v){const H=v[Q];const V={key:H.key||"",keyCode:H.keyCode||0,keyCodeWithoutLocation:H.keyCodeWithoutLocation||H.keyCode||0,code:Q,text:H.text||"",location:H.location||0};if(H.key.length===1)V.text=V.key;let J;if(H.shiftKey){(0,O.assert)(H.shiftKey.length===1);J={...V};J.key=H.shiftKey;J.text=H.shiftKey;if(H.shiftKeyCode)J.keyCode=H.shiftKeyCode}S.set(Q,{...V,shifted:J});if(Y.has(Q)){for(const v of Y.get(Q))S.set(v,V)}if(H.location)continue;if(V.key.length===1)S.set(V.key,V);if(J)S.set(J.key,{...J,shifted:undefined})}return S}class Touchscreen{constructor(v,S){this._raw=void 0;this._page=void 0;this._raw=v;this._page=S}async tap(v,S,Q){if(Q)Q.point={x:v,y:S};if(!this._page._browserContext._options.hasTouch)throw new Error("hasTouch must be enabled on the browser context before using the touchscreen.");await this._raw.tap(v,S,this._page.keyboard._modifiers())}}S.Touchscreen=Touchscreen},6686:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.SdkObject=void 0;S.createInstrumentation=createInstrumentation;S.kTestSdkObjects=void 0;S.serverSideCallMetadata=serverSideCallMetadata;var O=Q(2361);var H=Q(3557);const V=S.kTestSdkObjects=new WeakSet;class SdkObject extends O.EventEmitter{constructor(v,S,Q){super();this.guid=void 0;this.attribution=void 0;this.instrumentation=void 0;this.guid=Q||`${S||""}@${(0,H.createGuid)()}`;this.setMaxListeners(0);this.attribution={...v.attribution};this.instrumentation=v.instrumentation;if(process.env._PW_INTERNAL_COUNT_SDK_OBJECTS)V.add(this)}}S.SdkObject=SdkObject;function createInstrumentation(){const v=new Map;return new Proxy({},{get:(S,Q)=>{if(typeof Q!=="string")return S[Q];if(Q==="addListener")return(S,Q)=>v.set(S,Q);if(Q==="removeListener")return S=>v.delete(S);if(!Q.startsWith("on"))return S[Q];return async(S,...O)=>{for(const[J,Y]of v){var H,V;if(!Y||S.attribution.context===Y)await((H=(V=J)[Q])===null||H===void 0?void 0:H.call(V,S,...O))}}}})}function serverSideCallMetadata(){return{id:"",startTime:0,endTime:0,wallTime:Date.now(),type:"Internal",method:"",params:{},log:[],isServerSide:true}}},9012:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.serializeAsCallArgument=S.parseEvaluationResultValue=void 0;S.source=source;function source(){function isRegExp(v){try{return v instanceof RegExp||Object.prototype.toString.call(v)==="[object RegExp]"}catch(v){return false}}function isDate(v){try{return v instanceof Date||Object.prototype.toString.call(v)==="[object Date]"}catch(v){return false}}function isURL(v){try{return v instanceof URL||Object.prototype.toString.call(v)==="[object URL]"}catch(v){return false}}function isError(v){try{var S;return v instanceof Error||v&&((S=Object.getPrototypeOf(v))===null||S===void 0?void 0:S.name)==="Error"}catch(v){return false}}function parseEvaluationResultValue(v,S=[],Q=new Map){if(Object.is(v,undefined))return undefined;if(typeof v==="object"&&v){if("ref"in v)return Q.get(v.ref);if("v"in v){if(v.v==="undefined")return undefined;if(v.v==="null")return null;if(v.v==="NaN")return NaN;if(v.v==="Infinity")return Infinity;if(v.v==="-Infinity")return-Infinity;if(v.v==="-0")return-0;return undefined}if("d"in v)return new Date(v.d);if("u"in v)return new URL(v.u);if("bi"in v)return BigInt(v.bi);if("r"in v)return new RegExp(v.r.p,v.r.f);if("a"in v){const O=[];Q.set(v.id,O);for(const H of v.a)O.push(parseEvaluationResultValue(H,S,Q));return O}if("o"in v){const O={};Q.set(v.id,O);for(const{k:H,v:V}of v.o)O[H]=parseEvaluationResultValue(V,S,Q);return O}if("h"in v)return S[v.h]}return v}function serializeAsCallArgument(v,S){return serialize(v,S,{visited:new Map,lastId:0})}function serialize(v,S,Q){if(v&&typeof v==="object"){if(typeof globalThis.Window==="function"&&v instanceof globalThis.Window)return"ref: <Window>";if(typeof globalThis.Document==="function"&&v instanceof globalThis.Document)return"ref: <Document>";if(typeof globalThis.Node==="function"&&v instanceof globalThis.Node)return"ref: <Node>"}return innerSerialize(v,S,Q)}function innerSerialize(v,S,Q){const O=S(v);if("fallThrough"in O)v=O.fallThrough;else return O;if(typeof v==="symbol")return{v:"undefined"};if(Object.is(v,undefined))return{v:"undefined"};if(Object.is(v,null))return{v:"null"};if(Object.is(v,NaN))return{v:"NaN"};if(Object.is(v,Infinity))return{v:"Infinity"};if(Object.is(v,-Infinity))return{v:"-Infinity"};if(Object.is(v,-0))return{v:"-0"};if(typeof v==="boolean")return v;if(typeof v==="number")return v;if(typeof v==="string")return v;if(typeof v==="bigint")return{bi:v.toString()};if(isError(v)){var H;const S=v;if((H=S.stack)!==null&&H!==void 0&&H.startsWith(S.name+": "+S.message)){return S.stack}return`${S.name}: ${S.message}\n${S.stack}`}if(isDate(v))return{d:v.toJSON()};if(isURL(v))return{u:v.toJSON()};if(isRegExp(v))return{r:{p:v.source,f:v.flags}};const V=Q.visited.get(v);if(V)return{ref:V};if(Array.isArray(v)){const O=[];const H=++Q.lastId;Q.visited.set(v,H);for(let H=0;H<v.length;++H)O.push(serialize(v[H],S,Q));return{a:O,id:H}}if(typeof v==="object"){const O=[];const H=++Q.lastId;Q.visited.set(v,H);for(const H of Object.keys(v)){let V;try{V=v[H]}catch(v){continue}if(H==="toJSON"&&typeof V==="function")O.push({k:H,v:{o:[],id:0}});else O.push({k:H,v:serialize(V,S,Q)})}let V;try{if(O.length===0&&v.toJSON&&typeof v.toJSON==="function")V={value:v.toJSON()}}catch(v){}if(V)return innerSerialize(V.value,S,Q);return{o:O,id:H}}}return{parseEvaluationResultValue:parseEvaluationResultValue,serializeAsCallArgument:serializeAsCallArgument}}const Q=source();const O=S.parseEvaluationResultValue=Q.parseEvaluationResultValue;const H=S.serializeAsCallArgument=Q.serializeAsCallArgument},804:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JavaScriptErrorInEvaluate=S.JSHandle=S.ExecutionContext=void 0;S.evaluate=evaluate;S.evaluateExpression=evaluateExpression;S.isJavaScriptErrorInEvaluate=isJavaScriptErrorInEvaluate;S.normalizeEvaluationExpression=normalizeEvaluationExpression;S.parseUnserializableValue=parseUnserializableValue;S.sparseArrayToString=sparseArrayToString;var O=_interopRequireWildcard(Q(7186));var H=Q(9012);var V=Q(6686);var J=Q(6729);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class ExecutionContext extends V.SdkObject{constructor(v,S,Q){super(v,"execution-context");this._delegate=void 0;this._utilityScriptPromise=void 0;this._contextDestroyedScope=new J.LongStandingScope;this.worldNameForTest=void 0;this.worldNameForTest=Q;this._delegate=S}contextDestroyed(v){this._contextDestroyedScope.close(new Error(v))}async _raceAgainstContextDestroyed(v){return this._contextDestroyedScope.race(v)}rawEvaluateJSON(v){return this._raceAgainstContextDestroyed(this._delegate.rawEvaluateJSON(v))}rawEvaluateHandle(v){return this._raceAgainstContextDestroyed(this._delegate.rawEvaluateHandle(v))}rawCallFunctionNoReply(v,...S){this._delegate.rawCallFunctionNoReply(v,...S)}evaluateWithArguments(v,S,Q,O,H){return this._raceAgainstContextDestroyed(this._delegate.evaluateWithArguments(v,S,Q,O,H))}getProperties(v,S){return this._raceAgainstContextDestroyed(this._delegate.getProperties(v,S))}createHandle(v){return this._delegate.createHandle(this,v)}releaseHandle(v){return this._delegate.releaseHandle(v)}adoptIfNeeded(v){return null}utilityScript(){if(!this._utilityScriptPromise){const v=`\n      (() => {\n        const module = {};\n        ${O.source}\n        return new (module.exports.UtilityScript())();\n      })();`;this._utilityScriptPromise=this._raceAgainstContextDestroyed(this._delegate.rawEvaluateHandle(v).then((v=>new JSHandle(this,"object","UtilityScript",v))))}return this._utilityScriptPromise}async objectCount(v){return this._delegate.objectCount(v)}async doSlowMo(){}}S.ExecutionContext=ExecutionContext;class JSHandle extends V.SdkObject{constructor(v,S,Q,O,H){super(v,"handle");this.__jshandle=true;this._context=void 0;this._disposed=false;this._objectId=void 0;this._value=void 0;this._objectType=void 0;this._preview=void 0;this._previewCallback=void 0;this._context=v;this._objectId=O;this._value=H;this._objectType=S;this._preview=this._objectId?Q||`JSHandle@${this._objectType}`:String(H);if(this._objectId&&globalThis.leakedJSHandles)globalThis.leakedJSHandles.set(this,new Error("Leaked JSHandle"))}callFunctionNoReply(v,S){this._context.rawCallFunctionNoReply(v,this,S)}async evaluate(v,S){return evaluate(this._context,true,v,this,S)}async evaluateHandle(v,S){return evaluate(this._context,false,v,this,S)}async evaluateExpression(v,S,Q){const O=await evaluateExpression(this._context,v,{...S,returnByValue:true},this,Q);await this._context.doSlowMo();return O}async evaluateExpressionHandle(v,S,Q){const O=await evaluateExpression(this._context,v,{...S,returnByValue:false},this,Q);await this._context.doSlowMo();return O}async getProperty(v){const S=await this.evaluateHandle(((v,S)=>{const Q={__proto__:null};Q[S]=v[S];return Q}),v);const Q=await S.getProperties();const O=Q.get(v);S.dispose();return O}async getProperties(){if(!this._objectId)return new Map;return this._context.getProperties(this._context,this._objectId)}rawValue(){return this._value}async jsonValue(){if(!this._objectId)return this._value;const v=await this._context.utilityScript();const S=`(utilityScript, ...args) => utilityScript.jsonValue(...args)`;return this._context.evaluateWithArguments(S,true,v,[true],[this._objectId])}asElement(){return null}dispose(){if(this._disposed)return;this._disposed=true;if(this._objectId){this._context.releaseHandle(this._objectId).catch((v=>{}));if(globalThis.leakedJSHandles)globalThis.leakedJSHandles.delete(this)}}toString(){return this._preview}_setPreviewCallback(v){this._previewCallback=v}preview(){return this._preview}worldNameForTest(){return this._context.worldNameForTest}_setPreview(v){this._preview=v;if(this._previewCallback)this._previewCallback(v)}async objectCount(){if(!this._objectId)throw new Error("Can only count objects for a handle that points to the constructor prototype");return this._context.objectCount(this._objectId)}}S.JSHandle=JSHandle;async function evaluate(v,S,Q,...O){return evaluateExpression(v,String(Q),{returnByValue:S,isFunction:typeof Q==="function"},...O)}async function evaluateExpression(v,S,Q,...O){const V=await v.utilityScript();S=normalizeEvaluationExpression(S,Q.isFunction);const J=[];const Y=[];const pushHandle=v=>{J.push(v);return J.length-1};O=O.map((S=>(0,H.serializeAsCallArgument)(S,(S=>{if(S instanceof JSHandle){if(!S._objectId)return{fallThrough:S._value};if(S._disposed)throw new JavaScriptErrorInEvaluate("JSHandle is disposed!");const Q=v.adoptIfNeeded(S);if(Q===null)return{h:pushHandle(Promise.resolve(S))};Y.push(Q);return{h:pushHandle(Q)}}return{fallThrough:S}}))));const X=[];for(const S of await Promise.all(J)){if(S._context!==v)throw new JavaScriptErrorInEvaluate("JSHandles can be evaluated only in the context they were created!");X.push(S._objectId)}const ee=[Q.isFunction,Q.returnByValue,Q.exposeUtilityScript,S,O.length,...O];const ae=`(utilityScript, ...args) => utilityScript.evaluate(...args)`;try{return await v.evaluateWithArguments(ae,Q.returnByValue||false,V,ee,X)}finally{Y.map((v=>v.then((v=>v.dispose()))))}}function parseUnserializableValue(v){if(v==="NaN")return NaN;if(v==="Infinity")return Infinity;if(v==="-Infinity")return-Infinity;if(v==="-0")return-0}function normalizeEvaluationExpression(v,S){v=v.trim();if(S){try{new Function("("+v+")")}catch(S){if(v.startsWith("async "))v="async function "+v.substring("async ".length);else v="function "+v;try{new Function("("+v+")")}catch(v){throw new Error("Passed function is not well-serializable!")}}}if(/^(async)?\s*function(\s|\()/.test(v))v="("+v+")";return v}class JavaScriptErrorInEvaluate extends Error{}S.JavaScriptErrorInEvaluate=JavaScriptErrorInEvaluate;function isJavaScriptErrorInEvaluate(v){return v instanceof JavaScriptErrorInEvaluate}function sparseArrayToString(v){const S=[];for(const{name:Q,value:O}of v){const v=+Q;if(isNaN(v)||v<0)continue;S.push({index:v,value:O})}S.sort(((v,S)=>v.index-S.index));let Q=-1;const O=[];for(const{index:v,value:H}of S){const S=v-Q-1;if(S===1)O.push(`empty`);else if(S>1)O.push(`empty x ${S}`);O.push(String(H));Q=v}return"["+O.join(", ")+"]"}},984:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.launchApp=launchApp;S.syncLocalStorageWithSettings=syncLocalStorageWithSettings;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=Q(9048);var J=Q(3557);var Y=Q(6686);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}async function launchApp(v,S){var Q,O;const H=[...(Q=(O=S.persistentContextOptions)===null||O===void 0?void 0:O.args)!==null&&Q!==void 0?Q:[]];if(v.name()==="chromium"){H.push("--app=data:text/html,",`--window-size=${S.windowSize.width},${S.windowSize.height}`,...S.windowPosition?[`--window-position=${S.windowPosition.x},${S.windowPosition.y}`]:[],"--test-type=")}const X=await v.launchPersistentContext((0,Y.serverSideCallMetadata)(),"",{channel:(0,V.findChromiumChannel)(S.sdkLanguage),noDefaultViewport:true,ignoreDefaultArgs:["--enable-automation"],colorScheme:"no-override",acceptDownloads:(0,J.isUnderTest)()?"accept":"internal-browser-default",...S===null||S===void 0?void 0:S.persistentContextOptions,args:H});const[ee]=X.pages();if(v.name()==="chromium"&&process.platform==="darwin"){X.on("page",(async v=>{if(v.mainFrame().url()==="chrome://new-tab-page/"){await ee.bringToFront();await v.close((0,Y.serverSideCallMetadata)())}}))}if(v.name()==="chromium")await installAppIcon(ee);return{context:X,page:ee}}async function installAppIcon(v){const S=await O.default.promises.readFile(Q.ab+"appIcon.png");const H=v._delegate;await H._mainFrameSession._client.send("Browser.setDockTile",{image:S.toString("base64")})}async function syncLocalStorageWithSettings(v,S){if((0,J.isUnderTest)())return;const Q=H.default.join(V.registryDirectory,".settings",`${S}.json`);await v.exposeBinding("_saveSerializedSettings",false,((v,S)=>{O.default.mkdirSync(H.default.dirname(Q),{recursive:true});O.default.writeFileSync(Q,S)}));const Y=await O.default.promises.readFile(Q,"utf-8").catch((()=>"{}"));await v.addInitScript(`(${String((v=>{if(location&&location.protocol==="data:")return;Object.entries(v).map((([v,S])=>localStorage[v]=S));window.saveSettings=()=>{window._saveSerializedSettings(JSON.stringify({...localStorage}))}}))})(${Y});\n  `)}},2310:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.macEditingCommands=void 0;const Q=S.macEditingCommands={Backspace:"deleteBackward:",Enter:"insertNewline:",NumpadEnter:"insertNewline:",Escape:"cancelOperation:",ArrowUp:"moveUp:",ArrowDown:"moveDown:",ArrowLeft:"moveLeft:",ArrowRight:"moveRight:",F5:"complete:",Delete:"deleteForward:",Home:"scrollToBeginningOfDocument:",End:"scrollToEndOfDocument:",PageUp:"scrollPageUp:",PageDown:"scrollPageDown:","Shift+Backspace":"deleteBackward:","Shift+Enter":"insertNewline:","Shift+NumpadEnter":"insertNewline:","Shift+Escape":"cancelOperation:","Shift+ArrowUp":"moveUpAndModifySelection:","Shift+ArrowDown":"moveDownAndModifySelection:","Shift+ArrowLeft":"moveLeftAndModifySelection:","Shift+ArrowRight":"moveRightAndModifySelection:","Shift+F5":"complete:","Shift+Delete":"deleteForward:","Shift+Home":"moveToBeginningOfDocumentAndModifySelection:","Shift+End":"moveToEndOfDocumentAndModifySelection:","Shift+PageUp":"pageUpAndModifySelection:","Shift+PageDown":"pageDownAndModifySelection:","Shift+Numpad5":"delete:","Control+Tab":"selectNextKeyView:","Control+Enter":"insertLineBreak:","Control+NumpadEnter":"insertLineBreak:","Control+Quote":"insertSingleQuoteIgnoringSubstitution:","Control+KeyA":"moveToBeginningOfParagraph:","Control+KeyB":"moveBackward:","Control+KeyD":"deleteForward:","Control+KeyE":"moveToEndOfParagraph:","Control+KeyF":"moveForward:","Control+KeyH":"deleteBackward:","Control+KeyK":"deleteToEndOfParagraph:","Control+KeyL":"centerSelectionInVisibleArea:","Control+KeyN":"moveDown:","Control+KeyO":["insertNewlineIgnoringFieldEditor:","moveBackward:"],"Control+KeyP":"moveUp:","Control+KeyT":"transpose:","Control+KeyV":"pageDown:","Control+KeyY":"yank:","Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Control+ArrowUp":"scrollPageUp:","Control+ArrowDown":"scrollPageDown:","Control+ArrowLeft":"moveToLeftEndOfLine:","Control+ArrowRight":"moveToRightEndOfLine:","Shift+Control+Enter":"insertLineBreak:","Shift+Control+NumpadEnter":"insertLineBreak:","Shift+Control+Tab":"selectPreviousKeyView:","Shift+Control+Quote":"insertDoubleQuoteIgnoringSubstitution:","Shift+Control+KeyA":"moveToBeginningOfParagraphAndModifySelection:","Shift+Control+KeyB":"moveBackwardAndModifySelection:","Shift+Control+KeyE":"moveToEndOfParagraphAndModifySelection:","Shift+Control+KeyF":"moveForwardAndModifySelection:","Shift+Control+KeyN":"moveDownAndModifySelection:","Shift+Control+KeyP":"moveUpAndModifySelection:","Shift+Control+KeyV":"pageDownAndModifySelection:","Shift+Control+Backspace":"deleteBackwardByDecomposingPreviousCharacter:","Shift+Control+ArrowUp":"scrollPageUp:","Shift+Control+ArrowDown":"scrollPageDown:","Shift+Control+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Control+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Alt+Backspace":"deleteWordBackward:","Alt+Enter":"insertNewlineIgnoringFieldEditor:","Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Alt+Escape":"complete:","Alt+ArrowUp":["moveBackward:","moveToBeginningOfParagraph:"],"Alt+ArrowDown":["moveForward:","moveToEndOfParagraph:"],"Alt+ArrowLeft":"moveWordLeft:","Alt+ArrowRight":"moveWordRight:","Alt+Delete":"deleteWordForward:","Alt+PageUp":"pageUp:","Alt+PageDown":"pageDown:","Shift+Alt+Backspace":"deleteWordBackward:","Shift+Alt+Enter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+NumpadEnter":"insertNewlineIgnoringFieldEditor:","Shift+Alt+Escape":"complete:","Shift+Alt+ArrowUp":"moveParagraphBackwardAndModifySelection:","Shift+Alt+ArrowDown":"moveParagraphForwardAndModifySelection:","Shift+Alt+ArrowLeft":"moveWordLeftAndModifySelection:","Shift+Alt+ArrowRight":"moveWordRightAndModifySelection:","Shift+Alt+Delete":"deleteWordForward:","Shift+Alt+PageUp":"pageUp:","Shift+Alt+PageDown":"pageDown:","Control+Alt+KeyB":"moveWordBackward:","Control+Alt+KeyF":"moveWordForward:","Control+Alt+Backspace":"deleteWordBackward:","Shift+Control+Alt+KeyB":"moveWordBackwardAndModifySelection:","Shift+Control+Alt+KeyF":"moveWordForwardAndModifySelection:","Shift+Control+Alt+Backspace":"deleteWordBackward:","Meta+NumpadSubtract":"cancel:","Meta+Backspace":"deleteToBeginningOfLine:","Meta+ArrowUp":"moveToBeginningOfDocument:","Meta+ArrowDown":"moveToEndOfDocument:","Meta+ArrowLeft":"moveToLeftEndOfLine:","Meta+ArrowRight":"moveToRightEndOfLine:","Shift+Meta+NumpadSubtract":"cancel:","Shift+Meta+Backspace":"deleteToBeginningOfLine:","Shift+Meta+ArrowUp":"moveToBeginningOfDocumentAndModifySelection:","Shift+Meta+ArrowDown":"moveToEndOfDocumentAndModifySelection:","Shift+Meta+ArrowLeft":"moveToLeftEndOfLineAndModifySelection:","Shift+Meta+ArrowRight":"moveToRightEndOfLineAndModifySelection:","Meta+KeyA":"selectAll:","Meta+KeyC":"copy:","Meta+KeyX":"cut:","Meta+KeyV":"paste:","Meta+KeyZ":"undo:","Shift+Meta+KeyZ":"redo:"}},3824:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WebSocket=S.STATUS_TEXTS=S.Route=S.Response=S.Request=void 0;S.filterCookies=filterCookies;S.kMaxCookieExpiresDateInSeconds=void 0;S.mergeHeaders=mergeHeaders;S.parsedURL=parsedURL;S.rewriteCookies=rewriteCookies;S.singleHeader=singleHeader;S.stripFragmentFromUrl=stripFragmentFromUrl;var O=Q(3557);var H=Q(6729);var V=Q(6686);var J=Q(2857);var Y=Q(5985);function filterCookies(v,S){const Q=S.map((v=>new URL(v)));return v.filter((v=>{if(!Q.length)return true;for(const S of Q){let Q=v.domain;if(!Q.startsWith("."))Q="."+Q;if(!("."+S.hostname).endsWith(Q))continue;if(!S.pathname.startsWith(v.path))continue;if(S.protocol!=="https:"&&S.hostname!=="localhost"&&v.secure)continue;return true}return false}))}const X=S.kMaxCookieExpiresDateInSeconds=253402300799;function rewriteCookies(v){return v.map((v=>{(0,O.assert)(v.url||v.domain&&v.path,"Cookie should have a url or a domain/path pair");(0,O.assert)(!(v.url&&v.domain),"Cookie should have either url or domain");(0,O.assert)(!(v.url&&v.path),"Cookie should have either url or path");(0,O.assert)(!(v.expires&&v.expires<0&&v.expires!==-1),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");(0,O.assert)(!(v.expires&&v.expires>0&&v.expires>X),"Cookie should have a valid expires, only -1 or a positive number for the unix timestamp in seconds is allowed");const S={...v};if(S.url){(0,O.assert)(S.url!=="about:blank",`Blank page can not have cookie "${v.name}"`);(0,O.assert)(!S.url.startsWith("data:"),`Data URL page can not have cookie "${v.name}"`);const Q=new URL(S.url);S.domain=Q.hostname;S.path=Q.pathname.substring(0,Q.pathname.lastIndexOf("/")+1);S.secure=Q.protocol==="https:"}return S}))}function parsedURL(v){try{return new URL(v)}catch(v){return null}}function stripFragmentFromUrl(v){if(!v.includes("#"))return v;return v.substring(0,v.indexOf("#"))}class Request extends V.SdkObject{constructor(v,S,Q,V,J,Y,X,ee,ae,he){super(S||v,"request");this._response=null;this._redirectedFrom=void 0;this._redirectedTo=null;this._documentId=void 0;this._isFavicon=void 0;this._failureText=null;this._url=void 0;this._resourceType=void 0;this._method=void 0;this._postData=void 0;this._headers=void 0;this._headersMap=new Map;this._frame=null;this._serviceWorker=null;this._context=void 0;this._rawRequestHeadersPromise=new H.ManualPromise;this._waitForResponsePromise=new H.ManualPromise;this._responseEndTiming=-1;this._overrides=void 0;(0,O.assert)(!Y.startsWith("data:"),"Data urls should not fire requests");this._context=v;this._frame=S;this._serviceWorker=Q;this._redirectedFrom=V;if(V)V._redirectedTo=this;this._documentId=J;this._url=stripFragmentFromUrl(Y);this._resourceType=X;this._method=ee;this._postData=ae;this._headers=he;this._updateHeadersMap();this._isFavicon=Y.endsWith("/favicon.ico")||!!(V!==null&&V!==void 0&&V._isFavicon)}_setFailureText(v){this._failureText=v;this._waitForResponsePromise.resolve(null)}async _waitForRequestFailure(){const v=await this._waitForResponsePromise;if(!v)return;await v._finishedPromise;if(this.failure())return;await new Promise((()=>{}))}_setOverrides(v){this._overrides=v;this._updateHeadersMap()}_updateHeadersMap(){for(const{name:v,value:S}of this.headers())this._headersMap.set(v.toLowerCase(),S)}_hasOverrides(){return!!this._overrides}url(){var v;return((v=this._overrides)===null||v===void 0?void 0:v.url)||this._url}resourceType(){return this._resourceType}method(){var v;return((v=this._overrides)===null||v===void 0?void 0:v.method)||this._method}postDataBuffer(){var v;return((v=this._overrides)===null||v===void 0?void 0:v.postData)||this._postData}headers(){var v;return((v=this._overrides)===null||v===void 0?void 0:v.headers)||this._headers}headerValue(v){return this._headersMap.get(v)}setRawRequestHeaders(v){if(!this._rawRequestHeadersPromise.isDone())this._rawRequestHeadersPromise.resolve(v||this._headers)}async rawRequestHeaders(){var v;return((v=this._overrides)===null||v===void 0?void 0:v.headers)||this._rawRequestHeadersPromise}response(){return this._waitForResponsePromise}_existingResponse(){return this._response}_setResponse(v){this._response=v;this._waitForResponsePromise.resolve(v)}_finalRequest(){return this._redirectedTo?this._redirectedTo._finalRequest():this}frame(){return this._frame}serviceWorker(){return this._serviceWorker}isNavigationRequest(){return!!this._documentId}redirectedFrom(){return this._redirectedFrom}failure(){if(this._failureText===null)return null;return{errorText:this._failureText}}bodySize(){var v;return((v=this.postDataBuffer())===null||v===void 0?void 0:v.length)||0}async requestHeadersSize(){let v=4;v+=this.method().length;v+=new URL(this.url()).pathname.length;v+=8;const S=await this.rawRequestHeaders();for(const Q of S)v+=Q.name.length+Q.value.length+4;return v}}S.Request=Request;class Route extends V.SdkObject{constructor(v,S){super(v._frame||v._context,"route");this._request=void 0;this._delegate=void 0;this._handled=false;this._request=v;this._delegate=S;this._request._context.addRouteInFlight(this)}request(){return this._request}async abort(v="failed"){this._startHandling();this._request._context.emit(Y.BrowserContext.Events.RequestAborted,this._request);await Promise.race([this._delegate.abort(v),this._request._waitForRequestFailure()]);this._endHandling()}async redirectNavigationRequest(v){this._startHandling();(0,O.assert)(this._request.isNavigationRequest());this._request.frame().redirectNavigation(v,this._request._documentId,this._request.headerValue("referer"))}async fulfill(v){this._startHandling();let S=v.body;let Q=v.isBase64||false;if(S===undefined){if(v.fetchResponseUid){const H=this._request._context.fetchRequest.fetchResponses.get(v.fetchResponseUid)||J.APIRequestContext.findResponseBody(v.fetchResponseUid);(0,O.assert)(H,"Fetch response has been disposed");S=H.toString("base64");Q=true}else{S="";Q=false}}const H=[...v.headers||[]];this._maybeAddCorsHeaders(H);this._request._context.emit(Y.BrowserContext.Events.RequestFulfilled,this._request);await Promise.race([this._delegate.fulfill({status:v.status||200,headers:H,body:S,isBase64:Q}),this._request._waitForRequestFailure()]);this._endHandling()}_maybeAddCorsHeaders(v){const S=this._request.headerValue("origin");if(!S)return;const Q=new URL(this._request.url());if(!Q.protocol.startsWith("http"))return;if(Q.origin===S.trim())return;const O=v.find((({name:v})=>v==="access-control-allow-origin"));if(O)return;v.push({name:"access-control-allow-origin",value:S});v.push({name:"access-control-allow-credentials",value:"true"});v.push({name:"vary",value:"Origin"})}async continue(v){this._startHandling();if(v.url){const S=new URL(v.url);const Q=new URL(this._request.url());if(Q.protocol!==S.protocol)throw new Error("New URL must have same protocol as overridden URL")}this._request._setOverrides(v);if(!v.isFallback)this._request._context.emit(Y.BrowserContext.Events.RequestContinued,this._request);await Promise.race([this._delegate.continue(this._request,v),this._request._waitForRequestFailure()]);this._endHandling()}_startHandling(){(0,O.assert)(!this._handled,"Route is already handled!");this._handled=true}_endHandling(){this._request._context.removeRouteInFlight(this)}}S.Route=Route;class Response extends V.SdkObject{constructor(v,S,Q,O,V,J,Y,X){super(v.frame()||v._context,"response");this._request=void 0;this._contentPromise=null;this._finishedPromise=new H.ManualPromise;this._status=void 0;this._statusText=void 0;this._url=void 0;this._headers=void 0;this._headersMap=new Map;this._getResponseBodyCallback=void 0;this._timing=void 0;this._serverAddrPromise=new H.ManualPromise;this._securityDetailsPromise=new H.ManualPromise;this._rawResponseHeadersPromise=new H.ManualPromise;this._httpVersion=void 0;this._fromServiceWorker=void 0;this._encodedBodySizePromise=new H.ManualPromise;this._transferSizePromise=new H.ManualPromise;this._responseHeadersSizePromise=new H.ManualPromise;this._request=v;this._timing=V;this._status=S;this._statusText=Q;this._url=v.url();this._headers=O;for(const{name:v,value:S}of this._headers)this._headersMap.set(v.toLowerCase(),S);this._getResponseBodyCallback=J;this._request._setResponse(this);this._httpVersion=X;this._fromServiceWorker=Y}_serverAddrFinished(v){this._serverAddrPromise.resolve(v)}_securityDetailsFinished(v){this._securityDetailsPromise.resolve(v)}_requestFinished(v){this._request._responseEndTiming=Math.max(v,this._timing.responseStart);if(this._timing.requestStart===-1)this._timing.requestStart=this._request._responseEndTiming;this._finishedPromise.resolve()}_setHttpVersion(v){this._httpVersion=v}url(){return this._url}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}headerValue(v){return this._headersMap.get(v)}async rawResponseHeaders(){return this._rawResponseHeadersPromise}setRawResponseHeaders(v){if(!this._rawResponseHeadersPromise.isDone())this._rawResponseHeadersPromise.resolve(v||this._headers)}setTransferSize(v){this._transferSizePromise.resolve(v)}setEncodedBodySize(v){this._encodedBodySizePromise.resolve(v)}setResponseHeadersSize(v){this._responseHeadersSizePromise.resolve(v)}timing(){return this._timing}async serverAddr(){return await this._serverAddrPromise||null}async securityDetails(){return await this._securityDetailsPromise||null}body(){if(!this._contentPromise){this._contentPromise=this._finishedPromise.then((async()=>{if(this._status>=300&&this._status<=399)throw new Error("Response body is unavailable for redirect responses");return this._getResponseBodyCallback()}))}return this._contentPromise}request(){return this._request}frame(){return this._request.frame()}httpVersion(){if(!this._httpVersion)return"HTTP/1.1";if(this._httpVersion==="http/1.1")return"HTTP/1.1";if(this._httpVersion==="h2")return"HTTP/2.0";return this._httpVersion}fromServiceWorker(){return this._fromServiceWorker}async responseHeadersSize(){const v=await this._responseHeadersSizePromise;if(v!==null)return v;let S=4;S+=8;S+=3;S+=this.statusText().length;const Q=await this._rawResponseHeadersPromise;for(const v of Q)S+=v.name.length+v.value.length+4;S+=2;return S}async sizes(){const v=await this._request.requestHeadersSize();const S=await this.responseHeadersSize();let Q=await this._encodedBodySizePromise;if(Q===null){var O;const v=await this._rawResponseHeadersPromise;const S=(O=v.find((v=>v.name.toLowerCase()==="content-length")))===null||O===void 0?void 0:O.value;Q=S?+S:0}let H=await this._transferSizePromise;if(H===null){H=S+Q}return{requestBodySize:this._request.bodySize(),requestHeadersSize:v,responseBodySize:Q,responseHeadersSize:S,transferSize:H}}}S.Response=Response;class WebSocket extends V.SdkObject{constructor(v,S){super(v,"ws");this._url=void 0;this._notified=false;this._url=S}markAsNotified(){if(this._notified)return false;this._notified=true;return true}url(){return this._url}frameSent(v,S){this.emit(WebSocket.Events.FrameSent,{opcode:v,data:S})}frameReceived(v,S){this.emit(WebSocket.Events.FrameReceived,{opcode:v,data:S})}error(v){this.emit(WebSocket.Events.SocketError,v)}closed(){this.emit(WebSocket.Events.Close)}}S.WebSocket=WebSocket;WebSocket.Events={Close:"close",SocketError:"socketerror",FrameReceived:"framereceived",FrameSent:"framesent"};const ee=S.STATUS_TEXTS={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};function singleHeader(v,S){return[{name:v,value:S}]}function mergeHeaders(v){const S=new Map;const Q=new Map;for(const O of v){if(!O)continue;for(const{name:v,value:H}of O){const O=v.toLowerCase();Q.set(O,v);S.set(O,H)}}const O=[];for(const[v,H]of S)O.push({name:Q.get(v),value:H});return O}},3555:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Worker=S.PageBinding=S.Page=void 0;var O=_interopRequireWildcard(Q(3737));var H=_interopRequireWildcard(Q(2654));var V=_interopRequireWildcard(Q(804));var J=_interopRequireWildcard(Q(3824));var Y=Q(4613);var X=Q(9053);var ee=Q(5985);var ae=Q(8477);var he=_interopRequireWildcard(Q(5900));var Ee=Q(2337);var Be=Q(2836);var ke=Q(3557);var Re=Q(6729);var Oe=Q(2003);var Pe=Q(9509);var Le=Q(6686);var je=Q(942);var qe=Q(9012);var Ve=Q(1145);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class Page extends Le.SdkObject{constructor(v,S){super(S,"page");this._closedState="open";this._closedPromise=new Re.ManualPromise;this._initialized=false;this._eventsToEmitAfterInitialized=[];this._crashed=false;this.openScope=new ke.LongStandingScope;this._browserContext=void 0;this.keyboard=void 0;this.mouse=void 0;this.touchscreen=void 0;this._timeoutSettings=void 0;this._delegate=void 0;this._emulatedSize=void 0;this._extraHTTPHeaders=void 0;this._emulatedMedia={};this._interceptFileChooser=false;this._pageBindings=new Map;this.initScripts=[];this._screenshotter=void 0;this._frameManager=void 0;this.accessibility=void 0;this._workers=new Map;this.pdf=void 0;this.coverage=void 0;this._clientRequestInterceptor=void 0;this._serverRequestInterceptor=void 0;this._ownedContext=void 0;this._pageIsError=void 0;this._video=null;this._opener=void 0;this._isServerSideOnly=false;this._frameThrottler=new FrameThrottler(10,35,200);this._closeReason=void 0;this.attribution.page=this;this._delegate=v;this._browserContext=S;this.accessibility=new he.Accessibility(v.getAccessibilityTree.bind(v));this.keyboard=new H.Keyboard(v.rawKeyboard,this);this.mouse=new H.Mouse(v.rawMouse,this);this.touchscreen=new H.Touchscreen(v.rawTouchscreen,this);this._timeoutSettings=new X.TimeoutSettings(S._timeoutSettings);this._screenshotter=new Y.Screenshotter(this);this._frameManager=new O.FrameManager(this);if(v.pdf)this.pdf=v.pdf.bind(v);this.coverage=v.coverage?v.coverage():null}async initOpener(v){if(!v)return;const S=await v.pageOrError();if(S instanceof Page&&!S.isClosed())this._opener=S}reportAsNew(v=undefined,S=ee.BrowserContext.Events.Page){if(v){if(this._browserContext.isClosingOrClosed())return;this._setIsError(v)}this._initialized=true;this.emitOnContext(S,this);for(const{event:v,args:S}of this._eventsToEmitAfterInitialized)this._browserContext.emit(v,...S);this._eventsToEmitAfterInitialized=[];if(this.isClosed())this.emit(Page.Events.Close);else this.instrumentation.onPageOpen(this)}initializedOrUndefined(){return this._initialized?this:undefined}emitOnContext(v,...S){if(this._isServerSideOnly)return;this._browserContext.emit(v,...S)}emitOnContextOnceInitialized(v,...S){if(this._isServerSideOnly)return;if(this._initialized)this._browserContext.emit(v,...S);else this._eventsToEmitAfterInitialized.push({event:v,args:S})}async resetForReuse(v){this.setDefaultNavigationTimeout(undefined);this.setDefaultTimeout(undefined);await this._removeExposedBindings();await this._removeInitScripts();await this.setClientRequestInterceptor(undefined);await this._setServerRequestInterceptor(undefined);await this.setFileChooserIntercepted(false);await this.mainFrame().goto(v,"about:blank");this._emulatedSize=undefined;this._emulatedMedia={};this._extraHTTPHeaders=undefined;this._interceptFileChooser=false;await Promise.all([this._delegate.updateEmulatedViewportSize(),this._delegate.updateEmulateMedia(),this._delegate.updateFileChooserInterception()]);await this._delegate.resetForReuse()}_didClose(){this._frameManager.dispose();this._frameThrottler.dispose();(0,ke.assert)(this._closedState!=="closed","Page closed twice");this._closedState="closed";this.emit(Page.Events.Close);this._closedPromise.resolve();this.instrumentation.onPageClose(this);this.openScope.close(new Ve.TargetClosedError)}_didCrash(){this._frameManager.dispose();this._frameThrottler.dispose();this.emit(Page.Events.Crash);this._crashed=true;this.instrumentation.onPageClose(this);this.openScope.close(new Error("Page crashed"))}async _onFileChooserOpened(v){let S;try{S=await v.evaluate((v=>!!v.multiple))}catch(v){return}if(!this.listenerCount(Page.Events.FileChooser)){v.dispose();return}const Q=new Ee.FileChooser(this,v,S);this.emit(Page.Events.FileChooser,Q)}context(){return this._browserContext}opener(){return this._opener}mainFrame(){return this._frameManager.mainFrame()}frames(){return this._frameManager.frames()}setDefaultNavigationTimeout(v){this._timeoutSettings.setDefaultNavigationTimeout(v)}setDefaultTimeout(v){this._timeoutSettings.setDefaultTimeout(v)}async exposeBinding(v,S,Q){if(this._pageBindings.has(v))throw new Error(`Function "${v}" has been already registered`);if(this._browserContext._pageBindings.has(v))throw new Error(`Function "${v}" has been already registered in the browser context`);const O=new PageBinding(v,Q,S);this._pageBindings.set(v,O);await this._delegate.exposeBinding(O)}async _removeExposedBindings(){for(const v of this._pageBindings.keys()){if(!v.startsWith("__pw"))this._pageBindings.delete(v)}await this._delegate.removeExposedBindings()}setExtraHTTPHeaders(v){this._extraHTTPHeaders=v;return this._delegate.updateExtraHTTPHeaders()}extraHTTPHeaders(){return this._extraHTTPHeaders}async _onBindingCalled(v,S){if(this._closedState==="closed")return;await PageBinding.dispatch(this,v,S)}_addConsoleMessage(v,S,Q,O){const H=new ae.ConsoleMessage(this,v,O,S,Q);const V=this._frameManager.interceptConsoleMessage(H);if(V){S.forEach((v=>v.dispose()));return}this.emitOnContextOnceInitialized(ee.BrowserContext.Events.Console,H)}async reload(v,S){const Q=new Be.ProgressController(v,this);return Q.run((v=>this.mainFrame().raceNavigationAction(v,S,(async()=>{const[Q]=await Promise.all([this.mainFrame()._waitForNavigation(v,true,S),this._delegate.reload()]);return Q}))),this._timeoutSettings.navigationTimeout(S))}async goBack(v,S){const Q=new Be.ProgressController(v,this);return Q.run((v=>this.mainFrame().raceNavigationAction(v,S,(async()=>{let Q;const O=this.mainFrame()._waitForNavigation(v,false,S).catch((v=>{Q=v;return null}));const H=await this._delegate.goBack();if(!H)return null;const V=await O;if(Q)throw Q;return V}))),this._timeoutSettings.navigationTimeout(S))}async goForward(v,S){const Q=new Be.ProgressController(v,this);return Q.run((v=>this.mainFrame().raceNavigationAction(v,S,(async()=>{let Q;const O=this.mainFrame()._waitForNavigation(v,false,S).catch((v=>{Q=v;return null}));const H=await this._delegate.goForward();if(!H)return null;const V=await O;if(Q)throw Q;return V}))),this._timeoutSettings.navigationTimeout(S))}async emulateMedia(v){if(v.media!==undefined)this._emulatedMedia.media=v.media;if(v.colorScheme!==undefined)this._emulatedMedia.colorScheme=v.colorScheme;if(v.reducedMotion!==undefined)this._emulatedMedia.reducedMotion=v.reducedMotion;if(v.forcedColors!==undefined)this._emulatedMedia.forcedColors=v.forcedColors;await this._delegate.updateEmulateMedia()}emulatedMedia(){var v,S,Q;const O=this._browserContext._options;return{media:this._emulatedMedia.media||"no-override",colorScheme:this._emulatedMedia.colorScheme!==undefined?this._emulatedMedia.colorScheme:(v=O.colorScheme)!==null&&v!==void 0?v:"light",reducedMotion:this._emulatedMedia.reducedMotion!==undefined?this._emulatedMedia.reducedMotion:(S=O.reducedMotion)!==null&&S!==void 0?S:"no-preference",forcedColors:this._emulatedMedia.forcedColors!==undefined?this._emulatedMedia.forcedColors:(Q=O.forcedColors)!==null&&Q!==void 0?Q:"none"}}async setViewportSize(v){this._emulatedSize={viewport:{...v},screen:{...v}};await this._delegate.updateEmulatedViewportSize()}viewportSize(){var v;return((v=this.emulatedSize())===null||v===void 0?void 0:v.viewport)||null}emulatedSize(){if(this._emulatedSize)return this._emulatedSize;const v=this._browserContext._options;return v.viewport?{viewport:v.viewport,screen:v.screen||v.viewport}:null}async bringToFront(){await this._delegate.bringToFront()}async addInitScript(v){this.initScripts.push(v);await this._delegate.addInitScript(v)}async _removeInitScripts(){this.initScripts.splice(0,this.initScripts.length);await this._delegate.removeInitScripts()}needsRequestInterception(){return!!this._clientRequestInterceptor||!!this._serverRequestInterceptor||!!this._browserContext._requestInterceptor}async setClientRequestInterceptor(v){this._clientRequestInterceptor=v;await this._delegate.updateRequestInterception()}async _setServerRequestInterceptor(v){this._serverRequestInterceptor=v;await this._delegate.updateRequestInterception()}async expectScreenshot(v,S={}){const Q=S.locator;const O=Q?async(v,O)=>await Q.frame.rafrafTimeoutScreenshotElementWithProgress(v,Q.selector,O,S.screenshotOptions||{}):async(v,Q)=>{await this.mainFrame().rafrafTimeout(Q);return await this._screenshotter.screenshotPage(v,S.screenshotOptions||{})};const H=(0,Pe.getComparator)("image/png");const J=new Be.ProgressController(v,this);if(!S.expected&&S.isNot)return{errorMessage:'"not" matcher requires expected result'};try{const v=(0,Y.validateScreenshotOptions)(S.screenshotOptions||{});if(v!=="png")throw new Error("Only PNG screenshots are supported")}catch(v){return{errorMessage:v.message}}let X=undefined;const areEqualScreenshots=(v,Q,O)=>{const V=v&&Q?H(v,Q,S.comparatorOptions):undefined;if(V!==undefined&&!!V===!!S.isNot)return true;if(V)X={errorMessage:V.errorMessage,diff:V.diff,actual:v,previous:O};return false};const ee=this._timeoutSettings.timeout(S);return J.run((async Q=>{let H;let V;const J=[0,100,250,500];Q.log(`${v.apiName}${ee?` with timeout ${ee}ms`:""}`);if(S.expected)Q.log(`  verifying given screenshot expectation`);else Q.log(`  generating new stable screenshot expectation`);let Y=true;while(true){var ae;Q.throwIfAborted();if(this.isClosed())throw new Error("The page has closed");const v=(ae=J.shift())!==null&&ae!==void 0?ae:1e3;if(v)Q.log(`waiting ${v}ms before taking screenshot`);V=H;H=await O(Q,v).catch((v=>{Q.log(`failed to take screenshot - `+v.message);return undefined}));if(!H)continue;const ee=S.expected&&Y?S.expected:V;if(areEqualScreenshots(H,ee,V))break;if(X)Q.log(X.errorMessage);Y=false}if(!Y)Q.log(`captured a stable screenshot`);if(!S.expected)return{actual:H};if(Y){Q.log(`screenshot matched expectation`);return{}}if(areEqualScreenshots(H,S.expected,V)){Q.log(`screenshot matched expectation`);return{}}throw new Error(X.errorMessage)}),ee).catch((S=>{if(V.isJavaScriptErrorInEvaluate(S)||(0,je.isInvalidSelectorError)(S))throw S;return{log:S.message?[...v.log,S.message]:v.log,...X,errorMessage:S.message}}))}async screenshot(v,S={}){const Q=new Be.ProgressController(v,this);return Q.run((v=>this._screenshotter.screenshotPage(v,S)),this._timeoutSettings.timeout(S))}async close(v,S={}){if(this._closedState==="closed")return;if(S.reason)this._closeReason=S.reason;const Q=!!S.runBeforeUnload;if(this._closedState!=="closing"){this._closedState="closing";await this._delegate.closePage(Q).catch((v=>Oe.debugLogger.log("error",v)))}if(!Q)await this._closedPromise;if(this._ownedContext)await this._ownedContext.close(S)}_setIsError(v){this._pageIsError=v;this._frameManager.createDummyMainFrameIfNeeded()}isClosed(){return this._closedState==="closed"}hasCrashed(){return this._crashed}isClosedOrClosingOrCrashed(){return this._closedState!=="open"||this._crashed}_addWorker(v,S){this._workers.set(v,S);this.emit(Page.Events.Worker,S)}_removeWorker(v){const S=this._workers.get(v);if(!S)return;S.didClose();this._workers.delete(v)}_clearWorkers(){for(const[v,S]of this._workers){S.didClose();this._workers.delete(v)}}async setFileChooserIntercepted(v){this._interceptFileChooser=v;await this._delegate.updateFileChooserInterception()}fileChooserIntercepted(){return this._interceptFileChooser}frameNavigatedToNewDocument(v){this.emit(Page.Events.InternalFrameNavigatedToNewDocument,v);const S=v.url();if(!S.startsWith("http"))return;const Q=J.parsedURL(S);if(Q)this._browserContext.addVisitedOrigin(Q.origin)}allBindings(){return[...this._browserContext._pageBindings.values(),...this._pageBindings.values()]}getBinding(v){return this._pageBindings.get(v)||this._browserContext._pageBindings.get(v)}setScreencastOptions(v){this._delegate.setScreencastOptions(v).catch((v=>Oe.debugLogger.log("error",v)));this._frameThrottler.setThrottlingEnabled(!!v)}throttleScreencastFrameAck(v){this._frameThrottler.ack(v)}temporarilyDisableTracingScreencastThrottling(){this._frameThrottler.recharge()}async hideHighlight(){await Promise.all(this.frames().map((v=>v.hideHighlight().catch((()=>{})))))}markAsServerSideOnly(){this._isServerSideOnly=true}}S.Page=Page;Page.Events={Close:"close",Crash:"crash",Download:"download",FileChooser:"filechooser",FrameAttached:"frameattached",FrameDetached:"framedetached",InternalFrameNavigatedToNewDocument:"internalframenavigatedtonewdocument",ScreencastFrame:"screencastframe",Video:"video",WebSocket:"websocket",Worker:"worker"};class Worker extends Le.SdkObject{constructor(v,S){super(v,"worker");this._url=void 0;this._executionContextPromise=void 0;this._executionContextCallback=void 0;this._existingExecutionContext=null;this.openScope=new ke.LongStandingScope;this._url=S;this._executionContextCallback=()=>{};this._executionContextPromise=new Promise((v=>this._executionContextCallback=v))}_createExecutionContext(v){this._existingExecutionContext=new V.ExecutionContext(this,v,"worker");this._executionContextCallback(this._existingExecutionContext)}url(){return this._url}didClose(){if(this._existingExecutionContext)this._existingExecutionContext.contextDestroyed("Worker was closed");this.emit(Worker.Events.Close,this);this.openScope.close(new Error("Worker closed"))}async evaluateExpression(v,S,Q){return V.evaluateExpression(await this._executionContextPromise,v,{returnByValue:true,isFunction:S},Q)}async evaluateExpressionHandle(v,S,Q){return V.evaluateExpression(await this._executionContextPromise,v,{returnByValue:false,isFunction:S},Q)}}S.Worker=Worker;Worker.Events={Close:"close"};class PageBinding{constructor(v,S,Q){this.name=void 0;this.playwrightFunction=void 0;this.source=void 0;this.needsHandle=void 0;this.name=v;this.playwrightFunction=S;this.source=`(${addPageBinding.toString()})(${JSON.stringify(v)}, ${Q}, (${qe.source})())`;this.needsHandle=Q}static async dispatch(v,S,Q){const{name:O,seq:H,serializedArgs:V}=JSON.parse(S);try{(0,ke.assert)(Q.world);const S=v.getBinding(O);let J;if(S.needsHandle){const V=await Q.evaluateHandle(takeHandle,{name:O,seq:H}).catch((v=>null));J=await S.playwrightFunction({frame:Q.frame,page:v,context:v._browserContext},V)}else{const O=V.map((v=>(0,qe.parseEvaluationResultValue)(v)));J=await S.playwrightFunction({frame:Q.frame,page:v,context:v._browserContext},...O)}Q.evaluate(deliverResult,{name:O,seq:H,result:J}).catch((v=>Oe.debugLogger.log("error",v)))}catch(v){if((0,ke.isError)(v))Q.evaluate(deliverError,{name:O,seq:H,message:v.message,stack:v.stack}).catch((v=>Oe.debugLogger.log("error",v)));else Q.evaluate(deliverErrorValue,{name:O,seq:H,error:v}).catch((v=>Oe.debugLogger.log("error",v)))}function takeHandle(v){const S=globalThis[v.name]["handles"].get(v.seq);globalThis[v.name]["handles"].delete(v.seq);return S}function deliverResult(v){globalThis[v.name]["callbacks"].get(v.seq).resolve(v.result);globalThis[v.name]["callbacks"].delete(v.seq)}function deliverError(v){const S=new Error(v.message);S.stack=v.stack;globalThis[v.name]["callbacks"].get(v.seq).reject(S);globalThis[v.name]["callbacks"].delete(v.seq)}function deliverErrorValue(v){globalThis[v.name]["callbacks"].get(v.seq).reject(v.error);globalThis[v.name]["callbacks"].delete(v.seq)}}}S.PageBinding=PageBinding;function addPageBinding(v,S,Q){const O=globalThis[v];if(O.__installed)return;globalThis[v]=(...H)=>{const V=globalThis[v];if(S&&H.slice(1).some((v=>v!==undefined)))throw new Error(`exposeBindingHandle supports a single argument, ${H.length} received`);let J=V["callbacks"];if(!J){J=new Map;V["callbacks"]=J}const Y=(V["lastSeq"]||0)+1;V["lastSeq"]=Y;let X=V["handles"];if(!X){X=new Map;V["handles"]=X}const ee=new Promise(((v,S)=>J.set(Y,{resolve:v,reject:S})));let ae;if(S){X.set(Y,H[0]);ae={name:v,seq:Y}}else{const S=[];for(let v=0;v<H.length;v++){S[v]=Q.serializeAsCallArgument(H[v],(v=>({fallThrough:v})))}ae={name:v,seq:Y,serializedArgs:S}}O(JSON.stringify(ae));return ee};globalThis[v].__installed=true}class FrameThrottler{constructor(v,S,Q){this._acks=[];this._defaultInterval=void 0;this._throttlingInterval=void 0;this._nonThrottledFrames=void 0;this._budget=void 0;this._throttlingEnabled=false;this._timeoutId=void 0;this._nonThrottledFrames=v;this._budget=v;this._defaultInterval=S;this._throttlingInterval=Q;this._tick()}dispose(){if(this._timeoutId){clearTimeout(this._timeoutId);this._timeoutId=undefined}}setThrottlingEnabled(v){this._throttlingEnabled=v}recharge(){for(const v of this._acks)v();this._acks=[];this._budget=this._nonThrottledFrames;if(this._timeoutId){clearTimeout(this._timeoutId);this._tick()}}ack(v){if(!this._timeoutId){v();return}this._acks.push(v)}_tick(){const v=this._acks.shift();if(v){--this._budget;v()}if(this._throttlingEnabled&&this._budget<=0){this._timeoutId=setTimeout((()=>this._tick()),this._throttlingInterval)}else{this._timeoutId=setTimeout((()=>this._tick()),this._defaultInterval)}}}},5241:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.PipeTransport=void 0;var O=Q(3557);var H=Q(2003);class PipeTransport{constructor(v,S){this._pipeRead=void 0;this._pipeWrite=void 0;this._pendingBuffers=[];this._waitForNextTask=(0,O.makeWaitForNextTask)();this._closed=false;this._onclose=void 0;this.onmessage=void 0;this._pipeRead=S;this._pipeWrite=v;S.on("data",(v=>this._dispatch(v)));S.on("close",(()=>{this._closed=true;if(this._onclose)this._onclose.call(null)}));S.on("error",(v=>H.debugLogger.log("error",v)));v.on("error",(v=>H.debugLogger.log("error",v)));this.onmessage=undefined}get onclose(){return this._onclose}set onclose(v){this._onclose=v;if(v&&!this._pipeRead.readable)v()}send(v){if(this._closed)throw new Error("Pipe has been closed");this._pipeWrite.write(JSON.stringify(v));this._pipeWrite.write("\0")}close(){throw new Error("unimplemented")}_dispatch(v){let S=v.indexOf("\0");if(S===-1){this._pendingBuffers.push(v);return}this._pendingBuffers.push(v.slice(0,S));const Q=Buffer.concat(this._pendingBuffers).toString();this._waitForNextTask((()=>{if(this.onmessage)this.onmessage.call(null,JSON.parse(Q))}));let O=S+1;S=v.indexOf("\0",O);while(S!==-1){const Q=v.toString(undefined,O,S);this._waitForNextTask((()=>{if(this.onmessage)this.onmessage.call(null,JSON.parse(Q))}));O=S+1;S=v.indexOf("\0",O)}this._pendingBuffers=[v.slice(O)]}}S.PipeTransport=PipeTransport},4506:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Playwright=void 0;S.createPlaywright=createPlaywright;var O=Q(6781);var H=Q(389);var V=Q(2302);var J=Q(9229);var Y=Q(2792);var X=Q(5875);var ee=Q(2967);var ae=Q(6686);var he=Q(2003);var Ee=Q(1455);class Playwright extends ae.SdkObject{constructor(v){super({attribution:{},instrumentation:(0,ae.createInstrumentation)()},undefined,"Playwright");this.selectors=void 0;this.chromium=void 0;this.android=void 0;this.electron=void 0;this.firefox=void 0;this.webkit=void 0;this.options=void 0;this.debugController=void 0;this._allPages=new Set;this._allBrowsers=new Set;this.options=v;this.attribution.playwright=this;this.instrumentation.addListener({onBrowserOpen:v=>this._allBrowsers.add(v),onBrowserClose:v=>this._allBrowsers.delete(v),onPageOpen:v=>this._allPages.add(v),onPageClose:v=>this._allPages.delete(v),onCallLog:(v,S,Q,O)=>{he.debugLogger.log(Q,O)}},null);this.chromium=new V.Chromium(this);this.firefox=new Y.Firefox(this);this.webkit=new ee.WebKit(this);this.electron=new J.Electron(this);this.android=new O.Android(this,new H.AdbBackend);this.selectors=new X.Selectors;this.debugController=new Ee.DebugController(this)}async hideHighlight(){await Promise.all([...this._allPages].map((v=>v.hideHighlight().catch((()=>{})))))}allBrowsers(){return[...this._allBrowsers]}allPages(){return[...this._allPages]}}S.Playwright=Playwright;function createPlaywright(v){return new Playwright(v)}},2836:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ProgressController=void 0;var O=Q(1145);var H=Q(3557);var V=Q(6729);class ProgressController{constructor(v,S){this._forceAbortPromise=new V.ManualPromise;this._cleanups=[];this._logName="api";this._state="before";this._deadline=0;this._timeout=0;this.metadata=void 0;this.instrumentation=void 0;this.sdkObject=void 0;this.metadata=v;this.sdkObject=S;this.instrumentation=S.instrumentation;this._forceAbortPromise.catch((v=>null))}setLogName(v){this._logName=v}abort(v){this._forceAbortPromise.reject(v)}async run(v,S){var Q;if(S){this._timeout=S;this._deadline=S?(0,H.monotonicTime)()+S:0}(0,H.assert)(this._state==="before");this._state="running";(Q=this.sdkObject.attribution.context)===null||Q===void 0?void 0:Q._activeProgressControllers.add(this);const V={log:v=>{V.logEntry({message:v})},logEntry:v=>{if("message"in v){const S=v.message;if(this._state==="running")this.metadata.log.push(S);this.instrumentation.onCallLog(this.sdkObject,this.metadata,this._logName,S)}},timeUntilDeadline:()=>this._deadline?this._deadline-(0,H.monotonicTime)():2147483647,isRunning:()=>this._state==="running",cleanupWhenAborted:v=>{if(this._state==="running")this._cleanups.push(v);else runCleanup(v)},throwIfAborted:()=>{if(this._state==="aborted")throw new AbortedError},beforeInputAction:async v=>{await this.instrumentation.onBeforeInputAction(this.sdkObject,this.metadata,v)},metadata:this.metadata};const J=new O.TimeoutError(`Timeout ${this._timeout}ms exceeded.`);const Y=setTimeout((()=>this._forceAbortPromise.reject(J)),V.timeUntilDeadline());try{const S=v(V);const Q=await Promise.race([S,this._forceAbortPromise]);this._state="finished";return Q}catch(v){this._state="aborted";await Promise.all(this._cleanups.splice(0).map(runCleanup));throw v}finally{var X;(X=this.sdkObject.attribution.context)===null||X===void 0?void 0:X._activeProgressControllers.delete(this);clearTimeout(Y)}}}S.ProgressController=ProgressController;async function runCleanup(v){try{await v()}catch(v){}}class AbortedError extends Error{}},7314:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ProtocolError=void 0;S.isProtocolError=isProtocolError;S.isSessionClosedError=isSessionClosedError;var O=Q(9030);class ProtocolError extends Error{constructor(v,S,Q){super();this.type=void 0;this.method=void 0;this.logs=void 0;this.type=v;this.method=S;this.logs=Q}setMessage(v){(0,O.rewriteErrorMessage)(this,`Protocol error (${this.method}): ${v}`)}browserLogMessage(){return this.logs?"\nBrowser logs:\n"+this.logs:""}}S.ProtocolError=ProtocolError;function isProtocolError(v){return v instanceof ProtocolError}function isSessionClosedError(v){return v instanceof ProtocolError&&(v.type==="closed"||v.type==="crashed")}},8584:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Recorder=void 0;var O=_interopRequireWildcard(Q(7147));var H=Q(9672);var V=Q(5704);var J=Q(3555);var Y=Q(3737);var X=Q(5985);var ee=Q(9359);var ae=Q(5954);var he=Q(426);var Ee=Q(6514);var Be=Q(3082);var ke=_interopRequireWildcard(Q(6048));var Re=_interopRequireWildcard(Q(4989));var Oe=Q(7351);var Pe=Q(3557);var Le=Q(9311);var je=Q(7370);var qe=Q(2361);var Ve=Q(803);var ze=Q(1973);var $e=Q(7517);var Ye=Q(3841);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const et=Symbol("recorderSymbol");class Recorder{static setAppFactory(v){Recorder.recorderAppFactory=v}static showInspector(v){const S={};if((0,Pe.isUnderTest)())S.language=process.env.TEST_INSPECTOR_LANGUAGE;Recorder.show(v,S).catch((()=>{}))}static show(v,S={}){let Q=v[et];if(!Q){const O=new Recorder(v,S);Q=O.install().then((()=>O));v[et]=Q}return Q}constructor(v,S){this._context=void 0;this._mode=void 0;this._highlightedSelector="";this._overlayState={offsetX:0};this._recorderApp=null;this._currentCallsMetadata=new Map;this._recorderSources=[];this._userSources=new Map;this._debugger=void 0;this._contextRecorder=void 0;this._handleSIGINT=void 0;this._omitCallTracking=false;this._currentLanguage=void 0;this._mode=S.mode||"none";this._contextRecorder=new ContextRecorder(v,S);this._context=v;this._omitCallTracking=!!S.omitCallTracking;this._debugger=v.debugger();this._handleSIGINT=S.handleSIGINT;v.instrumentation.addListener(this,v);this._currentLanguage=this._contextRecorder.languageName();if((0,Pe.isUnderTest)()){this._overlayState.offsetX=200}}static async defaultRecorderAppFactory(v){if(process.env.PW_CODEGEN_NO_INSPECTOR)return new Oe.EmptyRecorderApp;return await Oe.RecorderApp.open(v,v._context,v._handleSIGINT)}async install(){const v=await(Recorder.recorderAppFactory||Recorder.defaultRecorderAppFactory)(this);this._recorderApp=v;v.once("close",(()=>{this._debugger.resume(false);this._recorderApp=null}));v.on("event",(v=>{if(v.event==="setMode"){this.setMode(v.params.mode);return}if(v.event==="selectorUpdated"){this.setHighlightedSelector(this._currentLanguage,v.params.selector);return}if(v.event==="step"){this._debugger.resume(true);return}if(v.event==="fileChanged"){this._currentLanguage=this._contextRecorder.languageName(v.params.file);this._refreshOverlay();return}if(v.event==="resume"){this._debugger.resume(false);return}if(v.event==="pause"){this._debugger.pauseOnNextStatement();return}if(v.event==="clear"){this._contextRecorder.clearScript();return}}));await Promise.all([v.setMode(this._mode),v.setPaused(this._debugger.isPaused()),this._pushAllSources()]);this._context.once(X.BrowserContext.Events.Close,(()=>{this._contextRecorder.dispose();this._context.instrumentation.removeListener(this);v.close().catch((()=>{}))}));this._contextRecorder.on(ContextRecorder.Events.Change,(v=>{var S;this._recorderSources=v.sources;this._pushAllSources();(S=this._recorderApp)===null||S===void 0?void 0:S.setFileIfNeeded(v.primaryFileName)}));await this._context.exposeBinding("__pw_recorderState",false,(v=>{let S="";let Q;const O=[...this._currentCallsMetadata.keys()].some(isScreenshotCommand);if(!O){S=this._highlightedSelector;for(const[O,H]of this._currentCallsMetadata){if(v.page===H.attribution.page){Q=O.point||Q;S=S||O.params.selector}}}const H={mode:this._mode,actionPoint:Q,actionSelector:S,language:this._currentLanguage,testIdAttributeName:this._contextRecorder.testIdAttributeName(),overlay:this._overlayState};return H}));await this._context.exposeBinding("__pw_recorderSetSelector",false,(async({frame:v},S)=>{var Q;const O=[];let H=v;while(H){O.push(findFrameSelector(H));H=H.parentFrame()}const V=(await Promise.all(O)).filter(Boolean);V.push(S);await((Q=this._recorderApp)===null||Q===void 0?void 0:Q.setSelector(V.join(" >> internal:control=enter-frame >> "),true))}));await this._context.exposeBinding("__pw_recorderSetMode",false,(async({frame:v},S)=>{if(v.parentFrame())return;this.setMode(S)}));await this._context.exposeBinding("__pw_recorderSetOverlayState",false,(async({frame:v},S)=>{if(v.parentFrame())return;this._overlayState=S}));await this._context.exposeBinding("__pw_resume",false,(()=>{this._debugger.resume(false)}));await this._context.extendInjectedScript(Re.source);await this._contextRecorder.install();if(this._debugger.isPaused())this._pausedStateChanged();this._debugger.on(je.Debugger.Events.PausedStateChanged,(()=>this._pausedStateChanged()));this._context.recorderAppForTest=v}_pausedStateChanged(){var v;for(const{metadata:v,sdkObject:S}of this._debugger.pausedDetails()){if(!this._currentCallsMetadata.has(v))this.onBeforeCall(S,v)}(v=this._recorderApp)===null||v===void 0?void 0:v.setPaused(this._debugger.isPaused());this._updateUserSources();this.updateCallLog([...this._currentCallsMetadata.keys()])}setMode(v){var S;if(this._mode===v)return;this._highlightedSelector="";this._mode=v;(S=this._recorderApp)===null||S===void 0?void 0:S.setMode(this._mode);this._contextRecorder.setEnabled(this._mode==="recording"||this._mode==="assertingText"||this._mode==="assertingVisibility"||this._mode==="assertingValue");this._debugger.setMuted(this._mode==="recording"||this._mode==="assertingText"||this._mode==="assertingVisibility"||this._mode==="assertingValue");if(this._mode!=="none"&&this._mode!=="standby"&&this._context.pages().length===1)this._context.pages()[0].bringToFront().catch((()=>{}));this._refreshOverlay()}resume(){this._debugger.resume(false)}mode(){return this._mode}setHighlightedSelector(v,S){this._highlightedSelector=(0,ze.locatorOrSelectorAsSelector)(v,S,this._context.selectors().testIdAttributeName());this._refreshOverlay()}hideHighlightedSelector(){this._highlightedSelector="";this._refreshOverlay()}setOutput(v,S){this._contextRecorder.setOutput(v,S)}_refreshOverlay(){for(const v of this._context.pages())v.mainFrame().evaluateExpression("window.__pw_refreshOverlay()").catch((()=>{}))}async onBeforeCall(v,S){if(this._omitCallTracking||this._mode==="recording"||this._mode==="assertingText"||this._mode==="assertingVisibility"||this._mode==="assertingValue")return;this._currentCallsMetadata.set(S,v);this._updateUserSources();this.updateCallLog([S]);if(isScreenshotCommand(S)){this.hideHighlightedSelector()}else if(S.params&&S.params.selector){var Q;this._highlightedSelector=S.params.selector;(Q=this._recorderApp)===null||Q===void 0?void 0:Q.setSelector(this._highlightedSelector).catch((()=>{}))}}async onAfterCall(v,S){if(this._omitCallTracking||this._mode==="recording"||this._mode==="assertingText"||this._mode==="assertingVisibility"||this._mode==="assertingValue")return;if(!S.error)this._currentCallsMetadata.delete(S);this._updateUserSources();this.updateCallLog([S])}_updateUserSources(){var v;for(const v of this._userSources.values()){v.highlight=[];v.revealLine=undefined}let S=undefined;for(const v of this._currentCallsMetadata.keys()){if(!v.location)continue;const{file:Q,line:O}=v.location;let H=this._userSources.get(Q);if(!H){H={isRecorded:false,label:Q,id:Q,text:this._readSource(Q),highlight:[],language:languageForFile(Q)};this._userSources.set(Q,H)}if(O){const Q=this._debugger.isPaused(v);H.highlight.push({line:O,type:v.error?"error":Q?"paused":"running"});H.revealLine=O;S=H.id}}this._pushAllSources();if(S)(v=this._recorderApp)===null||v===void 0?void 0:v.setFileIfNeeded(S)}_pushAllSources(){var v;(v=this._recorderApp)===null||v===void 0?void 0:v.setSources([...this._recorderSources,...this._userSources.values()])}async onBeforeInputAction(v,S){}async onCallLog(v,S,Q,O){this.updateCallLog([S])}updateCallLog(v){var S;if(this._mode==="recording"||this._mode==="assertingText"||this._mode==="assertingVisibility"||this._mode==="assertingValue")return;const Q=[];for(const S of v){if(!S.method||S.internal)continue;let v="done";if(this._currentCallsMetadata.has(S))v="in-progress";if(this._debugger.isPaused(S))v="paused";Q.push((0,Le.metadataToCallLog)(S,v))}(S=this._recorderApp)===null||S===void 0?void 0:S.updateCallLogs(Q)}_readSource(v){try{return O.readFileSync(v,"utf-8")}catch(v){return"// No source available"}}}S.Recorder=Recorder;Recorder.recorderAppFactory=void 0;class ContextRecorder extends qe.EventEmitter{constructor(v,S){super();this._generator=void 0;this._pageAliases=new Map;this._lastPopupOrdinal=0;this._lastDialogOrdinal=-1;this._lastDownloadOrdinal=-1;this._timers=new Set;this._context=void 0;this._params=void 0;this._recorderSources=void 0;this._throttledOutputFile=null;this._orderedLanguages=[];this._listeners=[];this._context=v;this._params=S;this._recorderSources=[];const Q=S.language||v.attribution.playwright.options.sdkLanguage;this.setOutput(Q,S.outputFile);const O=new H.CodeGenerator(v._browser.options.name,S.mode==="recording",S.launchOptions||{},S.contextOptions||{},S.device,S.saveStorage);O.on("change",(()=>{this._recorderSources=[];for(const S of this._orderedLanguages){var v;const{header:Q,footer:H,actions:V,text:J}=O.generateStructure(S);const Y={isRecorded:true,label:S.name,group:S.groupName,id:S.id,text:J,header:Q,footer:H,actions:V,language:S.highlighter,highlight:[]};Y.revealLine=J.split("\n").length-1;this._recorderSources.push(Y);if(S===this._orderedLanguages[0])(v=this._throttledOutputFile)===null||v===void 0?void 0:v.setContent(Y.text)}this.emit(ContextRecorder.Events.Change,{sources:this._recorderSources,primaryFileName:this._orderedLanguages[0].id})}));v.on(X.BrowserContext.Events.BeforeClose,(()=>{var v;(v=this._throttledOutputFile)===null||v===void 0?void 0:v.flush()}));this._listeners.push(Ye.eventsHelper.addEventListener(process,"exit",(()=>{var v;(v=this._throttledOutputFile)===null||v===void 0?void 0:v.flush()})));this._generator=O}setOutput(v,S){var Q;const O=new Set([new ee.JavaLanguageGenerator,new ae.JavaScriptLanguageGenerator(false),new ae.JavaScriptLanguageGenerator(true),new Be.PythonLanguageGenerator(false,true),new Be.PythonLanguageGenerator(false,false),new Be.PythonLanguageGenerator(true,false),new Ee.CSharpLanguageGenerator("mstest"),new Ee.CSharpLanguageGenerator("nunit"),new Ee.CSharpLanguageGenerator("library"),new he.JsonlLanguageGenerator]);const H=[...O].find((S=>S.id===v));if(!H)throw new Error(`\n===============================\nUnsupported language: '${v}'\n===============================\n`);O.delete(H);this._orderedLanguages=[H,...O];this._throttledOutputFile=S?new ThrottledFile(S):null;(Q=this._generator)===null||Q===void 0?void 0:Q.restart()}languageName(v){for(const S of this._orderedLanguages){if(!v||S.id===v)return S.highlighter}return"javascript"}async install(){this._context.on(X.BrowserContext.Events.Page,(v=>this._onPage(v)));for(const v of this._context.pages())this._onPage(v);this._context.on(X.BrowserContext.Events.Dialog,(v=>this._onDialog(v.page())));await this._context.exposeBinding("__pw_recorderPerformAction",false,((v,S)=>this._performAction(v.frame,S)));await this._context.exposeBinding("__pw_recorderRecordAction",false,((v,S)=>this._recordAction(v.frame,S)));await this._context.extendInjectedScript(ke.source)}setEnabled(v){this._generator.setEnabled(v)}dispose(){for(const v of this._timers)clearTimeout(v);this._timers.clear();Ye.eventsHelper.removeEventListeners(this._listeners)}async _onPage(v){const S=v.mainFrame();v.on("close",(()=>{this._generator.addAction({frame:this._describeMainFrame(v),committed:true,action:{name:"closePage",signals:[]}});this._pageAliases.delete(v)}));S.on(Y.Frame.Events.InternalNavigation,(Q=>{if(Q.isPublic)this._onFrameNavigated(S,v)}));v.on(J.Page.Events.Download,(()=>this._onDownload(v)));const Q=this._pageAliases.size?String(++this._lastPopupOrdinal):"";const O="page"+Q;this._pageAliases.set(v,O);if(v.opener()){this._onPopup(v.opener(),v)}else{this._generator.addAction({frame:this._describeMainFrame(v),committed:true,action:{name:"openPage",url:v.mainFrame().url(),signals:[]}})}}clearScript(){this._generator.restart();if(this._params.mode==="recording"){for(const v of this._context.pages())this._onFrameNavigated(v.mainFrame(),v)}}_describeMainFrame(v){return{pageAlias:this._pageAliases.get(v),isMainFrame:true}}async _describeFrame(v){const S=v._page;const Q=this._pageAliases.get(S);const O=[];for(let S=v;S;S=S.parentFrame())O.push(S);O.reverse();if(O.length===1)return this._describeMainFrame(S);const H=[];for(let v=0;v<O.length-1;v++)H.push(findFrameSelector(O[v+1]));const V=await(0,Ve.raceAgainstDeadline)((()=>Promise.all(H)),(0,Pe.monotonicTime)()+2e3);if(!V.timedOut&&V.result.every((v=>!!v))){return{pageAlias:Q,isMainFrame:false,selectorsChain:V.result}}const J=[];for(let v=0;v<O.length-1;v++){if(O[v].name())J.push(`iframe[name=${(0,$e.quoteCSSAttributeValue)(O[v].name())}]`);else J.push(`iframe[src=${(0,$e.quoteCSSAttributeValue)(O[v].url())}]`)}return{pageAlias:Q,isMainFrame:false,selectorsChain:J}}testIdAttributeName(){return this._params.testIdAttributeName||this._context.selectors().testIdAttributeName()||"data-testid"}async _performAction(v,S){this._generator.commitLastAction();const Q=await this._describeFrame(v);const O={frame:Q,action:S};const perform=async(S,Q,H)=>{const V={id:`call@${(0,Pe.createGuid)()}`,apiName:"frame."+S,objectId:v.guid,pageId:v._page.guid,frameId:v.guid,startTime:(0,Pe.monotonicTime)(),endTime:0,wallTime:Date.now(),type:"Frame",method:S,params:Q,log:[]};this._generator.willPerformAction(O);try{await v.instrumentation.onBeforeCall(v,V);await H(V)}catch(S){V.endTime=(0,Pe.monotonicTime)();await v.instrumentation.onAfterCall(v,V);this._generator.performedActionFailed(O);return}V.endTime=(0,Pe.monotonicTime)();await v.instrumentation.onAfterCall(v,V);const J=setTimeout((()=>{O.committed=true;this._timers.delete(J)}),5e3);this._generator.didPerformAction(O);this._timers.add(J)};const H=5e3;if(S.name==="click"){const{options:Q}=(0,V.toClickOptions)(S);await perform("click",{selector:S.selector},(O=>v.click(O,S.selector,{...Q,timeout:H,strict:true})))}if(S.name==="press"){const Q=(0,V.toModifiers)(S.modifiers);const O=[...Q,S.key].join("+");await perform("press",{selector:S.selector,key:O},(Q=>v.press(Q,S.selector,O,{timeout:H,strict:true})))}if(S.name==="check")await perform("check",{selector:S.selector},(Q=>v.check(Q,S.selector,{timeout:H,strict:true})));if(S.name==="uncheck")await perform("uncheck",{selector:S.selector},(Q=>v.uncheck(Q,S.selector,{timeout:H,strict:true})));if(S.name==="select"){const Q=S.options.map((v=>({value:v})));await perform("selectOption",{selector:S.selector,values:Q},(O=>v.selectOption(O,S.selector,[],Q,{timeout:H,strict:true})))}}async _recordAction(v,S){this._generator.commitLastAction();const Q=await this._describeFrame(v);const O={frame:Q,action:S};this._generator.addAction(O)}_onFrameNavigated(v,S){const Q=this._pageAliases.get(S);this._generator.signal(Q,v,{name:"navigation",url:v.url()})}_onPopup(v,S){const Q=this._pageAliases.get(v);const O=this._pageAliases.get(S);this._generator.signal(Q,v.mainFrame(),{name:"popup",popupAlias:O})}_onDownload(v){const S=this._pageAliases.get(v);++this._lastDownloadOrdinal;this._generator.signal(S,v.mainFrame(),{name:"download",downloadAlias:this._lastDownloadOrdinal?String(this._lastDownloadOrdinal):""})}_onDialog(v){const S=this._pageAliases.get(v);++this._lastDialogOrdinal;this._generator.signal(S,v.mainFrame(),{name:"dialog",dialogAlias:this._lastDialogOrdinal?String(this._lastDialogOrdinal):""})}}ContextRecorder.Events={Change:"change"};function languageForFile(v){if(v.endsWith(".py"))return"python";if(v.endsWith(".java"))return"java";if(v.endsWith(".cs"))return"csharp";return"javascript"}class ThrottledFile{constructor(v){this._file=void 0;this._timer=void 0;this._text=void 0;this._file=v}setContent(v){this._text=v;if(!this._timer)this._timer=setTimeout((()=>this.flush()),250)}flush(){if(this._timer){clearTimeout(this._timer);this._timer=undefined}if(this._text)O.writeFileSync(this._file,this._text);this._text=undefined}}function isScreenshotCommand(v){return v.method.toLowerCase().includes("screenshot")}async function findFrameSelector(v){try{const S=v.parentFrame();const Q=await v.frameElement();if(!Q||!S)return;const O=await S._utilityContext();const H=await O.injectedScript();const V=await H.evaluate(((v,S)=>v.generateSelector(S,{testIdAttributeName:"",omitInternalEngines:true})),Q);return V}catch(v){}}},9672:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CodeGenerator=void 0;var O=Q(2361);class CodeGenerator extends O.EventEmitter{constructor(v,S,Q,O,H,V){super();this._currentAction=null;this._lastAction=null;this._actions=[];this._enabled=void 0;this._options=void 0;Q={headless:false,...Q};O={...O};this._enabled=S;this._options={browserName:v,launchOptions:Q,contextOptions:O,deviceName:H,saveStorage:V};this.restart()}restart(){this._currentAction=null;this._lastAction=null;this._actions=[];this.emit("change")}setEnabled(v){this._enabled=v}addAction(v){if(!this._enabled)return;this.willPerformAction(v);this.didPerformAction(v)}willPerformAction(v){if(!this._enabled)return;this._currentAction=v}performedActionFailed(v){if(!this._enabled)return;if(this._currentAction===v)this._currentAction=null}didPerformAction(v){if(!this._enabled)return;const S=v.action;let Q=false;if(this._lastAction&&this._lastAction.frame.pageAlias===v.frame.pageAlias){const v=this._lastAction.action;if(this._lastAction&&S.name==="fill"&&v.name==="fill"){if(S.selector===v.selector)Q=true}if(v&&S.name==="click"&&v.name==="click"){if(S.selector===v.selector&&S.clickCount>v.clickCount)Q=true}if(v&&S.name==="navigate"&&v.name==="navigate"){if(S.url===v.url){this._currentAction=null;return}}if(v&&(S.name==="check"||S.name==="uncheck")&&v.name==="click"){if(S.selector===v.selector)Q=true}}this._lastAction=v;this._currentAction=null;if(Q)this._actions.pop();this._actions.push(v);this.emit("change")}commitLastAction(){if(!this._enabled)return;const v=this._lastAction;if(v)v.committed=true}signal(v,S,Q){if(!this._enabled)return;if(this._currentAction){this._currentAction.action.signals.push(Q);return}if(this._lastAction&&!this._lastAction.committed){const v=this._lastAction.action.signals;if(Q.name==="navigation"&&v.length&&v[v.length-1].name==="download")return;if(Q.name==="download"&&v.length&&v[v.length-1].name==="navigation")v.length=v.length-1;this._lastAction.action.signals.push(Q);this.emit("change");return}if(Q.name==="navigation"&&S._page.mainFrame()===S){this.addAction({frame:{pageAlias:v,isMainFrame:true},committed:true,action:{name:"navigate",url:S.url(),signals:[]}})}}generateStructure(v){const S=v.generateHeader(this._options);const Q=v.generateFooter(this._options.saveStorage);const O=this._actions.map((S=>v.generateAction(S))).filter(Boolean);const H=[S,...O,Q].join("\n");return{header:S,footer:Q,actions:O,text:H}}}S.CodeGenerator=CodeGenerator},6514:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.CSharpLanguageGenerator=void 0;var O=Q(2067);var H=Q(5704);var V=Q(7517);var J=Q(7113);const Y=Q(9870);class CSharpLanguageGenerator{constructor(v){this.id=void 0;this.groupName=".NET C#";this.name=void 0;this.highlighter="csharp";this._mode=void 0;if(v==="library"){this.name="Library";this.id="csharp"}else if(v==="mstest"){this.name="MSTest";this.id="csharp-mstest"}else if(v==="nunit"){this.name="NUnit";this.id="csharp-nunit"}else{throw new Error(`Unknown C# language mode: ${v}`)}this._mode=v}generateAction(v){const S=this._generateActionInner(v);if(S)return S;return""}_generateActionInner(v){const S=v.action;if(this._mode!=="library"&&(S.name==="openPage"||S.name==="closePage"))return"";let Q=v.frame.pageAlias;if(this._mode!=="library")Q=Q.replace("page","Page");const H=new CSharpFormatter(this._mode==="library"?0:8);if(S.name==="openPage"){H.add(`var ${Q} = await context.NewPageAsync();`);if(S.url&&S.url!=="about:blank"&&S.url!=="chrome://newtab/")H.add(`await ${Q}.GotoAsync(${quote(S.url)});`);return H.format()}let V;if(v.frame.isMainFrame){V=Q}else{const S=v.frame.selectorsChain.map((v=>`.FrameLocator(${quote(v)})`));V=`${Q}${S.join("")}`}const J=(0,O.toSignalMap)(S);if(J.dialog){H.add(`    void ${Q}_Dialog${J.dialog.dialogAlias}_EventHandler(object sender, IDialog dialog)\n      {\n          Console.WriteLine($"Dialog message: {dialog.Message}");\n          dialog.DismissAsync();\n          ${Q}.Dialog -= ${Q}_Dialog${J.dialog.dialogAlias}_EventHandler;\n      }\n      ${Q}.Dialog += ${Q}_Dialog${J.dialog.dialogAlias}_EventHandler;`)}const Y=[];Y.push(this._generateActionCall(V,S));if(J.download){Y.unshift(`var download${J.download.downloadAlias} = await ${Q}.RunAndWaitForDownloadAsync(async () =>\n{`);Y.push(`});`)}if(J.popup){Y.unshift(`var ${J.popup.popupAlias} = await ${Q}.RunAndWaitForPopupAsync(async () =>\n{`);Y.push(`});`)}for(const v of Y)H.add(v);return H.format()}_generateActionCall(v,S){switch(S.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${v}.CloseAsync();`;case"click":{let Q="Click";if(S.clickCount===2)Q="DblClick";const O=(0,H.toModifiers)(S.modifiers);const V={};if(S.button!=="left")V.button=S.button;if(O.length)V.modifiers=O;if(S.clickCount>2)V.clickCount=S.clickCount;if(S.position)V.position=S.position;if(!Object.entries(V).length)return`await ${v}.${this._asLocator(S.selector)}.${Q}Async();`;const J=formatObject(V,"    ","Locator"+Q+"Options");return`await ${v}.${this._asLocator(S.selector)}.${Q}Async(${J});`}case"check":return`await ${v}.${this._asLocator(S.selector)}.CheckAsync();`;case"uncheck":return`await ${v}.${this._asLocator(S.selector)}.UncheckAsync();`;case"fill":return`await ${v}.${this._asLocator(S.selector)}.FillAsync(${quote(S.text)});`;case"setInputFiles":return`await ${v}.${this._asLocator(S.selector)}.SetInputFilesAsync(${formatObject(S.files)});`;case"press":{const Q=(0,H.toModifiers)(S.modifiers);const O=[...Q,S.key].join("+");return`await ${v}.${this._asLocator(S.selector)}.PressAsync(${quote(O)});`}case"navigate":return`await ${v}.GotoAsync(${quote(S.url)});`;case"select":return`await ${v}.${this._asLocator(S.selector)}.SelectOptionAsync(${formatObject(S.options)});`;case"assertText":return`await Expect(${v}.${this._asLocator(S.selector)}).${S.substring?"ToContainTextAsync":"ToHaveTextAsync"}(${quote(S.text)});`;case"assertChecked":return`await Expect(${v}.${this._asLocator(S.selector)})${S.checked?"":".Not"}.ToBeCheckedAsync();`;case"assertVisible":return`await Expect(${v}.${this._asLocator(S.selector)}).ToBeVisibleAsync();`;case"assertValue":{const Q=S.value?`ToHaveValueAsync(${quote(S.value)})`:`ToBeEmpty()`;return`await Expect(${v}.${this._asLocator(S.selector)}).${Q};`}}}_asLocator(v){return(0,J.asLocator)("csharp",v)}generateHeader(v){if(this._mode==="library")return this.generateStandaloneHeader(v);return this.generateTestRunnerHeader(v)}generateStandaloneHeader(v){const S=new CSharpFormatter(0);S.add(`\n      using Microsoft.Playwright;\n      using System;\n      using System.Threading.Tasks;\n\n      using var playwright = await Playwright.CreateAsync();\n      await using var browser = await playwright.${toPascal(v.browserName)}.LaunchAsync(${formatObject(v.launchOptions,"    ","BrowserTypeLaunchOptions")});\n      var context = await browser.NewContextAsync(${formatContextOptions(v.contextOptions,v.deviceName)});`);S.newLine();return S.format()}generateTestRunnerHeader(v){const S=new CSharpFormatter(0);S.add(`\n      using Microsoft.Playwright.${this._mode==="nunit"?"NUnit":"MSTest"};\n      using Microsoft.Playwright;\n\n      ${this._mode==="nunit"?`[Parallelizable(ParallelScope.Self)]\n      [TestFixture]`:"[TestClass]"}\n      public class Tests : PageTest\n      {`);const Q=formatContextOptions(v.contextOptions,v.deviceName);if(Q){S.add(`public override BrowserNewContextOptions ContextOptions()\n      {\n          return ${Q};\n      }`);S.newLine()}S.add(`    [${this._mode==="nunit"?"Test":"TestMethod"}]\n    public async Task MyTest()\n    {`);return S.format()}generateFooter(v){const S=this._mode==="library"?"":"        ";let Q=v?`\n${S}await context.StorageStateAsync(new BrowserContextStorageStateOptions\n${S}{\n${S}    Path = ${quote(v)}\n${S}});\n`:"";if(this._mode!=="library")Q+=`    }\n}\n`;return Q}}S.CSharpLanguageGenerator=CSharpLanguageGenerator;function formatObject(v,S="    ",Q=""){if(typeof v==="string"){if(["permissions","colorScheme","modifiers","button","recordHarContent","recordHarMode","serviceWorkers"].includes(Q))return`${getClassName(Q)}.${toPascal(v)}`;return quote(v)}if(Array.isArray(v))return`new[] { ${v.map((v=>formatObject(v,S,Q))).join(", ")} }`;if(typeof v==="object"){const O=Object.keys(v).filter((S=>v[S]!==undefined)).sort();if(!O.length)return Q?`new ${getClassName(Q)}`:"";const H=[];for(const Q of O){const O=getPropertyName(Q);H.push(`${O} = ${formatObject(v[Q],S,Q)},`)}if(Q)return`new ${getClassName(Q)}\n{\n${S}${H.join(`\n${S}`)}\n${S}}`;return`{\n${S}${H.join(`\n${S}`)}\n${S}}`}if(Q==="latitude"||Q==="longitude")return String(v)+"m";return String(v)}function getClassName(v){switch(v){case"viewport":return"ViewportSize";case"proxy":return"ProxySettings";case"permissions":return"ContextPermission";case"modifiers":return"KeyboardModifier";case"button":return"MouseButton";case"recordHarMode":return"HarMode";case"recordHarContent":return"HarContentPolicy";case"serviceWorkers":return"ServiceWorkerPolicy";default:return toPascal(v)}}function getPropertyName(v){switch(v){case"storageState":return"StorageStatePath";case"viewport":return"ViewportSize";default:return toPascal(v)}}function toPascal(v){return v[0].toUpperCase()+v.slice(1)}function convertContextOptions(v){const S={...v};if(v.recordHar){S["recordHarPath"]=v.recordHar.path;S["recordHarContent"]=v.recordHar.content;S["recordHarMode"]=v.recordHar.mode;S["recordHarOmitContent"]=v.recordHar.omitContent;S["recordHarUrlFilter"]=v.recordHar.urlFilter;delete S.recordHar}return S}function formatContextOptions(v,S){const Q=S&&Y[S];if(!Q){if(!Object.entries(v).length)return"";return formatObject(convertContextOptions(v),"    ","BrowserNewContextOptions")}v=(0,O.sanitizeDeviceOptions)(Q,v);if(!Object.entries(v).length)return`playwright.Devices[${quote(S)}]`;return formatObject(convertContextOptions(v),"    ",`BrowserNewContextOptions(playwright.Devices[${quote(S)}])`)}class CSharpFormatter{constructor(v=0){this._baseIndent=void 0;this._baseOffset=void 0;this._lines=[];this._baseIndent=" ".repeat(4);this._baseOffset=" ".repeat(v)}prepend(v){this._lines=v.trim().split("\n").map((v=>v.trim())).concat(this._lines)}add(v){this._lines.push(...v.trim().split("\n").map((v=>v.trim())))}newLine(){this._lines.push("")}format(){let v="";let S="";return this._lines.map((Q=>{if(Q==="")return Q;if(Q.startsWith("}")||Q.startsWith("]")||Q.includes("});")||Q===");")v=v.substring(this._baseIndent.length);const O=/^(for|while|if).*\(.*\)$/.test(S)?this._baseIndent:"";S=Q;Q=v+O+Q;if(Q.endsWith("{")||Q.endsWith("[")||Q.endsWith("("))v+=this._baseIndent;if(Q.endsWith("));"))v=v.substring(this._baseIndent.length);return this._baseOffset+Q})).join("\n")}}function quote(v){return(0,V.escapeWithQuotes)(v,'"')}},9359:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JavaLanguageGenerator=void 0;var O=Q(2067);var H=Q(5704);var V=Q(5954);var J=Q(7517);var Y=Q(7113);const X=Q(9870);class JavaLanguageGenerator{constructor(){this.id="java";this.groupName="Java";this.name="Library";this.highlighter="java"}generateAction(v){const S=v.action;const Q=v.frame.pageAlias;const H=new V.JavaScriptFormatter(6);if(S.name==="openPage"){H.add(`Page ${Q} = context.newPage();`);if(S.url&&S.url!=="about:blank"&&S.url!=="chrome://newtab/")H.add(`${Q}.navigate(${quote(S.url)});`);return H.format()}let J;let Y=false;if(v.frame.isMainFrame){J=Q}else{const S=v.frame.selectorsChain.map((v=>`.frameLocator(${quote(v)})`));J=`${Q}${S.join("")}`;Y=true}const X=(0,O.toSignalMap)(S);if(X.dialog){H.add(`  ${Q}.onceDialog(dialog -> {\n        System.out.println(String.format("Dialog message: %s", dialog.message()));\n        dialog.dismiss();\n      });`)}let ee=this._generateActionCall(J,S,Y);if(X.popup){ee=`Page ${X.popup.popupAlias} = ${Q}.waitForPopup(() -> {\n        ${ee}\n      });`}if(X.download){ee=`Download download${X.download.downloadAlias} = ${Q}.waitForDownload(() -> {\n        ${ee}\n      });`}H.add(ee);return H.format()}_generateActionCall(v,S,Q){switch(S.name){case"openPage":throw Error("Not reached");case"closePage":return`${v}.close();`;case"click":{let O="click";if(S.clickCount===2)O="dblclick";const V=(0,H.toModifiers)(S.modifiers);const J={};if(S.button!=="left")J.button=S.button;if(V.length)J.modifiers=V;if(S.clickCount>2)J.clickCount=S.clickCount;if(S.position)J.position=S.position;const Y=formatClickOptions(J);return`${v}.${this._asLocator(S.selector,Q)}.${O}(${Y});`}case"check":return`${v}.${this._asLocator(S.selector,Q)}.check();`;case"uncheck":return`${v}.${this._asLocator(S.selector,Q)}.uncheck();`;case"fill":return`${v}.${this._asLocator(S.selector,Q)}.fill(${quote(S.text)});`;case"setInputFiles":return`${v}.${this._asLocator(S.selector,Q)}.setInputFiles(${formatPath(S.files.length===1?S.files[0]:S.files)});`;case"press":{const O=(0,H.toModifiers)(S.modifiers);const V=[...O,S.key].join("+");return`${v}.${this._asLocator(S.selector,Q)}.press(${quote(V)});`}case"navigate":return`${v}.navigate(${quote(S.url)});`;case"select":return`${v}.${this._asLocator(S.selector,Q)}.selectOption(${formatSelectOption(S.options.length>1?S.options:S.options[0])});`;case"assertText":return`assertThat(${v}.${this._asLocator(S.selector,Q)}).${S.substring?"containsText":"hasText"}(${quote(S.text)});`;case"assertChecked":return`assertThat(${v}.${this._asLocator(S.selector,Q)})${S.checked?"":".not()"}.isChecked();`;case"assertVisible":return`assertThat(${v}.${this._asLocator(S.selector,Q)}).isVisible();`;case"assertValue":{const O=S.value?`hasValue(${quote(S.value)})`:`isEmpty()`;return`assertThat(${v}.${this._asLocator(S.selector,Q)}).${O};`}}}_asLocator(v,S){return(0,Y.asLocator)("java",v,S)}generateHeader(v){const S=new V.JavaScriptFormatter;S.add(`\n    import com.microsoft.playwright.*;\n    import com.microsoft.playwright.options.*;\n    import static com.microsoft.playwright.assertions.PlaywrightAssertions.assertThat;\n    import java.util.*;\n\n    public class Example {\n      public static void main(String[] args) {\n        try (Playwright playwright = Playwright.create()) {\n          Browser browser = playwright.${v.browserName}().launch(${formatLaunchOptions(v.launchOptions)});\n          BrowserContext context = browser.newContext(${formatContextOptions(v.contextOptions,v.deviceName)});`);return S.format()}generateFooter(v){const S=v?`\n      context.storageState(new BrowserContext.StorageStateOptions().setPath(${quote(v)}));\n`:"";return`${S}    }\n  }\n}`}}S.JavaLanguageGenerator=JavaLanguageGenerator;function formatPath(v){if(Array.isArray(v)){if(v.length===0)return"new Path[0]";return`new Path[] {${v.map((v=>"Paths.get("+quote(v)+")")).join(", ")}}`}return`Paths.get(${quote(v)})`}function formatSelectOption(v){if(Array.isArray(v)){if(v.length===0)return"new String[0]";return`new String[] {${v.map((v=>quote(v))).join(", ")}}`}return quote(v)}function formatLaunchOptions(v){const S=[];if(!Object.keys(v).filter((S=>v[S]!==undefined)).length)return"";S.push("new BrowserType.LaunchOptions()");if(v.channel)S.push(`  .setChannel(${quote(v.channel)})`);if(typeof v.headless==="boolean")S.push(`  .setHeadless(false)`);return S.join("\n")}function formatContextOptions(v,S){var Q,O,H,V,J,Y,ee;const ae=[];if(!Object.keys(v).length&&!S)return"";const he=S?X[S]:{};const Ee={...he,...v};ae.push("new Browser.NewContextOptions()");if(Ee.acceptDownloads)ae.push(`  .setAcceptDownloads(true)`);if(Ee.bypassCSP)ae.push(`  .setBypassCSP(true)`);if(Ee.colorScheme)ae.push(`  .setColorScheme(ColorScheme.${Ee.colorScheme.toUpperCase()})`);if(Ee.deviceScaleFactor)ae.push(`  .setDeviceScaleFactor(${Ee.deviceScaleFactor})`);if(Ee.geolocation)ae.push(`  .setGeolocation(${Ee.geolocation.latitude}, ${Ee.geolocation.longitude})`);if(Ee.hasTouch)ae.push(`  .setHasTouch(${Ee.hasTouch})`);if(Ee.isMobile)ae.push(`  .setIsMobile(${Ee.isMobile})`);if(Ee.locale)ae.push(`  .setLocale(${quote(Ee.locale)})`);if(Ee.proxy)ae.push(`  .setProxy(new Proxy(${quote(Ee.proxy.server)}))`);if((Q=Ee.recordHar)!==null&&Q!==void 0&&Q.content)ae.push(`  .setRecordHarContent(HarContentPolicy.${(O=Ee.recordHar)===null||O===void 0?void 0:O.content.toUpperCase()})`);if((H=Ee.recordHar)!==null&&H!==void 0&&H.mode)ae.push(`  .setRecordHarMode(HarMode.${(V=Ee.recordHar)===null||V===void 0?void 0:V.mode.toUpperCase()})`);if((J=Ee.recordHar)!==null&&J!==void 0&&J.omitContent)ae.push(`  .setRecordHarOmitContent(true)`);if((Y=Ee.recordHar)!==null&&Y!==void 0&&Y.path)ae.push(`  .setRecordHarPath(Paths.get(${quote(Ee.recordHar.path)}))`);if((ee=Ee.recordHar)!==null&&ee!==void 0&&ee.urlFilter)ae.push(`  .setRecordHarUrlFilter(${quote(Ee.recordHar.urlFilter)})`);if(Ee.serviceWorkers)ae.push(`  .setServiceWorkers(ServiceWorkerPolicy.${Ee.serviceWorkers.toUpperCase()})`);if(Ee.storageState)ae.push(`  .setStorageStatePath(Paths.get(${quote(Ee.storageState)}))`);if(Ee.timezoneId)ae.push(`  .setTimezoneId(${quote(Ee.timezoneId)})`);if(Ee.userAgent)ae.push(`  .setUserAgent(${quote(Ee.userAgent)})`);if(Ee.viewport)ae.push(`  .setViewportSize(${Ee.viewport.width}, ${Ee.viewport.height})`);return ae.join("\n")}function formatClickOptions(v){const S=[];if(v.button)S.push(`  .setButton(MouseButton.${v.button.toUpperCase()})`);if(v.modifiers)S.push(`  .setModifiers(Arrays.asList(${v.modifiers.map((v=>`KeyboardModifier.${v.toUpperCase()}`)).join(", ")}))`);if(v.clickCount)S.push(`  .setClickCount(${v.clickCount})`);if(v.position)S.push(`  .setPosition(${v.position.x}, ${v.position.y})`);if(!S.length)return"";S.unshift(`new Locator.ClickOptions()`);return S.join("\n")}function quote(v){return(0,J.escapeWithQuotes)(v,'"')}},5954:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JavaScriptLanguageGenerator=S.JavaScriptFormatter=void 0;var O=Q(2067);var H=Q(5704);var V=Q(7517);var J=Q(7113);const Y=Q(9870);class JavaScriptLanguageGenerator{constructor(v){this.id=void 0;this.groupName="Node.js";this.name=void 0;this.highlighter="javascript";this._isTest=void 0;this.id=v?"playwright-test":"javascript";this.name=v?"Test Runner":"Library";this._isTest=v}generateAction(v){const S=v.action;if(this._isTest&&(S.name==="openPage"||S.name==="closePage"))return"";const Q=v.frame.pageAlias;const H=new JavaScriptFormatter(2);if(S.name==="openPage"){H.add(`const ${Q} = await context.newPage();`);if(S.url&&S.url!=="about:blank"&&S.url!=="chrome://newtab/")H.add(`await ${Q}.goto(${quote(S.url)});`);return H.format()}let V;if(v.frame.isMainFrame){V=Q}else{const S=v.frame.selectorsChain.map((v=>`.frameLocator(${quote(v)})`));V=`${Q}${S.join("")}`}const J=(0,O.toSignalMap)(S);if(J.dialog){H.add(`  ${Q}.once('dialog', dialog => {\n    console.log(\`Dialog message: \${dialog.message()}\`);\n    dialog.dismiss().catch(() => {});\n  });`)}if(J.popup)H.add(`const ${J.popup.popupAlias}Promise = ${Q}.waitForEvent('popup');`);if(J.download)H.add(`const download${J.download.downloadAlias}Promise = ${Q}.waitForEvent('download');`);H.add(this._generateActionCall(V,S));if(J.popup)H.add(`const ${J.popup.popupAlias} = await ${J.popup.popupAlias}Promise;`);if(J.download)H.add(`const download${J.download.downloadAlias} = await download${J.download.downloadAlias}Promise;`);return H.format()}_generateActionCall(v,S){switch(S.name){case"openPage":throw Error("Not reached");case"closePage":return`await ${v}.close();`;case"click":{let Q="click";if(S.clickCount===2)Q="dblclick";const O=(0,H.toModifiers)(S.modifiers);const V={};if(S.button!=="left")V.button=S.button;if(O.length)V.modifiers=O;if(S.clickCount>2)V.clickCount=S.clickCount;if(S.position)V.position=S.position;const J=formatOptions(V,false);return`await ${v}.${this._asLocator(S.selector)}.${Q}(${J});`}case"check":return`await ${v}.${this._asLocator(S.selector)}.check();`;case"uncheck":return`await ${v}.${this._asLocator(S.selector)}.uncheck();`;case"fill":return`await ${v}.${this._asLocator(S.selector)}.fill(${quote(S.text)});`;case"setInputFiles":return`await ${v}.${this._asLocator(S.selector)}.setInputFiles(${formatObject(S.files.length===1?S.files[0]:S.files)});`;case"press":{const Q=(0,H.toModifiers)(S.modifiers);const O=[...Q,S.key].join("+");return`await ${v}.${this._asLocator(S.selector)}.press(${quote(O)});`}case"navigate":return`await ${v}.goto(${quote(S.url)});`;case"select":return`await ${v}.${this._asLocator(S.selector)}.selectOption(${formatObject(S.options.length>1?S.options:S.options[0])});`;case"assertText":return`${this._isTest?"":"// "}await expect(${v}.${this._asLocator(S.selector)}).${S.substring?"toContainText":"toHaveText"}(${quote(S.text)});`;case"assertChecked":return`${this._isTest?"":"// "}await expect(${v}.${this._asLocator(S.selector)})${S.checked?"":".not"}.toBeChecked();`;case"assertVisible":return`${this._isTest?"":"// "}await expect(${v}.${this._asLocator(S.selector)}).toBeVisible();`;case"assertValue":{const Q=S.value?`toHaveValue(${quote(S.value)})`:`toBeEmpty()`;return`${this._isTest?"":"// "}await expect(${v}.${this._asLocator(S.selector)}).${Q};`}}}_asLocator(v){return(0,J.asLocator)("javascript",v)}generateHeader(v){if(this._isTest)return this.generateTestHeader(v);return this.generateStandaloneHeader(v)}generateFooter(v){if(this._isTest)return this.generateTestFooter(v);return this.generateStandaloneFooter(v)}generateTestHeader(v){const S=new JavaScriptFormatter;const Q=formatContextOptions(v.contextOptions,v.deviceName);S.add(`\n      import { test, expect${v.deviceName?", devices":""} } from '@playwright/test';\n${Q?"\ntest.use("+Q+");\n":""}\n      test('test', async ({ page }) => {`);return S.format()}generateTestFooter(v){return`});`}generateStandaloneHeader(v){const S=new JavaScriptFormatter;S.add(`\n      const { ${v.browserName}${v.deviceName?", devices":""} } = require('playwright');\n\n      (async () => {\n        const browser = await ${v.browserName}.launch(${formatObjectOrVoid(v.launchOptions)});\n        const context = await browser.newContext(${formatContextOptions(v.contextOptions,v.deviceName)});`);return S.format()}generateStandaloneFooter(v){const S=v?`\n  await context.storageState({ path: ${quote(v)} });`:"";return`\n  // ---------------------${S}\n  await context.close();\n  await browser.close();\n})();`}}S.JavaScriptLanguageGenerator=JavaScriptLanguageGenerator;function formatOptions(v,S){const Q=Object.keys(v);if(!Q.length)return"";return(S?", ":"")+formatObject(v)}function formatObject(v,S="  "){if(typeof v==="string")return quote(v);if(Array.isArray(v))return`[${v.map((v=>formatObject(v))).join(", ")}]`;if(typeof v==="object"){const Q=Object.keys(v).filter((S=>v[S]!==undefined)).sort();if(!Q.length)return"{}";const O=[];for(const S of Q)O.push(`${S}: ${formatObject(v[S])}`);return`{\n${S}${O.join(`,\n${S}`)}\n}`}return String(v)}function formatObjectOrVoid(v,S="  "){const Q=formatObject(v,S);return Q==="{}"?"":Q}function formatContextOptions(v,S){const Q=S&&Y[S];if(!Q)return formatObjectOrVoid(v);let H=formatObjectOrVoid((0,O.sanitizeDeviceOptions)(Q,v));if(!H)H="{\n}";const V=H.split("\n");V.splice(1,0,`...devices[${quote(S)}],`);return V.join("\n")}class JavaScriptFormatter{constructor(v=0){this._baseIndent=void 0;this._baseOffset=void 0;this._lines=[];this._baseIndent=" ".repeat(2);this._baseOffset=" ".repeat(v)}prepend(v){this._lines=v.trim().split("\n").map((v=>v.trim())).concat(this._lines)}add(v){this._lines.push(...v.trim().split("\n").map((v=>v.trim())))}newLine(){this._lines.push("")}format(){let v="";let S="";return this._lines.map((Q=>{if(Q==="")return Q;if(Q.startsWith("}")||Q.startsWith("]"))v=v.substring(this._baseIndent.length);const O=/^(for|while|if|try).*\(.*\)$/.test(S)?this._baseIndent:"";S=Q;const H=Q.startsWith(".set");Q=v+O+(H?this._baseIndent:"")+Q;if(Q.endsWith("{")||Q.endsWith("["))v+=this._baseIndent;return this._baseOffset+Q})).join("\n")}}S.JavaScriptFormatter=JavaScriptFormatter;function quote(v){return(0,V.escapeWithQuotes)(v,"'")}},426:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.JsonlLanguageGenerator=void 0;var O=Q(7113);class JsonlLanguageGenerator{constructor(){this.id="jsonl";this.groupName="";this.name="JSONL";this.highlighter="javascript"}generateAction(v){const S=v.action.selector?JSON.parse((0,O.asLocator)("jsonl",v.action.selector)):undefined;const Q={...v.action,pageAlias:v.frame.pageAlias,locator:S};return JSON.stringify(Q)}generateHeader(v){return JSON.stringify(v)}generateFooter(v){return""}}S.JsonlLanguageGenerator=JsonlLanguageGenerator},2067:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.sanitizeDeviceOptions=sanitizeDeviceOptions;S.toSignalMap=toSignalMap;function sanitizeDeviceOptions(v,S){const Q={};for(const O in S){if(JSON.stringify(v[O])!==JSON.stringify(S[O]))Q[O]=S[O]}return Q}function toSignalMap(v){let S;let Q;let O;for(const H of v.signals){if(H.name==="popup")S=H;else if(H.name==="download")Q=H;else if(H.name==="dialog")O=H}return{popup:S,download:Q,dialog:O}}},3082:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.PythonLanguageGenerator=void 0;var O=Q(2067);var H=Q(5704);var V=Q(7517);var J=Q(7113);const Y=Q(9870);class PythonLanguageGenerator{constructor(v,S){this.id=void 0;this.groupName="Python";this.name=void 0;this.highlighter="python";this._awaitPrefix=void 0;this._asyncPrefix=void 0;this._isAsync=void 0;this._isPyTest=void 0;this.id=S?"python-pytest":v?"python-async":"python";this.name=S?"Pytest":v?"Library Async":"Library";this._isAsync=v;this._isPyTest=S;this._awaitPrefix=v?"await ":"";this._asyncPrefix=v?"async ":""}generateAction(v){const S=v.action;if(this._isPyTest&&(S.name==="openPage"||S.name==="closePage"))return"";const Q=v.frame.pageAlias;const H=new PythonFormatter(4);if(S.name==="openPage"){H.add(`${Q} = ${this._awaitPrefix}context.new_page()`);if(S.url&&S.url!=="about:blank"&&S.url!=="chrome://newtab/")H.add(`${this._awaitPrefix}${Q}.goto(${quote(S.url)})`);return H.format()}let V;if(v.frame.isMainFrame){V=Q}else{const S=v.frame.selectorsChain.map((v=>`.frame_locator(${quote(v)})`));V=`${Q}${S.join("")}`}const J=(0,O.toSignalMap)(S);if(J.dialog)H.add(`  ${Q}.once("dialog", lambda dialog: dialog.dismiss())`);let Y=`${this._awaitPrefix}${this._generateActionCall(V,S)}`;if(J.popup){Y=`${this._asyncPrefix}with ${Q}.expect_popup() as ${J.popup.popupAlias}_info {\n        ${Y}\n      }\n      ${J.popup.popupAlias} = ${this._awaitPrefix}${J.popup.popupAlias}_info.value`}if(J.download){Y=`${this._asyncPrefix}with ${Q}.expect_download() as download${J.download.downloadAlias}_info {\n        ${Y}\n      }\n      download${J.download.downloadAlias} = ${this._awaitPrefix}download${J.download.downloadAlias}_info.value`}H.add(Y);return H.format()}_generateActionCall(v,S){switch(S.name){case"openPage":throw Error("Not reached");case"closePage":return`${v}.close()`;case"click":{let Q="click";if(S.clickCount===2)Q="dblclick";const O=(0,H.toModifiers)(S.modifiers);const V={};if(S.button!=="left")V.button=S.button;if(O.length)V.modifiers=O;if(S.clickCount>2)V.clickCount=S.clickCount;if(S.position)V.position=S.position;const J=formatOptions(V,false);return`${v}.${this._asLocator(S.selector)}.${Q}(${J})`}case"check":return`${v}.${this._asLocator(S.selector)}.check()`;case"uncheck":return`${v}.${this._asLocator(S.selector)}.uncheck()`;case"fill":return`${v}.${this._asLocator(S.selector)}.fill(${quote(S.text)})`;case"setInputFiles":return`${v}.${this._asLocator(S.selector)}.set_input_files(${formatValue(S.files.length===1?S.files[0]:S.files)})`;case"press":{const Q=(0,H.toModifiers)(S.modifiers);const O=[...Q,S.key].join("+");return`${v}.${this._asLocator(S.selector)}.press(${quote(O)})`}case"navigate":return`${v}.goto(${quote(S.url)})`;case"select":return`${v}.${this._asLocator(S.selector)}.select_option(${formatValue(S.options.length===1?S.options[0]:S.options)})`;case"assertText":return`expect(${v}.${this._asLocator(S.selector)}).${S.substring?"to_contain_text":"to_have_text"}(${quote(S.text)})`;case"assertChecked":return`expect(${v}.${this._asLocator(S.selector)}).${S.checked?"to_be_checked()":"not_to_be_checked()"}`;case"assertVisible":return`expect(${v}.${this._asLocator(S.selector)}).to_be_visible()`;case"assertValue":{const Q=S.value?`to_have_value(${quote(S.value)})`:`to_be_empty()`;return`expect(${v}.${this._asLocator(S.selector)}).${Q};`}}}_asLocator(v){return(0,J.asLocator)("python",v)}generateHeader(v){const S=new PythonFormatter;if(this._isPyTest){const Q=formatContextOptions(v.contextOptions,v.deviceName,true);const O=Q?`\n\n@pytest.fixture(scope="session")\ndef browser_context_args(browser_context_args, playwright) {\n    return {${Q}}\n}\n`:"";S.add(`${v.deviceName?"import pytest\n":""}\nfrom playwright.sync_api import Page, expect\n${O}\n\ndef test_example(page: Page) -> None {`)}else if(this._isAsync){S.add(`\nimport asyncio\n\nfrom playwright.async_api import Playwright, async_playwright, expect\n\n\nasync def run(playwright: Playwright) -> None {\n    browser = await playwright.${v.browserName}.launch(${formatOptions(v.launchOptions,false)})\n    context = await browser.new_context(${formatContextOptions(v.contextOptions,v.deviceName)})`)}else{S.add(`\nfrom playwright.sync_api import Playwright, sync_playwright, expect\n\n\ndef run(playwright: Playwright) -> None {\n    browser = playwright.${v.browserName}.launch(${formatOptions(v.launchOptions,false)})\n    context = browser.new_context(${formatContextOptions(v.contextOptions,v.deviceName)})`)}return S.format()}generateFooter(v){if(this._isPyTest){return""}else if(this._isAsync){const S=v?`\n    await context.storage_state(path=${quote(v)})`:"";return`\n    # ---------------------${S}\n    await context.close()\n    await browser.close()\n\n\nasync def main() -> None:\n    async with async_playwright() as playwright:\n        await run(playwright)\n\n\nasyncio.run(main())\n`}else{const S=v?`\n    context.storage_state(path=${quote(v)})`:"";return`\n    # ---------------------${S}\n    context.close()\n    browser.close()\n\n\nwith sync_playwright() as playwright:\n    run(playwright)\n`}}}S.PythonLanguageGenerator=PythonLanguageGenerator;function formatValue(v){if(v===false)return"False";if(v===true)return"True";if(v===undefined)return"None";if(Array.isArray(v))return`[${v.map(formatValue).join(", ")}]`;if(typeof v==="string")return quote(v);if(typeof v==="object")return JSON.stringify(v);return String(v)}function formatOptions(v,S,Q){const O=Object.keys(v).filter((S=>v[S]!==undefined)).sort();if(!O.length)return"";return(S?", ":"")+O.map((S=>{if(Q)return`"${(0,V.toSnakeCase)(S)}": ${formatValue(v[S])}`;return`${(0,V.toSnakeCase)(S)}=${formatValue(v[S])}`})).join(", ")}function convertContextOptions(v){const S={...v};if(v.recordHar){S["record_har_path"]=v.recordHar.path;S["record_har_content"]=v.recordHar.content;S["record_har_mode"]=v.recordHar.mode;S["record_har_omit_content"]=v.recordHar.omitContent;S["record_har_url_filter"]=v.recordHar.urlFilter;delete S.recordHar}return S}function formatContextOptions(v,S,Q){const H=S&&Y[S];if(!H)return formatOptions(convertContextOptions(v),false,Q);return`**playwright.devices[${quote(S)}]`+formatOptions(convertContextOptions((0,O.sanitizeDeviceOptions)(H,v)),true,Q)}class PythonFormatter{constructor(v=0){this._baseIndent=void 0;this._baseOffset=void 0;this._lines=[];this._baseIndent=" ".repeat(4);this._baseOffset=" ".repeat(v)}prepend(v){this._lines=v.trim().split("\n").map((v=>v.trim())).concat(this._lines)}add(v){this._lines.push(...v.trim().split("\n").map((v=>v.trim())))}newLine(){this._lines.push("")}format(){let v="";const S=[];this._lines.forEach((Q=>{if(Q==="")return S.push(Q);if(Q==="}"){v=v.substring(this._baseIndent.length);return}Q=v+Q;if(Q.endsWith("{")){v+=this._baseIndent;Q=Q.substring(0,Q.length-1).trimEnd()+":"}return S.push(this._baseOffset+Q)}));return S.join("\n")}}function quote(v){return(0,V.escapeWithQuotes)(v,'"')}},7351:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.RecorderApp=S.EmptyRecorderApp=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=Q(2836);var J=Q(2361);var Y=Q(6686);var X=Q(3557);var ee=Q(1319);var ae=Q(984);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class EmptyRecorderApp extends J.EventEmitter{async close(){}async setPaused(v){}async setMode(v){}async setFileIfNeeded(v){}async setSelector(v,S){}async updateCallLogs(v){}async setSources(v){}}S.EmptyRecorderApp=EmptyRecorderApp;class RecorderApp extends J.EventEmitter{constructor(v,S,Q){super();this._page=void 0;this.wsEndpoint=void 0;this._recorder=void 0;this.setMaxListeners(0);this._recorder=v;this._page=S;this.wsEndpoint=Q}async close(){await this._page.context().close({reason:"Recorder window closed"})}async _init(){await(0,ae.syncLocalStorageWithSettings)(this._page,"recorder");await this._page._setServerRequestInterceptor((v=>{if(!v.request().url().startsWith("https://playwright/"))return false;const S=v.request().url().substring("https://playwright/".length);const Q=require.resolve("../../vite/recorder/"+S);O.default.promises.readFile(Q).then((S=>{v.fulfill({requestUrl:v.request().url(),status:200,headers:[{name:"Content-Type",value:ee.mime.getType(H.default.extname(Q))||"application/octet-stream"}],body:S.toString("base64"),isBase64:true}).catch((()=>{}))}));return true}));await this._page.exposeBinding("dispatch",false,((v,S)=>this.emit("event",S)));this._page.once("close",(()=>{this.emit("close");this._page.context().close({reason:"Recorder window closed"}).catch((()=>{}))}));const v=this._page.mainFrame();await v.goto((0,Y.serverSideCallMetadata)(),"https://playwright/index.html")}static async open(v,S,O){const H=S.attribution.playwright.options.sdkLanguage;const J=!!S._browser.options.headful;const ee=Q(4506).createPlaywright({sdkLanguage:"javascript",isInternalPlaywright:true});const{context:he,page:Ee}=await(0,ae.launchApp)(ee.chromium,{sdkLanguage:H,windowSize:{width:600,height:600},windowPosition:{x:1020,y:10},persistentContextOptions:{noDefaultViewport:true,headless:!!process.env.PWTEST_CLI_HEADLESS||(0,X.isUnderTest)()&&!J,useWebSocket:!!process.env.PWTEST_RECORDER_PORT,handleSIGINT:O,args:process.env.PWTEST_RECORDER_PORT?[`--remote-debugging-port=${process.env.PWTEST_RECORDER_PORT}`]:[]}});const Be=new V.ProgressController((0,Y.serverSideCallMetadata)(),he._browser);await Be.run((async v=>{await he._browser._defaultContext._loadDefaultContextAsIs(v)}));const ke=new RecorderApp(v,Ee,he._browser.options.wsEndpoint);await ke._init();return ke}async setMode(v){await this._page.mainFrame().evaluateExpression((v=>{window.playwrightSetMode(v)}).toString(),{isFunction:true},v).catch((()=>{}))}async setFileIfNeeded(v){await this._page.mainFrame().evaluateExpression((v=>{window.playwrightSetFileIfNeeded(v)}).toString(),{isFunction:true},v).catch((()=>{}))}async setPaused(v){await this._page.mainFrame().evaluateExpression((v=>{window.playwrightSetPaused(v)}).toString(),{isFunction:true},v).catch((()=>{}))}async setSources(v){await this._page.mainFrame().evaluateExpression((v=>{window.playwrightSetSources(v)}).toString(),{isFunction:true},v).catch((()=>{}));if(process.env.PWTEST_CLI_IS_UNDER_TEST&&v.length)process._didSetSourcesForTest(v[0].text)}async setSelector(v,S){if(S){if(this._recorder.mode()==="inspecting"){this._recorder.setMode("standby");this._page.bringToFront()}else{this._recorder.setMode("recording")}}await this._page.mainFrame().evaluateExpression((v=>{window.playwrightSetSelector(v.selector,v.userGesture)}).toString(),{isFunction:true},{selector:v,userGesture:S}).catch((()=>{}))}async updateCallLogs(v){await this._page.mainFrame().evaluateExpression((v=>{window.playwrightUpdateLogs(v)}).toString(),{isFunction:true},v).catch((()=>{}))}}S.RecorderApp=RecorderApp},9311:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.metadataToCallLog=metadataToCallLog;function metadataToCallLog(v,S){var Q,O,H,V;let J=v.apiName||v.method;if(v.method==="waitForEventInfo")J+=`(${v.params.info.event})`;J=J.replace("object.expect","expect");if(v.error)S="error";const Y={url:(Q=v.params)===null||Q===void 0?void 0:Q.url,selector:(O=v.params)===null||O===void 0?void 0:O.selector};let X=v.endTime?v.endTime-v.startTime:undefined;if(typeof X==="number"&&v.pauseStartTime&&v.pauseEndTime){X-=v.pauseEndTime-v.pauseStartTime;X=Math.max(X,0)}const ee={id:v.id,messages:v.log,title:J,status:S,error:(H=v.error)===null||H===void 0?void 0:(V=H.error)===null||V===void 0?void 0:V.message,params:Y,duration:X};return ee}},5704:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.toClickOptions=toClickOptions;S.toModifiers=toModifiers;function toClickOptions(v){let S="click";if(v.clickCount===2)S="dblclick";const Q=toModifiers(v.modifiers);const O={};if(v.button!=="left")O.button=v.button;if(Q.length)O.modifiers=Q;if(v.clickCount>2)O.clickCount=v.clickCount;if(v.position)O.position=v.position;return{method:S,options:O}}function toModifiers(v){const S=[];if(v&1)S.push("Alt");if(v&2)S.push("Control");if(v&4)S.push("Meta");if(v&8)S.push("Shift");return S}},8285:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.downloadBrowserWithProgressBar=downloadBrowserWithProgressBar;S.logPolitely=logPolitely;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(2037));var V=_interopRequireDefault(Q(1017));var J=_interopRequireDefault(Q(2081));var Y=Q(6034);var X=Q(2003);var ee=Q(6729);var ae=Q(1319);var he=Q(9048);var Ee=Q(9521);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}async function downloadBrowserWithProgressBar(v,S,Q,J,ee,Ee){if(await(0,Y.existsAsync)((0,he.browserDirectoryToMarkerFilePath)(S))){X.debugLogger.log("install",`${v} is already downloaded.`);return false}const Be=V.default.join(H.default.tmpdir(),ee);try{const H=3;for(let V=1;V<=H;++V){X.debugLogger.log("install",`downloading ${v} - attempt #${V}`);const ee=J[(V-1)%J.length];logPolitely(`Downloading ${v}`+ae.colors.dim(` from ${ee}`));const{error:he}=await downloadBrowserWithProgressBarOutOfProcess(v,S,ee,Be,Q,Ee);if(!he){X.debugLogger.log("install",`SUCCESS installing ${v}`);break}if(await(0,Y.existsAsync)(Be))await O.default.promises.unlink(Be);if(await(0,Y.existsAsync)(S))await O.default.promises.rmdir(S,{recursive:true});const ke=(he===null||he===void 0?void 0:he.message)||"";X.debugLogger.log("install",`attempt #${V} - ERROR: ${ke}`);if(V>=H)throw he}}catch(S){X.debugLogger.log("install",`FAILED installation ${v} with error: ${S}`);process.exitCode=1;throw S}finally{if(await(0,Y.existsAsync)(Be))await O.default.promises.unlink(Be)}logPolitely(`${v} downloaded to ${S}`);return true}function downloadBrowserWithProgressBarOutOfProcess(v,S,Q,H,Y,ae){const Be=J.default.fork(V.default.join(__dirname,"oopDownloadBrowserMain.js"));const ke=new ee.ManualPromise;const Re=getDownloadProgress();Be.on("message",(v=>{if((v===null||v===void 0?void 0:v.method)==="log")X.debugLogger.log("install",v.params.message);if((v===null||v===void 0?void 0:v.method)==="progress")Re(v.params.done,v.params.total)}));Be.on("exit",(v=>{if(v!==0){ke.resolve({error:new Error(`Download failure, code=${v}`)});return}if(!O.default.existsSync((0,he.browserDirectoryToMarkerFilePath)(S)))ke.resolve({error:new Error(`Download failure, ${(0,he.browserDirectoryToMarkerFilePath)(S)} does not exist`)});else ke.resolve({error:null})}));Be.on("error",(v=>{ke.resolve({error:v})}));X.debugLogger.log("install",`running download:`);X.debugLogger.log("install",`-- from url: ${Q}`);X.debugLogger.log("install",`-- to location: ${H}`);const Oe={title:v,browserDirectory:S,url:Q,zipPath:H,executablePath:Y,connectionTimeout:ae,userAgent:(0,Ee.getUserAgent)()};Be.send({method:"download",params:Oe});return ke}function logPolitely(v){const S=process.env.npm_config_loglevel;const Q=["silent","error","warn"].indexOf(S||"")>-1;if(!Q)console.log(v)}function getDownloadProgress(){if(process.stdout.isTTY)return getAnimatedDownloadProgress();return getBasicDownloadProgress()}function getAnimatedDownloadProgress(){let v;let S=0;return(Q,O)=>{if(!v){v=new ae.progress(`${toMegabytes(O)} [:bar] :percent :etas`,{complete:"=",incomplete:" ",width:20,total:O})}const H=Q-S;S=Q;v.tick(H)}}function getBasicDownloadProgress(){const v=10;const S=8;let Q=-1;return(O,H)=>{const V=O/H;const J=Math.floor(v*V);if(J>Q){Q=J;const O=String(V*100|0).padStart(3);console.log(`|${"■".repeat(J*S)}${" ".repeat((v-J)*S)}| ${O}% of ${toMegabytes(H)}`)}}}function toMegabytes(v){const S=v/1024/1024;return`${Math.round(S*10)/10} MiB`}},9349:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.dockerVersion=dockerVersion;S.installDependenciesLinux=installDependenciesLinux;S.installDependenciesWindows=installDependenciesWindows;S.readDockerVersionSync=readDockerVersionSync;S.transformCommandsForRoot=transformCommandsForRoot;S.validateDependenciesLinux=validateDependenciesLinux;S.validateDependenciesWindows=validateDependenciesWindows;S.writeDockerVersion=writeDockerVersion;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=_interopRequireWildcard(Q(2037));var J=_interopRequireDefault(Q(2081));var Y=_interopRequireWildcard(Q(3557));var X=Q(4588);var ee=Q(5228);var ae=Q(9048);var he=Q(4971);var Ee=Q(9521);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const Be=H.default.join(__dirname,"..","..","..","bin");const ke=process.env.PW_CLI_DISPLAY_VERSION||Q(9415).i8;const Re="/ms-playwright/.docker-info";async function writeDockerVersion(v){await O.default.promises.mkdir(H.default.dirname(Re),{recursive:true});await O.default.promises.writeFile(Re,JSON.stringify(dockerVersion(v),null,2),"utf8");await O.default.promises.chmod(Re,511)}function dockerVersion(v){return{driverVersion:ke,dockerImageName:v.replace("%version%",ke)}}function readDockerVersionSync(){try{const v=JSON.parse(O.default.readFileSync(Re,"utf8"));return{...v,dockerImageNameTemplate:v.dockerImageName.replace(v.driverVersion,"%version%")}}catch(v){return null}}const checkExecutable=v=>{if(process.platform==="win32")return v.endsWith(".exe");return O.default.promises.access(v,O.default.constants.X_OK).then((()=>true)).catch((()=>false))};function isSupportedWindowsVersion(){if(V.platform()!=="win32"||V.arch()!=="x64")return false;const[v,S]=V.release().split(".").map((v=>parseInt(v,10)));return v>6||v===6&&S>1}async function installDependenciesWindows(v,S){if(v.has("chromium")){const v="powershell.exe";const Q=["-ExecutionPolicy","Bypass","-File",H.default.join(Be,"install_media_pack.ps1")];if(S){console.log(`${v} ${quoteProcessArgs(Q).join(" ")}`);return}const{code:O}=await(0,X.spawnAsync)(v,Q,{cwd:Be,stdio:"inherit"});if(O!==0)throw new Error("Failed to install windows dependencies!")}}async function installDependenciesLinux(v,S){const Q=[];const O=ee.hostPlatform;if(!ee.isOfficiallySupportedPlatform)console.warn(`BEWARE: your OS is not officially supported by Playwright; installing dependencies for ${O} as a fallback.`);for(const S of v){const v=he.deps[O];if(!v){console.warn(`Cannot install dependencies for ${O}!`);return}Q.push(...v[S])}const H=Array.from(new Set(Q));if(!S)console.log(`Installing dependencies...`);const V=[];V.push("apt-get update");V.push(["apt-get","install","-y","--no-install-recommends",...H].join(" "));const{command:Y,args:X,elevatedPermissions:ae}=await transformCommandsForRoot(V);if(S){console.log(`${Y} ${quoteProcessArgs(X).join(" ")}`);return}if(ae)console.log("Switching to root user to install dependencies...");const Ee=J.default.spawn(Y,X,{stdio:"inherit"});await new Promise(((v,S)=>{Ee.on("exit",(Q=>Q===0?v():S(new Error(`Installation process exited with code: ${Q}`))));Ee.on("error",S)}))}async function validateDependenciesWindows(v){const S=v;const Q=[];for(const v of S)Q.push(...await executablesOrSharedLibraries(v));const O=await Promise.all(Q.map((v=>missingFileDependenciesWindows(v))));const H=new Set;for(const v of O){for(const S of v)H.add(S)}if(!H.size)return;let V=false;let J=false;for(const v of H){if(v.startsWith("api-ms-win-crt")||v==="vcruntime140.dll"||v==="vcruntime140_1.dll"||v==="msvcp140.dll")V=true;else if(v==="mf.dll"||v==="mfplat.dll"||v==="msmpeg2vdec.dll"||v==="evr.dll"||v==="avrt.dll")J=true}const Y=[];if(V){Y.push(`Some of the Universal C Runtime files cannot be found on the system. You can fix`,`that by installing Microsoft Visual C++ Redistributable for Visual Studio from:`,`https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads`,``)}if(J){Y.push(`Some of the Media Foundation files cannot be found on the system. If you are`,`on Windows Server try fixing this by running the following command in PowerShell`,`as Administrator:`,``,`    Install-WindowsFeature Server-Media-Foundation`,``,`For Windows N editions visit:`,`https://support.microsoft.com/en-us/help/3145500/media-feature-pack-list-for-windows-n-editions`,``)}Y.push(`Full list of missing libraries:`,`    ${[...H].join("\n    ")}`,``);const X=`Host system is missing dependencies!\n\n${Y.join("\n")}`;if(isSupportedWindowsVersion()){throw new Error(X)}else{console.warn(`WARNING: running on unsupported windows version!`);console.warn(X)}}async function validateDependenciesLinux(v,S,Q){var O;const H=S;const J=[];for(const v of H)J.push(...await executablesOrSharedLibraries(v));const X=await Promise.all(J.map((v=>missingFileDependencies(v,H))));const Be=new Set;for(const v of X){for(const S of v)Be.add(S)}for(const v of await missingDLOPENLibraries(Q))Be.add(v);if(!Be.size)return;const ke=new Set(Be);const Re=new Set;const Pe=he.deps[ee.hostPlatform]?{...((O=he.deps[ee.hostPlatform])===null||O===void 0?void 0:O.lib2package)||{},...Oe}:{};for(const v of Be){const S=Pe[v];if(S){Re.add(S);Be.delete(v)}}const Le=process.getuid()!==0&&V.platform()!=="win32"?"sudo ":"";const je=readDockerVersionSync();const qe=[`Host system is missing dependencies to run browsers.`];if(je&&!je.driverVersion.startsWith((0,Ee.getPlaywrightVersion)(true)+".")){const S=(0,Ee.getPlaywrightVersion)();const Q=je.dockerImageName.replace(je.driverVersion,S);qe.push(...[`This is most likely due to docker image version not matching Playwright version:`,`- Playwright: ${S}`,`-     Docker: ${je.driverVersion}`,``,`Either:`,`- (recommended) use docker image "${Q}"`,`- (alternative 1) run the following command inside docker to install missing dependencies:`,``,`    ${Le}${(0,ae.buildPlaywrightCLICommand)(v,"install-deps")}`,``,`- (alternative 2) use apt inside docker:`,``,`    ${Le}apt-get install ${[...Re].join("\\\n        ")}`,``,`<3 Playwright Team`])}else if(Re.size&&!Be.size){qe.push(...[`Please install them with the following command:`,``,`    ${Le}${(0,ae.buildPlaywrightCLICommand)(v,"install-deps")}`,``,`Alternatively, use apt:`,`    ${Le}apt-get install ${[...Re].join("\\\n        ")}`,``,`<3 Playwright Team`])}else{qe.push(...[`Missing libraries:`,...[...ke].map((v=>"    "+v))])}throw new Error("\n"+Y.wrapInASCIIBox(qe.join("\n"),1))}function isSharedLib(v){switch(V.platform()){case"linux":return v.endsWith(".so")||v.includes(".so.");case"win32":return v.endsWith(".dll");default:return false}}async function executablesOrSharedLibraries(v){if(!O.default.existsSync(v))return[];const S=(await O.default.promises.readdir(v)).map((S=>H.default.resolve(v,S)));const Q=await Promise.all(S.map((v=>O.default.promises.stat(v))));const V=S.filter(((v,S)=>Q[S].isFile()));const J=(await Promise.all(V.map((async v=>{const S=H.default.basename(v).toLowerCase();if(isSharedLib(S))return v;if(await checkExecutable(v))return v;return false})))).filter(Boolean);return J}async function missingFileDependenciesWindows(v){const S=H.default.join(__dirname,"..","..","..","bin","PrintDeps.exe");const Q=H.default.dirname(v);const{stdout:O,code:V}=await(0,X.spawnAsync)(S,[v],{cwd:Q,env:{...process.env,LD_LIBRARY_PATH:process.env.LD_LIBRARY_PATH?`${process.env.LD_LIBRARY_PATH}:${Q}`:Q}});if(V!==0)return[];const J=O.split("\n").map((v=>v.trim())).filter((v=>v.endsWith("not found")&&v.includes("=>"))).map((v=>v.split("=>")[0].trim().toLowerCase()));return J}async function missingFileDependencies(v,S){const Q=H.default.dirname(v);let O=S.join(":");if(process.env.LD_LIBRARY_PATH)O=`${process.env.LD_LIBRARY_PATH}:${O}`;const{stdout:V,code:J}=await(0,X.spawnAsync)("ldd",[v],{cwd:Q,env:{...process.env,LD_LIBRARY_PATH:O}});if(J!==0)return[];const Y=V.split("\n").map((v=>v.trim())).filter((v=>v.endsWith("not found")&&v.includes("=>"))).map((v=>v.split("=>")[0].trim()));return Y}async function missingDLOPENLibraries(v){if(!v.length)return[];const{stdout:S,code:Q,error:O}=await(0,X.spawnAsync)("/sbin/ldconfig",["-p"],{});if(Q!==0||O)return[];const isLibraryAvailable=v=>S.toLowerCase().includes(v.toLowerCase());return v.filter((v=>!isLibraryAvailable(v)))}const Oe={"libx264.so":"gstreamer1.0-libav"};function quoteProcessArgs(v){return v.map((v=>{if(v.includes(" "))return`"${v}"`;return v}))}async function transformCommandsForRoot(v){const S=process.getuid()===0;if(S)return{command:"sh",args:["-c",`${v.join("&& ")}`],elevatedPermissions:false};const Q=await(0,X.spawnAsync)("which",["sudo"]);if(Q.code===0)return{command:"sudo",args:["--","sh","-c",`${v.join("&& ")}`],elevatedPermissions:true};return{command:"su",args:["root","-c",`${v.join("&& ")}`],elevatedPermissions:true}}},9048:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Registry=void 0;S.browserDirectoryToMarkerFilePath=browserDirectoryToMarkerFilePath;S.buildPlaywrightCLICommand=buildPlaywrightCLICommand;S.findChromiumChannel=findChromiumChannel;S.installBrowsersForNpmInstall=installBrowsersForNpmInstall;S.installDefaultBrowsersForNpmInstall=installDefaultBrowsersForNpmInstall;S.registryDirectory=S.registry=void 0;Object.defineProperty(S,"writeDockerVersion",{enumerable:true,get:function(){return Re.writeDockerVersion}});var O=_interopRequireWildcard(Q(2037));var H=_interopRequireDefault(Q(1017));var V=_interopRequireWildcard(Q(3837));var J=_interopRequireWildcard(Q(7147));var Y=Q(1319);var X=Q(1665);var ee=Q(9965);var ae=Q(9521);var he=Q(3557);var Ee=Q(6034);var Be=Q(5228);var ke=Q(4588);var Re=Q(9349);var Oe=Q(8285);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const Pe=H.default.join(__dirname,"..","..","..");const Le=H.default.join(__dirname,"..","..","..","bin");const je=["https://playwright.azureedge.net","https://playwright-akamai.azureedge.net","https://playwright-verizon.azureedge.net"];if(process.env.PW_TEST_CDN_THAT_SHOULD_WORK){for(let v=0;v<je.length;v++){const S=je[v];if(S!==process.env.PW_TEST_CDN_THAT_SHOULD_WORK)je[v]=S+".does-not-resolve.playwright.dev"}}const qe={chromium:{linux:["chrome-linux","chrome"],mac:["chrome-mac","Chromium.app","Contents","MacOS","Chromium"],win:["chrome-win","chrome.exe"]},firefox:{linux:["firefox","firefox"],mac:["firefox","Nightly.app","Contents","MacOS","firefox"],win:["firefox","firefox.exe"]},webkit:{linux:["pw_run.sh"],mac:["pw_run.sh"],win:["Playwright.exe"]},ffmpeg:{linux:["ffmpeg-linux"],mac:["ffmpeg-mac"],win:["ffmpeg-win64.exe"]}};const Ve={chromium:{"<unknown>":undefined,"ubuntu18.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu20.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-linux.zip","ubuntu18.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu20.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-linux-arm64.zip","mac10.13":"builds/chromium/%s/chromium-mac.zip","mac10.14":"builds/chromium/%s/chromium-mac.zip","mac10.15":"builds/chromium/%s/chromium-mac.zip",mac11:"builds/chromium/%s/chromium-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-mac-arm64.zip",win64:"builds/chromium/%s/chromium-win64.zip"},"chromium-tip-of-tree":{"<unknown>":undefined,"ubuntu18.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu20.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu22.04-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","ubuntu18.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu20.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian11-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","debian12-x64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux.zip","debian12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-linux-arm64.zip","mac10.13":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.14":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac10.15":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip",mac11:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac11-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac12:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac12-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",mac13:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac.zip","mac13-arm64":"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-mac-arm64.zip",win64:"builds/chromium-tip-of-tree/%s/chromium-tip-of-tree-win64.zip"},"chromium-with-symbols":{"<unknown>":undefined,"ubuntu18.04-x64":"builds/chromium/%s/chromium-with-symbols-linux.zip","ubuntu20.04-x64":"builds/chromium/%s/chromium-with-symbols-linux.zip","ubuntu22.04-x64":"builds/chromium/%s/chromium-with-symbols-linux.zip","ubuntu18.04-arm64":"builds/chromium/%s/chromium-with-symbols-linux-arm64.zip","ubuntu20.04-arm64":"builds/chromium/%s/chromium-with-symbols-linux-arm64.zip","ubuntu22.04-arm64":"builds/chromium/%s/chromium-with-symbols-linux-arm64.zip","debian11-x64":"builds/chromium/%s/chromium-with-symbols-linux.zip","debian11-arm64":"builds/chromium/%s/chromium-with-symbols-linux-arm64.zip","debian12-x64":"builds/chromium/%s/chromium-with-symbols-linux.zip","debian12-arm64":"builds/chromium/%s/chromium-with-symbols-linux-arm64.zip","mac10.13":"builds/chromium/%s/chromium-with-symbols-mac.zip","mac10.14":"builds/chromium/%s/chromium-with-symbols-mac.zip","mac10.15":"builds/chromium/%s/chromium-with-symbols-mac.zip",mac11:"builds/chromium/%s/chromium-with-symbols-mac.zip","mac11-arm64":"builds/chromium/%s/chromium-with-symbols-mac-arm64.zip",mac12:"builds/chromium/%s/chromium-with-symbols-mac.zip","mac12-arm64":"builds/chromium/%s/chromium-with-symbols-mac-arm64.zip",mac13:"builds/chromium/%s/chromium-with-symbols-mac.zip","mac13-arm64":"builds/chromium/%s/chromium-with-symbols-mac-arm64.zip",win64:"builds/chromium/%s/chromium-with-symbols-win64.zip"},firefox:{"<unknown>":undefined,"ubuntu18.04-x64":"builds/firefox/%s/firefox-ubuntu-18.04.zip","ubuntu20.04-x64":"builds/firefox/%s/firefox-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox/%s/firefox-ubuntu-22.04.zip","ubuntu18.04-arm64":undefined,"ubuntu20.04-arm64":"builds/firefox/%s/firefox-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/firefox/%s/firefox-ubuntu-22.04-arm64.zip","debian11-x64":"builds/firefox/%s/firefox-debian-11.zip","debian11-arm64":"builds/firefox/%s/firefox-debian-11-arm64.zip","debian12-x64":"builds/firefox/%s/firefox-debian-12.zip","debian12-arm64":"builds/firefox/%s/firefox-debian-12-arm64.zip","mac10.13":"builds/firefox/%s/firefox-mac-13.zip","mac10.14":"builds/firefox/%s/firefox-mac-13.zip","mac10.15":"builds/firefox/%s/firefox-mac-13.zip",mac11:"builds/firefox/%s/firefox-mac-13.zip","mac11-arm64":"builds/firefox/%s/firefox-mac-13-arm64.zip",mac12:"builds/firefox/%s/firefox-mac-13.zip","mac12-arm64":"builds/firefox/%s/firefox-mac-13-arm64.zip",mac13:"builds/firefox/%s/firefox-mac-13.zip","mac13-arm64":"builds/firefox/%s/firefox-mac-13-arm64.zip",win64:"builds/firefox/%s/firefox-win64.zip"},"firefox-beta":{"<unknown>":undefined,"ubuntu18.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-18.04.zip","ubuntu20.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04.zip","ubuntu18.04-arm64":undefined,"ubuntu20.04-arm64":undefined,"ubuntu22.04-arm64":"builds/firefox-beta/%s/firefox-beta-ubuntu-22.04-arm64.zip","debian11-x64":"builds/firefox-beta/%s/firefox-beta-debian-11.zip","debian11-arm64":"builds/firefox-beta/%s/firefox-beta-debian-11-arm64.zip","debian12-x64":"builds/firefox-beta/%s/firefox-beta-debian-12.zip","debian12-arm64":"builds/firefox-beta/%s/firefox-beta-debian-12-arm64.zip","mac10.13":"builds/firefox-beta/%s/firefox-beta-mac-13.zip","mac10.14":"builds/firefox-beta/%s/firefox-beta-mac-13.zip","mac10.15":"builds/firefox-beta/%s/firefox-beta-mac-13.zip",mac11:"builds/firefox-beta/%s/firefox-beta-mac-13.zip","mac11-arm64":"builds/firefox-beta/%s/firefox-beta-mac-13-arm64.zip",mac12:"builds/firefox-beta/%s/firefox-beta-mac-13.zip","mac12-arm64":"builds/firefox-beta/%s/firefox-beta-mac-13-arm64.zip",mac13:"builds/firefox-beta/%s/firefox-beta-mac-13.zip","mac13-arm64":"builds/firefox-beta/%s/firefox-beta-mac-13-arm64.zip",win64:"builds/firefox-beta/%s/firefox-beta-win64.zip"},"firefox-asan":{"<unknown>":undefined,"ubuntu18.04-x64":undefined,"ubuntu20.04-x64":undefined,"ubuntu22.04-x64":"builds/firefox/%s/firefox-asan-ubuntu-22.04.zip","ubuntu18.04-arm64":undefined,"ubuntu20.04-arm64":undefined,"ubuntu22.04-arm64":undefined,"debian11-x64":undefined,"debian11-arm64":undefined,"debian12-x64":undefined,"debian12-arm64":undefined,"mac10.13":"builds/firefox/%s/firefox-asan-mac-13.zip","mac10.14":"builds/firefox/%s/firefox-asan-mac-13.zip","mac10.15":"builds/firefox/%s/firefox-asan-mac-13.zip",mac11:"builds/firefox/%s/firefox-asan-mac-13.zip","mac11-arm64":undefined,mac12:"builds/firefox/%s/firefox-asan-mac-13.zip","mac12-arm64":undefined,mac13:"builds/firefox/%s/firefox-asan-mac-13.zip","mac13-arm64":undefined,win64:undefined},webkit:{"<unknown>":undefined,"ubuntu18.04-x64":"builds/deprecated-webkit-ubuntu-18.04/%s/deprecated-webkit-ubuntu-18.04.zip","ubuntu20.04-x64":"builds/webkit/%s/webkit-ubuntu-20.04.zip","ubuntu22.04-x64":"builds/webkit/%s/webkit-ubuntu-22.04.zip","ubuntu18.04-arm64":undefined,"ubuntu20.04-arm64":"builds/webkit/%s/webkit-ubuntu-20.04-arm64.zip","ubuntu22.04-arm64":"builds/webkit/%s/webkit-ubuntu-22.04-arm64.zip","debian11-x64":"builds/webkit/%s/webkit-debian-11.zip","debian11-arm64":"builds/webkit/%s/webkit-debian-11-arm64.zip","debian12-x64":"builds/webkit/%s/webkit-debian-12.zip","debian12-arm64":"builds/webkit/%s/webkit-debian-12-arm64.zip","mac10.13":undefined,"mac10.14":"builds/deprecated-webkit-mac-10.14/%s/deprecated-webkit-mac-10.14.zip","mac10.15":"builds/deprecated-webkit-mac-10.15/%s/deprecated-webkit-mac-10.15.zip",mac11:"builds/webkit/%s/webkit-mac-11.zip","mac11-arm64":"builds/webkit/%s/webkit-mac-11-arm64.zip",mac12:"builds/webkit/%s/webkit-mac-12.zip","mac12-arm64":"builds/webkit/%s/webkit-mac-12-arm64.zip",mac13:"builds/webkit/%s/webkit-mac-13.zip","mac13-arm64":"builds/webkit/%s/webkit-mac-13-arm64.zip",win64:"builds/webkit/%s/webkit-win64.zip"},ffmpeg:{"<unknown>":undefined,"ubuntu18.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu20.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu22.04-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","ubuntu18.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu20.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","ubuntu22.04-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian11-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian11-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","debian12-x64":"builds/ffmpeg/%s/ffmpeg-linux.zip","debian12-arm64":"builds/ffmpeg/%s/ffmpeg-linux-arm64.zip","mac10.13":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.14":"builds/ffmpeg/%s/ffmpeg-mac.zip","mac10.15":"builds/ffmpeg/%s/ffmpeg-mac.zip",mac11:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac11-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac12:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac12-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",mac13:"builds/ffmpeg/%s/ffmpeg-mac.zip","mac13-arm64":"builds/ffmpeg/%s/ffmpeg-mac-arm64.zip",win64:"builds/ffmpeg/%s/ffmpeg-win64.zip"},android:{"<unknown>":"builds/android/%s/android.zip","ubuntu18.04-x64":"builds/android/%s/android.zip","ubuntu20.04-x64":"builds/android/%s/android.zip","ubuntu22.04-x64":"builds/android/%s/android.zip","ubuntu18.04-arm64":"builds/android/%s/android.zip","ubuntu20.04-arm64":"builds/android/%s/android.zip","ubuntu22.04-arm64":"builds/android/%s/android.zip","debian11-x64":"builds/android/%s/android.zip","debian11-arm64":"builds/android/%s/android.zip","debian12-x64":"builds/android/%s/android.zip","debian12-arm64":"builds/android/%s/android.zip","mac10.13":"builds/android/%s/android.zip","mac10.14":"builds/android/%s/android.zip","mac10.15":"builds/android/%s/android.zip",mac11:"builds/android/%s/android.zip","mac11-arm64":"builds/android/%s/android.zip",mac12:"builds/android/%s/android.zip","mac12-arm64":"builds/android/%s/android.zip",mac13:"builds/android/%s/android.zip","mac13-arm64":"builds/android/%s/android.zip",win64:"builds/android/%s/android.zip"}};const ze=S.registryDirectory=(()=>{let v;const S=(0,he.getFromENV)("PLAYWRIGHT_BROWSERS_PATH");if(S==="0"){v=H.default.join(__dirname,"..","..","..",".local-browsers")}else if(S){v=S}else{let S;if(process.platform==="linux")S=process.env.XDG_CACHE_HOME||H.default.join(O.homedir(),".cache");else if(process.platform==="darwin")S=H.default.join(O.homedir(),"Library","Caches");else if(process.platform==="win32")S=process.env.LOCALAPPDATA||H.default.join(O.homedir(),"AppData","Local");else throw new Error("Unsupported platform: "+process.platform);v=H.default.join(S,"ms-playwright")}if(!H.default.isAbsolute(v)){v=H.default.resolve((0,he.getFromENV)("INIT_CWD")||process.cwd(),v)}return v})();function isBrowserDirectory(v){const S=H.default.basename(v);for(const v of $e){if(S.startsWith(v+"-"))return true}return false}function readDescriptors(v){return v["browsers"].map((v=>{const S=v.name;const Q=(v.revisionOverrides||{})[Be.hostPlatform];const O=Q||v.revision;const V=Q?`${S}_${Be.hostPlatform}_special`:`${S}`;const J={name:S,revision:O,browserVersion:Q?undefined:v.browserVersion,installByDefault:!!v.installByDefault,dir:H.default.join(ze,V.replace(/-/g,"_")+"-"+O)};return J}))}const $e=["chromium","firefox","webkit","ffmpeg","firefox-beta","chromium-with-symbols","chromium-tip-of-tree"];class Registry{constructor(v){this._executables=void 0;const S=readDescriptors(v);const findExecutablePath=(v,S)=>{let Q=undefined;if(process.platform==="linux")Q=qe[S]["linux"];else if(process.platform==="darwin")Q=qe[S]["mac"];else if(process.platform==="win32")Q=qe[S]["win"];return Q?H.default.join(v,...Q):undefined};const executablePathOrDie=(v,S,Q,O)=>{if(!S)throw new Error(`${v} is not supported on ${Be.hostPlatform}`);const H=buildPlaywrightCLICommand(O,`install${Q?"":" "+v}`);if(!(0,Ee.canAccessFile)(S)){const v=(0,Re.readDockerVersionSync)();const V=v?(0,Re.dockerVersion)(v.dockerImageNameTemplate):null;const J=v&&V&&v.dockerImageName!==V.dockerImageName;const Y=J?[`Looks like ${O==="javascript"?"Playwright Test or ":""}Playwright was just updated to ${V.driverVersion}.`,`Please update docker image as well.`,`-  current: ${v.dockerImageName}`,`- required: ${V.dockerImageName}`,``,`<3 Playwright Team`].join("\n"):[`Looks like ${O==="javascript"?"Playwright Test or ":""}Playwright was just installed or updated.`,`Please run the following command to download new browser${Q?"s":""}:`,``,`    ${H}`,``,`<3 Playwright Team`].join("\n");throw new Error(`Executable doesn't exist at ${S}\n${(0,he.wrapInASCIIBox)(Y,1)}`)}return S};this._executables=[];const Q=S.find((v=>v.name==="chromium"));const O=findExecutablePath(Q.dir,"chromium");this._executables.push({type:"browser",name:"chromium",browserName:"chromium",directory:Q.dir,executablePath:()=>O,executablePathOrDie:v=>executablePathOrDie("chromium",O,Q.installByDefault,v),installType:Q.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"chromium",Q.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(Q),browserVersion:Q.browserVersion,_install:()=>this._downloadExecutable(Q,O),_dependencyGroup:"chromium",_isHermeticInstallation:true});const V=S.find((v=>v.name==="chromium-with-symbols"));const J=findExecutablePath(V.dir,"chromium");this._executables.push({type:"tool",name:"chromium-with-symbols",browserName:"chromium",directory:V.dir,executablePath:()=>J,executablePathOrDie:v=>executablePathOrDie("chromium-with-symbols",J,V.installByDefault,v),installType:V.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"chromium",V.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(V),browserVersion:V.browserVersion,_install:()=>this._downloadExecutable(V,J),_dependencyGroup:"chromium",_isHermeticInstallation:true});const Y=S.find((v=>v.name==="chromium-tip-of-tree"));const X=findExecutablePath(Y.dir,"chromium");this._executables.push({type:"tool",name:"chromium-tip-of-tree",browserName:"chromium",directory:Y.dir,executablePath:()=>X,executablePathOrDie:v=>executablePathOrDie("chromium-tip-of-tree",X,Y.installByDefault,v),installType:Y.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"chromium",Y.dir,["chrome-linux"],[],["chrome-win"]),downloadURLs:this._downloadURLs(Y),browserVersion:Y.browserVersion,_install:()=>this._downloadExecutable(Y,X),_dependencyGroup:"chromium",_isHermeticInstallation:true});this._executables.push(this._createChromiumChannel("chrome",{linux:"/opt/google/chrome/chrome",darwin:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",win32:`\\Google\\Chrome\\Application\\chrome.exe`},(()=>this._installChromiumChannel("chrome",{linux:"reinstall_chrome_stable_linux.sh",darwin:"reinstall_chrome_stable_mac.sh",win32:"reinstall_chrome_stable_win.ps1"}))));this._executables.push(this._createChromiumChannel("chrome-beta",{linux:"/opt/google/chrome-beta/chrome",darwin:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",win32:`\\Google\\Chrome Beta\\Application\\chrome.exe`},(()=>this._installChromiumChannel("chrome-beta",{linux:"reinstall_chrome_beta_linux.sh",darwin:"reinstall_chrome_beta_mac.sh",win32:"reinstall_chrome_beta_win.ps1"}))));this._executables.push(this._createChromiumChannel("chrome-dev",{linux:"/opt/google/chrome-unstable/chrome",darwin:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",win32:`\\Google\\Chrome Dev\\Application\\chrome.exe`}));this._executables.push(this._createChromiumChannel("chrome-canary",{linux:"",darwin:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",win32:`\\Google\\Chrome SxS\\Application\\chrome.exe`}));this._executables.push(this._createChromiumChannel("msedge",{linux:"/opt/microsoft/msedge/msedge",darwin:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",win32:`\\Microsoft\\Edge\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge",{linux:"reinstall_msedge_stable_linux.sh",darwin:"reinstall_msedge_stable_mac.sh",win32:"reinstall_msedge_stable_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-beta",{linux:"/opt/microsoft/msedge-beta/msedge",darwin:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",win32:`\\Microsoft\\Edge Beta\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge-beta",{darwin:"reinstall_msedge_beta_mac.sh",linux:"reinstall_msedge_beta_linux.sh",win32:"reinstall_msedge_beta_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-dev",{linux:"/opt/microsoft/msedge-dev/msedge",darwin:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",win32:`\\Microsoft\\Edge Dev\\Application\\msedge.exe`},(()=>this._installMSEdgeChannel("msedge-dev",{darwin:"reinstall_msedge_dev_mac.sh",linux:"reinstall_msedge_dev_linux.sh",win32:"reinstall_msedge_dev_win.ps1"}))));this._executables.push(this._createChromiumChannel("msedge-canary",{linux:"",darwin:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",win32:`\\Microsoft\\Edge SxS\\Application\\msedge.exe`}));const ee=S.find((v=>v.name==="firefox"));const ae=findExecutablePath(ee.dir,"firefox");this._executables.push({type:"browser",name:"firefox",browserName:"firefox",directory:ee.dir,executablePath:()=>ae,executablePathOrDie:v=>executablePathOrDie("firefox",ae,ee.installByDefault,v),installType:ee.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"firefox",ee.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(ee),browserVersion:ee.browserVersion,_install:()=>this._downloadExecutable(ee,ae),_dependencyGroup:"firefox",_isHermeticInstallation:true});const ke=S.find((v=>v.name==="firefox-asan"));const Oe=findExecutablePath(ke.dir,"firefox");this._executables.push({type:"browser",name:"firefox-asan",browserName:"firefox",directory:ke.dir,executablePath:()=>Oe,executablePathOrDie:v=>executablePathOrDie("firefox-asan",Oe,ke.installByDefault,v),installType:ke.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"firefox",ke.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(ke),browserVersion:ke.browserVersion,_install:()=>this._downloadExecutable(ke,Oe),_dependencyGroup:"firefox",_isHermeticInstallation:true});const Pe=S.find((v=>v.name==="firefox-beta"));const Le=findExecutablePath(Pe.dir,"firefox");this._executables.push({type:"tool",name:"firefox-beta",browserName:"firefox",directory:Pe.dir,executablePath:()=>Le,executablePathOrDie:v=>executablePathOrDie("firefox-beta",Le,Pe.installByDefault,v),installType:Pe.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"firefox",Pe.dir,["firefox"],[],["firefox"]),downloadURLs:this._downloadURLs(Pe),browserVersion:Pe.browserVersion,_install:()=>this._downloadExecutable(Pe,Le),_dependencyGroup:"firefox",_isHermeticInstallation:true});const je=S.find((v=>v.name==="webkit"));const Ve=findExecutablePath(je.dir,"webkit");const ze=[H.default.join("minibrowser-gtk"),H.default.join("minibrowser-gtk","bin"),H.default.join("minibrowser-gtk","lib"),H.default.join("minibrowser-gtk","sys","lib"),H.default.join("minibrowser-wpe"),H.default.join("minibrowser-wpe","bin"),H.default.join("minibrowser-wpe","lib"),H.default.join("minibrowser-wpe","sys","lib")];this._executables.push({type:"browser",name:"webkit",browserName:"webkit",directory:je.dir,executablePath:()=>Ve,executablePathOrDie:v=>executablePathOrDie("webkit",Ve,je.installByDefault,v),installType:je.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:v=>this._validateHostRequirements(v,"webkit",je.dir,ze,["libGLESv2.so.2","libx264.so"],[""]),downloadURLs:this._downloadURLs(je),browserVersion:je.browserVersion,_install:()=>this._downloadExecutable(je,Ve),_dependencyGroup:"webkit",_isHermeticInstallation:true});const $e=S.find((v=>v.name==="ffmpeg"));const Ye=findExecutablePath($e.dir,"ffmpeg");this._executables.push({type:"tool",name:"ffmpeg",browserName:undefined,directory:$e.dir,executablePath:()=>Ye,executablePathOrDie:v=>executablePathOrDie("ffmpeg",Ye,$e.installByDefault,v),installType:$e.installByDefault?"download-by-default":"download-on-demand",validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs($e),_install:()=>this._downloadExecutable($e,Ye),_dependencyGroup:"tools",_isHermeticInstallation:true});const et=S.find((v=>v.name==="android"));this._executables.push({type:"tool",name:"android",browserName:undefined,directory:et.dir,executablePath:()=>undefined,executablePathOrDie:()=>"",installType:"download-on-demand",validateHostRequirements:()=>Promise.resolve(),downloadURLs:this._downloadURLs(et),_install:()=>this._downloadExecutable(et),_dependencyGroup:"tools",_isHermeticInstallation:true})}_createChromiumChannel(v,S,Q){const executablePath=(O,V)=>{const J=S[process.platform];if(!J){if(V)throw new Error(`Chromium distribution '${v}' is not supported on ${process.platform}`);return undefined}const Y=process.platform==="win32"?[process.env.LOCALAPPDATA,process.env.PROGRAMFILES,process.env["PROGRAMFILES(X86)"]].filter(Boolean):[""];for(const v of Y){const S=H.default.join(v,J);if((0,Ee.canAccessFile)(S))return S}if(!V)return undefined;const X=Y.length?` at ${H.default.join(Y[0],J)}`:``;const ee=Q?`\nRun "${buildPlaywrightCLICommand(O,"install "+v)}"`:"";throw new Error(`Chromium distribution '${v}' is not found${X}${ee}`)};return{type:"channel",name:v,browserName:"chromium",directory:undefined,executablePath:v=>executablePath(v,false),executablePathOrDie:v=>executablePath(v,true),installType:Q?"install-script":"none",validateHostRequirements:()=>Promise.resolve(),_isHermeticInstallation:false,_install:Q}}executables(){return this._executables}findExecutable(v){return this._executables.find((S=>S.name===v))}defaultExecutables(){return this._executables.filter((v=>v.installType==="download-by-default"))}_addRequirementsAndDedupe(v){const S=new Set;for(const Q of v){S.add(Q);if(Q.browserName==="chromium")S.add(this.findExecutable("ffmpeg"))}return Array.from(S)}async _validateHostRequirements(v,S,Q,V,J,Y){if((0,he.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS")){process.stderr.write("Skipping host requirements validation logic because `PLAYWRIGHT_SKIP_VALIDATE_HOST_REQUIREMENTS` env variable is set.\n");return}const ee=await(0,X.getLinuxDistributionInfo)();if(S==="firefox"&&(ee===null||ee===void 0?void 0:ee.id)==="ubuntu"&&(ee===null||ee===void 0?void 0:ee.version)==="16.04")throw new Error(`Cannot launch Firefox on Ubuntu 16.04! Minimum required Ubuntu version for Firefox browser is 20.04`);if(O.platform()==="linux")return await(0,Re.validateDependenciesLinux)(v,V.map((v=>H.default.join(Q,v))),J);if(O.platform()==="win32"&&O.arch()==="x64")return await(0,Re.validateDependenciesWindows)(Y.map((v=>H.default.join(Q,v))))}async installDeps(v,S){const Q=this._addRequirementsAndDedupe(v);const H=new Set;for(const v of Q){if(v._dependencyGroup)H.add(v._dependencyGroup)}H.add("tools");if(O.platform()==="win32")return await(0,Re.installDependenciesWindows)(H,S);if(O.platform()==="linux")return await(0,Re.installDependenciesLinux)(H,S)}async install(v,S){const Q=this._addRequirementsAndDedupe(v);await J.promises.mkdir(ze,{recursive:true});const O=H.default.join(ze,"__dirlock");const V=H.default.join(ze,".links");let X;try{X=await Y.lockfile.lock(ze,{retries:{retries:20,factor:1.27579},onCompromised:v=>{throw new Error(`${v.message} Path: ${O}`)},lockfilePath:O});await J.promises.mkdir(V,{recursive:true});await J.promises.writeFile(H.default.join(V,(0,he.calculateSha1)(Pe)),Pe);await this._validateInstallationCache(V);for(const v of Q){if(!v._install)throw new Error(`ERROR: Playwright does not support installing ${v.name}`);const{embedderName:Q}=(0,ae.getEmbedderName)();if(!(0,he.getAsBooleanFromENV)("CI")&&!v._isHermeticInstallation&&!S&&v.executablePath(Q)){const S=buildPlaywrightCLICommand(Q,"install --force "+v.name);throw new Error("\n"+(0,he.wrapInASCIIBox)([`ATTENTION: "${v.name}" is already installed on the system!`,``,`"${v.name}" installation is not hermetic; installing newer version`,`requires *removal* of a current installation first.`,``,`To *uninstall* current version and re-install latest "${v.name}":`,``,`- Close all running instances of "${v.name}", if any`,`- Use "--force" to install browser:`,``,`    ${S}`,``,`<3 Playwright Team`].join("\n"),1))}await v._install()}}catch(v){if(v.code==="ELOCKED"){const v=process.platform==="win32"?"rm -R":"rm -rf";throw new Error("\n"+(0,he.wrapInASCIIBox)([`An active lockfile is found at:`,``,`  ${O}`,``,`Either:`,`- wait a few minutes if other Playwright is installing browsers in parallel`,`- remove lock manually with:`,``,`    ${v} ${O}`,``,`<3 Playwright Team`].join("\n"),1))}else{throw v}}finally{if(X)await X()}}async uninstall(v){const S=H.default.join(ze,".links");if(v){const v=await J.promises.readdir(S).catch((()=>[]));for(const Q of v)await J.promises.unlink(H.default.join(S,Q))}else{await J.promises.unlink(H.default.join(S,(0,he.calculateSha1)(Pe))).catch((()=>{}))}await this._validateInstallationCache(S);return{numberOfBrowsersLeft:(await J.promises.readdir(ze).catch((()=>[]))).filter((v=>isBrowserDirectory(v))).length}}_downloadURLs(v){const S=Ve[v.name];const Q=S[Be.hostPlatform]||S["<unknown>"];if(!Q)return[];const O=V.format(Q,v.revision);let H=je.map((v=>`${v}/${O}`));let J;if(v.name.startsWith("chromium"))J="PLAYWRIGHT_CHROMIUM_DOWNLOAD_HOST";else if(v.name.startsWith("firefox"))J="PLAYWRIGHT_FIREFOX_DOWNLOAD_HOST";else if(v.name.startsWith("webkit"))J="PLAYWRIGHT_WEBKIT_DOWNLOAD_HOST";const Y=J&&(0,he.getFromENV)(J)||(0,he.getFromENV)("PLAYWRIGHT_DOWNLOAD_HOST");if(Y)H=[`${Y}/${O}`];return H}async _downloadExecutable(v,S){const Q=this._downloadURLs(v);if(!Q.length)throw new Error(`ERROR: Playwright does not support ${v.name} on ${Be.hostPlatform}`);if(!Be.isOfficiallySupportedPlatform)(0,Oe.logPolitely)(`BEWARE: your OS is not officially supported by Playwright; downloading fallback build for ${Be.hostPlatform}.`);const O=v.name.split("-").map((v=>v==="ffmpeg"?"FFMPEG":v.charAt(0).toUpperCase()+v.slice(1))).join(" ");const H=v.browserVersion?`${O} ${v.browserVersion} (playwright build v${v.revision})`:`${O} playwright build v${v.revision}`;const V=`playwright-download-${v.name}-${Be.hostPlatform}-${v.revision}.zip`;const J=(0,he.getFromENV)("PLAYWRIGHT_DOWNLOAD_CONNECTION_TIMEOUT");const Y=+(J||"0")||3e4;await(0,Oe.downloadBrowserWithProgressBar)(H,v.dir,S,Q,V,Y).catch((v=>{throw new Error(`Failed to download ${H}, caused by\n${v.stack}`)}))}async _installMSEdgeChannel(v,S){const Q=[];if(process.platform!=="linux"){const S=lowercaseAllKeys(JSON.parse(await(0,ee.fetchData)({url:"https://edgeupdates.microsoft.com/api/products"})));const O={msedge:"Stable","msedge-beta":"Beta","msedge-dev":"Dev"}[v];const H=S.find((v=>v.product===O));const V={darwin:{platform:"MacOS",arch:"universal",artifact:"pkg"},win32:{platform:"Windows",arch:"x64",artifact:"msi"}}[process.platform];const J=V?H.releases.find((v=>v.platform===V.platform&&v.architecture===V.arch&&v.artifacts.length>0)):null;const Y=J?J.artifacts.find((v=>v.artifactname===V.artifact)):null;if(Y)Q.push(Y.location);else throw new Error(`Cannot install ${v} on ${process.platform}`)}await this._installChromiumChannel(v,S,Q)}async _installChromiumChannel(v,S,Q=[]){const O=S[process.platform];if(!O)throw new Error(`Cannot install ${v} on ${process.platform}`);const V=Le;const J=O.endsWith(".ps1");if(J){const S=["-ExecutionPolicy","Bypass","-File",H.default.join(Le,O),...Q];const{code:J}=await(0,ke.spawnAsync)("powershell.exe",S,{cwd:V,stdio:"inherit"});if(J!==0)throw new Error(`Failed to install ${v}`)}else{const{command:S,args:J,elevatedPermissions:Y}=await(0,Re.transformCommandsForRoot)([`bash "${H.default.join(Le,O)}" ${Q.join("")}`]);if(Y)console.log("Switching to root user to install dependencies...");const{code:X}=await(0,ke.spawnAsync)(S,J,{cwd:V,stdio:"inherit"});if(X!==0)throw new Error(`Failed to install ${v}`)}}async _validateInstallationCache(v){const S=new Set;for(const O of await J.promises.readdir(v)){const V=H.default.join(v,O);let Y="";try{Y=(await J.promises.readFile(V)).toString();const v=Q(7292)(H.default.join(Y,"browsers.json"));const O=readDescriptors(v);for(const v of $e){const Q=O.find((S=>S.name===v));if(!Q)continue;const H=Q.dir;const V=parseInt(Q.revision,10);const J=v==="chromium"&&(V>=786218||V<3e5)||v==="firefox"&&V>=1128||v==="webkit"&&V>=1307||v!=="firefox"&&v!=="chromium"&&v!=="webkit";if(!J||await(0,Ee.existsAsync)(browserDirectoryToMarkerFilePath(H)))S.add(H)}}catch(v){await J.promises.unlink(V).catch((v=>{}))}}if(!(0,he.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_GC")){let v=(await J.promises.readdir(ze)).map((v=>H.default.join(ze,v)));v=v.filter((v=>isBrowserDirectory(v)));const Q=new Set(v);for(const v of S)Q.delete(v);for(const v of Q)(0,Oe.logPolitely)("Removing unused browser at "+v);await(0,Ee.removeFolders)([...Q])}}}S.Registry=Registry;function browserDirectoryToMarkerFilePath(v){return H.default.join(v,"INSTALLATION_COMPLETE")}function buildPlaywrightCLICommand(v,S){switch(v){case"python":return`playwright ${S}`;case"java":return`mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args="${S}"`;case"csharp":return`pwsh bin/Debug/netX/playwright.ps1 ${S}`;default:{const v=(0,he.getPackageManagerExecCommand)();return`${v} playwright ${S}`}}}async function installDefaultBrowsersForNpmInstall(){const v=Ye.defaultExecutables().map((v=>v.name));return installBrowsersForNpmInstall(v)}async function installBrowsersForNpmInstall(v){if((0,he.getAsBooleanFromENV)("PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD")){(0,Oe.logPolitely)("Skipping browsers download because `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD` env variable is set");return false}const S=[];for(const Q of v){const v=Ye.findExecutable(Q);if(!v||v.installType==="none")throw new Error(`Cannot install ${Q}`);S.push(v)}await Ye.install(S,false)}function findChromiumChannel(v){let S=null;for(const Q of["chromium","chrome","msedge"]){try{Ye.findExecutable(Q).executablePathOrDie(v);S=Q==="chromium"?undefined:Q;break}catch(v){}}if(S===null){const S=buildPlaywrightCLICommand(v,`install chromium`);const Q=[`No chromium-based browser found on the system.`,`Please run the following command to download one:`,``,`    ${S}`,``,`<3 Playwright Team`].join("\n");throw new Error("\n"+(0,he.wrapInASCIIBox)(Q,1))}return S}function lowercaseAllKeys(v){if(typeof v!=="object"||!v)return v;if(Array.isArray(v))return v.map(lowercaseAllKeys);const S={};for(const[Q,O]of Object.entries(v))S[Q.toLowerCase()]=lowercaseAllKeys(O);return S}const Ye=S.registry=new Registry(Q(1065))},4971:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.deps=void 0;const Q=S.deps={"ubuntu18.04-x64":{tools:["xvfb","fonts-noto-color-emoji","ttf-unifont","libfontconfig","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","ttf-ubuntu-font-family"],chromium:["fonts-liberation","libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libegl1","libgbm1","libglib2.0-0","libgtk-3-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libx11-xcb1","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxrandr2","libxshmfence1"],firefox:["ffmpeg","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libpangoft2-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrender1","libxt6","libxtst6"],webkit:[],lib2package:{"libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libbrotlidec.so.1":"libbrotli1","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant.so.1":"libenchant1c2a","libepoxy.so.0":"libepoxy0","libevent-2.1.so.6":"libevent-2.1-6","libevdev.so.2":"libevdev2","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf2.0-0","libgdk-3.so.0":"libgtk-3-0","libgdk-x11-2.0.so.0":"libgtk2.0-0","libgio-2.0.so.0":"libglib2.0-0","libGL.so.1":"libgl1","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstapp-1.0.so.0":"gstreamer1.0-plugins-base","libgstaudio-1.0.so.0":"gstreamer1.0-plugins-base","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstcodecparsers-1.0.so.0":"gstreamer1.0-plugins-bad","libgstfft-1.0.so.0":"gstreamer1.0-plugins-base","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"gstreamer1.0-plugins-base","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"gstreamer1.0-plugins-base","libgstvideo-1.0.so.0":"gstreamer1.0-plugins-base","libgthread-2.0.so.0":"libglib2.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-x11-2.0.so.0":"libgtk2.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicudata.so.60":"libicu60","libicui18n.so.60":"libicu60","libicuuc.so.60":"libicu60","libjpeg.so.8":"libjpeg-turbo8","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpangoft2-1.0.so.0":"libpangoft2-1.0-0","libpng16.so.16":"libpng16-16","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libvpx.so.5":"libvpx5","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-dri3.so.0":"libxcb-dri3-0","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXt.so.6":"libxt6","libXtst.so.6":"libxtst6","libevent-2.1-6":"libevent-2.1-6"}},"ubuntu20.04-x64":{tools:["xvfb","fonts-noto-color-emoji","ttf-unifont","libfontconfig","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","ttf-ubuntu-font-family"],chromium:["fonts-liberation","libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libegl1","libgbm1","libglib2.0-0","libgtk-3-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libx11-xcb1","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxrandr2","libxshmfence1"],firefox:["ffmpeg","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libpangoft2-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrender1","libxt6","libxtst6"],webkit:["libenchant-2-2","libflite1","libx264-155","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libegl1","libenchant1c2a","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgdk-pixbuf2.0-0","libgl1","libgles2","libglib2.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu66","libjpeg-turbo8","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libsecret-1-0","libvpx6","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libflite.so.1":"libflite1","libflite_usenglish.so.1":"libflite1","libflite_cmu_grapheme_lang.so.1":"libflite1","libflite_cmu_grapheme_lex.so.1":"libflite1","libflite_cmu_indic_lang.so.1":"libflite1","libflite_cmu_indic_lex.so.1":"libflite1","libflite_cmulex.so.1":"libflite1","libflite_cmu_time_awb.so.1":"libflite1","libflite_cmu_us_awb.so.1":"libflite1","libflite_cmu_us_kal16.so.1":"libflite1","libflite_cmu_us_kal.so.1":"libflite1","libflite_cmu_us_rms.so.1":"libflite1","libflite_cmu_us_slt.so.1":"libflite1","libx264.so":"libx264-155","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant.so.1":"libenchant1c2a","libevdev.so.2":"libevdev2","libepoxy.so.0":"libepoxy0","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf2.0-0","libgdk-3.so.0":"libgtk-3-0","libgdk-x11-2.0.so.0":"libgtk2.0-0","libgio-2.0.so.0":"libglib2.0-0","libGL.so.1":"libgl1","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgthread-2.0.so.0":"libglib2.0-0","libgtk-3.so.0":"libgtk-3-0","libgtk-x11-2.0.so.0":"libgtk2.0-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.66":"libicu66","libicuuc.so.66":"libicu66","libjpeg.so.8":"libjpeg-turbo8","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpangoft2-1.0.so.0":"libpangoft2-1.0-0","libpng16.so.16":"libpng16-16","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libvpx.so.6":"libvpx6","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-dri3.so.0":"libxcb-dri3-0","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXt.so.6":"libxt6","libXtst.so.6":"libxtst6","libxshmfence.so.1":"libxshmfence1","libatomic.so.1":"libatomic1","libenchant-2.so.2":"libenchant-2-2","libevent-2.1.so.7":"libevent-2.1-7"}},"ubuntu22.04-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["ffmpeg","libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","libenchant-2-2","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libicu70","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libepoxy0","libevdev2","libffi7","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libjpeg-turbo8","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libx264-163","libatomic1","libevent-2.1-7"],lib2package:{"libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libffi.so.7":"libffi7","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libjpeg.so.8":"libjpeg-turbo8","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libicui18n.so.60":"libicu70","libicuuc.so.66":"libicu70","libicui18n.so.66":"libicu70","libwebp.so.6":"libwebp6","libenchant-2.so.2":"libenchant-2-2","libx264.so":"libx264-163","libvpx.so.7":"libvpx7","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"debian11-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-cyrillic","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libwayland-client0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu67","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnghttp2-14","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp6","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo-gobject.so.2":"libcairo-gobject2","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdbus-glib-1.so.2":"libdbus-glib-1-2","libdrm.so.2":"libdrm2","libEGL.so.1":"libegl1","libenchant-2.so.2":"libenchant-2-2","libepoxy.so.0":"libepoxy0","libevdev.so.2":"libevdev2","libfontconfig.so.1":"libfontconfig1","libfreetype.so.6":"libfreetype6","libgbm.so.1":"libgbm1","libgdk_pixbuf-2.0.so.0":"libgdk-pixbuf-2.0-0","libgdk-3.so.0":"libgtk-3-0","libgio-2.0.so.0":"libglib2.0-0","libGLESv2.so.2":"libgles2","libglib-2.0.so.0":"libglib2.0-0","libGLX.so.0":"libglx0","libgmodule-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libgstallocators-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstapp-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstaudio-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstbase-1.0.so.0":"libgstreamer1.0-0","libgstfft-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstgl-1.0.so.0":"libgstreamer-gl1.0-0","libgstpbutils-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstreamer-1.0.so.0":"libgstreamer1.0-0","libgsttag-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgstvideo-1.0.so.0":"libgstreamer-plugins-base1.0-0","libgtk-3.so.0":"libgtk-3-0","libgudev-1.0.so.0":"libgudev-1.0-0","libharfbuzz-icu.so.0":"libharfbuzz-icu0","libharfbuzz.so.0":"libharfbuzz0b","libhyphen.so.0":"libhyphen0","libicui18n.so.67":"libicu67","libicuuc.so.67":"libicu67","libjpeg.so.62":"libjpeg62-turbo","liblcms2.so.2":"liblcms2-2","libmanette-0.2.so.0":"libmanette-0.2-0","libnotify.so.4":"libnotify4","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libOpenGL.so.0":"libopengl0","libopenjp2.so.7":"libopenjp2-7","libopus.so.0":"libopus0","libpango-1.0.so.0":"libpango-1.0-0","libpangocairo-1.0.so.0":"libpangocairo-1.0-0","libpng16.so.16":"libpng16-16","libproxy.so.1":"libproxy1v5","libsecret-1.so.0":"libsecret-1-0","libsmime3.so":"libnss3","libwayland-client.so.0":"libwayland-client0","libwayland-egl.so.1":"libwayland-egl1","libwayland-server.so.0":"libwayland-server0","libwebp.so.6":"libwebp6","libwebpdemux.so.2":"libwebpdemux2","libwoff2dec.so.1.0.2":"libwoff1","libX11-xcb.so.1":"libx11-xcb1","libX11.so.6":"libx11-6","libxcb-shm.so.0":"libxcb-shm0","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXcursor.so.1":"libxcursor1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libXi.so.6":"libxi6","libxkbcommon.so.0":"libxkbcommon0","libxml2.so.2":"libxml2","libXrandr.so.2":"libxrandr2","libXrender.so.1":"libxrender1","libxslt.so.1":"libxslt1.1","libXtst.so.6":"libxtst6","libatomic.so.1":"libatomic1","libevent-2.1.so.7":"libevent-2.1-7"}},"debian12-x64":{tools:["xvfb","fonts-noto-color-emoji","fonts-unifont","libfontconfig1","libfreetype6","xfonts-scalable","fonts-liberation","fonts-ipafont-gothic","fonts-wqy-zenhei","fonts-tlwg-loma-otf","fonts-freefont-ttf"],chromium:["libasound2","libatk-bridge2.0-0","libatk1.0-0","libatspi2.0-0","libcairo2","libcups2","libdbus-1-3","libdrm2","libgbm1","libglib2.0-0","libnspr4","libnss3","libpango-1.0-0","libx11-6","libxcb1","libxcomposite1","libxdamage1","libxext6","libxfixes3","libxkbcommon0","libxrandr2"],firefox:["libasound2","libatk1.0-0","libcairo-gobject2","libcairo2","libdbus-1-3","libdbus-glib-1-2","libfontconfig1","libfreetype6","libgdk-pixbuf-2.0-0","libglib2.0-0","libgtk-3-0","libharfbuzz0b","libpango-1.0-0","libpangocairo-1.0-0","libx11-6","libx11-xcb1","libxcb-shm0","libxcb1","libxcomposite1","libxcursor1","libxdamage1","libxext6","libxfixes3","libxi6","libxrandr2","libxrender1","libxtst6"],webkit:["libsoup-3.0-0","gstreamer1.0-libav","gstreamer1.0-plugins-bad","gstreamer1.0-plugins-base","gstreamer1.0-plugins-good","libatk-bridge2.0-0","libatk1.0-0","libcairo2","libdbus-1-3","libdrm2","libegl1","libenchant-2-2","libepoxy0","libevdev2","libfontconfig1","libfreetype6","libgbm1","libgdk-pixbuf-2.0-0","libgles2","libglib2.0-0","libglx0","libgstreamer-gl1.0-0","libgstreamer-plugins-base1.0-0","libgstreamer1.0-0","libgtk-3-0","libgudev-1.0-0","libharfbuzz-icu0","libharfbuzz0b","libhyphen0","libicu72","libjpeg62-turbo","liblcms2-2","libmanette-0.2-0","libnotify4","libopengl0","libopenjp2-7","libopus0","libpango-1.0-0","libpng16-16","libproxy1v5","libsecret-1-0","libwayland-client0","libwayland-egl1","libwayland-server0","libwebp7","libwebpdemux2","libwoff1","libx11-6","libxcomposite1","libxdamage1","libxkbcommon0","libxml2","libxslt1.1","libatomic1","libevent-2.1-7"],lib2package:{"libsoup-3.0.so.0":"libsoup-3.0-0","libasound.so.2":"libasound2","libatk-1.0.so.0":"libatk1.0-0","libatk-bridge-2.0.so.0":"libatk-bridge2.0-0","libatspi.so.0":"libatspi2.0-0","libcairo.so.2":"libcairo2","libcups.so.2":"libcups2","libdbus-1.so.3":"libdbus-1-3","libdrm.so.2":"libdrm2","libgbm.so.1":"libgbm1","libgio-2.0.so.0":"libglib2.0-0","libglib-2.0.so.0":"libglib2.0-0","libgobject-2.0.so.0":"libglib2.0-0","libnspr4.so":"libnspr4","libnss3.so":"libnss3","libnssutil3.so":"libnss3","libpango-1.0.so.0":"libpango-1.0-0","libsmime3.so":"libnss3","libX11.so.6":"libx11-6","libxcb.so.1":"libxcb1","libXcomposite.so.1":"libxcomposite1","libXdamage.so.1":"libxdamage1","libXext.so.6":"libxext6","libXfixes.so.3":"libxfixes3","libxkbcommon.so.0":"libxkbcommon0","libXrandr.so.2":"libxrandr2"}}};Q["ubuntu20.04-arm64"]={tools:[...Q["ubuntu20.04-x64"].tools],chromium:[...Q["ubuntu20.04-x64"].chromium],firefox:[...Q["ubuntu20.04-x64"].firefox],webkit:[...Q["ubuntu20.04-x64"].webkit],lib2package:{...Q["ubuntu20.04-x64"].lib2package}};Q["ubuntu22.04-arm64"]={tools:[...Q["ubuntu22.04-x64"].tools],chromium:[...Q["ubuntu22.04-x64"].chromium],firefox:[...Q["ubuntu22.04-x64"].firefox],webkit:[...Q["ubuntu22.04-x64"].webkit],lib2package:{...Q["ubuntu22.04-x64"].lib2package}};Q["debian11-arm64"]={tools:[...Q["debian11-x64"].tools],chromium:[...Q["debian11-x64"].chromium],firefox:[...Q["debian11-x64"].firefox],webkit:[...Q["debian11-x64"].webkit],lib2package:{...Q["debian11-x64"].lib2package}};Q["debian12-arm64"]={tools:[...Q["debian12-x64"].tools],chromium:[...Q["debian12-x64"].chromium],firefox:[...Q["debian12-x64"].firefox],webkit:[...Q["debian12-x64"].webkit],lib2package:{...Q["debian12-x64"].lib2package}}},4613:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Screenshotter=void 0;S.validateScreenshotOptions=validateScreenshotOptions;var O=Q(9175);var H=Q(3557);var V=Q(2391);function inPagePrepareForScreenshots(v,S,Q,O){if(O){const v=document.createElement("style");v.textContent="body {}";document.head.appendChild(v);document.documentElement.getBoundingClientRect();v.remove()}if(!v&&!S&&!Q)return;const collectRoots=(v,S=[])=>{S.push(v);const Q=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT);do{const v=Q.currentNode;const O=v instanceof Element?v.shadowRoot:null;if(O)collectRoots(O,S)}while(Q.nextNode());return S};const H=collectRoots(document);const V=[];if(v){for(const S of H){const Q=document.createElement("style");Q.textContent=v;if(S===document)document.documentElement.append(Q);else S.append(Q);V.push((()=>{Q.remove()}))}}if(S){const v=new Map;for(const S of H){S.querySelectorAll("input,textarea,[contenteditable]").forEach((S=>{v.set(S,{value:S.style.getPropertyValue("caret-color"),priority:S.style.getPropertyPriority("caret-color")});S.style.setProperty("caret-color","transparent","important")}))}V.push((()=>{for(const[S,Q]of v)S.style.setProperty("caret-color",Q.value,Q.priority)}))}if(Q){const v=new Set;const handleAnimations=S=>{for(const Q of S.getAnimations()){if(!Q.effect||Q.playbackRate===0||v.has(Q))continue;const S=Q.effect.getComputedTiming().endTime;if(Number.isFinite(S)){try{Q.finish()}catch(v){}}else{try{Q.cancel();v.add(Q)}catch(v){}}}};for(const v of H){const S=handleAnimations.bind(null,v);S();v.addEventListener("transitionrun",S);v.addEventListener("animationstart",S);V.push((()=>{v.removeEventListener("transitionrun",S);v.removeEventListener("animationstart",S)}))}V.push((()=>{for(const S of v){try{S.play()}catch(v){}}}))}window.__pwCleanupScreenshot=()=>{for(const v of V)v();delete window.__pwCleanupScreenshot}}class Screenshotter{constructor(v){this._queue=new TaskQueue;this._page=void 0;this._page=v;this._queue=new TaskQueue}async _originalViewportSize(v){const S=this._page.viewportSize();let Q=S;if(!Q)Q=await this._page.mainFrame().waitForFunctionValueInUtility(v,(()=>({width:window.innerWidth,height:window.innerHeight})));return{viewportSize:Q,originalViewportSize:S}}async _fullPageSize(v){const S=await this._page.mainFrame().waitForFunctionValueInUtility(v,(()=>{if(!document.body||!document.documentElement)return null;return{width:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth),height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}}));return S}async screenshotPage(v,S){const Q=validateScreenshotOptions(S);return this._queue.postTask((async()=>{v.log("taking page screenshot");const{viewportSize:O}=await this._originalViewportSize(v);await this._preparePageForScreenshot(v,S.style,S.caret!=="initial",S.animations==="disabled");v.throwIfAborted();if(S.fullPage){const H=await this._fullPageSize(v);let V={x:0,y:0,width:H.width,height:H.height};const J=H.width<=O.width&&H.height<=O.height;if(S.clip)V=trimClipToSize(S.clip,V);const Y=await this._screenshot(v,Q,V,undefined,J,S);v.throwIfAborted();await this._restorePageAfterScreenshot();return Y}const H=S.clip?trimClipToSize(S.clip,O):{x:0,y:0,...O};const V=await this._screenshot(v,Q,undefined,H,true,S);v.throwIfAborted();await this._restorePageAfterScreenshot();return V}))}async screenshotElement(v,S,Q){const V=validateScreenshotOptions(Q);return this._queue.postTask((async()=>{v.log("taking element screenshot");const{viewportSize:J}=await this._originalViewportSize(v);await this._preparePageForScreenshot(v,Q.style,Q.caret!=="initial",Q.animations==="disabled");v.throwIfAborted();await S._waitAndScrollIntoViewIfNeeded(v,true);v.throwIfAborted();const Y=await S.boundingBox();(0,H.assert)(Y,"Node is either not visible or not an HTMLElement");(0,H.assert)(Y.width!==0,"Node has 0 width.");(0,H.assert)(Y.height!==0,"Node has 0 height.");const X=Y.width<=J.width&&Y.height<=J.height;v.throwIfAborted();const ee=await this._page.mainFrame().waitForFunctionValueInUtility(v,(()=>({x:window.scrollX,y:window.scrollY})));const ae={...Y};ae.x+=ee.x;ae.y+=ee.y;const he=await this._screenshot(v,V,O.helper.enclosingIntRect(ae),undefined,X,Q);v.throwIfAborted();await this._restorePageAfterScreenshot();return he}))}async _preparePageForScreenshot(v,S,Q,O){if(O)v.log("  disabled all CSS animations");const H=this._page._delegate.shouldToggleStyleSheetToSyncAnimations();await Promise.all(this._page.frames().map((async v=>{await v.nonStallingEvaluateInExistingContext("("+inPagePrepareForScreenshots.toString()+`)(${JSON.stringify(S)}, ${Q}, ${O}, ${H})`,false,"utility").catch((()=>{}))})));if(!process.env.PW_TEST_SCREENSHOT_NO_FONTS_READY){v.log("waiting for fonts to load...");await Promise.all(this._page.frames().map((async v=>{await v.nonStallingEvaluateInExistingContext("document.fonts.ready",false,"utility").catch((()=>{}))})));v.log("fonts loaded")}v.cleanupWhenAborted((()=>this._restorePageAfterScreenshot()))}async _restorePageAfterScreenshot(){await Promise.all(this._page.frames().map((async v=>{v.nonStallingEvaluateInExistingContext("window.__pwCleanupScreenshot && window.__pwCleanupScreenshot()",false,"utility").catch((()=>{}))})))}async _maskElements(v,S){const Q=new V.MultiMap;const cleanup=async()=>{await Promise.all([...Q.keys()].map((async v=>{await v.hideHighlight()})))};if(!S.mask||!S.mask.length)return cleanup;await Promise.all((S.mask||[]).map((async({frame:v,selector:S})=>{const O=await v.selectors.resolveFrameForSelector(S);if(O)Q.set(O.frame,O.info.parsed)})));v.throwIfAborted();await Promise.all([...Q.keys()].map((async v=>{await v.maskSelectors(Q.get(v),S.maskColor||"#F0F")})));v.cleanupWhenAborted(cleanup);return cleanup}async _screenshot(v,S,Q,O,H,V){var J;if(V.__testHookBeforeScreenshot)await V.__testHookBeforeScreenshot();v.throwIfAborted();const Y=V.omitBackground&&S==="png";if(Y){await this._page._delegate.setBackgroundColor({r:0,g:0,b:0,a:0});v.cleanupWhenAborted((()=>this._page._delegate.setBackgroundColor()))}v.throwIfAborted();const X=await this._maskElements(v,V);v.throwIfAborted();const ee=S==="jpeg"?(J=V.quality)!==null&&J!==void 0?J:80:undefined;const ae=await this._page._delegate.takeScreenshot(v,S,Q,O,ee,H,V.scale||"device");v.throwIfAborted();await X();v.throwIfAborted();if(Y)await this._page._delegate.setBackgroundColor();v.throwIfAborted();if(V.__testHookAfterScreenshot)await V.__testHookAfterScreenshot();return ae}}S.Screenshotter=Screenshotter;class TaskQueue{constructor(){this._chain=void 0;this._chain=Promise.resolve()}postTask(v){const S=this._chain.then(v);this._chain=S.catch((()=>{}));return S}}function trimClipToSize(v,S){const Q={x:Math.max(0,Math.min(v.x,S.width)),y:Math.max(0,Math.min(v.y,S.height))};const O={x:Math.max(0,Math.min(v.x+v.width,S.width)),y:Math.max(0,Math.min(v.y+v.height,S.height))};const V={x:Q.x,y:Q.y,width:O.x-Q.x,height:O.y-Q.y};(0,H.assert)(V.width&&V.height,"Clipped area is either empty or outside the resulting image");return V}function validateScreenshotOptions(v){let S=null;if(v.type){(0,H.assert)(v.type==="png"||v.type==="jpeg","Unknown options.type value: "+v.type);S=v.type}if(!S)S="png";if(v.quality!==undefined){(0,H.assert)(S==="jpeg","options.quality is unsupported for the "+S+" screenshots");(0,H.assert)(typeof v.quality==="number","Expected options.quality to be a number but found "+typeof v.quality);(0,H.assert)(Number.isInteger(v.quality),"Expected options.quality to be an integer");(0,H.assert)(v.quality>=0&&v.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+v.quality)}if(v.clip){(0,H.assert)(typeof v.clip.x==="number","Expected options.clip.x to be a number but found "+typeof v.clip.x);(0,H.assert)(typeof v.clip.y==="number","Expected options.clip.y to be a number but found "+typeof v.clip.y);(0,H.assert)(typeof v.clip.width==="number","Expected options.clip.width to be a number but found "+typeof v.clip.width);(0,H.assert)(typeof v.clip.height==="number","Expected options.clip.height to be a number but found "+typeof v.clip.height);(0,H.assert)(v.clip.width!==0,"Expected options.clip.width not to be 0.");(0,H.assert)(v.clip.height!==0,"Expected options.clip.height not to be 0.")}return S}},5875:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Selectors=void 0;var O=Q(942);var H=Q(3557);class Selectors{constructor(){this._builtinEngines=void 0;this._builtinEnginesInMainWorld=void 0;this._engines=void 0;this.guid=`selectors@${(0,H.createGuid)()}`;this._testIdAttributeName="data-testid";this._builtinEngines=new Set(["css","css:light","xpath","xpath:light","_react","_vue","text","text:light","id","id:light","data-testid","data-testid:light","data-test-id","data-test-id:light","data-test","data-test:light","nth","visible","internal:control","internal:has","internal:has-not","internal:has-text","internal:has-not-text","internal:and","internal:or","internal:chain","role","internal:attr","internal:label","internal:text","internal:role","internal:testid"]);this._builtinEnginesInMainWorld=new Set(["_react","_vue"]);this._engines=new Map}async register(v,S,Q=false){if(!v.match(/^[a-zA-Z_0-9-]+$/))throw new Error("Selector engine name may only contain [a-zA-Z0-9_] characters");if(this._builtinEngines.has(v)||v==="zs"||v==="zs:light")throw new Error(`"${v}" is a predefined selector engine`);if(this._engines.has(v))throw new Error(`"${v}" selector engine has been already registered`);this._engines.set(v,{source:S,contentScript:Q})}testIdAttributeName(){return this._testIdAttributeName}setTestIdAttributeName(v){this._testIdAttributeName=v}unregisterAll(){this._engines.clear()}parseSelector(v,S){const Q=typeof v==="string"?(0,O.parseSelector)(v):v;let H=false;(0,O.visitAllSelectorParts)(Q,(v=>{const S=v.name;const V=this._engines.get(S);if(!V&&!this._builtinEngines.has(S))throw new O.InvalidSelectorError(`Unknown engine "${S}" while parsing selector ${(0,O.stringifySelector)(Q)}`);if(V&&!V.contentScript)H=true;if(this._builtinEnginesInMainWorld.has(S))H=true}));return{parsed:Q,world:H?"main":"utility",strict:S}}}S.Selectors=Selectors},1010:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.SocksInterceptor=void 0;var O=_interopRequireWildcard(Q(1570));var H=_interopRequireDefault(Q(2361));var V=Q(7989);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class SocksInterceptor{constructor(v,S,Q){this._handler=void 0;this._channel=void 0;this._socksSupportObjectGuid=void 0;this._ids=new Set;this._handler=new O.SocksProxyHandler(S,Q);let J=-1;this._channel=new Proxy(new H.default,{get:(S,Q)=>{if(Q in S||S[Q]!==undefined||typeof Q!=="string")return S[Q];return S=>{try{const O=--J;this._ids.add(O);const H=(0,V.findValidator)("SocksSupport",Q,"Params");S=H(S,"",{tChannelImpl:tChannelForSocks,binary:"toBase64"});v.send({id:O,guid:this._socksSupportObjectGuid,method:Q,params:S,metadata:{stack:[],apiName:"",internal:true}})}catch(v){}}}});this._handler.on(O.SocksProxyHandler.Events.SocksConnected,(v=>this._channel.socksConnected(v)));this._handler.on(O.SocksProxyHandler.Events.SocksData,(v=>this._channel.socksData(v)));this._handler.on(O.SocksProxyHandler.Events.SocksError,(v=>this._channel.socksError(v)));this._handler.on(O.SocksProxyHandler.Events.SocksFailed,(v=>this._channel.socksFailed(v)));this._handler.on(O.SocksProxyHandler.Events.SocksEnd,(v=>this._channel.socksEnd(v)));this._channel.on("socksRequested",(v=>this._handler.socketRequested(v)));this._channel.on("socksClosed",(v=>this._handler.socketClosed(v)));this._channel.on("socksData",(v=>this._handler.sendSocketData(v)))}cleanup(){this._handler.cleanup()}interceptMessage(v){if(this._ids.has(v.id)){this._ids.delete(v.id);return true}if(v.method==="__create__"&&v.params.type==="SocksSupport"){this._socksSupportObjectGuid=v.params.guid;return false}if(this._socksSupportObjectGuid&&v.guid===this._socksSupportObjectGuid){const S=(0,V.findValidator)("SocksSupport",v.method,"Event");const Q=S(v.params,"",{tChannelImpl:tChannelForSocks,binary:"fromBase64"});this._channel.emit(v.method,Q);return true}return false}}S.SocksInterceptor=SocksInterceptor;function tChannelForSocks(v,S,Q,O){throw new V.ValidationError(`${Q}: channels are not expected in SocksSupport`)}},899:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Snapshotter=void 0;var O=Q(5985);var H=Q(3555);var V=Q(3841);var J=Q(2003);var Y=Q(6346);var X=Q(3557);var ee=Q(1319);class Snapshotter{constructor(v,S){this._context=void 0;this._delegate=void 0;this._eventListeners=[];this._snapshotStreamer=void 0;this._initialized=false;this._started=false;this._context=v;this._delegate=S;const Q=(0,X.createGuid)();this._snapshotStreamer="__playwright_snapshot_streamer_"+Q}started(){return this._started}async start(){this._started=true;if(!this._initialized){this._initialized=true;await this._initialize()}await this.reset()}async reset(){if(this._started)await this._runInAllFrames(`window["${this._snapshotStreamer}"].reset()`)}async stop(){this._started=false}resetForReuse(){this._initialized=false}async _initialize(){for(const v of this._context.pages())this._onPage(v);this._eventListeners=[V.eventsHelper.addEventListener(this._context,O.BrowserContext.Events.Page,this._onPage.bind(this))];const v=`(${Y.frameSnapshotStreamer})("${this._snapshotStreamer}", ${!!this._context._options.javaScriptEnabled})`;await this._context.addInitScript(v);await this._runInAllFrames(v)}async _runInAllFrames(v){const S=[];for(const v of this._context.pages())S.push(...v.frames());await Promise.all(S.map((S=>S.nonStallingRawEvaluateInExistingMainContext(v).catch((v=>J.debugLogger.log("error",v))))))}dispose(){V.eventsHelper.removeEventListeners(this._eventListeners)}async captureSnapshot(v,S,Q,O){const H=`window["${this._snapshotStreamer}"].captureSnapshot(${JSON.stringify(Q)})`;O===null||O===void 0?void 0:O.callFunctionNoReply(((v,S)=>{const Q=new CustomEvent("__playwright_target__",{bubbles:true,cancelable:true,detail:S,composed:true});v.dispatchEvent(Q)}),S);const V=v.frames().map((async O=>{const V=await O.nonStallingRawEvaluateInExistingMainContext(H).catch((v=>J.debugLogger.log("error",v)));if(!V||!this._started)return;const Y={callId:S,snapshotName:Q,pageId:v.guid,frameId:O.guid,frameUrl:V.url,doctype:V.doctype,html:V.html,viewport:V.viewport,timestamp:(0,X.monotonicTime)(),collectionTime:V.collectionTime,resourceOverrides:[],isMainFrame:v.mainFrame()===O};for(const{url:v,content:S,contentType:Q}of V.resourceOverrides){if(typeof S==="string"){const O=Buffer.from(S);const H=(0,X.calculateSha1)(O)+"."+(ee.mime.getExtension(Q)||"dat");this._delegate.onSnapshotterBlob({sha1:H,buffer:O});Y.resourceOverrides.push({url:v,sha1:H})}else{Y.resourceOverrides.push({url:v,ref:S})}}this._delegate.onFrameSnapshot(Y)}));await Promise.all(V)}_onPage(v){for(const S of v.frames())this._annotateFrameHierarchy(S);this._eventListeners.push(V.eventsHelper.addEventListener(v,H.Page.Events.FrameAttached,(v=>this._annotateFrameHierarchy(v))))}async _annotateFrameHierarchy(v){try{const S=await v.frameElement();const Q=v.parentFrame();if(!Q)return;const O=await Q._mainContext();await(O===null||O===void 0?void 0:O.evaluate((({snapshotStreamer:v,frameElement:S,frameId:Q})=>{window[v].markIframe(S,Q)}),{snapshotStreamer:this._snapshotStreamer,frameElement:S,frameId:v.guid}));S.dispose()}catch(v){}}}S.Snapshotter=Snapshotter},6346:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.frameSnapshotStreamer=frameSnapshotStreamer;function frameSnapshotStreamer(v,S){if(window[v])return;const Q="__playwright_shadow_root_";const O="__playwright_value_";const H="__playwright_checked_";const V="__playwright_selected_";const J="__playwright_scroll_top_";const Y="__playwright_scroll_left_";const X="__playwright_style_sheet_";const ee="__playwright_target__";const ae="__playwright_custom_elements__";const he="__playwright_current_src__";const Ee=Symbol("__playwright_snapshot_frameid_");const Be=Symbol("__playwright_snapshot_cache_");const ke=Symbol("__playwright_end_of_list_");function resetCachedData(v){delete v[Be]}function ensureCachedData(v){if(!v[Be])v[Be]={};return v[Be]}function removeHash(v){try{const S=new URL(v);S.hash="";return S.toString()}catch(S){return v}}class Streamer{constructor(){this._lastSnapshotNumber=0;this._staleStyleSheets=new Set;this._readingStyleSheet=false;this._fakeBase=void 0;this._observer=void 0;const invalidateCSSGroupingRule=v=>{if(v.parentStyleSheet)this._invalidateStyleSheet(v.parentStyleSheet)};this._interceptNativeMethod(window.CSSStyleSheet.prototype,"insertRule",(v=>this._invalidateStyleSheet(v)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"deleteRule",(v=>this._invalidateStyleSheet(v)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"addRule",(v=>this._invalidateStyleSheet(v)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"removeRule",(v=>this._invalidateStyleSheet(v)));this._interceptNativeGetter(window.CSSStyleSheet.prototype,"rules",(v=>this._invalidateStyleSheet(v)));this._interceptNativeGetter(window.CSSStyleSheet.prototype,"cssRules",(v=>this._invalidateStyleSheet(v)));this._interceptNativeMethod(window.CSSStyleSheet.prototype,"replaceSync",(v=>this._invalidateStyleSheet(v)));this._interceptNativeMethod(window.CSSGroupingRule.prototype,"insertRule",invalidateCSSGroupingRule);this._interceptNativeMethod(window.CSSGroupingRule.prototype,"deleteRule",invalidateCSSGroupingRule);this._interceptNativeGetter(window.CSSGroupingRule.prototype,"cssRules",invalidateCSSGroupingRule);this._interceptNativeAsyncMethod(window.CSSStyleSheet.prototype,"replace",(v=>this._invalidateStyleSheet(v)));this._fakeBase=document.createElement("base");this._observer=new MutationObserver((v=>this._handleMutations(v)));const v={attributes:true,subtree:true};this._observer.observe(document,v);this._refreshListenersWhenNeeded()}_refreshListenersWhenNeeded(){this._refreshListeners();const v="__playwright_snapshotter_global_listeners_check__";let S=false;const handleCustomEvent=()=>S=true;window.addEventListener(v,handleCustomEvent);const Q=new MutationObserver((Q=>{const O=Q.some((v=>Array.from(v.addedNodes).includes(document.documentElement)));if(O){S=false;window.dispatchEvent(new CustomEvent(v));if(!S){window.addEventListener(v,handleCustomEvent);this._refreshListeners()}}}));Q.observe(document,{childList:true})}_refreshListeners(){document.addEventListener("__playwright_target__",(v=>{if(!v.detail)return;const S=v.detail;v.composedPath()[0].__playwright_target__=S}))}_interceptNativeMethod(v,S,Q){const O=v[S];if(!O)return;v[S]=function(...v){const S=O.call(this,...v);Q(this,S);return S}}_interceptNativeAsyncMethod(v,S,Q){const O=v[S];if(!O)return;v[S]=async function(...v){const S=await O.call(this,...v);Q(this,S);return S}}_interceptNativeGetter(v,S,Q){const O=Object.getOwnPropertyDescriptor(v,S);Object.defineProperty(v,S,{...O,get:function(){const v=O.get.call(this);Q(this,v);return v}})}_handleMutations(v){for(const S of v)ensureCachedData(S.target).attributesCached=undefined}_invalidateStyleSheet(v){if(this._readingStyleSheet)return;this._staleStyleSheets.add(v)}_updateStyleElementStyleSheetTextIfNeeded(v,S){const Q=ensureCachedData(v);if(this._staleStyleSheets.has(v)||S&&Q.cssText===undefined){this._staleStyleSheets.delete(v);try{Q.cssText=this._getSheetText(v)}catch(v){Q.cssText=""}}return Q.cssText}_updateLinkStyleSheetTextIfNeeded(v,S){const Q=ensureCachedData(v);if(this._staleStyleSheets.has(v)){this._staleStyleSheets.delete(v);try{Q.cssText=this._getSheetText(v);Q.cssRef=S;return Q.cssText}catch(v){}}return Q.cssRef===undefined?undefined:S-Q.cssRef}markIframe(v,S){v[Ee]=S}reset(){this._staleStyleSheets.clear();const visitNode=v=>{resetCachedData(v);if(v.nodeType===Node.ELEMENT_NODE){const S=v;if(S.shadowRoot)visitNode(S.shadowRoot)}for(let S=v.firstChild;S;S=S.nextSibling)visitNode(S)};visitNode(document.documentElement);visitNode(this._fakeBase)}__sanitizeMetaAttribute(v,S,Q){if(v==="charset")return"utf-8";if(Q.toLowerCase()!=="content-type"||v!=="content")return S;const[O,...H]=S.split(";");if(O!=="text/html"||H.length<=0)return S;const V=H.findIndex((v=>v.trim().startsWith("charset=")));if(V>-1)H[V]="charset=utf-8";return`${O}; ${H.join("; ")}`}_sanitizeUrl(v){if(v.startsWith("javascript:")||v.startsWith("vbscript:"))return"";return v}_sanitizeSrcSet(v){return v.split(",").map((v=>{v=v.trim();const S=v.lastIndexOf(" ");if(S===-1)return this._sanitizeUrl(v);return this._sanitizeUrl(v.substring(0,S).trim())+v.substring(S)})).join(", ")}_resolveUrl(v,S){if(S==="")return"";try{return new URL(S,v).href}catch(v){return S}}_getSheetBase(v){let S=v;while(S.parentStyleSheet)S=S.parentStyleSheet;if(S.ownerNode)return S.ownerNode.baseURI;return document.baseURI}_getSheetText(v){this._readingStyleSheet=true;try{const S=[];for(const Q of v.cssRules)S.push(Q.cssText);return S.join("\n")}finally{this._readingStyleSheet=false}}captureSnapshot(){const v=performance.now();const Be=++this._lastSnapshotNumber;let Re=0;let Oe=0;let Pe=0;this._handleMutations(this._observer.takeRecords());const Le=new Set;const visitNode=v=>{const X=v.nodeType;const je=X===Node.DOCUMENT_FRAGMENT_NODE?"template":v.nodeName;if(X!==Node.ELEMENT_NODE&&X!==Node.DOCUMENT_FRAGMENT_NODE&&X!==Node.TEXT_NODE)return;if(je==="SCRIPT")return;if(je==="LINK"&&X===Node.ELEMENT_NODE){var qe;const S=(qe=v.getAttribute("rel"))===null||qe===void 0?void 0:qe.toLowerCase();if(S==="preload"||S==="prefetch")return}if(S&&je==="NOSCRIPT")return;if(je==="META"&&v.httpEquiv.toLowerCase()==="content-security-policy")return;if((je==="IFRAME"||je==="FRAME")&&Pe)return;const Ve=ensureCachedData(v);const ze=[];let $e=!!Ve.cached;let Ye=0;const expectValue=v=>{$e=$e&&Ve.cached[ze.length]===v;ze.push(v)};const checkAndReturn=v=>{Ve.attributesCached=true;if($e)return{equals:true,n:[[Be-Ve.ref[0],Ve.ref[1]]]};Re+=Ye;Ve.ref=[Be,Re++];Ve.cached=ze;return{equals:false,n:v}};if(X===Node.TEXT_NODE){const S=v.nodeValue||"";expectValue(S);return checkAndReturn(S)}if(je==="STYLE"){const S=v.sheet;let Q;if(S)Q=this._updateStyleElementStyleSheetTextIfNeeded(S);Q=Q||v.textContent||"";expectValue(Q);Ye++;return checkAndReturn([je,{},Q])}const et={};const tt=[je,et];const visitChild=v=>{const S=visitNode(v);if(S){tt.push(S.n);expectValue(v);$e=$e&&S.equals}};const visitChildStyleSheet=v=>{const S=visitStyleSheet(v);if(S){tt.push(S.n);expectValue(v);$e=$e&&S.equals}};if(X===Node.DOCUMENT_FRAGMENT_NODE)et[Q]="open";if(X===Node.ELEMENT_NODE){var nt;const S=v;if(S.localName.includes("-")&&(nt=window.customElements)!==null&&nt!==void 0&&nt.get(S.localName))Le.add(S.localName);if(je==="INPUT"||je==="TEXTAREA"){const v=S.value;expectValue(O);expectValue(v);et[O]=v}if(je==="INPUT"&&["checkbox","radio"].includes(S.type)){const v=S.checked?"true":"false";expectValue(H);expectValue(v);et[H]=v}if(je==="OPTION"){const v=S.selected?"true":"false";expectValue(V);expectValue(v);et[V]=v}if(S.scrollTop){expectValue(J);expectValue(S.scrollTop);et[J]=""+S.scrollTop}if(S.scrollLeft){expectValue(Y);expectValue(S.scrollLeft);et[Y]=""+S.scrollLeft}if(S.shadowRoot){++Oe;visitChild(S.shadowRoot);--Oe}if("__playwright_target__"in S){expectValue(ee);expectValue(S["__playwright_target__"]);et[ee]=S["__playwright_target__"]}}if(je==="HEAD"){++Pe;this._fakeBase.setAttribute("href",document.baseURI);visitChild(this._fakeBase)}for(let S=v.firstChild;S;S=S.nextSibling)visitChild(S);if(je==="HEAD")--Pe;expectValue(ke);let it=null;if(v.ownerDocument.documentElement===v)it=v.ownerDocument;else if(v.nodeType===Node.DOCUMENT_FRAGMENT_NODE)it=v;if(it){for(const v of it.adoptedStyleSheets||[])visitChildStyleSheet(v);expectValue(ke)}if(je==="IFRAME"||je==="FRAME"){const S=v;const Q=S[Ee];const O="src";const H=Q?`/snapshot/${Q}`:"";expectValue(O);expectValue(H);et[O]=H}if(je==="BODY"&&Le.size){const v=[...Le].join(",");expectValue(ae);expectValue(v);et[ae]=v}if(je==="IMG"||je==="PICTURE"){const S=je==="PICTURE"?"":this._sanitizeUrl(v.currentSrc);expectValue(he);expectValue(S);et[he]=S}if($e&&Ve.attributesCached&&!Oe)return checkAndReturn(tt);if(X===Node.ELEMENT_NODE){const S=v;for(let Q=0;Q<S.attributes.length;Q++){const O=S.attributes[Q].name;if(je==="LINK"&&O==="integrity")continue;if(je==="IFRAME"&&(O==="src"||O==="srcdoc"||O==="sandbox"))continue;if(je==="FRAME"&&O==="src")continue;let H=S.attributes[Q].value;if(je==="META")H=this.__sanitizeMetaAttribute(O,H,v.httpEquiv);else if(O==="src"&&je==="IMG")H=this._sanitizeUrl(H);else if(O==="srcset"&&je==="IMG")H=this._sanitizeSrcSet(H);else if(O==="srcset"&&je==="SOURCE")H=this._sanitizeSrcSet(H);else if(O==="href"&&je==="LINK")H=this._sanitizeUrl(H);else if(O.startsWith("on"))H="";expectValue(O);expectValue(H);et[O]=H}expectValue(ke)}if(tt.length===2&&!Object.keys(et).length)tt.pop();return checkAndReturn(tt)};const visitStyleSheet=v=>{const S=ensureCachedData(v);const Q=S.cssText;const O=this._updateStyleElementStyleSheetTextIfNeeded(v,true);if(O===Q)return{equals:true,n:[[Be-S.ref[0],S.ref[1]]]};S.ref=[Be,Re++];return{equals:false,n:["template",{[X]:O}]}};let je;if(document.documentElement){const{n:v}=visitNode(document.documentElement);je=v}else{je=["html"]}const qe={html:je,doctype:document.doctype?document.doctype.name:undefined,resourceOverrides:[],viewport:{width:window.innerWidth,height:window.innerHeight},url:location.href,timestamp:v,collectionTime:0};for(const v of this._staleStyleSheets){if(v.href===null)continue;const S=this._updateLinkStyleSheetTextIfNeeded(v,Be);if(S===undefined){continue}const Q=this._getSheetBase(v);const O=removeHash(this._resolveUrl(Q,v.href));qe.resourceOverrides.push({url:O,content:S,contentType:"text/css"})}qe.collectionTime=performance.now()-qe.timestamp;return qe}}window[v]=new Streamer}},865:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.Tracing=void 0;S.shouldCaptureSnapshot=shouldCaptureSnapshot;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(2037));var V=_interopRequireDefault(Q(1017));var J=Q(2476);var Y=Q(6729);var X=Q(3841);var ee=Q(3557);var ae=Q(6034);var he=Q(1796);var Ee=Q(5985);var Be=Q(6686);var ke=Q(3555);var Re=Q(4012);var Oe=Q(899);var Pe=Q(6383);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const Le=6;const je={width:800,height:600,quality:90};class Tracing extends Be.SdkObject{constructor(v,S){super(v,"tracing");this._fs=new SerializedFS;this._snapshotter=void 0;this._harTracer=void 0;this._screencastListeners=[];this._eventListeners=[];this._context=void 0;this._state=void 0;this._isStopping=false;this._precreatedTracesDir=void 0;this._tracesTmpDir=void 0;this._allResources=new Set;this._contextCreatedEvent=void 0;this._pendingHarEntries=new Set;this._context=v;this._precreatedTracesDir=S;this._harTracer=new Re.HarTracer(v,null,this,{content:"attach",includeTraceInfo:true,recordRequestOverrides:false,waitForContentOnStop:false});const Q="selectors"in v?v.selectors().testIdAttributeName():undefined;this._contextCreatedEvent={version:Le,type:"context-options",browserName:"",options:{},platform:process.platform,wallTime:0,sdkLanguage:v.attribution.playwright.options.sdkLanguage,testIdAttributeName:Q};if(v instanceof Ee.BrowserContext){this._snapshotter=new Oe.Snapshotter(v,this);(0,ee.assert)(S,"tracesDir must be specified for BrowserContext");this._contextCreatedEvent.browserName=v._browser.options.name;this._contextCreatedEvent.channel=v._browser.options.channel;this._contextCreatedEvent.options=v._options}}async resetForReuse(){var v;await this.stopChunk({mode:"discard"}).catch((()=>{}));await this.stop();(v=this._snapshotter)===null||v===void 0?void 0:v.resetForReuse()}async start(v){if(this._isStopping)throw new Error("Cannot start tracing while stopping");if(this._state)throw new Error("Tracing has been already started");this._contextCreatedEvent.sdkLanguage=this._context.attribution.playwright.options.sdkLanguage;const S=v.name||(0,ee.createGuid)();const Q=this._createTracesDirIfNeeded();this._state={options:v,traceName:S,tracesDir:Q,traceFile:V.default.join(Q,S+".trace"),networkFile:V.default.join(Q,S+".network"),resourcesDir:V.default.join(Q,"resources"),chunkOrdinal:0,traceSha1s:new Set,networkSha1s:new Set,recording:false,callIds:new Set};this._fs.mkdir(this._state.resourcesDir);this._fs.writeFile(this._state.networkFile,"");if(v.snapshots)this._harTracer.start({omitScripts:!v.live})}async startChunk(v={}){var S;if(this._state&&this._state.recording)await this.stopChunk({mode:"discard"});if(!this._state)throw new Error("Must start tracing before starting a new chunk");if(this._isStopping)throw new Error("Cannot start a trace chunk while stopping");this._state.recording=true;this._state.callIds.clear();if(v.name&&v.name!==this._state.traceName)this._changeTraceName(this._state,v.name);else this._allocateNewTraceFile(this._state);this._fs.mkdir(V.default.dirname(this._state.traceFile));const Q={...this._contextCreatedEvent,title:v.title,wallTime:Date.now()};this._fs.appendFile(this._state.traceFile,JSON.stringify(Q)+"\n");this._context.instrumentation.addListener(this,this._context);this._eventListeners.push(X.eventsHelper.addEventListener(this._context,Ee.BrowserContext.Events.Console,this._onConsoleMessage.bind(this)));if(this._state.options.screenshots)this._startScreencast();if(this._state.options.snapshots)await((S=this._snapshotter)===null||S===void 0?void 0:S.start());return{traceName:this._state.traceName}}_startScreencast(){if(!(this._context instanceof Ee.BrowserContext))return;for(const v of this._context.pages())this._startScreencastInPage(v);this._screencastListeners.push(X.eventsHelper.addEventListener(this._context,Ee.BrowserContext.Events.Page,this._startScreencastInPage.bind(this)))}_stopScreencast(){X.eventsHelper.removeEventListeners(this._screencastListeners);if(!(this._context instanceof Ee.BrowserContext))return;for(const v of this._context.pages())v.setScreencastOptions(null)}_allocateNewTraceFile(v){const S=v.chunkOrdinal?`-chunk${v.chunkOrdinal}`:``;v.chunkOrdinal++;v.traceFile=V.default.join(v.tracesDir,`${v.traceName}${S}.trace`)}_changeTraceName(v,S){v.traceName=S;v.chunkOrdinal=0;this._allocateNewTraceFile(v);const Q=V.default.join(v.tracesDir,S+".network");this._fs.copyFile(v.networkFile,Q);v.networkFile=Q}async stop(){if(!this._state)return;if(this._isStopping)throw new Error(`Tracing is already stopping`);if(this._state.recording)throw new Error(`Must stop trace file before stopping tracing`);this._harTracer.stop();this.flushHarEntries();await this._fs.syncAndGetError();this._state=undefined}async deleteTmpTracesDir(){if(this._tracesTmpDir)await(0,ae.removeFolders)([this._tracesTmpDir])}_createTracesDirIfNeeded(){if(this._precreatedTracesDir)return this._precreatedTracesDir;this._tracesTmpDir=O.default.mkdtempSync(V.default.join(H.default.tmpdir(),"playwright-tracing-"));return this._tracesTmpDir}abort(){var v;(v=this._snapshotter)===null||v===void 0?void 0:v.dispose();this._harTracer.stop()}async flush(){this.abort();await this._fs.syncAndGetError()}async stopChunk(v){var S;if(this._isStopping)throw new Error(`Tracing is already stopping`);this._isStopping=true;if(!this._state||!this._state.recording){this._isStopping=false;if(v.mode!=="discard")throw new Error(`Must start tracing before stopping`);return{}}this._context.instrumentation.removeListener(this);X.eventsHelper.removeEventListeners(this._eventListeners);if(this._state.options.screenshots)this._stopScreencast();if(this._state.options.snapshots)await((S=this._snapshotter)===null||S===void 0?void 0:S.stop());this.flushHarEntries();const Q=V.default.join(this._state.tracesDir,this._state.traceName+`-pwnetcopy-${this._state.chunkOrdinal}.network`);const O=[];O.push({name:"trace.trace",value:this._state.traceFile});O.push({name:"trace.network",value:Q});for(const v of new Set([...this._state.traceSha1s,...this._state.networkSha1s]))O.push({name:V.default.join("resources",v),value:V.default.join(this._state.resourcesDir,v)});this._state.traceSha1s=new Set;if(v.mode==="discard"){this._isStopping=false;this._state.recording=false;return{}}this._fs.copyFile(this._state.networkFile,Q);const H=this._state.traceFile+".zip";if(v.mode==="archive")this._fs.zip(O,H);const J=await this._fs.syncAndGetError();this._isStopping=false;if(this._state)this._state.recording=false;if(J){if(this._context instanceof Ee.BrowserContext&&!this._context._browser.isConnected())return{};throw J}if(v.mode==="entries")return{entries:O};const Y=new he.Artifact(this._context,H);Y.reportFinished();return{artifact:Y}}async _captureSnapshot(v,S,Q,O){if(!this._snapshotter)return;if(!S.attribution.page)return;if(!this._snapshotter.started())return;if(!shouldCaptureSnapshot(Q))return;await this._snapshotter.captureSnapshot(S.attribution.page,Q.id,v,O).catch((()=>{}))}onBeforeCall(v,S){var Q,O;const H=createBeforeActionTraceEvent(S);if(!H)return Promise.resolve();(Q=v.attribution.page)===null||Q===void 0?void 0:Q.temporarilyDisableTracingScreencastThrottling();H.beforeSnapshot=`before@${S.id}`;(O=this._state)===null||O===void 0?void 0:O.callIds.add(S.id);this._appendTraceEvent(H);return this._captureSnapshot(H.beforeSnapshot,v,S)}onBeforeInputAction(v,S,Q){var O,H;if(!((O=this._state)!==null&&O!==void 0&&O.callIds.has(S.id)))return Promise.resolve();const V=createInputActionTraceEvent(S);if(!V)return Promise.resolve();(H=v.attribution.page)===null||H===void 0?void 0:H.temporarilyDisableTracingScreencastThrottling();V.inputSnapshot=`input@${S.id}`;this._appendTraceEvent(V);return this._captureSnapshot(V.inputSnapshot,v,S,Q)}onCallLog(v,S,Q,O){if(S.isServerSide||S.internal)return;if(Q!=="api")return;const H=createActionLogTraceEvent(S,O);if(H)this._appendTraceEvent(H)}async onAfterCall(v,S){var Q,O,H;if(!((Q=this._state)!==null&&Q!==void 0&&Q.callIds.has(S.id)))return;(O=this._state)===null||O===void 0?void 0:O.callIds.delete(S.id);const V=createAfterActionTraceEvent(S);if(!V)return;(H=v.attribution.page)===null||H===void 0?void 0:H.temporarilyDisableTracingScreencastThrottling();V.afterSnapshot=`after@${S.id}`;this._appendTraceEvent(V);return this._captureSnapshot(V.afterSnapshot,v,S)}onEvent(v,S){if(!v.attribution.context)return;if(S.method==="console"||S.method==="__create__"&&S.class==="ConsoleMessage"||S.method==="__create__"&&S.class==="JSHandle"){return}this._appendTraceEvent(S)}onEntryStarted(v){this._pendingHarEntries.add(v)}onEntryFinished(v){this._pendingHarEntries.delete(v);const S={type:"resource-snapshot",snapshot:v};const Q=visitTraceEvent(S,this._state.networkSha1s);this._fs.appendFile(this._state.networkFile,JSON.stringify(Q)+"\n",true)}flushHarEntries(){const v=[];for(const S of this._pendingHarEntries){const Q={type:"resource-snapshot",snapshot:S};const O=visitTraceEvent(Q,this._state.networkSha1s);v.push(JSON.stringify(O))}this._pendingHarEntries.clear();if(v.length)this._fs.appendFile(this._state.networkFile,v.join("\n")+"\n",true)}onContentBlob(v,S){this._appendResource(v,S)}onSnapshotterBlob(v){this._appendResource(v.sha1,v.buffer)}onFrameSnapshot(v){this._appendTraceEvent({type:"frame-snapshot",snapshot:v})}_onConsoleMessage(v){const S={type:"console",messageType:v.type(),text:v.text(),args:v.args().map((v=>({preview:v.toString(),value:v.rawValue()}))),location:v.location(),time:(0,ee.monotonicTime)(),pageId:v.page().guid};this._appendTraceEvent(S)}_startScreencastInPage(v){v.setScreencastOptions(je);const S=v.guid;this._screencastListeners.push(X.eventsHelper.addEventListener(v,ke.Page.Events.ScreencastFrame,(Q=>{const O=Q.timestamp||Date.now();const H=`${S}-${O}.jpeg`;const V={type:"screencast-frame",pageId:v.guid,sha1:H,width:Q.width,height:Q.height,timestamp:(0,ee.monotonicTime)()};this._appendResource(H,Q.buffer);this._appendTraceEvent(V)})))}_appendTraceEvent(v){const S=visitTraceEvent(v,this._state.traceSha1s);const Q=this._state.options.live||v.type!=="event"&&v.type!=="console"&&v.type!=="log";this._fs.appendFile(this._state.traceFile,JSON.stringify(S)+"\n",Q)}_appendResource(v,S){if(this._allResources.has(v))return;this._allResources.add(v);const Q=V.default.join(this._state.resourcesDir,v);this._fs.writeFile(Q,S,true)}}S.Tracing=Tracing;function visitTraceEvent(v,S){if(Array.isArray(v))return v.map((v=>visitTraceEvent(v,S)));if(v instanceof Buffer)return undefined;if(v instanceof Date)return v;if(typeof v==="object"){const Q={};for(const O in v){if(O==="sha1"||O==="_sha1"||O.endsWith("Sha1")){const Q=v[O];if(Q)S.add(Q)}Q[O]=visitTraceEvent(v[O],S)}return Q}return v}function shouldCaptureSnapshot(v){return J.commandsWithTracingSnapshots.has(v.type+"."+v.method)}function createBeforeActionTraceEvent(v){if(v.internal||v.method.startsWith("tracing"))return null;return{type:"before",callId:v.id,startTime:v.startTime,apiName:v.apiName||v.type+"."+v.method,class:v.type,method:v.method,params:v.params,wallTime:v.wallTime,pageId:v.pageId}}function createInputActionTraceEvent(v){if(v.internal||v.method.startsWith("tracing"))return null;return{type:"input",callId:v.id,point:v.point}}function createActionLogTraceEvent(v,S){if(v.internal||v.method.startsWith("tracing"))return null;return{type:"log",callId:v.id,time:(0,ee.monotonicTime)(),message:S}}function createAfterActionTraceEvent(v){var S;if(v.internal||v.method.startsWith("tracing"))return null;return{type:"after",callId:v.id,endTime:v.endTime,error:(S=v.error)===null||S===void 0?void 0:S.error,result:v.result,point:v.point}}class SerializedFS{constructor(){this._writeChain=Promise.resolve();this._buffers=new Map;this._error=void 0}mkdir(v){this._appendOperation((()=>O.default.promises.mkdir(v,{recursive:true})))}writeFile(v,S,Q){this._buffers.delete(v);this._appendOperation((async()=>{if(Q)await O.default.promises.writeFile(v,S,{flag:"wx"}).catch((()=>{}));else await O.default.promises.writeFile(v,S)}))}appendFile(v,S,Q){if(!this._buffers.has(v))this._buffers.set(v,[]);this._buffers.get(v).push(S);if(Q)this._flushFile(v)}_flushFile(v){const S=this._buffers.get(v);if(S===undefined)return;const Q=S.join("");this._buffers.delete(v);this._appendOperation((()=>O.default.promises.appendFile(v,Q)))}copyFile(v,S){this._flushFile(v);this._buffers.delete(S);this._appendOperation((()=>O.default.promises.copyFile(v,S)))}async syncAndGetError(){for(const v of this._buffers.keys())this._flushFile(v);await this._writeChain;return this._error}zip(v,S){for(const v of this._buffers.keys())this._flushFile(v);this._appendOperation((async()=>{const Q=new Pe.yazl.ZipFile;const H=new Y.ManualPromise;Q.on("error",(v=>H.reject(v)));for(const S of v)Q.addFile(S.value,S.name);Q.end();Q.outputStream.pipe(O.default.createWriteStream(S)).on("close",(()=>H.resolve())).on("error",(v=>H.reject(v)));await H}))}_appendOperation(v){this._writeChain=this._writeChain.then((async()=>{if(this._error)return;try{await v()}catch(v){this._error=v}}))}}},2790:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.openTraceInBrowser=openTraceInBrowser;S.openTraceViewerApp=openTraceViewerApp;var O=_interopRequireDefault(Q(1017));var H=_interopRequireDefault(Q(7147));var V=Q(4915);var J=Q(3557);var Y=Q(984);var X=Q(6686);var ee=Q(4506);var ae=Q(2836);var he=Q(1319);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}async function startTraceViewerServer(v,S){for(const S of v){let v=S;if(S.endsWith(".json"))v=S.substring(0,S.length-".json".length);if(!S.startsWith("http://")&&!S.startsWith("https://")&&!H.default.existsSync(v)&&!H.default.existsSync(v+".trace")){console.error(`Trace file ${S} does not exist!`);(0,J.gracefullyProcessExitDoNotHang)(1)}}const Q=new V.HttpServer;Q.routePrefix("/trace",((v,S)=>{const V=new URL("http://localhost"+v.url);const J=V.pathname.slice("/trace".length);if(J.endsWith("/stall.js"))return true;if(J.startsWith("/file")){try{const O=V.searchParams.get("path");if(H.default.existsSync(O))return Q.serveFile(v,S,V.searchParams.get("path"));if(O.endsWith(".json")){const v=O.substring(0,O.length-".json".length);S.statusCode=200;S.setHeader("Content-Type","application/json");S.end(JSON.stringify(traceDescriptor(v)));return true}}catch(v){}S.statusCode=404;S.end();return true}const Y=O.default.join(__dirname,"..","..","..","vite","traceViewer",...J.split("/"));return Q.serveFile(v,S,Y)}));const Y=v.map((v=>`trace=${encodeURIComponent(v)}`));const X=(S===null||S===void 0?void 0:S.transport)||(S!==null&&S!==void 0&&S.isServer?new StdinServer:undefined);if(X){const v=(0,J.createGuid)();Y.push("ws="+v);const S=new he.wsServer({server:Q.server(),path:"/"+v});S.on("connection",(v=>{X.sendEvent=(S,Q)=>v.send(JSON.stringify({method:S,params:Q}));X.close=()=>v.close();v.on("message",(async S=>{const{id:Q,method:O,params:H}=JSON.parse(S);const V=await X.dispatch(O,H);v.send(JSON.stringify({id:Q,result:V}))}));v.on("close",(()=>X.onclose()));v.on("error",(()=>X.onclose()))}))}if(S!==null&&S!==void 0&&S.isServer)Y.push("isServer");if((0,J.isUnderTest)())Y.push("isUnderTest=true");const{host:ee,port:ae}=S||{};const Ee=await Q.start({preferredPort:ae,host:ee});const{app:Be}=S||{};const ke=Y.length?"?"+Y.join("&"):"";const Re=`/trace/${Be||"index.html"}${ke}`;Q.routePath("/",((v,S)=>{S.statusCode=302;S.setHeader("Location",Re+v.url.substring(1));S.end();return true}));return{server:Q,url:Ee}}async function openTraceViewerApp(v,S,Q){const{url:O}=await startTraceViewerServer(v,Q);const H=(0,ee.createPlaywright)({sdkLanguage:"javascript",isInternalPlaywright:true});const V=(0,J.isUnderTest)()?"chromium":S;const{context:he,page:Ee}=await(0,Y.launchApp)(H[V],{sdkLanguage:H.options.sdkLanguage,windowSize:{width:1280,height:800},persistentContextOptions:{...Q===null||Q===void 0?void 0:Q.persistentContextOptions,useWebSocket:(0,J.isUnderTest)(),headless:Q===null||Q===void 0?void 0:Q.headless}});const Be=new ae.ProgressController((0,X.serverSideCallMetadata)(),he._browser);await Be.run((async v=>{await he._browser._defaultContext._loadDefaultContextAsIs(v)}));if(process.env.PWTEST_PRINT_WS_ENDPOINT)process.stderr.write("DevTools listening on: "+he._browser.options.wsEndpoint+"\n");if(!(0,J.isUnderTest)())await(0,Y.syncLocalStorageWithSettings)(Ee,"traceviewer");if((0,J.isUnderTest)())Ee.on("close",(()=>he.close({reason:"Trace viewer closed"}).catch((()=>{}))));await Ee.mainFrame().goto((0,X.serverSideCallMetadata)(),O);return Ee}async function openTraceInBrowser(v,S){const{url:Q}=await startTraceViewerServer(v,S);console.log("\nListening on "+Q);if(!(0,J.isUnderTest)())await(0,he.open)(Q).catch((()=>{}))}class StdinServer{constructor(){this._pollTimer=void 0;this._traceUrl=void 0;this.sendEvent=void 0;this.close=void 0;process.stdin.on("data",(v=>{const S=v.toString().trim();if(S===this._traceUrl)return;if(S.endsWith(".json"))this._pollLoadTrace(S);else this._loadTrace(S)}));process.stdin.on("close",(()=>(0,J.gracefullyProcessExitDoNotHang)(0)))}async dispatch(v,S){if(v==="ready"){if(this._traceUrl)this._loadTrace(this._traceUrl)}}onclose(){(0,J.gracefullyProcessExitDoNotHang)(0)}_loadTrace(v){var S;this._traceUrl=v;clearTimeout(this._pollTimer);(S=this.sendEvent)===null||S===void 0?void 0:S.call(this,"loadTrace",{url:v})}_pollLoadTrace(v){this._loadTrace(v);this._pollTimer=setTimeout((()=>{this._pollLoadTrace(v)}),500)}}function traceDescriptor(v){const S={entries:[]};const Q=O.default.dirname(v);const V=O.default.basename(v);for(const v of H.default.readdirSync(Q)){if(v.startsWith(V))S.entries.push({name:v,path:O.default.join(Q,v)})}const J=O.default.join(Q,"resources");if(H.default.existsSync(J)){for(const v of H.default.readdirSync(J))S.entries.push({name:"resources/"+v,path:O.default.join(J,v)})}return S}},1232:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.perMessageDeflate=S.WebSocketTransport=void 0;var O=Q(1319);var H=Q(3557);var V=Q(7363);const J=S.perMessageDeflate={zlibDeflateOptions:{level:3},zlibInflateOptions:{chunkSize:10*1024},threshold:10*1024};class WebSocketTransport{static async connect(v,S,Q,O,H){return await WebSocketTransport._connect(v,S,Q||{},{follow:!!O,hadRedirects:false},H)}static async _connect(v,S,Q,O,H){const V=stripQueryParams(S);v===null||v===void 0?void 0:v.log(`<ws connecting> ${V}`);const J=new WebSocketTransport(v,S,V,Q,O.follow&&O.hadRedirects,H);let Y=false;v===null||v===void 0?void 0:v.cleanupWhenAborted((async()=>{if(!Y)await J.closeAndWait().catch((v=>null))}));const X=await new Promise(((S,Q)=>{J._ws.on("open",(async()=>{v===null||v===void 0?void 0:v.log(`<ws connected> ${V}`);S({transport:J})}));J._ws.on("error",(S=>{v===null||v===void 0?void 0:v.log(`<ws connect error> ${V} ${S.message}`);Q(new Error("WebSocket error: "+S.message));J._ws.close()}));J._ws.on("unexpected-response",((Y,X)=>{if(O.follow&&!O.hadRedirects&&(X.statusCode===301||X.statusCode===302||X.statusCode===307||X.statusCode===308)){S({redirect:X});J._ws.close();return}for(let S=0;S<X.rawHeaders.length;S+=2){if(H&&X.rawHeaders[S]===H)v===null||v===void 0?void 0:v.log(X.rawHeaders[S+1])}const ee=[];const ae=`${V} ${X.statusCode} ${X.statusMessage}`;X.on("data",(v=>ee.push(v)));X.on("close",(()=>{const S=ee.length?`${ae}\n${Buffer.concat(ee)}`:ae;v===null||v===void 0?void 0:v.log(`<ws unexpected response> ${S}`);Q(new Error("WebSocket error: "+S));J._ws.close()}))}))}));if(X.redirect){const S=Object.fromEntries(Object.entries(Q||{}).filter((([v])=>!v.includes("access-key"))));return WebSocketTransport._connect(v,X.redirect.headers.location,S,{follow:true,hadRedirects:true},H)}Y=true;return J}constructor(v,S,Q,Y,X,ee){var ae;this._ws=void 0;this._progress=void 0;this._logUrl=void 0;this.onmessage=void 0;this.onclose=void 0;this.wsEndpoint=void 0;this.headers=[];this.wsEndpoint=S;this._logUrl=Q;this._ws=new O.ws(S,[],{maxPayload:256*1024*1024,handshakeTimeout:Math.max((ae=v===null||v===void 0?void 0:v.timeUntilDeadline())!==null&&ae!==void 0?ae:3e4,1),headers:Y,followRedirects:X,agent:/^(https|wss):\/\//.test(S)?V.httpsHappyEyeballsAgent:V.httpHappyEyeballsAgent,perMessageDeflate:J});this._ws.on("upgrade",(S=>{for(let Q=0;Q<S.rawHeaders.length;Q+=2){this.headers.push({name:S.rawHeaders[Q],value:S.rawHeaders[Q+1]});if(ee&&S.rawHeaders[Q]===ee)v===null||v===void 0?void 0:v.log(S.rawHeaders[Q+1])}}));this._progress=v;const he=(0,H.makeWaitForNextTask)();this._ws.addEventListener("message",(v=>{he((()=>{const S=v.data;let Q;try{Q=JSON.parse(S)}catch(v){var O;(O=this._progress)===null||O===void 0?void 0:O.log(`<closing ws> Closing websocket due to malformed JSON. eventData=${S} e=${v===null||v===void 0?void 0:v.message}`);this._ws.close();return}try{if(this.onmessage)this.onmessage.call(null,Q)}catch(v){var H;(H=this._progress)===null||H===void 0?void 0:H.log(`<closing ws> Closing websocket due to failed onmessage callback. eventData=${S} e=${v===null||v===void 0?void 0:v.message}`);this._ws.close()}}))}));this._ws.addEventListener("close",(v=>{var S;(S=this._progress)===null||S===void 0?void 0:S.log(`<ws disconnected> ${Q} code=${v.code} reason=${v.reason}`);if(this.onclose)this.onclose.call(null)}));this._ws.addEventListener("error",(v=>{var S;return(S=this._progress)===null||S===void 0?void 0:S.log(`<ws error> ${Q} ${v.type} ${v.message}`)}))}send(v){this._ws.send(JSON.stringify(v))}close(){var v;(v=this._progress)===null||v===void 0?void 0:v.log(`<ws disconnecting> ${this._logUrl}`);this._ws.close()}async closeAndWait(){if(this._ws.readyState===O.ws.CLOSED)return;const v=new Promise((v=>this._ws.once("close",v)));this.close();await v}}S.WebSocketTransport=WebSocketTransport;function stripQueryParams(v){try{const S=new URL(v);S.search="";S.hash="";return S.toString()}catch{return v}}},6919:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.kLifecycleEvents=void 0;const Q=S.kLifecycleEvents=new Set(["load","domcontentloaded","networkidle","commit"])},574:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.keypadLocation=S.USKeyboardLayout=void 0;const Q=S.keypadLocation=3;const O=S.USKeyboardLayout={Escape:{keyCode:27,key:"Escape"},F1:{keyCode:112,key:"F1"},F2:{keyCode:113,key:"F2"},F3:{keyCode:114,key:"F3"},F4:{keyCode:115,key:"F4"},F5:{keyCode:116,key:"F5"},F6:{keyCode:117,key:"F6"},F7:{keyCode:118,key:"F7"},F8:{keyCode:119,key:"F8"},F9:{keyCode:120,key:"F9"},F10:{keyCode:121,key:"F10"},F11:{keyCode:122,key:"F11"},F12:{keyCode:123,key:"F12"},Backquote:{keyCode:192,shiftKey:"~",key:"`"},Digit1:{keyCode:49,shiftKey:"!",key:"1"},Digit2:{keyCode:50,shiftKey:"@",key:"2"},Digit3:{keyCode:51,shiftKey:"#",key:"3"},Digit4:{keyCode:52,shiftKey:"$",key:"4"},Digit5:{keyCode:53,shiftKey:"%",key:"5"},Digit6:{keyCode:54,shiftKey:"^",key:"6"},Digit7:{keyCode:55,shiftKey:"&",key:"7"},Digit8:{keyCode:56,shiftKey:"*",key:"8"},Digit9:{keyCode:57,shiftKey:"(",key:"9"},Digit0:{keyCode:48,shiftKey:")",key:"0"},Minus:{keyCode:189,shiftKey:"_",key:"-"},Equal:{keyCode:187,shiftKey:"+",key:"="},Backslash:{keyCode:220,shiftKey:"|",key:"\\"},Backspace:{keyCode:8,key:"Backspace"},Tab:{keyCode:9,key:"Tab"},KeyQ:{keyCode:81,shiftKey:"Q",key:"q"},KeyW:{keyCode:87,shiftKey:"W",key:"w"},KeyE:{keyCode:69,shiftKey:"E",key:"e"},KeyR:{keyCode:82,shiftKey:"R",key:"r"},KeyT:{keyCode:84,shiftKey:"T",key:"t"},KeyY:{keyCode:89,shiftKey:"Y",key:"y"},KeyU:{keyCode:85,shiftKey:"U",key:"u"},KeyI:{keyCode:73,shiftKey:"I",key:"i"},KeyO:{keyCode:79,shiftKey:"O",key:"o"},KeyP:{keyCode:80,shiftKey:"P",key:"p"},BracketLeft:{keyCode:219,shiftKey:"{",key:"["},BracketRight:{keyCode:221,shiftKey:"}",key:"]"},CapsLock:{keyCode:20,key:"CapsLock"},KeyA:{keyCode:65,shiftKey:"A",key:"a"},KeyS:{keyCode:83,shiftKey:"S",key:"s"},KeyD:{keyCode:68,shiftKey:"D",key:"d"},KeyF:{keyCode:70,shiftKey:"F",key:"f"},KeyG:{keyCode:71,shiftKey:"G",key:"g"},KeyH:{keyCode:72,shiftKey:"H",key:"h"},KeyJ:{keyCode:74,shiftKey:"J",key:"j"},KeyK:{keyCode:75,shiftKey:"K",key:"k"},KeyL:{keyCode:76,shiftKey:"L",key:"l"},Semicolon:{keyCode:186,shiftKey:":",key:";"},Quote:{keyCode:222,shiftKey:'"',key:"'"},Enter:{keyCode:13,key:"Enter",text:"\r"},ShiftLeft:{keyCode:160,keyCodeWithoutLocation:16,key:"Shift",location:1},KeyZ:{keyCode:90,shiftKey:"Z",key:"z"},KeyX:{keyCode:88,shiftKey:"X",key:"x"},KeyC:{keyCode:67,shiftKey:"C",key:"c"},KeyV:{keyCode:86,shiftKey:"V",key:"v"},KeyB:{keyCode:66,shiftKey:"B",key:"b"},KeyN:{keyCode:78,shiftKey:"N",key:"n"},KeyM:{keyCode:77,shiftKey:"M",key:"m"},Comma:{keyCode:188,shiftKey:"<",key:","},Period:{keyCode:190,shiftKey:">",key:"."},Slash:{keyCode:191,shiftKey:"?",key:"/"},ShiftRight:{keyCode:161,keyCodeWithoutLocation:16,key:"Shift",location:2},ControlLeft:{keyCode:162,keyCodeWithoutLocation:17,key:"Control",location:1},MetaLeft:{keyCode:91,key:"Meta",location:1},AltLeft:{keyCode:164,keyCodeWithoutLocation:18,key:"Alt",location:1},Space:{keyCode:32,key:" "},AltRight:{keyCode:165,keyCodeWithoutLocation:18,key:"Alt",location:2},AltGraph:{keyCode:225,key:"AltGraph"},MetaRight:{keyCode:92,key:"Meta",location:2},ContextMenu:{keyCode:93,key:"ContextMenu"},ControlRight:{keyCode:163,keyCodeWithoutLocation:17,key:"Control",location:2},PrintScreen:{keyCode:44,key:"PrintScreen"},ScrollLock:{keyCode:145,key:"ScrollLock"},Pause:{keyCode:19,key:"Pause"},PageUp:{keyCode:33,key:"PageUp"},PageDown:{keyCode:34,key:"PageDown"},Insert:{keyCode:45,key:"Insert"},Delete:{keyCode:46,key:"Delete"},Home:{keyCode:36,key:"Home"},End:{keyCode:35,key:"End"},ArrowLeft:{keyCode:37,key:"ArrowLeft"},ArrowUp:{keyCode:38,key:"ArrowUp"},ArrowRight:{keyCode:39,key:"ArrowRight"},ArrowDown:{keyCode:40,key:"ArrowDown"},NumLock:{keyCode:144,key:"NumLock"},NumpadDivide:{keyCode:111,key:"/",location:3},NumpadMultiply:{keyCode:106,key:"*",location:3},NumpadSubtract:{keyCode:109,key:"-",location:3},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",shiftKey:"7",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",shiftKey:"8",location:3},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",shiftKey:"9",location:3},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",shiftKey:"4",location:3},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",shiftKey:"5",location:3},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",shiftKey:"6",location:3},NumpadAdd:{keyCode:107,key:"+",location:3},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",shiftKey:"1",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",shiftKey:"2",location:3},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",shiftKey:"3",location:3},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",shiftKey:"0",location:3},NumpadDecimal:{keyCode:46,shiftKeyCode:110,key:"\0",shiftKey:".",location:3},NumpadEnter:{keyCode:13,key:"Enter",text:"\r",location:3}}},2967:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WebKit=void 0;var O=Q(2288);var H=_interopRequireDefault(Q(1017));var V=Q(281);var J=Q(1192);var Y=Q(3557);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class WebKit extends J.BrowserType{constructor(v){super(v,"webkit")}_connectToTransport(v,S){return O.WKBrowser.connect(this.attribution.playwright,v,S)}_amendEnvironment(v,S,Q,O){return{...v,CURL_COOKIE_JAR_PATH:H.default.join(S,"cookiejar.db")}}_doRewriteStartupLog(v){if(!v.logs)return v;if(v.logs.includes("cannot open display"))v.logs="\n"+(0,Y.wrapInASCIIBox)(J.kNoXServerRunningError,1);return v}_attemptToGracefullyCloseBrowser(v){v.send({method:"Playwright.close",params:{},id:V.kBrowserCloseMessageId})}_defaultArgs(v,S,Q){const{args:O=[],proxy:H,headless:V}=v;const J=O.find((v=>v.startsWith("--user-data-dir")));if(J)throw this._createUserDataDirArgMisuseError("--user-data-dir");if(O.find((v=>!v.startsWith("-"))))throw new Error("Arguments can not specify page to be opened");const Y=["--inspector-pipe"];if(process.platform==="win32")Y.push("--disable-accelerated-compositing");if(V)Y.push("--headless");if(S)Y.push(`--user-data-dir=${Q}`);else Y.push(`--no-startup-window`);if(H){if(process.platform==="darwin"){Y.push(`--proxy=${H.server}`);if(H.bypass)Y.push(`--proxy-bypass-list=${H.bypass}`)}else if(process.platform==="linux"){Y.push(`--proxy=${H.server}`);if(H.bypass)Y.push(...H.bypass.split(",").map((v=>`--ignore-host=${v}`)))}else if(process.platform==="win32"){Y.push(`--curl-proxy=${H.server.replace(/^socks5:\/\//,"socks5h://")}`);if(H.bypass)Y.push(`--curl-noproxy=${H.bypass}`)}}Y.push(...O);if(S)Y.push("about:blank");return Y}}S.WebKit=WebKit},8714:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getAccessibilityTree=getAccessibilityTree;async function getAccessibilityTree(v,S){const Q=S?S._objectId:undefined;const{axNode:O}=await v.send("Page.accessibilitySnapshot",{objectId:Q});const H=new WKAXNode(O);return{tree:H,needle:S?H._findNeedle():null}}const Q=new Map(Object.entries({TextField:"textbox"}));const O=new Map(Object.entries({WebArea:"HTML content",Summary:"summary",DescriptionList:"description list",ImageMap:"image map",ListMarker:"list marker",Video:"video playback",Mark:"highlighted",contentinfo:"content information",Details:"details",DescriptionListDetail:"description",DescriptionListTerm:"term",alertdialog:"web alert dialog",dialog:"web dialog",status:"application status",tabpanel:"tab panel",application:"web application"}));class WKAXNode{constructor(v){this._payload=void 0;this._children=void 0;this._payload=v;this._children=[];for(const v of this._payload.children||[])this._children.push(new WKAXNode(v))}children(){return this._children}_findNeedle(){if(this._payload.found)return this;for(const v of this._children){const S=v._findNeedle();if(S)return S}return null}isControl(){switch(this._payload.role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"TextField":case"tree":return true;default:return false}}_isTextControl(){switch(this._payload.role){case"combobox":case"searchfield":case"textbox":case"TextField":return true}return false}_name(){if(this._payload.role==="text")return this._payload.value||"";return this._payload.name||""}isInteresting(v){const{role:S,focusable:Q}=this._payload;const O=this._name();if(S==="ScrollArea")return false;if(S==="WebArea")return true;if(Q||S==="MenuListOption")return true;if(this.isControl())return true;if(v)return false;return this.isLeafNode()&&!!O}_hasRedundantTextChild(){if(this._children.length!==1)return false;const v=this._children[0];return v._payload.role==="text"&&this._payload.name===v._payload.value}isLeafNode(){if(!this._children.length)return true;if(this._isTextControl())return true;if(this._hasRedundantTextChild())return true;return false}serialize(){const v={role:Q.get(this._payload.role)||this._payload.role,name:this._name()};if("description"in this._payload&&this._payload.description!==v.name)v.description=this._payload.description;if("roledescription"in this._payload){const S=this._payload.roledescription;if(S!==this._payload.role&&O.get(this._payload.role)!==S)v.roledescription=S}if("value"in this._payload&&this._payload.role!=="text"){if(typeof this._payload.value==="string")v.valueString=this._payload.value;else if(typeof this._payload.value==="number")v.valueNumber=this._payload.value}if("checked"in this._payload)v.checked=this._payload.checked==="true"?"checked":this._payload.checked==="false"?"unchecked":"mixed";if("pressed"in this._payload)v.pressed=this._payload.pressed==="true"?"pressed":this._payload.pressed==="false"?"released":"mixed";const S=["keyshortcuts","valuetext"];for(const Q of S){if(!(Q in this._payload))continue;v[Q]=this._payload[Q]}const H=["disabled","expanded","focused","modal","multiselectable","readonly","required","selected"];for(const S of H){if(S==="focused"&&(this._payload.role==="WebArea"||this._payload.role==="ScrollArea"))continue;const Q=this._payload[S];if(!Q)continue;v[S]=Q}const V=["level","valuemax","valuemin"];for(const S of V){if(!(S in this._payload))continue;v[S]=this._payload[S]}const J=["autocomplete","haspopup","invalid"];for(const S of J){const Q=this._payload[S];if(!Q||Q==="false")continue;v[S]=Q}const Y=new Set(["ScrollArea","scrollbar","listbox","combobox","menu","tree","separator","slider","tablist","toolbar"]);if(this._payload.orientation&&Y.has(this._payload.role))v.orientation=this._payload.orientation;return v}}},2288:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WKBrowserContext=S.WKBrowser=void 0;var O=Q(6705);var H=Q(5985);var V=Q(3557);var J=Q(3841);var Y=_interopRequireWildcard(Q(3824));var X=Q(281);var ee=Q(582);var ae=Q(1145);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const he="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15";const Ee="17.4";class WKBrowser extends O.Browser{static async connect(v,S,Q){const O=new WKBrowser(v,S,Q);if(Q.__testHookOnConnectToBrowser)await Q.__testHookOnConnectToBrowser();const H=[O._browserSession.send("Playwright.enable")];if(Q.persistent){var V;(V=Q.persistent).userAgent||(V.userAgent=he);O._defaultContext=new WKBrowserContext(O,undefined,Q.persistent);H.push(O._defaultContext._initialize())}await Promise.all(H);return O}constructor(v,S,Q){super(v,Q);this._connection=void 0;this._browserSession=void 0;this._contexts=new Map;this._wkPages=new Map;this._eventListeners=void 0;this._connection=new X.WKConnection(S,this._onDisconnect.bind(this),Q.protocolLogger,Q.browserLogsCollector);this._browserSession=this._connection.browserSession;this._eventListeners=[J.eventsHelper.addEventListener(this._browserSession,"Playwright.pageProxyCreated",this._onPageProxyCreated.bind(this)),J.eventsHelper.addEventListener(this._browserSession,"Playwright.pageProxyDestroyed",this._onPageProxyDestroyed.bind(this)),J.eventsHelper.addEventListener(this._browserSession,"Playwright.provisionalLoadFailed",(v=>this._onProvisionalLoadFailed(v))),J.eventsHelper.addEventListener(this._browserSession,"Playwright.windowOpen",(v=>this._onWindowOpen(v))),J.eventsHelper.addEventListener(this._browserSession,"Playwright.downloadCreated",this._onDownloadCreated.bind(this)),J.eventsHelper.addEventListener(this._browserSession,"Playwright.downloadFilenameSuggested",this._onDownloadFilenameSuggested.bind(this)),J.eventsHelper.addEventListener(this._browserSession,"Playwright.downloadFinished",this._onDownloadFinished.bind(this)),J.eventsHelper.addEventListener(this._browserSession,"Playwright.screencastFinished",this._onScreencastFinished.bind(this)),J.eventsHelper.addEventListener(this._browserSession,X.kPageProxyMessageReceived,this._onPageProxyMessageReceived.bind(this))]}_onDisconnect(){for(const v of this._wkPages.values())v.didClose();this._wkPages.clear();for(const v of this._idToVideo.values())v.artifact.reportFinished(new ae.TargetClosedError);this._idToVideo.clear();this._didClose()}async doCreateNewContext(v){const S=v.proxy?{proxyServer:process.platform==="win32"?v.proxy.server.replace(/^socks5:\/\//,"socks5h://"):v.proxy.server,proxyBypassList:v.proxy.bypass}:undefined;const{browserContextId:Q}=await this._browserSession.send("Playwright.createContext",S);v.userAgent=v.userAgent||he;const O=new WKBrowserContext(this,Q,v);await O._initialize();this._contexts.set(Q,O);return O}contexts(){return Array.from(this._contexts.values())}version(){return Ee}userAgent(){return he}_onDownloadCreated(v){const S=this._wkPages.get(v.pageProxyId);if(!S)return;S._page._frameManager.frameAbortedNavigation(v.frameId,"Download is starting");let Q=S._initializedPage;if(!Q){S._firstNonInitialNavigationCommittedReject(new Error("Starting new page download"));if(S._opener)Q=S._opener._initializedPage}if(!Q)return;this._downloadCreated(Q,v.uuid,v.url)}_onDownloadFilenameSuggested(v){this._downloadFilenameSuggested(v.uuid,v.suggestedFilename)}_onDownloadFinished(v){this._downloadFinished(v.uuid,v.error)}_onScreencastFinished(v){var S;(S=this._takeVideo(v.screencastId))===null||S===void 0?void 0:S.reportFinished()}_onPageProxyCreated(v){const S=v.pageProxyId;let Q=null;if(v.browserContextId){Q=this._contexts.get(v.browserContextId)||null}if(!Q)Q=this._defaultContext;if(!Q)return;const O=new X.WKSession(this._connection,S,(v=>{this._connection.rawSend({...v,pageProxyId:S})}));const H=v.openerId?this._wkPages.get(v.openerId):undefined;const V=new ee.WKPage(Q,O,H||null);this._wkPages.set(S,V)}_onPageProxyDestroyed(v){const S=v.pageProxyId;const Q=this._wkPages.get(S);if(!Q)return;Q.didClose();this._wkPages.delete(S)}_onPageProxyMessageReceived(v){const S=this._wkPages.get(v.pageProxyId);if(!S)return;S.dispatchMessageToSession(v.message)}_onProvisionalLoadFailed(v){const S=this._wkPages.get(v.pageProxyId);if(!S)return;S.handleProvisionalLoadFailed(v)}_onWindowOpen(v){const S=this._wkPages.get(v.pageProxyId);if(!S)return;S.handleWindowOpen(v)}isConnected(){return!this._connection.isClosed()}}S.WKBrowser=WKBrowser;class WKBrowserContext extends H.BrowserContext{constructor(v,S,Q){super(v,Q,S);this._validateEmulatedViewport(Q.viewport);this._authenticateProxyViaHeader()}async _initialize(){(0,V.assert)(!this._wkPages().length);const v=this._browserContextId;const S=[super._initialize()];S.push(this._browser._browserSession.send("Playwright.setDownloadBehavior",{behavior:this._options.acceptDownloads==="accept"?"allow":"deny",downloadPath:this._browser.options.downloadsPath,browserContextId:v}));if(this._options.ignoreHTTPSErrors)S.push(this._browser._browserSession.send("Playwright.setIgnoreCertificateErrors",{browserContextId:v,ignore:true}));if(this._options.locale)S.push(this._browser._browserSession.send("Playwright.setLanguages",{browserContextId:v,languages:[this._options.locale]}));if(this._options.geolocation)S.push(this.setGeolocation(this._options.geolocation));if(this._options.offline)S.push(this.setOffline(this._options.offline));if(this._options.httpCredentials)S.push(this.setHTTPCredentials(this._options.httpCredentials));await Promise.all(S)}_wkPages(){return Array.from(this._browser._wkPages.values()).filter((v=>v._browserContext===this))}pages(){return this._wkPages().map((v=>v._initializedPage)).filter((v=>!!v))}async newPageDelegate(){(0,H.assertBrowserContextIsNotOwned)(this);const{pageProxyId:v}=await this._browser._browserSession.send("Playwright.createPage",{browserContextId:this._browserContextId});return this._browser._wkPages.get(v)}async doGetCookies(v){const{cookies:S}=await this._browser._browserSession.send("Playwright.getAllCookies",{browserContextId:this._browserContextId});return Y.filterCookies(S.map((v=>{const S={...v};S.expires=v.expires===-1?-1:v.expires/1e3;delete S.session;return S})),v)}async addCookies(v){const S=Y.rewriteCookies(v).map((v=>({...v,session:v.expires===-1||v.expires===undefined,expires:v.expires&&v.expires!==-1?v.expires*1e3:v.expires})));await this._browser._browserSession.send("Playwright.setCookies",{cookies:S,browserContextId:this._browserContextId})}async clearCookies(){await this._browser._browserSession.send("Playwright.deleteAllCookies",{browserContextId:this._browserContextId})}async doGrantPermissions(v,S){await Promise.all(this.pages().map((Q=>Q._delegate._grantPermissions(v,S))))}async doClearPermissions(){await Promise.all(this.pages().map((v=>v._delegate._clearPermissions())))}async setGeolocation(v){(0,H.verifyGeolocation)(v);this._options.geolocation=v;const S=v?{...v,timestamp:Date.now()}:undefined;await this._browser._browserSession.send("Playwright.setGeolocationOverride",{browserContextId:this._browserContextId,geolocation:S})}async setExtraHTTPHeaders(v){this._options.extraHTTPHeaders=v;for(const v of this.pages())await v._delegate.updateExtraHTTPHeaders()}async setUserAgent(v){this._options.userAgent=v;for(const v of this.pages())await v._delegate.updateUserAgent()}async setOffline(v){this._options.offline=v;for(const v of this.pages())await v._delegate.updateOffline()}async doSetHTTPCredentials(v){this._options.httpCredentials=v;for(const v of this.pages())await v._delegate.updateHttpCredentials()}async doAddInitScript(v){for(const v of this.pages())await v._delegate._updateBootstrapScript()}async doRemoveInitScripts(){for(const v of this.pages())await v._delegate._updateBootstrapScript()}async doExposeBinding(v){for(const S of this.pages())await S._delegate.exposeBinding(v)}async doRemoveExposedBindings(){for(const v of this.pages())await v._delegate.removeExposedBindings()}async doUpdateRequestInterception(){for(const v of this.pages())await v._delegate.updateRequestInterception()}onClosePersistent(){}async clearCache(){await this._browser._browserSession.send("Playwright.clearMemoryCache",{browserContextId:this._browserContextId})}async doClose(v){if(!this._browserContextId){await Promise.all(this._wkPages().map((v=>v._stopVideo())));await this._browser.close({reason:v})}else{await this._browser._browserSession.send("Playwright.deleteContext",{browserContextId:this._browserContextId});this._browser._contexts.delete(this._browserContextId)}}async cancelDownload(v){await this._browser._browserSession.send("Playwright.cancelDownload",{uuid:v})}_validateEmulatedViewport(v){if(!v)return;if(process.platform==="win32"&&this._browser.options.headful&&(v.width<250||v.height<240))throw new Error(`WebKit on Windows has a minimal viewport of 250x240.`)}}S.WKBrowserContext=WKBrowserContext},281:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.kPageProxyMessageReceived=S.kBrowserCloseMessageId=S.WKSession=S.WKConnection=void 0;var O=Q(2361);var H=Q(3557);var V=Q(2003);var J=Q(9175);var Y=Q(7314);const X=S.kBrowserCloseMessageId=-9999;const ee=S.kPageProxyMessageReceived="kPageProxyMessageReceived";class WKConnection{constructor(v,S,Q,O){this._transport=void 0;this._onDisconnect=void 0;this._protocolLogger=void 0;this._browserLogsCollector=void 0;this._browserDisconnectedLogs=void 0;this._lastId=0;this._closed=false;this.browserSession=void 0;this._transport=v;this._onDisconnect=S;this._protocolLogger=Q;this._browserLogsCollector=O;this.browserSession=new WKSession(this,"",(v=>{this.rawSend(v)}));this._transport.onmessage=this._dispatchMessage.bind(this);this._transport.onclose=this._onClose.bind(this)}nextMessageId(){return++this._lastId}rawSend(v){this._protocolLogger("send",v);this._transport.send(v)}_dispatchMessage(v){this._protocolLogger("receive",v);if(v.id===X)return;if(v.pageProxyId){const S={message:v,pageProxyId:v.pageProxyId};this.browserSession.dispatchMessage({method:ee,params:S});return}this.browserSession.dispatchMessage(v)}_onClose(){this._closed=true;this._transport.onmessage=undefined;this._transport.onclose=undefined;this._browserDisconnectedLogs=J.helper.formatBrowserLogs(this._browserLogsCollector.recentLogs());this.browserSession.dispose();this._onDisconnect()}isClosed(){return this._closed}close(){if(!this._closed)this._transport.close()}}S.WKConnection=WKConnection;class WKSession extends O.EventEmitter{constructor(v,S,Q){super();this.connection=void 0;this.sessionId=void 0;this._disposed=false;this._rawSend=void 0;this._callbacks=new Map;this._crashed=false;this.on=void 0;this.addListener=void 0;this.off=void 0;this.removeListener=void 0;this.once=void 0;this.setMaxListeners(0);this.connection=v;this.sessionId=S;this._rawSend=Q;this.on=super.on;this.off=super.removeListener;this.addListener=super.addListener;this.removeListener=super.removeListener;this.once=super.once}async send(v,S){if(this._crashed||this._disposed||this.connection._browserDisconnectedLogs)throw new Y.ProtocolError(this._crashed?"crashed":"closed",undefined,this.connection._browserDisconnectedLogs);const Q=this.connection.nextMessageId();const O={id:Q,method:v,params:S};this._rawSend(O);return new Promise(((S,O)=>{this._callbacks.set(Q,{resolve:S,reject:O,error:new Y.ProtocolError("error",v)})}))}sendMayFail(v,S){return this.send(v,S).catch((v=>V.debugLogger.log("error",v)))}markAsCrashed(){this._crashed=true}isDisposed(){return this._disposed}dispose(){for(const v of this._callbacks.values()){v.error.type=this._crashed?"crashed":"closed";v.error.logs=this.connection._browserDisconnectedLogs;v.reject(v.error)}this._callbacks.clear();this._disposed=true}dispatchMessage(v){if(v.id&&this._callbacks.has(v.id)){const S=this._callbacks.get(v.id);this._callbacks.delete(v.id);if(v.error){S.error.setMessage(v.error.message);S.reject(S.error)}else{S.resolve(v.result)}}else if(v.id&&!v.error){(0,H.assert)(this.isDisposed())}else{Promise.resolve().then((()=>this.emit(v.method,v.params)))}}}S.WKSession=WKSession},2559:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WKExecutionContext=void 0;var O=_interopRequireWildcard(Q(804));var H=Q(9012);var V=Q(7314);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class WKExecutionContext{constructor(v,S){this._session=void 0;this._contextId=void 0;this._session=v;this._contextId=S}async rawEvaluateJSON(v){try{const S=await this._session.send("Runtime.evaluate",{expression:v,contextId:this._contextId,returnByValue:true});if(S.wasThrown)throw new O.JavaScriptErrorInEvaluate(S.result.description);return S.result.value}catch(v){throw rewriteError(v)}}async rawEvaluateHandle(v){try{const S=await this._session.send("Runtime.evaluate",{expression:v,contextId:this._contextId,returnByValue:false});if(S.wasThrown)throw new O.JavaScriptErrorInEvaluate(S.result.description);return S.result.objectId}catch(v){throw rewriteError(v)}}rawCallFunctionNoReply(v,...S){this._session.send("Runtime.callFunctionOn",{functionDeclaration:v.toString(),objectId:S.find((v=>v instanceof O.JSHandle))._objectId,arguments:S.map((v=>v instanceof O.JSHandle?{objectId:v._objectId}:{value:v})),returnByValue:true,emulateUserGesture:true}).catch((()=>{}))}async evaluateWithArguments(v,S,Q,V,J){try{const Y=await this._session.send("Runtime.callFunctionOn",{functionDeclaration:v,objectId:Q._objectId,arguments:[{objectId:Q._objectId},...V.map((v=>({value:v}))),...J.map((v=>({objectId:v})))],returnByValue:S,emulateUserGesture:true,awaitPromise:true});if(Y.wasThrown)throw new O.JavaScriptErrorInEvaluate(Y.result.description);if(S)return(0,H.parseEvaluationResultValue)(Y.result.value);return Q._context.createHandle(Y.result)}catch(v){throw rewriteError(v)}}async getProperties(v,S){const Q=await this._session.send("Runtime.getProperties",{objectId:S,ownProperties:true});const O=new Map;for(const S of Q.properties){if(!S.enumerable||!S.value)continue;O.set(S.name,v.createHandle(S.value))}return O}createHandle(v,S){const Q=S.className==="Promise";return new O.JSHandle(v,Q?"promise":S.subtype||S.type,renderPreview(S),S.objectId,potentiallyUnserializableValue(S))}async releaseHandle(v){await this._session.send("Runtime.releaseObject",{objectId:v})}objectCount(v){throw new Error("Method not implemented in WebKit.")}}S.WKExecutionContext=WKExecutionContext;function potentiallyUnserializableValue(v){const S=v.value;const Q=v.type==="number"&&["NaN","-Infinity","Infinity","-0"].includes(v.description);return Q?O.parseUnserializableValue(v.description):S}function rewriteError(v){if(!O.isJavaScriptErrorInEvaluate(v)&&!(0,V.isSessionClosedError)(v))return new Error("Execution context was destroyed, most likely because of a navigation.");return v}function renderPreview(v){if(v.type==="undefined")return"undefined";if("value"in v)return String(v.value);if(v.description==="Object"&&v.preview){const S=[];for(const{name:Q,value:O}of v.preview.properties)S.push(`${Q}: ${O}`);return`{${S.join(", ")}}`}if(v.subtype==="array"&&v.preview)return O.sparseArrayToString(v.preview.properties);return v.description}},2422:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.RawTouchscreenImpl=S.RawMouseImpl=S.RawKeyboardImpl=void 0;var O=_interopRequireWildcard(Q(2654));var H=Q(2310);var V=Q(3557);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function toModifiersMask(v){let S=0;if(v.has("Shift"))S|=1;if(v.has("Control"))S|=2;if(v.has("Alt"))S|=4;if(v.has("Meta"))S|=8;return S}function toButtonsMask(v){let S=0;if(v.has("left"))S|=1;if(v.has("right"))S|=2;if(v.has("middle"))S|=4;return S}class RawKeyboardImpl{constructor(v){this._pageProxySession=void 0;this._session=void 0;this._pageProxySession=v}setSession(v){this._session=v}async keydown(v,S,Q,J,Y,X,ee,ae){const he=[];for(const S of["Shift","Control","Alt","Meta"]){if(v.has(S))he.push(S)}he.push(S);const Ee=he.join("+");let Be=H.macEditingCommands[Ee];if((0,V.isString)(Be))Be=[Be];await this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyDown",modifiers:toModifiersMask(v),windowsVirtualKeyCode:Q,code:S,key:Y,text:ae,unmodifiedText:ae,autoRepeat:ee,macCommands:Be,isKeypad:X===O.keypadLocation})}async keyup(v,S,Q,H,V,J){await this._pageProxySession.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:toModifiersMask(v),key:V,windowsVirtualKeyCode:Q,code:S,isKeypad:J===O.keypadLocation})}async sendText(v){await this._session.send("Page.insertText",{text:v})}}S.RawKeyboardImpl=RawKeyboardImpl;class RawMouseImpl{constructor(v){this._pageProxySession=void 0;this._session=void 0;this._page=void 0;this._pageProxySession=v}setSession(v){this._session=v}async move(v,S,Q,O,H,V){await this._pageProxySession.send("Input.dispatchMouseEvent",{type:"move",button:Q,buttons:toButtonsMask(O),x:v,y:S,modifiers:toModifiersMask(H)})}async down(v,S,Q,O,H,V){await this._pageProxySession.send("Input.dispatchMouseEvent",{type:"down",button:Q,buttons:toButtonsMask(O),x:v,y:S,modifiers:toModifiersMask(H),clickCount:V})}async up(v,S,Q,O,H,V){await this._pageProxySession.send("Input.dispatchMouseEvent",{type:"up",button:Q,buttons:toButtonsMask(O),x:v,y:S,modifiers:toModifiersMask(H),clickCount:V})}async wheel(v,S,Q,O,H,V){var J;if((J=this._page)!==null&&J!==void 0&&J._browserContext._options.isMobile)throw new Error("Mouse wheel is not supported in mobile WebKit");await this._session.send("Page.updateScrollingState");await this._page.mainFrame().evaluateExpression(`new Promise(requestAnimationFrame)`,{world:"utility"});await this._pageProxySession.send("Input.dispatchWheelEvent",{x:v,y:S,deltaX:H,deltaY:V,modifiers:toModifiersMask(O)})}setPage(v){this._page=v}}S.RawMouseImpl=RawMouseImpl;class RawTouchscreenImpl{constructor(v){this._pageProxySession=void 0;this._pageProxySession=v}async tap(v,S,Q){await this._pageProxySession.send("Input.dispatchTapEvent",{x:v,y:S,modifiers:toModifiersMask(Q)})}}S.RawTouchscreenImpl=RawTouchscreenImpl},113:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WKRouteImpl=S.WKInterceptableRequest=void 0;var O=_interopRequireWildcard(Q(3824));var H=Q(3557);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const V={aborted:"Cancellation",accessdenied:"AccessControl",addressunreachable:"General",blockedbyclient:"Cancellation",blockedbyresponse:"General",connectionaborted:"General",connectionclosed:"General",connectionfailed:"General",connectionrefused:"General",connectionreset:"General",internetdisconnected:"General",namenotresolved:"General",timedout:"Timeout",failed:"General"};class WKInterceptableRequest{constructor(v,S,Q,V,J){this._session=void 0;this.request=void 0;this._requestId=void 0;this._timestamp=void 0;this._wallTime=void 0;this._session=v;this._requestId=Q.requestId;const Y=Q.type?Q.type.toLowerCase():V?V.request.resourceType():"other";let X=null;this._timestamp=Q.timestamp;this._wallTime=Q.walltime*1e3;if(Q.request.postData)X=Buffer.from(Q.request.postData,"base64");this.request=new O.Request(S._page._browserContext,S,null,(V===null||V===void 0?void 0:V.request)||null,J,Q.request.url,Y,Q.request.method,X,(0,H.headersObjectToArray)(Q.request.headers))}createResponse(v){const getResponseBody=async()=>{const v=await this._session.send("Network.getResponseBody",{requestId:this._requestId});return Buffer.from(v.body,v.base64Encoded?"base64":"utf8")};const S=v.timing;const Q={startTime:this._wallTime,domainLookupStart:S?wkMillisToRoundishMillis(S.domainLookupStart):-1,domainLookupEnd:S?wkMillisToRoundishMillis(S.domainLookupEnd):-1,connectStart:S?wkMillisToRoundishMillis(S.connectStart):-1,secureConnectionStart:S?wkMillisToRoundishMillis(S.secureConnectionStart):-1,connectEnd:S?wkMillisToRoundishMillis(S.connectEnd):-1,requestStart:S?wkMillisToRoundishMillis(S.requestStart):-1,responseStart:S?wkMillisToRoundishMillis(S.responseStart):-1};const V=process.platform==="darwin"?",":"\n";const J=new O.Response(this.request,v.status,v.statusText,(0,H.headersObjectToArray)(v.headers,",",V),Q,getResponseBody,v.source==="service-worker");J.setRawResponseHeaders(null);J.setTransferSize(null);if(v.requestHeaders&&Object.keys(v.requestHeaders).length){const S={...v.requestHeaders};if(!S["host"])S["Host"]=new URL(this.request.url()).host;this.request.setRawRequestHeaders((0,H.headersObjectToArray)(S))}else{this.request.setRawRequestHeaders(null)}return J}}S.WKInterceptableRequest=WKInterceptableRequest;class WKRouteImpl{constructor(v,S){this._session=void 0;this._requestId=void 0;this._session=v;this._requestId=S}async abort(v){const S=V[v];(0,H.assert)(S,"Unknown error code: "+v);await this._session.sendMayFail("Network.interceptRequestWithError",{requestId:this._requestId,errorType:S})}async fulfill(v){if(300<=v.status&&v.status<400)throw new Error("Cannot fulfill with redirect status: "+v.status);let S=v.isBase64?"application/octet-stream":"text/plain";const Q=(0,H.headersArrayToObject)(v.headers,true);const V=Q["content-type"];if(V)S=V.split(";")[0].trim();await this._session.sendMayFail("Network.interceptRequestWithResponse",{requestId:this._requestId,status:v.status,statusText:O.STATUS_TEXTS[String(v.status)],mimeType:S,headers:Q,base64Encoded:v.isBase64,content:v.body})}async continue(v,S){await this._session.sendMayFail("Network.interceptWithRequest",{requestId:this._requestId,url:S.url,method:S.method,headers:S.headers?(0,H.headersArrayToObject)(S.headers,false):undefined,postData:S.postData?Buffer.from(S.postData).toString("base64"):undefined})}}S.WKRouteImpl=WKRouteImpl;function wkMillisToRoundishMillis(v){if(v===-1e3)return-1;if(v<=0){return-1}return(v*1e3|0)/1e3}},582:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WKPage=void 0;var O=_interopRequireDefault(Q(1017));var H=Q(1319);var V=Q(9030);var J=Q(3557);var Y=Q(5228);var X=_interopRequireWildcard(Q(1645));var ee=_interopRequireWildcard(Q(8139));var ae=Q(3841);var he=Q(9175);var Ee=_interopRequireWildcard(Q(3824));var Be=Q(3555);var ke=Q(8714);var Re=Q(281);var Oe=Q(2559);var Pe=Q(2422);var Le=Q(113);var je=Q(1516);var qe=Q(3471);var Ve=Q(2003);var ze=Q(6729);var $e=Q(5985);var Ye=Q(1145);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const et="__playwright_utility_world__";class WKPage{constructor(v,S,Q){this.rawMouse=void 0;this.rawKeyboard=void 0;this.rawTouchscreen=void 0;this._session=void 0;this._provisionalPage=null;this._page=void 0;this._pagePromise=new ze.ManualPromise;this._pageProxySession=void 0;this._opener=void 0;this._requestIdToRequest=new Map;this._requestIdToRequestWillBeSentEvent=new Map;this._workers=void 0;this._contextIdToContext=void 0;this._sessionListeners=[];this._eventListeners=void 0;this._browserContext=void 0;this._initializedPage=null;this._firstNonInitialNavigationCommittedPromise=void 0;this._firstNonInitialNavigationCommittedFulfill=()=>{};this._firstNonInitialNavigationCommittedReject=v=>{};this._lastConsoleMessage=null;this._requestIdToResponseReceivedPayloadEvent=new Map;this._nextWindowOpenPopupFeatures=void 0;this._recordingVideoFile=null;this._screencastGeneration=0;this._pageProxySession=S;this._opener=Q;this.rawKeyboard=new Pe.RawKeyboardImpl(S);this.rawMouse=new Pe.RawMouseImpl(S);this.rawTouchscreen=new Pe.RawTouchscreenImpl(S);this._contextIdToContext=new Map;this._page=new Be.Page(this,v);this.rawMouse.setPage(this._page);this._workers=new qe.WKWorkers(this._page);this._session=undefined;this._browserContext=v;this._page.on(Be.Page.Events.FrameDetached,(v=>this._removeContextsForFrame(v,false)));this._eventListeners=[ae.eventsHelper.addEventListener(this._pageProxySession,"Target.targetCreated",this._onTargetCreated.bind(this)),ae.eventsHelper.addEventListener(this._pageProxySession,"Target.targetDestroyed",this._onTargetDestroyed.bind(this)),ae.eventsHelper.addEventListener(this._pageProxySession,"Target.dispatchMessageFromTarget",this._onDispatchMessageFromTarget.bind(this)),ae.eventsHelper.addEventListener(this._pageProxySession,"Target.didCommitProvisionalTarget",this._onDidCommitProvisionalTarget.bind(this)),ae.eventsHelper.addEventListener(this._pageProxySession,"Screencast.screencastFrame",this._onScreencastFrame.bind(this))];this._firstNonInitialNavigationCommittedPromise=new Promise(((v,S)=>{this._firstNonInitialNavigationCommittedFulfill=v;this._firstNonInitialNavigationCommittedReject=S}));if(Q&&!v._options.noDefaultViewport&&Q._nextWindowOpenPopupFeatures){const v=he.helper.getViewportSizeFromWindowFeatures(Q._nextWindowOpenPopupFeatures);Q._nextWindowOpenPopupFeatures=undefined;if(v)this._page._emulatedSize={viewport:v,screen:v}}}potentiallyUninitializedPage(){return this._page}async _initializePageProxySession(){if(this._page._browserContext.isSettingStorageState())return;const v=[this._pageProxySession.send("Dialog.enable"),this._pageProxySession.send("Emulation.setActiveAndFocused",{active:true})];const S=this._browserContext._options;if(S.javaScriptEnabled===false)v.push(this._pageProxySession.send("Emulation.setJavaScriptEnabled",{enabled:false}));v.push(this._updateViewport());v.push(this.updateHttpCredentials());if(this._browserContext._permissions.size){for(const[S,Q]of this._browserContext._permissions)v.push(this._grantPermissions(S,Q))}if(this._browserContext._options.recordVideo){const S=O.default.join(this._browserContext._options.recordVideo.dir,(0,J.createGuid)()+".webm");v.push(this._browserContext._ensureVideosPath().then((()=>this._startVideo({...this._browserContext._options.recordVideo.size,outputFile:S}))))}await Promise.all(v)}_setSession(v){ae.eventsHelper.removeEventListeners(this._sessionListeners);this._session=v;this.rawKeyboard.setSession(v);this.rawMouse.setSession(v);this._addSessionListeners();this._workers.setSession(v)}async _initializeSession(v,S,Q){await this._initializeSessionMayThrow(v,Q).catch((Q=>{if(S&&v.isDisposed())return;if(this._session===v)throw Q}))}async _initializeSessionMayThrow(v,S){const[,Q]=await Promise.all([v.send("Page.enable"),v.send("Page.getResourceTree")]);S(Q);const O=[v.send("Runtime.enable"),v.send("Page.createUserWorld",{name:et}).catch((v=>{})),v.send("Console.enable"),v.send("Network.enable"),this._workers.initializeSession(v)];if(this._page.needsRequestInterception()){O.push(v.send("Network.setInterceptionEnabled",{enabled:true}));O.push(v.send("Network.setResourceCachingDisabled",{disabled:true}));O.push(v.send("Network.addInterception",{url:".*",stage:"request",isRegex:true}))}if(this._page._browserContext.isSettingStorageState()){await Promise.all(O);return}const H=this._browserContext._options;if(H.userAgent)O.push(this.updateUserAgent());const V=this._page.emulatedMedia();if(V.media||V.colorScheme||V.reducedMotion||V.forcedColors)O.push(WKPage._setEmulateMedia(v,V.media,V.colorScheme,V.reducedMotion,V.forcedColors));for(const S of this._page.allBindings())O.push(v.send("Runtime.addBinding",{name:S.name}));const Y=this._calculateBootstrapScript();if(Y.length)O.push(v.send("Page.setBootstrapScript",{source:Y}));this._page.frames().map((v=>v.evaluateExpression(Y).catch((v=>{}))));if(H.bypassCSP)O.push(v.send("Page.setBypassCSP",{enabled:true}));const X=this._page.emulatedSize();if(X){O.push(v.send("Page.setScreenSizeOverride",{width:X.screen.width,height:X.screen.height}))}O.push(this.updateEmulateMedia());O.push(v.send("Network.setExtraHTTPHeaders",{headers:(0,J.headersArrayToObject)(this._calculateExtraHTTPHeaders(),false)}));if(H.offline)O.push(v.send("Network.setEmulateOfflineState",{offline:true}));O.push(v.send("Page.setTouchEmulationEnabled",{enabled:!!H.hasTouch}));if(H.timezoneId){O.push(v.send("Page.setTimeZone",{timeZone:H.timezoneId}).catch((v=>{throw new Error(`Invalid timezone ID: ${H.timezoneId}`)})))}if(this._page.fileChooserIntercepted())O.push(v.send("Page.setInterceptFileChooserDialog",{enabled:true}));O.push(v.send("Page.overrideSetting",{setting:"DeviceOrientationEventEnabled",value:H.isMobile}));O.push(v.send("Page.overrideSetting",{setting:"FullScreenEnabled",value:!H.isMobile}));O.push(v.send("Page.overrideSetting",{setting:"NotificationsEnabled",value:!H.isMobile}));O.push(v.send("Page.overrideSetting",{setting:"PointerLockEnabled",value:!H.isMobile}));O.push(v.send("Page.overrideSetting",{setting:"InputTypeMonthEnabled",value:H.isMobile}));O.push(v.send("Page.overrideSetting",{setting:"InputTypeWeekEnabled",value:H.isMobile}));await Promise.all(O)}_onDidCommitProvisionalTarget(v){const{oldTargetId:S,newTargetId:Q}=v;(0,J.assert)(this._provisionalPage);(0,J.assert)(this._provisionalPage._session.sessionId===Q,"Unknown new target: "+Q);(0,J.assert)(this._session.sessionId===S,"Unknown old target: "+S);const O=this._provisionalPage._session;this._provisionalPage.commit();this._provisionalPage.dispose();this._provisionalPage=null;this._setSession(O)}_onTargetDestroyed(v){const{targetId:S,crashed:Q}=v;if(this._provisionalPage&&this._provisionalPage._session.sessionId===S){this._provisionalPage._session.dispose();this._provisionalPage.dispose();this._provisionalPage=null}else if(this._session.sessionId===S){this._session.dispose();ae.eventsHelper.removeEventListeners(this._sessionListeners);if(Q){this._session.markAsCrashed();this._page._didCrash()}}}didClose(){this._pageProxySession.dispose();ae.eventsHelper.removeEventListeners(this._sessionListeners);ae.eventsHelper.removeEventListeners(this._eventListeners);if(this._session)this._session.dispose();if(this._provisionalPage){this._provisionalPage._session.dispose();this._provisionalPage.dispose();this._provisionalPage=null}this._firstNonInitialNavigationCommittedReject(new Ye.TargetClosedError);this._page._didClose()}dispatchMessageToSession(v){this._pageProxySession.dispatchMessage(v)}handleProvisionalLoadFailed(v){if(!this._initializedPage){this._firstNonInitialNavigationCommittedReject(new Error("Initial load failed"));return}if(!this._provisionalPage)return;let S=v.error;if(S.includes("cancelled"))S+="; maybe frame was detached?";this._page._frameManager.frameAbortedNavigation(this._page.mainFrame()._id,S,v.loaderId)}handleWindowOpen(v){(0,J.debugAssert)(!this._nextWindowOpenPopupFeatures);this._nextWindowOpenPopupFeatures=v.windowFeatures}async pageOrError(){return this._pagePromise}async _onTargetCreated(v){const{targetInfo:S}=v;const Q=new Re.WKSession(this._pageProxySession.connection,S.targetId,(v=>{this._pageProxySession.send("Target.sendMessageToTarget",{message:JSON.stringify(v),targetId:S.targetId}).catch((S=>{Q.dispatchMessage({id:v.id,error:{message:S.message}})}))}));(0,J.assert)(S.type==="page","Only page targets are expected in WebKit, received: "+S.type);if(!S.isProvisional){(0,J.assert)(!this._initializedPage);let v;try{this._setSession(Q);await Promise.all([this._initializePageProxySession(),this._initializeSession(Q,false,(({frameTree:v})=>this._handleFrameTree(v)))]);v=this._page}catch(S){v=S}if(S.isPaused)this._pageProxySession.sendMayFail("Target.resume",{targetId:S.targetId});if(v instanceof Be.Page&&this._page.mainFrame().url()===""){try{await this._firstNonInitialNavigationCommittedPromise}catch(S){v=S}}else{this._firstNonInitialNavigationCommittedPromise.catch((()=>{}))}await this._page.initOpener(this._opener);this._initializedPage=v instanceof Be.Page?v:null;this._page.reportAsNew(v instanceof Be.Page?undefined:v);this._pagePromise.resolve(v)}else{(0,J.assert)(S.isProvisional);(0,J.assert)(!this._provisionalPage);this._provisionalPage=new je.WKProvisionalPage(Q,this);if(S.isPaused){this._provisionalPage.initializationPromise.then((()=>{this._pageProxySession.sendMayFail("Target.resume",{targetId:S.targetId})}))}}}_onDispatchMessageFromTarget(v){const{targetId:S,message:Q}=v;if(this._provisionalPage&&this._provisionalPage._session.sessionId===S)this._provisionalPage._session.dispatchMessage(JSON.parse(Q));else if(this._session.sessionId===S)this._session.dispatchMessage(JSON.parse(Q));else throw new Error("Unknown target: "+S)}_addSessionListeners(){this._sessionListeners=[ae.eventsHelper.addEventListener(this._session,"Page.frameNavigated",(v=>this._onFrameNavigated(v.frame,false))),ae.eventsHelper.addEventListener(this._session,"Page.navigatedWithinDocument",(v=>this._onFrameNavigatedWithinDocument(v.frameId,v.url))),ae.eventsHelper.addEventListener(this._session,"Page.frameAttached",(v=>this._onFrameAttached(v.frameId,v.parentFrameId))),ae.eventsHelper.addEventListener(this._session,"Page.frameDetached",(v=>this._onFrameDetached(v.frameId))),ae.eventsHelper.addEventListener(this._session,"Page.willCheckNavigationPolicy",(v=>this._onWillCheckNavigationPolicy(v.frameId))),ae.eventsHelper.addEventListener(this._session,"Page.didCheckNavigationPolicy",(v=>this._onDidCheckNavigationPolicy(v.frameId,v.cancel))),ae.eventsHelper.addEventListener(this._session,"Page.frameScheduledNavigation",(v=>this._onFrameScheduledNavigation(v.frameId,v.delay,v.targetIsCurrentFrame))),ae.eventsHelper.addEventListener(this._session,"Page.loadEventFired",(v=>this._page._frameManager.frameLifecycleEvent(v.frameId,"load"))),ae.eventsHelper.addEventListener(this._session,"Page.domContentEventFired",(v=>this._page._frameManager.frameLifecycleEvent(v.frameId,"domcontentloaded"))),ae.eventsHelper.addEventListener(this._session,"Runtime.executionContextCreated",(v=>this._onExecutionContextCreated(v.context))),ae.eventsHelper.addEventListener(this._session,"Runtime.bindingCalled",(v=>this._onBindingCalled(v.contextId,v.argument))),ae.eventsHelper.addEventListener(this._session,"Console.messageAdded",(v=>this._onConsoleMessage(v))),ae.eventsHelper.addEventListener(this._session,"Console.messageRepeatCountUpdated",(v=>this._onConsoleRepeatCountUpdated(v))),ae.eventsHelper.addEventListener(this._pageProxySession,"Dialog.javascriptDialogOpening",(v=>this._onDialog(v))),ae.eventsHelper.addEventListener(this._session,"Page.fileChooserOpened",(v=>this._onFileChooserOpened(v))),ae.eventsHelper.addEventListener(this._session,"Network.requestWillBeSent",(v=>this._onRequestWillBeSent(this._session,v))),ae.eventsHelper.addEventListener(this._session,"Network.requestIntercepted",(v=>this._onRequestIntercepted(this._session,v))),ae.eventsHelper.addEventListener(this._session,"Network.responseReceived",(v=>this._onResponseReceived(this._session,v))),ae.eventsHelper.addEventListener(this._session,"Network.loadingFinished",(v=>this._onLoadingFinished(v))),ae.eventsHelper.addEventListener(this._session,"Network.loadingFailed",(v=>this._onLoadingFailed(this._session,v))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketCreated",(v=>this._page._frameManager.onWebSocketCreated(v.requestId,v.url))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketWillSendHandshakeRequest",(v=>this._page._frameManager.onWebSocketRequest(v.requestId))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketHandshakeResponseReceived",(v=>this._page._frameManager.onWebSocketResponse(v.requestId,v.response.status,v.response.statusText))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketFrameSent",(v=>v.response.payloadData&&this._page._frameManager.onWebSocketFrameSent(v.requestId,v.response.opcode,v.response.payloadData))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketFrameReceived",(v=>v.response.payloadData&&this._page._frameManager.webSocketFrameReceived(v.requestId,v.response.opcode,v.response.payloadData))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketClosed",(v=>this._page._frameManager.webSocketClosed(v.requestId))),ae.eventsHelper.addEventListener(this._session,"Network.webSocketFrameError",(v=>this._page._frameManager.webSocketError(v.requestId,v.errorMessage)))]}async _updateState(v,S){await this._forAllSessions((Q=>Q.send(v,S).then()))}async _forAllSessions(v){const S=[this._session];if(this._provisionalPage)S.push(this._provisionalPage._session);await Promise.all(S.map((S=>v(S).catch((v=>{})))))}_onWillCheckNavigationPolicy(v){if(this._provisionalPage)return;this._page._frameManager.frameRequestedNavigation(v)}_onDidCheckNavigationPolicy(v,S){if(!S)return;if(this._provisionalPage)return;this._page._frameManager.frameAbortedNavigation(v,"Navigation canceled by policy check")}_onFrameScheduledNavigation(v,S,Q){if(Q)this._page._frameManager.frameRequestedNavigation(v)}_handleFrameTree(v){this._onFrameAttached(v.frame.id,v.frame.parentId||null);this._onFrameNavigated(v.frame,true);this._page._frameManager.frameLifecycleEvent(v.frame.id,"domcontentloaded");this._page._frameManager.frameLifecycleEvent(v.frame.id,"load");if(!v.childFrames)return;for(const S of v.childFrames)this._handleFrameTree(S)}_onFrameAttached(v,S){return this._page._frameManager.frameAttached(v,S)}_onFrameNavigated(v,S){const Q=this._page._frameManager.frame(v.id);(0,J.assert)(Q);this._removeContextsForFrame(Q,true);if(!v.parentId)this._workers.clear();this._page._frameManager.frameCommittedNewDocumentNavigation(v.id,v.url,v.name||"",v.loaderId,S);if(!S)this._firstNonInitialNavigationCommittedFulfill()}_onFrameNavigatedWithinDocument(v,S){this._page._frameManager.frameCommittedSameDocumentNavigation(v,S)}_onFrameDetached(v){this._page._frameManager.frameDetached(v)}_removeContextsForFrame(v,S){for(const[Q,O]of this._contextIdToContext){if(O.frame===v){this._contextIdToContext.delete(Q);if(S)v._contextDestroyed(O)}}}_onExecutionContextCreated(v){if(this._contextIdToContext.has(v.id))return;const S=this._page._frameManager.frame(v.frameId);if(!S)return;const Q=new Oe.WKExecutionContext(this._session,v.id);let O=null;if(v.type==="normal")O="main";else if(v.type==="user"&&v.name===et)O="utility";const H=new ee.FrameExecutionContext(Q,S,O);H[tt]=Q;if(O)S._contextCreated(O,H);this._contextIdToContext.set(v.id,H)}async _onBindingCalled(v,S){const Q=await this.pageOrError();if(!(Q instanceof Error)){const Q=this._contextIdToContext.get(v);if(Q)await this._page._onBindingCalled(S,Q)}}async navigateFrame(v,S,Q){if(this._pageProxySession.isDisposed())throw new Ye.TargetClosedError;const O=this._pageProxySession.sessionId;const H=await this._pageProxySession.connection.browserSession.send("Playwright.navigate",{url:S,pageProxyId:O,frameId:v._id,referrer:Q});return{newDocumentId:H.loaderId}}_onConsoleMessage(v){const{type:S,level:Q,text:O,parameters:H,url:J,line:Y,column:X,source:ee}=v.message;if(Q==="error"&&ee==="javascript"){const{name:S,message:Q}=(0,V.splitErrorMessage)(O);let H;if(v.message.stackTrace){H=O+"\n"+v.message.stackTrace.callFrames.map((v=>`    at ${v.functionName||"unknown"} (${v.url}:${v.lineNumber}:${v.columnNumber})`)).join("\n")}else{H=""}this._lastConsoleMessage=null;const J=new Error(Q);J.stack=H;J.name=S;this._page.emitOnContextOnceInitialized($e.BrowserContext.Events.PageError,J,this._page);return}let ae=S||"";if(S==="log")ae=Q;else if(S==="timing")ae="timeEnd";const he=[];for(const v of H||[]){let S;if(v.objectId){const Q=JSON.parse(v.objectId);S=this._contextIdToContext.get(Q.injectedScriptId)}else{S=[...this._contextIdToContext.values()].find((v=>v.frame===this._page.mainFrame()))}if(!S)return;he.push(S.createHandle(v))}this._lastConsoleMessage={derivedType:ae,text:O,handles:he,count:0,location:{url:J||"",lineNumber:(Y||1)-1,columnNumber:(X||1)-1}};this._onConsoleRepeatCountUpdated({count:1})}_onConsoleRepeatCountUpdated(v){if(this._lastConsoleMessage){const{derivedType:S,text:Q,handles:O,count:H,location:V}=this._lastConsoleMessage;for(let J=H;J<v.count;++J)this._page._addConsoleMessage(S,O,V,O.length?undefined:Q);this._lastConsoleMessage.count=v.count}}_onDialog(v){this._page.emitOnContext($e.BrowserContext.Events.Dialog,new X.Dialog(this._page,v.type,v.message,(async(v,S)=>{await this._pageProxySession.send("Dialog.handleJavaScriptDialog",{accept:v,promptText:S})}),v.defaultPrompt))}async _onFileChooserOpened(v){let S;try{const Q=await this._page._frameManager.frame(v.frameId)._mainContext();S=Q.createHandle(v.element).asElement()}catch(v){return}await this._page._onFileChooserOpened(S)}static async _setEmulateMedia(v,S,Q,O,H){const V=[];V.push(v.send("Page.setEmulatedMedia",{media:S==="no-override"?"":S}));let J=undefined;switch(Q){case"light":J="Light";break;case"dark":J="Dark";break;case"no-override":J=undefined;break}V.push(v.send("Page.overrideUserPreference",{name:"PrefersColorScheme",value:J}));let Y=undefined;switch(O){case"reduce":Y="Reduce";break;case"no-preference":Y="NoPreference";break;case"no-override":Y=undefined;break}V.push(v.send("Page.overrideUserPreference",{name:"PrefersReducedMotion",value:Y}));let X=undefined;switch(H){case"active":X="Active";break;case"none":X="None";break;case"no-override":X=undefined;break}V.push(v.send("Page.setForcedColors",{forcedColors:X}));await Promise.all(V)}async updateExtraHTTPHeaders(){await this._updateState("Network.setExtraHTTPHeaders",{headers:(0,J.headersArrayToObject)(this._calculateExtraHTTPHeaders(),false)})}_calculateExtraHTTPHeaders(){const v=this._browserContext._options.locale;const S=Ee.mergeHeaders([this._browserContext._options.extraHTTPHeaders,this._page.extraHTTPHeaders(),v?Ee.singleHeader("Accept-Language",v):undefined]);return S}async updateEmulateMedia(){const v=this._page.emulatedMedia();const S=v.colorScheme;const Q=v.reducedMotion;const O=v.forcedColors;await this._forAllSessions((H=>WKPage._setEmulateMedia(H,v.media,S,Q,O)))}async updateEmulatedViewportSize(){this._browserContext._validateEmulatedViewport(this._page.viewportSize());await this._updateViewport()}async updateUserAgent(){const v=this._browserContext._options;this._updateState("Page.overrideUserAgent",{value:v.userAgent})}async bringToFront(){this._pageProxySession.send("Target.activate",{targetId:this._session.sessionId})}async _updateViewport(){const v=this._browserContext._options;const S=this._page.emulatedSize();if(S===null)return;const Q=S.viewport;const O=S.screen;const H=[this._pageProxySession.send("Emulation.setDeviceMetricsOverride",{width:Q.width,height:Q.height,fixedLayout:!!v.isMobile,deviceScaleFactor:v.deviceScaleFactor||1}),this._session.send("Page.setScreenSizeOverride",{width:O.width,height:O.height})];if(v.isMobile){const v=Q.width>Q.height?90:0;H.push(this._session.send("Page.setOrientationOverride",{angle:v}))}await Promise.all(H)}async updateRequestInterception(){const v=this._page.needsRequestInterception();await Promise.all([this._updateState("Network.setInterceptionEnabled",{enabled:v}),this._updateState("Network.setResourceCachingDisabled",{disabled:v}),this._updateState("Network.addInterception",{url:".*",stage:"request",isRegex:true})])}async updateOffline(){await this._updateState("Network.setEmulateOfflineState",{offline:!!this._browserContext._options.offline})}async updateHttpCredentials(){const v=this._browserContext._options.httpCredentials||{username:"",password:"",origin:""};await this._pageProxySession.send("Emulation.setAuthCredentials",{username:v.username,password:v.password,origin:v.origin})}async updateFileChooserInterception(){const v=this._page.fileChooserIntercepted();await this._session.send("Page.setInterceptFileChooserDialog",{enabled:v}).catch((()=>{}))}async reload(){await this._session.send("Page.reload")}goBack(){return this._session.send("Page.goBack").then((()=>true)).catch((v=>{if(v instanceof Error&&v.message.includes(`Protocol error (Page.goBack): Failed to go`))return false;throw v}))}goForward(){return this._session.send("Page.goForward").then((()=>true)).catch((v=>{if(v instanceof Error&&v.message.includes(`Protocol error (Page.goForward): Failed to go`))return false;throw v}))}async exposeBinding(v){this._session.send("Runtime.addBinding",{name:v.name});await this._updateBootstrapScript();await Promise.all(this._page.frames().map((S=>S.evaluateExpression(v.source).catch((v=>{})))))}async removeExposedBindings(){await this._updateBootstrapScript()}async addInitScript(v){await this._updateBootstrapScript()}async removeInitScripts(){await this._updateBootstrapScript()}_calculateBootstrapScript(){const v=[];if(!this._page.context()._options.isMobile){v.push("delete window.orientation");v.push("delete window.ondevicemotion");v.push("delete window.ondeviceorientation")}v.push("if (!window.safari) window.safari = {};");v.push("if (!window.GestureEvent) window.GestureEvent = function GestureEvent() {};");for(const S of this._page.allBindings())v.push(S.source);v.push(...this._browserContext.initScripts);v.push(...this._page.initScripts);return v.join(";\n")}async _updateBootstrapScript(){await this._updateState("Page.setBootstrapScript",{source:this._calculateBootstrapScript()})}async closePage(v){await this._stopVideo();await this._pageProxySession.sendMayFail("Target.close",{targetId:this._session.sessionId,runBeforeUnload:v})}async setBackgroundColor(v){await this._session.send("Page.setDefaultBackgroundColorOverride",{color:v})}_toolbarHeight(){var v;if((v=this._page._browserContext._browser)!==null&&v!==void 0&&v.options.headful)return Y.hostPlatform==="mac10.15"?55:59;return 0}async _startVideo(v){(0,J.assert)(!this._recordingVideoFile);const{screencastId:S}=await this._pageProxySession.send("Screencast.startVideo",{file:v.outputFile,width:v.width,height:v.height,toolbarHeight:this._toolbarHeight()});this._recordingVideoFile=v.outputFile;this._browserContext._browser._videoStarted(this._browserContext,S,v.outputFile,this.pageOrError())}async _stopVideo(){if(!this._recordingVideoFile)return;await this._pageProxySession.sendMayFail("Screencast.stopVideo");this._recordingVideoFile=null}validateScreenshotDimension(v,S){if(process.platform==="darwin")return;if(!S&&this._page._browserContext._options.deviceScaleFactor)v=Math.ceil(v*this._page._browserContext._options.deviceScaleFactor);if(v>32767)throw new Error("Cannot take screenshot larger than 32767 pixels on any dimension")}async takeScreenshot(v,S,Q,O,V,J,Y){const X=Q||O;const ee=Y==="css";this.validateScreenshotDimension(X.width,ee);this.validateScreenshotDimension(X.height,ee);const ae=await this._session.send("Page.snapshotRect",{...X,coordinateSystem:Q?"Page":"Viewport",omitDeviceScaleFactor:ee});const he="data:image/png;base64,";let Ee=Buffer.from(ae.dataURL.substr(he.length),"base64");if(S==="jpeg")Ee=H.jpegjs.encode(H.PNG.sync.read(Ee),V).data;return Ee}async getContentFrame(v){const S=await this._session.send("DOM.describeNode",{objectId:v._objectId});if(!S.contentFrameId)return null;return this._page._frameManager.frame(S.contentFrameId)}async getOwnerFrame(v){if(!v._objectId)return null;const S=await this._session.send("DOM.describeNode",{objectId:v._objectId});return S.ownerFrameId||null}isElementHandle(v){return v.subtype==="node"}async getBoundingBox(v){const S=await this.getContentQuads(v);if(!S||!S.length)return null;let Q=Infinity;let O=-Infinity;let H=Infinity;let V=-Infinity;for(const v of S){for(const S of v){Q=Math.min(Q,S.x);O=Math.max(O,S.x);H=Math.min(H,S.y);V=Math.max(V,S.y)}}return{x:Q,y:H,width:O-Q,height:V-H}}async scrollRectIntoViewIfNeeded(v,S){return await this._session.send("DOM.scrollIntoViewIfNeeded",{objectId:v._objectId,rect:S}).then((()=>"done")).catch((v=>{if(v instanceof Error&&v.message.includes("Node does not have a layout object"))return"error:notvisible";if(v instanceof Error&&v.message.includes("Node is detached from document"))return"error:notconnected";throw v}))}async setScreencastOptions(v){if(v){const S={...v,toolbarHeight:this._toolbarHeight()};const{generation:Q}=await this._pageProxySession.send("Screencast.startScreencast",S);this._screencastGeneration=Q}else{await this._pageProxySession.send("Screencast.stopScreencast")}}_onScreencastFrame(v){const S=this._screencastGeneration;this._page.throttleScreencastFrameAck((()=>{this._pageProxySession.send("Screencast.screencastFrameAck",{generation:S}).catch((v=>Ve.debugLogger.log("error",v)))}));const Q=Buffer.from(v.data,"base64");this._page.emit(Be.Page.Events.ScreencastFrame,{buffer:Q,width:v.deviceWidth,height:v.deviceHeight})}rafCountForStablePosition(){return process.platform==="win32"?5:1}async getContentQuads(v){const S=await this._session.sendMayFail("DOM.getContentQuads",{objectId:v._objectId});if(!S)return null;return S.quads.map((v=>[{x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},{x:v[6],y:v[7]}]))}async setInputFiles(v,S){const Q=v._objectId;const O=S.map((v=>({name:v.name,type:v.mimeType,data:v.buffer})));await this._session.send("DOM.setInputFiles",{objectId:Q,files:O})}async setInputFilePaths(v,S,Q){const O=this._pageProxySession.sessionId;const H=S._objectId;await Promise.all([this._pageProxySession.connection.browserSession.send("Playwright.grantFileReadAccess",{pageProxyId:O,paths:Q}),this._session.send("DOM.setInputFiles",{objectId:H,paths:Q})])}async adoptElementHandle(v,S){const Q=await this._session.sendMayFail("DOM.resolveNode",{objectId:v._objectId,executionContextId:S[tt]._contextId});if(!Q||Q.object.subtype==="null")throw new Error(ee.kUnableToAdoptErrorMessage);return S.createHandle(Q.object)}async getAccessibilityTree(v){return(0,ke.getAccessibilityTree)(this._session,v)}async inputActionEpilogue(){}async resetForReuse(){}async getFrameElement(v){const S=v.parentFrame();if(!S)throw new Error("Frame has been detached.");const Q=await S._mainContext();const O=await this._session.send("DOM.resolveNode",{frameId:v._id,executionContextId:Q[tt]._contextId});if(!O||O.object.subtype==="null")throw new Error("Frame has been detached.");return Q.createHandle(O.object)}_onRequestWillBeSent(v,S){if(S.request.url.startsWith("data:"))return;if(this._page.needsRequestInterception()&&!S.redirectResponse)this._requestIdToRequestWillBeSentEvent.set(S.requestId,S);else this._onRequest(v,S,false)}_onRequest(v,S,Q){let O=null;if(S.redirectResponse){const v=this._requestIdToRequest.get(S.requestId);if(v){this._handleRequestRedirect(v,S.redirectResponse,S.timestamp);O=v}}const H=O?O.request.frame():this._page._frameManager.frame(S.frameId);if(!H)return;const V=S.type==="Document";const J=V?S.loaderId:undefined;const Y=new Le.WKInterceptableRequest(v,H,S,O,J);let X;if(Q){X=new Le.WKRouteImpl(v,Y._requestId);Y.request.setRawRequestHeaders(null)}this._requestIdToRequest.set(S.requestId,Y);this._page._frameManager.requestStarted(Y.request,X)}_handleRequestRedirect(v,S,Q){const O=v.createResponse(S);O._securityDetailsFinished();O._serverAddrFinished();O.setResponseHeadersSize(null);O.setEncodedBodySize(null);O._requestFinished(S.timing?he.helper.secondsToRoundishMillis(Q-v._timestamp):-1);this._requestIdToRequest.delete(v._requestId);this._page._frameManager.requestReceivedResponse(O);this._page._frameManager.reportRequestFinished(v.request,O)}_onRequestIntercepted(v,S){const Q=this._requestIdToRequestWillBeSentEvent.get(S.requestId);if(!Q){v.sendMayFail("Network.interceptWithRequest",{requestId:S.requestId});return}this._requestIdToRequestWillBeSentEvent.delete(S.requestId);this._onRequest(v,Q,true)}_onResponseReceived(v,S){const Q=this._requestIdToRequestWillBeSentEvent.get(S.requestId);if(Q){this._requestIdToRequestWillBeSentEvent.delete(S.requestId);this._onRequest(v,Q,false)}const O=this._requestIdToRequest.get(S.requestId);if(!O)return;this._requestIdToResponseReceivedPayloadEvent.set(O._requestId,S);const H=O.createResponse(S.response);this._page._frameManager.requestReceivedResponse(H);if(H.status()===204){this._onLoadingFailed(v,{requestId:S.requestId,errorText:"Aborted: 204 No Content",timestamp:S.timestamp})}}_onLoadingFinished(v){const S=this._requestIdToRequest.get(v.requestId);if(!S)return;const Q=S.request._existingResponse();if(Q){var O,H,V,J,Y,X,ee,ae,Ee,Be,ke,Re,Oe,Pe;const Le=this._requestIdToResponseReceivedPayloadEvent.get(S._requestId);Q._serverAddrFinished(parseRemoteAddress(v===null||v===void 0?void 0:(O=v.metrics)===null||O===void 0?void 0:O.remoteAddress));Q._securityDetailsFinished({protocol:isLoadedSecurely(Q.url(),Q.timing())?(H=v.metrics)===null||H===void 0?void 0:(V=H.securityConnection)===null||V===void 0?void 0:V.protocol:undefined,subjectName:Le===null||Le===void 0?void 0:(J=Le.response.security)===null||J===void 0?void 0:(Y=J.certificate)===null||Y===void 0?void 0:Y.subject,validFrom:Le===null||Le===void 0?void 0:(X=Le.response.security)===null||X===void 0?void 0:(ee=X.certificate)===null||ee===void 0?void 0:ee.validFrom,validTo:Le===null||Le===void 0?void 0:(ae=Le.response.security)===null||ae===void 0?void 0:(Ee=ae.certificate)===null||Ee===void 0?void 0:Ee.validUntil});if((Be=v.metrics)!==null&&Be!==void 0&&Be.protocol)Q._setHttpVersion(v.metrics.protocol);Q.setEncodedBodySize((ke=(Re=v.metrics)===null||Re===void 0?void 0:Re.responseBodyBytesReceived)!==null&&ke!==void 0?ke:null);Q.setResponseHeadersSize((Oe=(Pe=v.metrics)===null||Pe===void 0?void 0:Pe.responseHeaderBytesReceived)!==null&&Oe!==void 0?Oe:null);Q._requestFinished(he.helper.secondsToRoundishMillis(v.timestamp-S._timestamp))}else{S.request.setRawRequestHeaders(null)}this._requestIdToResponseReceivedPayloadEvent.delete(S._requestId);this._requestIdToRequest.delete(S._requestId);this._page._frameManager.reportRequestFinished(S.request,Q)}_onLoadingFailed(v,S){const Q=this._requestIdToRequestWillBeSentEvent.get(S.requestId);if(Q){this._requestIdToRequestWillBeSentEvent.delete(S.requestId);this._onRequest(v,Q,false)}const O=this._requestIdToRequest.get(S.requestId);if(!O)return;const H=O.request._existingResponse();if(H){H._serverAddrFinished();H._securityDetailsFinished();H.setResponseHeadersSize(null);H.setEncodedBodySize(null);H._requestFinished(he.helper.secondsToRoundishMillis(S.timestamp-O._timestamp))}else{O.request.setRawRequestHeaders(null)}this._requestIdToRequest.delete(O._requestId);O.request._setFailureText(S.errorText);this._page._frameManager.requestFailed(O.request,S.errorText.includes("cancelled"))}async _grantPermissions(v,S){const Q=new Map([["geolocation","geolocation"],["clipboard-read","clipboard-read"]]);const O=S.map((v=>{const S=Q.get(v);if(!S)throw new Error("Unknown permission: "+v);return S}));await this._pageProxySession.send("Emulation.grantPermissions",{origin:v,permissions:O})}async _clearPermissions(){await this._pageProxySession.send("Emulation.resetPermissions",{})}shouldToggleStyleSheetToSyncAnimations(){return true}}S.WKPage=WKPage;function parseRemoteAddress(v){if(!v)return;try{const S=v.lastIndexOf(":");const Q=v.lastIndexOf(".");if(Q<0){return{ipAddress:`[${v.slice(0,S)}]`,port:+v.slice(S+1)}}if(S>Q){const[S,Q]=v.split(":");return{ipAddress:S,port:+Q}}else{const[S,Q]=v.split(".");return{ipAddress:`[${S}]`,port:+Q}}}catch(v){}}function isLoadedSecurely(v,S){try{const Q=new URL(v);if(Q.protocol!=="https:"&&Q.protocol!=="wss:"&&Q.protocol!=="sftp:")return false;if(S.secureConnectionStart===-1&&S.connectStart!==-1)return false;return true}catch(v){}}const tt=Symbol("delegate")},1516:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WKProvisionalPage=void 0;var O=Q(3841);var H=Q(3557);class WKProvisionalPage{constructor(v,S){this._session=void 0;this._wkPage=void 0;this._sessionListeners=[];this._mainFrameId=null;this.initializationPromise=void 0;this._session=v;this._wkPage=S;const overrideFrameId=v=>S=>{if(S.frameId)S.frameId=this._wkPage._page._frameManager.mainFrame()._id;v(S)};const Q=this._wkPage;this._sessionListeners=[O.eventsHelper.addEventListener(v,"Network.requestWillBeSent",overrideFrameId((S=>Q._onRequestWillBeSent(v,S)))),O.eventsHelper.addEventListener(v,"Network.requestIntercepted",overrideFrameId((S=>Q._onRequestIntercepted(v,S)))),O.eventsHelper.addEventListener(v,"Network.responseReceived",overrideFrameId((S=>Q._onResponseReceived(v,S)))),O.eventsHelper.addEventListener(v,"Network.loadingFinished",overrideFrameId((v=>Q._onLoadingFinished(v)))),O.eventsHelper.addEventListener(v,"Network.loadingFailed",overrideFrameId((S=>Q._onLoadingFailed(v,S))))];this.initializationPromise=this._wkPage._initializeSession(v,true,(({frameTree:v})=>this._handleFrameTree(v)))}dispose(){O.eventsHelper.removeEventListeners(this._sessionListeners)}commit(){(0,H.assert)(this._mainFrameId);this._wkPage._onFrameAttached(this._mainFrameId,null)}_handleFrameTree(v){(0,H.assert)(!v.frame.parentId);this._mainFrameId=v.frame.id}}S.WKProvisionalPage=WKProvisionalPage},3471:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WKWorkers=void 0;var O=Q(3841);var H=Q(3555);var V=Q(281);var J=Q(2559);class WKWorkers{constructor(v){this._sessionListeners=[];this._page=void 0;this._workerSessions=new Map;this._page=v}setSession(v){O.eventsHelper.removeEventListeners(this._sessionListeners);this.clear();this._sessionListeners=[O.eventsHelper.addEventListener(v,"Worker.workerCreated",(S=>{const Q=new H.Worker(this._page,S.url);const O=new V.WKSession(v.connection,S.workerId,(Q=>{v.send("Worker.sendMessageToWorker",{workerId:S.workerId,message:JSON.stringify(Q)}).catch((v=>{O.dispatchMessage({id:Q.id,error:{message:v.message}})}))}));this._workerSessions.set(S.workerId,O);Q._createExecutionContext(new J.WKExecutionContext(O,undefined));this._page._addWorker(S.workerId,Q);O.on("Console.messageAdded",(v=>this._onConsoleMessage(Q,v)));Promise.all([O.send("Runtime.enable"),O.send("Console.enable"),v.send("Worker.initialized",{workerId:S.workerId})]).catch((v=>{this._page._removeWorker(S.workerId)}))})),O.eventsHelper.addEventListener(v,"Worker.dispatchMessageFromWorker",(v=>{const S=this._workerSessions.get(v.workerId);if(!S)return;S.dispatchMessage(JSON.parse(v.message))})),O.eventsHelper.addEventListener(v,"Worker.workerTerminated",(v=>{const S=this._workerSessions.get(v.workerId);if(!S)return;S.dispose();this._workerSessions.delete(v.workerId);this._page._removeWorker(v.workerId)}))]}clear(){this._page._clearWorkers();this._workerSessions.clear()}async initializeSession(v){await v.send("Worker.enable")}async _onConsoleMessage(v,S){const{type:Q,level:O,text:H,parameters:V,url:J,line:Y,column:X}=S.message;let ee=Q||"";if(Q==="log")ee=O;else if(Q==="timing")ee="timeEnd";const ae=(V||[]).map((S=>v._existingExecutionContext.createHandle(S)));const he={url:J||"",lineNumber:(Y||1)-1,columnNumber:(X||1)-1};this._page._addConsoleMessage(ee,ae,he,ae.length?undefined:H)}}S.WKWorkers=WKWorkers},2371:v=>{var diff_match_patch=function(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1e3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32};var S=-1;var Q=1;var O=0;diff_match_patch.Diff=function(v,S){this[0]=v;this[1]=S};diff_match_patch.Diff.prototype.length=2;diff_match_patch.Diff.prototype.toString=function(){return this[0]+","+this[1]};diff_match_patch.prototype.diff_main=function(v,S,Q,H){if(typeof H=="undefined"){if(this.Diff_Timeout<=0){H=Number.MAX_VALUE}else{H=(new Date).getTime()+this.Diff_Timeout*1e3}}var V=H;if(v==null||S==null){throw new Error("Null input. (diff_main)")}if(v==S){if(v){return[new diff_match_patch.Diff(O,v)]}return[]}if(typeof Q=="undefined"){Q=true}var J=Q;var Y=this.diff_commonPrefix(v,S);var X=v.substring(0,Y);v=v.substring(Y);S=S.substring(Y);Y=this.diff_commonSuffix(v,S);var ee=v.substring(v.length-Y);v=v.substring(0,v.length-Y);S=S.substring(0,S.length-Y);var ae=this.diff_compute_(v,S,J,V);if(X){ae.unshift(new diff_match_patch.Diff(O,X))}if(ee){ae.push(new diff_match_patch.Diff(O,ee))}this.diff_cleanupMerge(ae);return ae};diff_match_patch.prototype.diff_compute_=function(v,H,V,J){var Y;if(!v){return[new diff_match_patch.Diff(Q,H)]}if(!H){return[new diff_match_patch.Diff(S,v)]}var X=v.length>H.length?v:H;var ee=v.length>H.length?H:v;var ae=X.indexOf(ee);if(ae!=-1){Y=[new diff_match_patch.Diff(Q,X.substring(0,ae)),new diff_match_patch.Diff(O,ee),new diff_match_patch.Diff(Q,X.substring(ae+ee.length))];if(v.length>H.length){Y[0][0]=Y[2][0]=S}return Y}if(ee.length==1){return[new diff_match_patch.Diff(S,v),new diff_match_patch.Diff(Q,H)]}var he=this.diff_halfMatch_(v,H);if(he){var Ee=he[0];var Be=he[1];var ke=he[2];var Re=he[3];var Oe=he[4];var Pe=this.diff_main(Ee,ke,V,J);var Le=this.diff_main(Be,Re,V,J);return Pe.concat([new diff_match_patch.Diff(O,Oe)],Le)}if(V&&v.length>100&&H.length>100){return this.diff_lineMode_(v,H,J)}return this.diff_bisect_(v,H,J)};diff_match_patch.prototype.diff_lineMode_=function(v,H,V){var J=this.diff_linesToChars_(v,H);v=J.chars1;H=J.chars2;var Y=J.lineArray;var X=this.diff_main(v,H,false,V);this.diff_charsToLines_(X,Y);this.diff_cleanupSemantic(X);X.push(new diff_match_patch.Diff(O,""));var ee=0;var ae=0;var he=0;var Ee="";var Be="";while(ee<X.length){switch(X[ee][0]){case Q:he++;Be+=X[ee][1];break;case S:ae++;Ee+=X[ee][1];break;case O:if(ae>=1&&he>=1){X.splice(ee-ae-he,ae+he);ee=ee-ae-he;var ke=this.diff_main(Ee,Be,false,V);for(var Re=ke.length-1;Re>=0;Re--){X.splice(ee,0,ke[Re])}ee=ee+ke.length}he=0;ae=0;Ee="";Be="";break}ee++}X.pop();return X};diff_match_patch.prototype.diff_bisect_=function(v,O,H){var V=v.length;var J=O.length;var Y=Math.ceil((V+J)/2);var X=Y;var ee=2*Y;var ae=new Array(ee);var he=new Array(ee);for(var Ee=0;Ee<ee;Ee++){ae[Ee]=-1;he[Ee]=-1}ae[X+1]=0;he[X+1]=0;var Be=V-J;var ke=Be%2!=0;var Re=0;var Oe=0;var Pe=0;var Le=0;for(var je=0;je<Y;je++){if((new Date).getTime()>H){break}for(var qe=-je+Re;qe<=je-Oe;qe+=2){var Ve=X+qe;var ze;if(qe==-je||qe!=je&&ae[Ve-1]<ae[Ve+1]){ze=ae[Ve+1]}else{ze=ae[Ve-1]+1}var $e=ze-qe;while(ze<V&&$e<J&&v.charAt(ze)==O.charAt($e)){ze++;$e++}ae[Ve]=ze;if(ze>V){Oe+=2}else if($e>J){Re+=2}else if(ke){var Ye=X+Be-qe;if(Ye>=0&&Ye<ee&&he[Ye]!=-1){var et=V-he[Ye];if(ze>=et){return this.diff_bisectSplit_(v,O,ze,$e,H)}}}}for(var tt=-je+Pe;tt<=je-Le;tt+=2){var Ye=X+tt;var et;if(tt==-je||tt!=je&&he[Ye-1]<he[Ye+1]){et=he[Ye+1]}else{et=he[Ye-1]+1}var nt=et-tt;while(et<V&&nt<J&&v.charAt(V-et-1)==O.charAt(J-nt-1)){et++;nt++}he[Ye]=et;if(et>V){Le+=2}else if(nt>J){Pe+=2}else if(!ke){var Ve=X+Be-tt;if(Ve>=0&&Ve<ee&&ae[Ve]!=-1){var ze=ae[Ve];var $e=X+ze-Ve;et=V-et;if(ze>=et){return this.diff_bisectSplit_(v,O,ze,$e,H)}}}}}return[new diff_match_patch.Diff(S,v),new diff_match_patch.Diff(Q,O)]};diff_match_patch.prototype.diff_bisectSplit_=function(v,S,Q,O,H){var V=v.substring(0,Q);var J=S.substring(0,O);var Y=v.substring(Q);var X=S.substring(O);var ee=this.diff_main(V,J,false,H);var ae=this.diff_main(Y,X,false,H);return ee.concat(ae)};diff_match_patch.prototype.diff_linesToChars_=function(v,S){var Q=[];var O={};Q[0]="";function diff_linesToCharsMunge_(v){var S="";var V=0;var J=-1;var Y=Q.length;while(J<v.length-1){J=v.indexOf("\n",V);if(J==-1){J=v.length-1}var X=v.substring(V,J+1);if(O.hasOwnProperty?O.hasOwnProperty(X):O[X]!==undefined){S+=String.fromCharCode(O[X])}else{if(Y==H){X=v.substring(V);J=v.length}S+=String.fromCharCode(Y);O[X]=Y;Q[Y++]=X}V=J+1}return S}var H=4e4;var V=diff_linesToCharsMunge_(v);H=65535;var J=diff_linesToCharsMunge_(S);return{chars1:V,chars2:J,lineArray:Q}};diff_match_patch.prototype.diff_charsToLines_=function(v,S){for(var Q=0;Q<v.length;Q++){var O=v[Q][1];var H=[];for(var V=0;V<O.length;V++){H[V]=S[O.charCodeAt(V)]}v[Q][1]=H.join("")}};diff_match_patch.prototype.diff_commonPrefix=function(v,S){if(!v||!S||v.charAt(0)!=S.charAt(0)){return 0}var Q=0;var O=Math.min(v.length,S.length);var H=O;var V=0;while(Q<H){if(v.substring(V,H)==S.substring(V,H)){Q=H;V=Q}else{O=H}H=Math.floor((O-Q)/2+Q)}return H};diff_match_patch.prototype.diff_commonSuffix=function(v,S){if(!v||!S||v.charAt(v.length-1)!=S.charAt(S.length-1)){return 0}var Q=0;var O=Math.min(v.length,S.length);var H=O;var V=0;while(Q<H){if(v.substring(v.length-H,v.length-V)==S.substring(S.length-H,S.length-V)){Q=H;V=Q}else{O=H}H=Math.floor((O-Q)/2+Q)}return H};diff_match_patch.prototype.diff_commonOverlap_=function(v,S){var Q=v.length;var O=S.length;if(Q==0||O==0){return 0}if(Q>O){v=v.substring(Q-O)}else if(Q<O){S=S.substring(0,Q)}var H=Math.min(Q,O);if(v==S){return H}var V=0;var J=1;while(true){var Y=v.substring(H-J);var X=S.indexOf(Y);if(X==-1){return V}J+=X;if(X==0||v.substring(H-J)==S.substring(0,J)){V=J;J++}}};diff_match_patch.prototype.diff_halfMatch_=function(v,S){if(this.Diff_Timeout<=0){return null}var Q=v.length>S.length?v:S;var O=v.length>S.length?S:v;if(Q.length<4||O.length*2<Q.length){return null}var H=this;function diff_halfMatchI_(v,S,Q){var O=v.substring(Q,Q+Math.floor(v.length/4));var V=-1;var J="";var Y,X,ee,ae;while((V=S.indexOf(O,V+1))!=-1){var he=H.diff_commonPrefix(v.substring(Q),S.substring(V));var Ee=H.diff_commonSuffix(v.substring(0,Q),S.substring(0,V));if(J.length<Ee+he){J=S.substring(V-Ee,V)+S.substring(V,V+he);Y=v.substring(0,Q-Ee);X=v.substring(Q+he);ee=S.substring(0,V-Ee);ae=S.substring(V+he)}}if(J.length*2>=v.length){return[Y,X,ee,ae,J]}else{return null}}var V=diff_halfMatchI_(Q,O,Math.ceil(Q.length/4));var J=diff_halfMatchI_(Q,O,Math.ceil(Q.length/2));var Y;if(!V&&!J){return null}else if(!J){Y=V}else if(!V){Y=J}else{Y=V[4].length>J[4].length?V:J}var X,ee,ae,he;if(v.length>S.length){X=Y[0];ee=Y[1];ae=Y[2];he=Y[3]}else{ae=Y[0];he=Y[1];X=Y[2];ee=Y[3]}var Ee=Y[4];return[X,ee,ae,he,Ee]};diff_match_patch.prototype.diff_cleanupSemantic=function(v){var H=false;var V=[];var J=0;var Y=null;var X=0;var ee=0;var ae=0;var he=0;var Ee=0;while(X<v.length){if(v[X][0]==O){V[J++]=X;ee=he;ae=Ee;he=0;Ee=0;Y=v[X][1]}else{if(v[X][0]==Q){he+=v[X][1].length}else{Ee+=v[X][1].length}if(Y&&Y.length<=Math.max(ee,ae)&&Y.length<=Math.max(he,Ee)){v.splice(V[J-1],0,new diff_match_patch.Diff(S,Y));v[V[J-1]+1][0]=Q;J--;J--;X=J>0?V[J-1]:-1;ee=0;ae=0;he=0;Ee=0;Y=null;H=true}}X++}if(H){this.diff_cleanupMerge(v)}this.diff_cleanupSemanticLossless(v);X=1;while(X<v.length){if(v[X-1][0]==S&&v[X][0]==Q){var Be=v[X-1][1];var ke=v[X][1];var Re=this.diff_commonOverlap_(Be,ke);var Oe=this.diff_commonOverlap_(ke,Be);if(Re>=Oe){if(Re>=Be.length/2||Re>=ke.length/2){v.splice(X,0,new diff_match_patch.Diff(O,ke.substring(0,Re)));v[X-1][1]=Be.substring(0,Be.length-Re);v[X+1][1]=ke.substring(Re);X++}}else{if(Oe>=Be.length/2||Oe>=ke.length/2){v.splice(X,0,new diff_match_patch.Diff(O,Be.substring(0,Oe)));v[X-1][0]=Q;v[X-1][1]=ke.substring(0,ke.length-Oe);v[X+1][0]=S;v[X+1][1]=Be.substring(Oe);X++}}X++}X++}};diff_match_patch.prototype.diff_cleanupSemanticLossless=function(v){function diff_cleanupSemanticScore_(v,S){if(!v||!S){return 6}var Q=v.charAt(v.length-1);var O=S.charAt(0);var H=Q.match(diff_match_patch.nonAlphaNumericRegex_);var V=O.match(diff_match_patch.nonAlphaNumericRegex_);var J=H&&Q.match(diff_match_patch.whitespaceRegex_);var Y=V&&O.match(diff_match_patch.whitespaceRegex_);var X=J&&Q.match(diff_match_patch.linebreakRegex_);var ee=Y&&O.match(diff_match_patch.linebreakRegex_);var ae=X&&v.match(diff_match_patch.blanklineEndRegex_);var he=ee&&S.match(diff_match_patch.blanklineStartRegex_);if(ae||he){return 5}else if(X||ee){return 4}else if(H&&!J&&Y){return 3}else if(J||Y){return 2}else if(H||V){return 1}return 0}var S=1;while(S<v.length-1){if(v[S-1][0]==O&&v[S+1][0]==O){var Q=v[S-1][1];var H=v[S][1];var V=v[S+1][1];var J=this.diff_commonSuffix(Q,H);if(J){var Y=H.substring(H.length-J);Q=Q.substring(0,Q.length-J);H=Y+H.substring(0,H.length-J);V=Y+V}var X=Q;var ee=H;var ae=V;var he=diff_cleanupSemanticScore_(Q,H)+diff_cleanupSemanticScore_(H,V);while(H.charAt(0)===V.charAt(0)){Q+=H.charAt(0);H=H.substring(1)+V.charAt(0);V=V.substring(1);var Ee=diff_cleanupSemanticScore_(Q,H)+diff_cleanupSemanticScore_(H,V);if(Ee>=he){he=Ee;X=Q;ee=H;ae=V}}if(v[S-1][1]!=X){if(X){v[S-1][1]=X}else{v.splice(S-1,1);S--}v[S][1]=ee;if(ae){v[S+1][1]=ae}else{v.splice(S+1,1);S--}}}S++}};diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;diff_match_patch.whitespaceRegex_=/\s/;diff_match_patch.linebreakRegex_=/[\r\n]/;diff_match_patch.blanklineEndRegex_=/\n\r?\n$/;diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/;diff_match_patch.prototype.diff_cleanupEfficiency=function(v){var H=false;var V=[];var J=0;var Y=null;var X=0;var ee=false;var ae=false;var he=false;var Ee=false;while(X<v.length){if(v[X][0]==O){if(v[X][1].length<this.Diff_EditCost&&(he||Ee)){V[J++]=X;ee=he;ae=Ee;Y=v[X][1]}else{J=0;Y=null}he=Ee=false}else{if(v[X][0]==S){Ee=true}else{he=true}if(Y&&(ee&&ae&&he&&Ee||Y.length<this.Diff_EditCost/2&&ee+ae+he+Ee==3)){v.splice(V[J-1],0,new diff_match_patch.Diff(S,Y));v[V[J-1]+1][0]=Q;J--;Y=null;if(ee&&ae){he=Ee=true;J=0}else{J--;X=J>0?V[J-1]:-1;he=Ee=false}H=true}}X++}if(H){this.diff_cleanupMerge(v)}};diff_match_patch.prototype.diff_cleanupMerge=function(v){v.push(new diff_match_patch.Diff(O,""));var H=0;var V=0;var J=0;var Y="";var X="";var ee;while(H<v.length){switch(v[H][0]){case Q:J++;X+=v[H][1];H++;break;case S:V++;Y+=v[H][1];H++;break;case O:if(V+J>1){if(V!==0&&J!==0){ee=this.diff_commonPrefix(X,Y);if(ee!==0){if(H-V-J>0&&v[H-V-J-1][0]==O){v[H-V-J-1][1]+=X.substring(0,ee)}else{v.splice(0,0,new diff_match_patch.Diff(O,X.substring(0,ee)));H++}X=X.substring(ee);Y=Y.substring(ee)}ee=this.diff_commonSuffix(X,Y);if(ee!==0){v[H][1]=X.substring(X.length-ee)+v[H][1];X=X.substring(0,X.length-ee);Y=Y.substring(0,Y.length-ee)}}H-=V+J;v.splice(H,V+J);if(Y.length){v.splice(H,0,new diff_match_patch.Diff(S,Y));H++}if(X.length){v.splice(H,0,new diff_match_patch.Diff(Q,X));H++}H++}else if(H!==0&&v[H-1][0]==O){v[H-1][1]+=v[H][1];v.splice(H,1)}else{H++}J=0;V=0;Y="";X="";break}}if(v[v.length-1][1]===""){v.pop()}var ae=false;H=1;while(H<v.length-1){if(v[H-1][0]==O&&v[H+1][0]==O){if(v[H][1].substring(v[H][1].length-v[H-1][1].length)==v[H-1][1]){v[H][1]=v[H-1][1]+v[H][1].substring(0,v[H][1].length-v[H-1][1].length);v[H+1][1]=v[H-1][1]+v[H+1][1];v.splice(H-1,1);ae=true}else if(v[H][1].substring(0,v[H+1][1].length)==v[H+1][1]){v[H-1][1]+=v[H+1][1];v[H][1]=v[H][1].substring(v[H+1][1].length)+v[H+1][1];v.splice(H+1,1);ae=true}}H++}if(ae){this.diff_cleanupMerge(v)}};diff_match_patch.prototype.diff_xIndex=function(v,O){var H=0;var V=0;var J=0;var Y=0;var X;for(X=0;X<v.length;X++){if(v[X][0]!==Q){H+=v[X][1].length}if(v[X][0]!==S){V+=v[X][1].length}if(H>O){break}J=H;Y=V}if(v.length!=X&&v[X][0]===S){return Y}return Y+(O-J)};diff_match_patch.prototype.diff_prettyHtml=function(v){var H=[];var V=/&/g;var J=/</g;var Y=/>/g;var X=/\n/g;for(var ee=0;ee<v.length;ee++){var ae=v[ee][0];var he=v[ee][1];var Ee=he.replace(V,"&amp;").replace(J,"&lt;").replace(Y,"&gt;").replace(X,"&para;<br>");switch(ae){case Q:H[ee]='<ins style="background:#e6ffe6;">'+Ee+"</ins>";break;case S:H[ee]='<del style="background:#ffe6e6;">'+Ee+"</del>";break;case O:H[ee]="<span>"+Ee+"</span>";break}}return H.join("")};diff_match_patch.prototype.diff_text1=function(v){var S=[];for(var O=0;O<v.length;O++){if(v[O][0]!==Q){S[O]=v[O][1]}}return S.join("")};diff_match_patch.prototype.diff_text2=function(v){var Q=[];for(var O=0;O<v.length;O++){if(v[O][0]!==S){Q[O]=v[O][1]}}return Q.join("")};diff_match_patch.prototype.diff_levenshtein=function(v){var H=0;var V=0;var J=0;for(var Y=0;Y<v.length;Y++){var X=v[Y][0];var ee=v[Y][1];switch(X){case Q:V+=ee.length;break;case S:J+=ee.length;break;case O:H+=Math.max(V,J);V=0;J=0;break}}H+=Math.max(V,J);return H};diff_match_patch.prototype.diff_toDelta=function(v){var H=[];for(var V=0;V<v.length;V++){switch(v[V][0]){case Q:H[V]="+"+encodeURI(v[V][1]);break;case S:H[V]="-"+v[V][1].length;break;case O:H[V]="="+v[V][1].length;break}}return H.join("\t").replace(/%20/g," ")};diff_match_patch.prototype.diff_fromDelta=function(v,H){var V=[];var J=0;var Y=0;var X=H.split(/\t/g);for(var ee=0;ee<X.length;ee++){var ae=X[ee].substring(1);switch(X[ee].charAt(0)){case"+":try{V[J++]=new diff_match_patch.Diff(Q,decodeURI(ae))}catch(v){throw new Error("Illegal escape in diff_fromDelta: "+ae)}break;case"-":case"=":var he=parseInt(ae,10);if(isNaN(he)||he<0){throw new Error("Invalid number in diff_fromDelta: "+ae)}var Ee=v.substring(Y,Y+=he);if(X[ee].charAt(0)=="="){V[J++]=new diff_match_patch.Diff(O,Ee)}else{V[J++]=new diff_match_patch.Diff(S,Ee)}break;default:if(X[ee]){throw new Error("Invalid diff operation in diff_fromDelta: "+X[ee])}}}if(Y!=v.length){throw new Error("Delta length ("+Y+") does not equal source text length ("+v.length+").")}return V};diff_match_patch.prototype.match_main=function(v,S,Q){if(v==null||S==null||Q==null){throw new Error("Null input. (match_main)")}Q=Math.max(0,Math.min(Q,v.length));if(v==S){return 0}else if(!v.length){return-1}else if(v.substring(Q,Q+S.length)==S){return Q}else{return this.match_bitap_(v,S,Q)}};diff_match_patch.prototype.match_bitap_=function(v,S,Q){if(S.length>this.Match_MaxBits){throw new Error("Pattern too long for this browser.")}var O=this.match_alphabet_(S);var H=this;function match_bitapScore_(v,O){var V=v/S.length;var J=Math.abs(Q-O);if(!H.Match_Distance){return J?1:V}return V+J/H.Match_Distance}var V=this.Match_Threshold;var J=v.indexOf(S,Q);if(J!=-1){V=Math.min(match_bitapScore_(0,J),V);J=v.lastIndexOf(S,Q+S.length);if(J!=-1){V=Math.min(match_bitapScore_(0,J),V)}}var Y=1<<S.length-1;J=-1;var X,ee;var ae=S.length+v.length;var he;for(var Ee=0;Ee<S.length;Ee++){X=0;ee=ae;while(X<ee){if(match_bitapScore_(Ee,Q+ee)<=V){X=ee}else{ae=ee}ee=Math.floor((ae-X)/2+X)}ae=ee;var Be=Math.max(1,Q-ee+1);var ke=Math.min(Q+ee,v.length)+S.length;var Re=Array(ke+2);Re[ke+1]=(1<<Ee)-1;for(var Oe=ke;Oe>=Be;Oe--){var Pe=O[v.charAt(Oe-1)];if(Ee===0){Re[Oe]=(Re[Oe+1]<<1|1)&Pe}else{Re[Oe]=(Re[Oe+1]<<1|1)&Pe|((he[Oe+1]|he[Oe])<<1|1)|he[Oe+1]}if(Re[Oe]&Y){var Le=match_bitapScore_(Ee,Oe-1);if(Le<=V){V=Le;J=Oe-1;if(J>Q){Be=Math.max(1,2*Q-J)}else{break}}}}if(match_bitapScore_(Ee+1,Q)>V){break}he=Re}return J};diff_match_patch.prototype.match_alphabet_=function(v){var S={};for(var Q=0;Q<v.length;Q++){S[v.charAt(Q)]=0}for(var Q=0;Q<v.length;Q++){S[v.charAt(Q)]|=1<<v.length-Q-1}return S};diff_match_patch.prototype.patch_addContext_=function(v,S){if(S.length==0){return}if(v.start2===null){throw Error("patch not initialized")}var Q=S.substring(v.start2,v.start2+v.length1);var H=0;while(S.indexOf(Q)!=S.lastIndexOf(Q)&&Q.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin){H+=this.Patch_Margin;Q=S.substring(v.start2-H,v.start2+v.length1+H)}H+=this.Patch_Margin;var V=S.substring(v.start2-H,v.start2);if(V){v.diffs.unshift(new diff_match_patch.Diff(O,V))}var J=S.substring(v.start2+v.length1,v.start2+v.length1+H);if(J){v.diffs.push(new diff_match_patch.Diff(O,J))}v.start1-=V.length;v.start2-=V.length;v.length1+=V.length+J.length;v.length2+=V.length+J.length};diff_match_patch.prototype.patch_make=function(v,H,V){var J,Y;if(typeof v=="string"&&typeof H=="string"&&typeof V=="undefined"){J=v;Y=this.diff_main(J,H,true);if(Y.length>2){this.diff_cleanupSemantic(Y);this.diff_cleanupEfficiency(Y)}}else if(v&&typeof v=="object"&&typeof H=="undefined"&&typeof V=="undefined"){Y=v;J=this.diff_text1(Y)}else if(typeof v=="string"&&H&&typeof H=="object"&&typeof V=="undefined"){J=v;Y=H}else if(typeof v=="string"&&typeof H=="string"&&V&&typeof V=="object"){J=v;Y=V}else{throw new Error("Unknown call format to patch_make.")}if(Y.length===0){return[]}var X=[];var ee=new diff_match_patch.patch_obj;var ae=0;var he=0;var Ee=0;var Be=J;var ke=J;for(var Re=0;Re<Y.length;Re++){var Oe=Y[Re][0];var Pe=Y[Re][1];if(!ae&&Oe!==O){ee.start1=he;ee.start2=Ee}switch(Oe){case Q:ee.diffs[ae++]=Y[Re];ee.length2+=Pe.length;ke=ke.substring(0,Ee)+Pe+ke.substring(Ee);break;case S:ee.length1+=Pe.length;ee.diffs[ae++]=Y[Re];ke=ke.substring(0,Ee)+ke.substring(Ee+Pe.length);break;case O:if(Pe.length<=2*this.Patch_Margin&&ae&&Y.length!=Re+1){ee.diffs[ae++]=Y[Re];ee.length1+=Pe.length;ee.length2+=Pe.length}else if(Pe.length>=2*this.Patch_Margin){if(ae){this.patch_addContext_(ee,Be);X.push(ee);ee=new diff_match_patch.patch_obj;ae=0;Be=ke;he=Ee}}break}if(Oe!==Q){he+=Pe.length}if(Oe!==S){Ee+=Pe.length}}if(ae){this.patch_addContext_(ee,Be);X.push(ee)}return X};diff_match_patch.prototype.patch_deepCopy=function(v){var S=[];for(var Q=0;Q<v.length;Q++){var O=v[Q];var H=new diff_match_patch.patch_obj;H.diffs=[];for(var V=0;V<O.diffs.length;V++){H.diffs[V]=new diff_match_patch.Diff(O.diffs[V][0],O.diffs[V][1])}H.start1=O.start1;H.start2=O.start2;H.length1=O.length1;H.length2=O.length2;S[Q]=H}return S};diff_match_patch.prototype.patch_apply=function(v,H){if(v.length==0){return[H,[]]}v=this.patch_deepCopy(v);var V=this.patch_addPadding(v);H=V+H+V;this.patch_splitMax(v);var J=0;var Y=[];for(var X=0;X<v.length;X++){var ee=v[X].start2+J;var ae=this.diff_text1(v[X].diffs);var he;var Ee=-1;if(ae.length>this.Match_MaxBits){he=this.match_main(H,ae.substring(0,this.Match_MaxBits),ee);if(he!=-1){Ee=this.match_main(H,ae.substring(ae.length-this.Match_MaxBits),ee+ae.length-this.Match_MaxBits);if(Ee==-1||he>=Ee){he=-1}}}else{he=this.match_main(H,ae,ee)}if(he==-1){Y[X]=false;J-=v[X].length2-v[X].length1}else{Y[X]=true;J=he-ee;var Be;if(Ee==-1){Be=H.substring(he,he+ae.length)}else{Be=H.substring(he,Ee+this.Match_MaxBits)}if(ae==Be){H=H.substring(0,he)+this.diff_text2(v[X].diffs)+H.substring(he+ae.length)}else{var ke=this.diff_main(ae,Be,false);if(ae.length>this.Match_MaxBits&&this.diff_levenshtein(ke)/ae.length>this.Patch_DeleteThreshold){Y[X]=false}else{this.diff_cleanupSemanticLossless(ke);var Re=0;var Oe;for(var Pe=0;Pe<v[X].diffs.length;Pe++){var Le=v[X].diffs[Pe];if(Le[0]!==O){Oe=this.diff_xIndex(ke,Re)}if(Le[0]===Q){H=H.substring(0,he+Oe)+Le[1]+H.substring(he+Oe)}else if(Le[0]===S){H=H.substring(0,he+Oe)+H.substring(he+this.diff_xIndex(ke,Re+Le[1].length))}if(Le[0]!==S){Re+=Le[1].length}}}}}}H=H.substring(V.length,H.length-V.length);return[H,Y]};diff_match_patch.prototype.patch_addPadding=function(v){var S=this.Patch_Margin;var Q="";for(var H=1;H<=S;H++){Q+=String.fromCharCode(H)}for(var H=0;H<v.length;H++){v[H].start1+=S;v[H].start2+=S}var V=v[0];var J=V.diffs;if(J.length==0||J[0][0]!=O){J.unshift(new diff_match_patch.Diff(O,Q));V.start1-=S;V.start2-=S;V.length1+=S;V.length2+=S}else if(S>J[0][1].length){var Y=S-J[0][1].length;J[0][1]=Q.substring(J[0][1].length)+J[0][1];V.start1-=Y;V.start2-=Y;V.length1+=Y;V.length2+=Y}V=v[v.length-1];J=V.diffs;if(J.length==0||J[J.length-1][0]!=O){J.push(new diff_match_patch.Diff(O,Q));V.length1+=S;V.length2+=S}else if(S>J[J.length-1][1].length){var Y=S-J[J.length-1][1].length;J[J.length-1][1]+=Q.substring(0,Y);V.length1+=Y;V.length2+=Y}return Q};diff_match_patch.prototype.patch_splitMax=function(v){var H=this.Match_MaxBits;for(var V=0;V<v.length;V++){if(v[V].length1<=H){continue}var J=v[V];v.splice(V--,1);var Y=J.start1;var X=J.start2;var ee="";while(J.diffs.length!==0){var ae=new diff_match_patch.patch_obj;var he=true;ae.start1=Y-ee.length;ae.start2=X-ee.length;if(ee!==""){ae.length1=ae.length2=ee.length;ae.diffs.push(new diff_match_patch.Diff(O,ee))}while(J.diffs.length!==0&&ae.length1<H-this.Patch_Margin){var Ee=J.diffs[0][0];var Be=J.diffs[0][1];if(Ee===Q){ae.length2+=Be.length;X+=Be.length;ae.diffs.push(J.diffs.shift());he=false}else if(Ee===S&&ae.diffs.length==1&&ae.diffs[0][0]==O&&Be.length>2*H){ae.length1+=Be.length;Y+=Be.length;he=false;ae.diffs.push(new diff_match_patch.Diff(Ee,Be));J.diffs.shift()}else{Be=Be.substring(0,H-ae.length1-this.Patch_Margin);ae.length1+=Be.length;Y+=Be.length;if(Ee===O){ae.length2+=Be.length;X+=Be.length}else{he=false}ae.diffs.push(new diff_match_patch.Diff(Ee,Be));if(Be==J.diffs[0][1]){J.diffs.shift()}else{J.diffs[0][1]=J.diffs[0][1].substring(Be.length)}}}ee=this.diff_text2(ae.diffs);ee=ee.substring(ee.length-this.Patch_Margin);var ke=this.diff_text1(J.diffs).substring(0,this.Patch_Margin);if(ke!==""){ae.length1+=ke.length;ae.length2+=ke.length;if(ae.diffs.length!==0&&ae.diffs[ae.diffs.length-1][0]===O){ae.diffs[ae.diffs.length-1][1]+=ke}else{ae.diffs.push(new diff_match_patch.Diff(O,ke))}}if(!he){v.splice(++V,0,ae)}}}};diff_match_patch.prototype.patch_toText=function(v){var S=[];for(var Q=0;Q<v.length;Q++){S[Q]=v[Q]}return S.join("")};diff_match_patch.prototype.patch_fromText=function(v){var H=[];if(!v){return H}var V=v.split("\n");var J=0;var Y=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;while(J<V.length){var X=V[J].match(Y);if(!X){throw new Error("Invalid patch string: "+V[J])}var ee=new diff_match_patch.patch_obj;H.push(ee);ee.start1=parseInt(X[1],10);if(X[2]===""){ee.start1--;ee.length1=1}else if(X[2]=="0"){ee.length1=0}else{ee.start1--;ee.length1=parseInt(X[2],10)}ee.start2=parseInt(X[3],10);if(X[4]===""){ee.start2--;ee.length2=1}else if(X[4]=="0"){ee.length2=0}else{ee.start2--;ee.length2=parseInt(X[4],10)}J++;while(J<V.length){var ae=V[J].charAt(0);try{var he=decodeURI(V[J].substring(1))}catch(v){throw new Error("Illegal escape in patch_fromText: "+he)}if(ae=="-"){ee.diffs.push(new diff_match_patch.Diff(S,he))}else if(ae=="+"){ee.diffs.push(new diff_match_patch.Diff(Q,he))}else if(ae==" "){ee.diffs.push(new diff_match_patch.Diff(O,he))}else if(ae=="@"){break}else if(ae===""){}else{throw new Error('Invalid patch mode "'+ae+'" in: '+he)}J++}}return H};diff_match_patch.patch_obj=function(){this.diffs=[];this.start1=null;this.start2=null;this.length1=0;this.length2=0};diff_match_patch.patch_obj.prototype.toString=function(){var v,H;if(this.length1===0){v=this.start1+",0"}else if(this.length1==1){v=this.start1+1}else{v=this.start1+1+","+this.length1}if(this.length2===0){H=this.start2+",0"}else if(this.length2==1){H=this.start2+1}else{H=this.start2+1+","+this.length2}var V=["@@ -"+v+" +"+H+" @@\n"];var J;for(var Y=0;Y<this.diffs.length;Y++){switch(this.diffs[Y][0]){case Q:J="+";break;case S:J="-";break;case O:J=" ";break}V[Y+1]=J+encodeURI(this.diffs[Y][1])+"\n"}return V.join("").replace(/%20/g," ")};v.exports={diff_match_patch:diff_match_patch,DIFF_INSERT:Q,DIFF_DELETE:S,DIFF_EQUAL:O}},8950:v=>{"use strict";v.exports=pixelmatch;const S={threshold:.1,includeAA:false,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:false};function pixelmatch(v,Q,O,H,V,J){if(!isPixelData(v)||!isPixelData(Q)||O&&!isPixelData(O))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(v.length!==Q.length||O&&O.length!==v.length)throw new Error("Image sizes do not match.");if(v.length!==H*V*4)throw new Error("Image data size does not match width/height.");J=Object.assign({},S,J);const Y=H*V;const X=new Uint32Array(v.buffer,v.byteOffset,Y);const ee=new Uint32Array(Q.buffer,Q.byteOffset,Y);let ae=true;for(let v=0;v<Y;v++){if(X[v]!==ee[v]){ae=false;break}}if(ae){if(O&&!J.diffMask){for(let S=0;S<Y;S++)drawGrayPixel(v,4*S,J.alpha,O)}return 0}const he=35215*J.threshold*J.threshold;let Ee=0;for(let S=0;S<V;S++){for(let Y=0;Y<H;Y++){const X=(S*H+Y)*4;const ee=colorDelta(v,Q,X,X);if(Math.abs(ee)>he){if(!J.includeAA&&(antialiased(v,Y,S,H,V,Q)||antialiased(Q,Y,S,H,V,v))){if(O&&!J.diffMask)drawPixel(O,X,...J.aaColor)}else{if(O){drawPixel(O,X,...ee<0&&J.diffColorAlt||J.diffColor)}Ee++}}else if(O){if(!J.diffMask)drawGrayPixel(v,X,J.alpha,O)}}}return Ee}function isPixelData(v){return ArrayBuffer.isView(v)&&v.constructor.BYTES_PER_ELEMENT===1}function antialiased(v,S,Q,O,H,V){const J=Math.max(S-1,0);const Y=Math.max(Q-1,0);const X=Math.min(S+1,O-1);const ee=Math.min(Q+1,H-1);const ae=(Q*O+S)*4;let he=S===J||S===X||Q===Y||Q===ee?1:0;let Ee=0;let Be=0;let ke,Re,Oe,Pe;for(let H=J;H<=X;H++){for(let V=Y;V<=ee;V++){if(H===S&&V===Q)continue;const J=colorDelta(v,v,ae,(V*O+H)*4,true);if(J===0){he++;if(he>2)return false}else if(J<Ee){Ee=J;ke=H;Re=V}else if(J>Be){Be=J;Oe=H;Pe=V}}}if(Ee===0||Be===0)return false;return hasManySiblings(v,ke,Re,O,H)&&hasManySiblings(V,ke,Re,O,H)||hasManySiblings(v,Oe,Pe,O,H)&&hasManySiblings(V,Oe,Pe,O,H)}function hasManySiblings(v,S,Q,O,H){const V=Math.max(S-1,0);const J=Math.max(Q-1,0);const Y=Math.min(S+1,O-1);const X=Math.min(Q+1,H-1);const ee=(Q*O+S)*4;let ae=S===V||S===Y||Q===J||Q===X?1:0;for(let H=V;H<=Y;H++){for(let V=J;V<=X;V++){if(H===S&&V===Q)continue;const J=(V*O+H)*4;if(v[ee]===v[J]&&v[ee+1]===v[J+1]&&v[ee+2]===v[J+2]&&v[ee+3]===v[J+3])ae++;if(ae>2)return true}}return false}function colorDelta(v,S,Q,O,H){let V=v[Q+0];let J=v[Q+1];let Y=v[Q+2];let X=v[Q+3];let ee=S[O+0];let ae=S[O+1];let he=S[O+2];let Ee=S[O+3];if(X===Ee&&V===ee&&J===ae&&Y===he)return 0;if(X<255){X/=255;V=blend(V,X);J=blend(J,X);Y=blend(Y,X)}if(Ee<255){Ee/=255;ee=blend(ee,Ee);ae=blend(ae,Ee);he=blend(he,Ee)}const Be=rgb2y(V,J,Y);const ke=rgb2y(ee,ae,he);const Re=Be-ke;if(H)return Re;const Oe=rgb2i(V,J,Y)-rgb2i(ee,ae,he);const Pe=rgb2q(V,J,Y)-rgb2q(ee,ae,he);const Le=.5053*Re*Re+.299*Oe*Oe+.1957*Pe*Pe;return Be>ke?-Le:Le}function rgb2y(v,S,Q){return v*.29889531+S*.58662247+Q*.11448223}function rgb2i(v,S,Q){return v*.59597799-S*.2741761-Q*.32180189}function rgb2q(v,S,Q){return v*.21147017-S*.52261711+Q*.31114694}function blend(v,S){return 255+(v-255)*S}function drawPixel(v,S,Q,O,H){v[S+0]=Q;v[S+1]=O;v[S+2]=H;v[S+3]=255}function drawGrayPixel(v,S,Q,O){const H=v[S+0];const V=v[S+1];const J=v[S+2];const Y=blend(rgb2y(H,V,J),Q*v[S+3]/255);drawPixel(O,S,Y,Y,Y)}},1319:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.minimatch=S.mime=S.lockfile=S.jpegjs=S.getProxyForUrl=S.debug=S.colors=S.SocksProxyAgent=S.PNG=S.HttpsProxyAgent=void 0;S.ms=ms;S.open=void 0;S.parseStackTraceLine=parseStackTraceLine;S.wsServer=S.wsSender=S.wsReceiver=S.ws=S.progress=S.program=void 0;var O=_interopRequireDefault(Q(7310));var H=_interopRequireDefault(Q(1017));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const V=S.colors=Q(9025).colors;const J=S.debug=Q(9025).debug;const Y=S.getProxyForUrl=Q(9025).getProxyForUrl;const X=S.HttpsProxyAgent=Q(9025).HttpsProxyAgent;const ee=S.jpegjs=Q(9025).jpegjs;const ae=S.lockfile=Q(9025).lockfile;const he=S.mime=Q(9025).mime;const Ee=S.minimatch=Q(9025).minimatch;const Be=S.open=Q(9025).open;const ke=S.PNG=Q(9025).PNG;const Re=S.program=Q(9025).program;const Oe=S.progress=Q(9025).progress;const Pe=S.SocksProxyAgent=Q(9025).SocksProxyAgent;const Le=S.ws=Q(9025).ws;const je=S.wsServer=Q(9025).wsServer;const qe=S.wsReceiver=Q(9025).wsReceiver;const Ve=S.wsSender=Q(9025).wsSender;const ze=Q(9025).StackUtils;const $e=new ze({internals:ze.nodeInternals()});const Ye=ze.nodeInternals();const et=+process.versions.node.split(".")[0];function parseStackTraceLine(v){var S,Q;if(!process.env.PWDEBUGIMPL&&et<16&&Ye.some((S=>S.test(v))))return null;const V=$e.parseLine(v);if(!V)return null;if(!process.env.PWDEBUGIMPL&&((S=V.file)!==null&&S!==void 0&&S.startsWith("internal")||(Q=V.file)!==null&&Q!==void 0&&Q.startsWith("node:")))return null;if(!V.file)return null;const J=V.file.startsWith("file://")?O.default.fileURLToPath(V.file):H.default.resolve(process.cwd(),V.file);return{file:J,line:V.line||0,column:V.column||0,function:V.function}}function ms(v){if(!isFinite(v))return"-";if(v===0)return"0ms";if(v<1e3)return v.toFixed(0)+"ms";const S=v/1e3;if(S<60)return S.toFixed(1)+"s";const Q=S/60;if(Q<60)return Q.toFixed(1)+"m";const O=Q/60;if(O<24)return O.toFixed(1)+"h";const H=O/24;return H.toFixed(1)+"d"}},9025:(v,S,Q)=>{"use strict";var O=Object.create;var H=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var Y=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var y=(v,S)=>()=>(S||v((S={exports:{}}).exports,S),S.exports),df=(v,S)=>{for(var Q in S)H(v,Q,{get:S[Q],enumerable:!0})},Fs=(v,S,Q,O)=>{if(S&&typeof S=="object"||typeof S=="function")for(let Y of J(S))!X.call(v,Y)&&Y!==Q&&H(v,Y,{get:()=>S[Y],enumerable:!(O=V(S,Y))||O.enumerable});return v};var Te=(v,S,Q)=>(Q=v!=null?O(Y(v)):{},Fs(S||!v||!v.__esModule?H(Q,"default",{value:v,enumerable:!0}):Q,v)),mf=v=>Fs(H({},"__esModule",{value:!0}),v);var ee=y(((v,S)=>{var Q={};S.exports=Q;var O={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(O).forEach((function(v){var S=O[v],H=Q[v]=[];H.open="["+S[0]+"m",H.close="["+S[1]+"m"}))}));var ae=y(((v,S)=>{"use strict";S.exports=function(v,S){S=S||process.argv;var Q=S.indexOf("--"),O=/^-{1,2}/.test(v)?"":"--",H=S.indexOf(O+v);return H!==-1&&(Q===-1?!0:H<Q)}}));var he=y(((v,S)=>{"use strict";var O=Q(2037),H=ae(),V=process.env,J=void 0;H("no-color")||H("no-colors")||H("color=false")?J=!1:(H("color")||H("colors")||H("color=true")||H("color=always"))&&(J=!0);"FORCE_COLOR"in V&&(J=V.FORCE_COLOR.length===0||parseInt(V.FORCE_COLOR,10)!==0);function vf(v){return v===0?!1:{level:v,hasBasic:!0,has256:v>=2,has16m:v>=3}}function xf(v){if(J===!1)return 0;if(H("color=16m")||H("color=full")||H("color=truecolor"))return 3;if(H("color=256"))return 2;if(v&&!v.isTTY&&J!==!0)return 0;var S=J?1:0;if(process.platform==="win32"){var Q=O.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(Q[0])>=10&&Number(Q[2])>=10586?Number(Q[2])>=14931?3:2:1}if("CI"in V)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(v){return v in V}))||V.CI_NAME==="codeship"?1:S;if("TEAMCITY_VERSION"in V)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(V.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in V){var Y=parseInt((V.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(V.TERM_PROGRAM){case"iTerm.app":return Y>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(V.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(V.TERM)||"COLORTERM"in V?1:(V.TERM==="dumb",S)}function br(v){var S=xf(v);return vf(S)}S.exports={supportsColor:br,stdout:br(process.stdout),stderr:br(process.stderr)}}));var Ee=y(((v,S)=>{S.exports=function(v,S){var Q="";v=v||"Run the trap, drop the bass",v=v.split("");var O={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return v.forEach((function(v){v=v.toLowerCase();var S=O[v]||[" "],H=Math.floor(Math.random()*S.length);typeof O[v]!="undefined"?Q+=O[v][H]:Q+=v})),Q}}));var Be=y(((v,S)=>{S.exports=function(v,S){v=v||"   he is here   ";var Q={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},O=[].concat(Q.up,Q.down,Q.mid);function s(v){var S=Math.floor(Math.random()*v);return S}function o(v){var S=!1;return O.filter((function(Q){S=Q===v})),S}function l(v,S){var O="",H,V;S=S||{},S.up=typeof S.up!="undefined"?S.up:!0,S.mid=typeof S.mid!="undefined"?S.mid:!0,S.down=typeof S.down!="undefined"?S.down:!0,S.size=typeof S.size!="undefined"?S.size:"maxi",v=v.split("");for(V in v)if(!o(V)){switch(O=O+v[V],H={up:0,down:0,mid:0},S.size){case"mini":H.up=s(8),H.mid=s(2),H.down=s(8);break;case"maxi":H.up=s(16)+3,H.mid=s(4)+1,H.down=s(64)+3;break;default:H.up=s(8)+1,H.mid=s(6)/2,H.down=s(8)+1;break}var J=["up","mid","down"];for(var Y in J)for(var X=J[Y],ee=0;ee<=H[X];ee++)S[X]&&(O=O+Q[X][s(Q[X].length)])}return O}return l(v,S)}}));var ke=y(((v,S)=>{S.exports=function(v){return function(S,Q,O){if(S===" ")return S;switch(Q%3){case 0:return v.red(S);case 1:return v.white(S);case 2:return v.blue(S)}}}}));var Re=y(((v,S)=>{S.exports=function(v){return function(S,Q,O){return Q%2===0?S:v.inverse(S)}}}));var Oe=y(((v,S)=>{S.exports=function(v){var S=["red","yellow","green","blue","magenta"];return function(Q,O,H){return Q===" "?Q:v[S[O++%S.length]](Q)}}}));var Pe=y(((v,S)=>{S.exports=function(v){var S=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(Q,O,H){return Q===" "?Q:v[S[Math.round(Math.random()*(S.length-2))]](Q)}}}));var Le=y(((v,S)=>{var O={};S.exports=O;O.themes={};var H=Q(3837),V=O.styles=ee(),J=Object.defineProperties,Y=new RegExp(/[\r\n]+/g);O.supportsColor=he().supportsColor;typeof O.enabled=="undefined"&&(O.enabled=O.supportsColor()!==!1);O.enable=function(){O.enabled=!0};O.disable=function(){O.enabled=!1};O.stripColors=O.strip=function(v){return(""+v).replace(/\x1B\[\d+m/g,"")};var X=O.stylize=function(v,S){if(!O.enabled)return v+"";var Q=V[S];return!Q&&S in O?O[S](v):Q.open+v+Q.close},ae=/[|\\{}()[\]^$+*?.]/g,wf=function(v){if(typeof v!="string")throw new TypeError("Expected a string");return v.replace(ae,"\\$&")};function no(v){var S=function i(){return Sf.apply(i,arguments)};return S._styles=v,S.__proto__=je,S}var Le=function(){var v={};return V.grey=V.gray,Object.keys(V).forEach((function(S){V[S].closeRe=new RegExp(wf(V[S].close),"g"),v[S]={get:function(){return no(this._styles.concat(S))}}})),v}(),je=J((function(){}),Le);function Sf(){var v=Array.prototype.slice.call(arguments),S=v.map((function(v){return v!=null&&v.constructor===String?v:H.inspect(v)})).join(" ");if(!O.enabled||!S)return S;for(var Q=S.indexOf(`\n`)!=-1,J=this._styles,X=J.length;X--;){var ee=V[J[X]];S=ee.open+S.replace(ee.closeRe,ee.open)+ee.close,Q&&(S=S.replace(Y,(function(v){return ee.close+v+ee.open})))}return S}O.setTheme=function(v){if(typeof v=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var S in v)(function(S){O[S]=function(Q){if(typeof v[S]=="object"){var H=Q;for(var V in v[S])H=O[v[S][V]](H);return H}return O[v[S]](Q)}})(S)};function kf(){var v={};return Object.keys(Le).forEach((function(S){v[S]={get:function(){return no([S])}}})),v}var Cf=function(v,S){var Q=S.split("");return Q=Q.map(v),Q.join("")};O.trap=Ee();O.zalgo=Be();O.maps={};O.maps.america=ke()(O);O.maps.zebra=Re()(O);O.maps.rainbow=Oe()(O);O.maps.random=Pe()(O);for(qe in O.maps)(function(v){O[v]=function(S){return Cf(O.maps[v],S)}})(qe);var qe;J(O,kf())}));var je=y(((v,S)=>{var Q=Le();S.exports=Q}));var qe=y(((v,S)=>{var Q=1e3,O=Q*60,H=O*60,V=H*24,J=V*7,Y=V*365.25;S.exports=function(v,S){S=S||{};var Q=typeof v;if(Q==="string"&&v.length>0)return Af(v);if(Q==="number"&&isFinite(v))return S.long?Bf(v):Rf(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function Af(v){if(v=String(v),!(v.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(S){var X=parseFloat(S[1]),ee=(S[2]||"ms").toLowerCase();switch(ee){case"years":case"year":case"yrs":case"yr":case"y":return X*Y;case"weeks":case"week":case"w":return X*J;case"days":case"day":case"d":return X*V;case"hours":case"hour":case"hrs":case"hr":case"h":return X*H;case"minutes":case"minute":case"mins":case"min":case"m":return X*O;case"seconds":case"second":case"secs":case"sec":case"s":return X*Q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}}}function Rf(v){var S=Math.abs(v);return S>=V?Math.round(v/V)+"d":S>=H?Math.round(v/H)+"h":S>=O?Math.round(v/O)+"m":S>=Q?Math.round(v/Q)+"s":v+"ms"}function Bf(v){var S=Math.abs(v);return S>=V?Di(v,S,V,"day"):S>=H?Di(v,S,H,"hour"):S>=O?Di(v,S,O,"minute"):S>=Q?Di(v,S,Q,"second"):v+" ms"}function Di(v,S,Q,O){var H=S>=Q*1.5;return Math.round(v/Q)+" "+O+(H?"s":"")}}));var Ve=y(((v,S)=>{function Lf(v){i.debug=i,i.default=i,i.coerce=a,i.disable=s,i.enable=n,i.enabled=o,i.humanize=qe(),i.destroy=c,Object.keys(v).forEach((S=>{i[S]=v[S]})),i.names=[],i.skips=[],i.formatters={};function e(v){let S=0;for(let Q=0;Q<v.length;Q++)S=(S<<5)-S+v.charCodeAt(Q),S|=0;return i.colors[Math.abs(S)%i.colors.length]}i.selectColor=e;function i(v){let S,Q=null,O,H;function m(...v){if(!m.enabled)return;let Q=m,O=Number(new Date),H=O-(S||O);Q.diff=H,Q.prev=S,Q.curr=O,S=O,v[0]=i.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let V=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,((S,O)=>{if(S==="%%")return"%";V++;let H=i.formatters[O];if(typeof H=="function"){let O=v[V];S=H.call(Q,O),v.splice(V,1),V--}return S})),i.formatArgs.call(Q,v),(Q.log||i.log).apply(Q,v)}return m.namespace=v,m.useColors=i.useColors(),m.color=i.selectColor(v),m.extend=r,m.destroy=i.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>Q!==null?Q:(O!==i.namespaces&&(O=i.namespaces,H=i.enabled(v)),H),set:v=>{Q=v}}),typeof i.init=="function"&&i.init(m),m}function r(v,S){let Q=i(this.namespace+(typeof S=="undefined"?":":S)+v);return Q.log=this.log,Q}function n(v){i.save(v),i.namespaces=v,i.names=[],i.skips=[];let S,Q=(typeof v=="string"?v:"").split(/[\s,]+/),O=Q.length;for(S=0;S<O;S++)Q[S]&&(v=Q[S].replace(/\*/g,".*?"),v[0]==="-"?i.skips.push(new RegExp("^"+v.slice(1)+"$")):i.names.push(new RegExp("^"+v+"$")))}function s(){let v=[...i.names.map(l),...i.skips.map(l).map((v=>"-"+v))].join(",");return i.enable(""),v}function o(v){if(v[v.length-1]==="*")return!0;let S,Q;for(S=0,Q=i.skips.length;S<Q;S++)if(i.skips[S].test(v))return!1;for(S=0,Q=i.names.length;S<Q;S++)if(i.names[S].test(v))return!0;return!1}function l(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function a(v){return v instanceof Error?v.stack||v.message:v}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}S.exports=Lf}));var ze=y(((v,S)=>{v.formatArgs=Ff;v.save=Nf;v.load=Mf;v.useColors=Pf;v.storage=Uf();v.destroy=(()=>{let v=!1;return()=>{v||(v=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();v.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Pf(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ff(v){if(v[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+v[0]+(this.useColors?"%c ":" ")+"+"+S.exports.humanize(this.diff),!this.useColors)return;let Q="color: "+this.color;v.splice(1,0,Q,"color: inherit");let O=0,H=0;v[0].replace(/%[a-zA-Z%]/g,(v=>{v!=="%%"&&(O++,v==="%c"&&(H=O))})),v.splice(H,0,Q)}v.log=console.debug||console.log||(()=>{});function Nf(S){try{S?v.storage.setItem("debug",S):v.storage.removeItem("debug")}catch{}}function Mf(){let S;try{S=v.storage.getItem("debug")}catch{}return!S&&typeof process!="undefined"&&"env"in process&&(S=process.env.DEBUG),S}function Uf(){try{return localStorage}catch{}}S.exports=Ve()(v);var{formatters:Q}=S.exports;Q.j=function(v){try{return JSON.stringify(v)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}));var $e=y(((v,S)=>{"use strict";S.exports=(v,S)=>{S=S||process.argv;let Q=v.startsWith("-")?"":v.length===1?"-":"--",O=S.indexOf(Q+v),H=S.indexOf("--");return O!==-1&&(H===-1?!0:O<H)}}));var Ye=y(((v,S)=>{"use strict";var O=Q(2037),H=$e(),V=process.env,J;H("no-color")||H("no-colors")||H("color=false")?J=!1:(H("color")||H("colors")||H("color=true")||H("color=always"))&&(J=!0);"FORCE_COLOR"in V&&(J=V.FORCE_COLOR.length===0||parseInt(V.FORCE_COLOR,10)!==0);function qf(v){return v===0?!1:{level:v,hasBasic:!0,has256:v>=2,has16m:v>=3}}function Hf(v){if(J===!1)return 0;if(H("color=16m")||H("color=full")||H("color=truecolor"))return 3;if(H("color=256"))return 2;if(v&&!v.isTTY&&J!==!0)return 0;let S=J?1:0;if(process.platform==="win32"){let v=O.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(v[0])>=10&&Number(v[2])>=10586?Number(v[2])>=14931?3:2:1}if("CI"in V)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((v=>v in V))||V.CI_NAME==="codeship"?1:S;if("TEAMCITY_VERSION"in V)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(V.TEAMCITY_VERSION)?1:0;if(V.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in V){let v=parseInt((V.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(V.TERM_PROGRAM){case"iTerm.app":return v>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(V.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(V.TERM)||"COLORTERM"in V?1:(V.TERM==="dumb",S)}function Er(v){let S=Hf(v);return qf(S)}S.exports={supportsColor:Er,stdout:Er(process.stdout),stderr:Er(process.stderr)}}));var et=y(((v,S)=>{var O=Q(6224),H=Q(3837);v.init=Zf;v.log=Wf;v.formatArgs=Gf;v.save=Yf;v.load=Kf;v.useColors=$f;v.destroy=H.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");v.colors=[6,2,3,4,5,1];try{let S=Ye();S&&(S.stderr||S).level>=2&&(v.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}v.inspectOpts=Object.keys(process.env).filter((v=>/^debug_/i.test(v))).reduce(((v,S)=>{let Q=S.substring(6).toLowerCase().replace(/_([a-z])/g,((v,S)=>S.toUpperCase())),O=process.env[S];return/^(yes|on|true|enabled)$/i.test(O)?O=!0:/^(no|off|false|disabled)$/i.test(O)?O=!1:O==="null"?O=null:O=Number(O),v[Q]=O,v}),{});function $f(){return"colors"in v.inspectOpts?!!v.inspectOpts.colors:O.isatty(process.stderr.fd)}function Gf(v){let{namespace:Q,useColors:O}=this;if(O){let O=this.color,H="[3"+(O<8?O:"8;5;"+O),V=`  ${H};1m${Q} [0m`;v[0]=V+v[0].split(`\n`).join(`\n`+V),v.push(H+"m+"+S.exports.humanize(this.diff)+"[0m")}else v[0]=zf()+Q+" "+v[0]}function zf(){return v.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function Wf(...v){return process.stderr.write(H.format(...v)+`\n`)}function Yf(v){v?process.env.DEBUG=v:delete process.env.DEBUG}function Kf(){return process.env.DEBUG}function Zf(S){S.inspectOpts={};let Q=Object.keys(v.inspectOpts);for(let O=0;O<Q.length;O++)S.inspectOpts[Q[O]]=v.inspectOpts[Q[O]]}S.exports=Ve()(v);var{formatters:V}=S.exports;V.o=function(v){return this.inspectOpts.colors=this.useColors,H.inspect(v,this.inspectOpts).split(`\n`).map((v=>v.trim())).join(" ")};V.O=function(v){return this.inspectOpts.colors=this.useColors,H.inspect(v,this.inspectOpts)}}));var tt=y(((v,S)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?S.exports=ze():S.exports=et()}));var nt=y((v=>{"use strict";var S=Q(7310).parse,O={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},H=String.prototype.endsWith||function(v){return v.length<=this.length&&this.indexOf(v,this.length-v.length)!==-1};function eh(v){var Q=typeof v=="string"?S(v):v||{},H=Q.protocol,V=Q.host,J=Q.port;if(typeof V!="string"||!V||typeof H!="string"||(H=H.split(":",1)[0],V=V.replace(/:\d*$/,""),J=parseInt(J)||O[H]||0,!th(V,J)))return"";var Y=Vt("npm_config_"+H+"_proxy")||Vt(H+"_proxy")||Vt("npm_config_proxy")||Vt("all_proxy");return Y&&Y.indexOf("://")===-1&&(Y=H+"://"+Y),Y}function th(v,S){var Q=(Vt("npm_config_no_proxy")||Vt("no_proxy")).toLowerCase();return Q?Q==="*"?!1:Q.split(/[,\s]/).every((function(Q){if(!Q)return!0;var O=Q.match(/^(.+):(\d+)$/),V=O?O[1]:Q,J=O?parseInt(O[2]):0;return J&&J!==S?!0:/^[.*]/.test(V)?(V.charAt(0)==="*"&&(V=V.slice(1)),!H.call(v,V)):v!==V})):!0}function Vt(v){return process.env[v.toLowerCase()]||process.env[v.toUpperCase()]||""}v.getProxyForUrl=eh}));var it=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});function ih(v){return function(S,Q){return new Promise(((O,H)=>{v.call(this,S,Q,((v,S)=>{v?H(v):O(S)}))}))}}v.default=ih}));var st=y(((v,S)=>{"use strict";var O=v&&v.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},H=Q(2361),V=O(tt()),J=O(it()),Y=V.default("agent-base");function oh(v){return!!v&&typeof v.addRequest=="function"}function Cr(){let{stack:v}=new Error;return typeof v!="string"?!1:v.split(`\n`).some((v=>v.indexOf("(https.js:")!==-1||v.indexOf("node:https:")!==-1))}function Vi(v,S){return new Vi.Agent(v,S)}(function(v){class e extends H.EventEmitter{constructor(v,S){super();let Q=S;typeof v=="function"?this.callback=v:v&&(Q=v),this.timeout=null,Q&&typeof Q.timeout=="number"&&(this.timeout=Q.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Cr()?443:80}set defaultPort(v){this.explicitDefaultPort=v}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Cr()?"https:":"http:"}set protocol(v){this.explicitProtocol=v}callback(v,S,Q){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(v,S){let Q=Object.assign({},S);typeof Q.secureEndpoint!="boolean"&&(Q.secureEndpoint=Cr()),Q.host==null&&(Q.host="localhost"),Q.port==null&&(Q.port=Q.secureEndpoint?443:80),Q.protocol==null&&(Q.protocol=Q.secureEndpoint?"https:":"http:"),Q.host&&Q.path&&delete Q.path,delete Q.agent,delete Q.hostname,delete Q._defaultAgent,delete Q.defaultPort,delete Q.createConnection,v._last=!0,v.shouldKeepAlive=!1;let O=!1,H=null,V=Q.timeout||this.timeout,c=S=>{v._hadError||(v.emit("error",S),v._hadError=!0)},u=()=>{H=null,O=!0;let v=new Error(`A "socket" was not created for HTTP request before ${V}ms`);v.code="ETIMEOUT",c(v)},f=v=>{O||(H!==null&&(clearTimeout(H),H=null),c(v))},h=S=>{if(O)return;if(H!=null&&(clearTimeout(H),H=null),oh(S)){Y("Callback returned another Agent instance %o",S.constructor.name),S.addRequest(v,Q);return}if(S){S.once("free",(()=>{this.freeSocket(S,Q)})),v.onSocket(S);return}let V=new Error(`no Duplex stream was returned to agent-base for \`${v.method} ${v.path}\``);c(V)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Y("Converting legacy callback function to promise"),this.promisifiedCallback=J.default(this.callback)):this.promisifiedCallback=this.callback),typeof V=="number"&&V>0&&(H=setTimeout(u,V)),"port"in Q&&typeof Q.port!="number"&&(Q.port=Number(Q.port));try{Y("Resolving socket for %o request: %o",Q.protocol,`${v.method} ${v.path}`),Promise.resolve(this.promisifiedCallback(v,Q)).then(h,f)}catch(v){Promise.reject(v).catch(f)}}freeSocket(v,S){Y("Freeing socket %o %o",v.constructor.name,S),v.destroy()}destroy(){Y("Destroying agent %o",this.constructor.name)}}v.Agent=e,v.prototype=v.Agent.prototype})(Vi||(Vi={}));S.exports=Vi}));var at=y((v=>{"use strict";var S=v&&v.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(v,"__esModule",{value:!0});var Q=S(tt()),O=Q.default("https-proxy-agent:parse-proxy-response");function ch(v){return new Promise(((S,Q)=>{let H=0,V=[];function s(){let S=v.read();S?u(S):v.once("readable",s)}function o(){v.removeListener("end",a),v.removeListener("error",c),v.removeListener("close",l),v.removeListener("readable",s)}function l(v){O("onclose had error %o",v)}function a(){O("onend")}function c(v){o(),O("onerror %o",v),Q(v)}function u(v){V.push(v),H+=v.length;let Q=Buffer.concat(V,H);if(Q.indexOf(`\r\n\r\n`)===-1){O("have not received end of HTTP headers yet..."),s();return}let J=Q.toString("ascii",0,Q.indexOf(`\r\n`)),Y=+J.split(" ")[1];O("got proxy server response: %o",J),S({statusCode:Y,buffered:Q})}v.on("error",c),v.on("close",l),v.on("end",a),s()}))}v.default=ch}));var lt=y((v=>{"use strict";var S=v&&v.__awaiter||function(v,S,Q,O){function n(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function l(v){try{c(O.next(v))}catch(v){H(v)}}function a(v){try{c(O.throw(v))}catch(v){H(v)}}function c(v){v.done?Q(v.value):n(v.value).then(l,a)}c((O=O.apply(v,S||[])).next())}))},O=v&&v.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(v,"__esModule",{value:!0});var H=O(Q(1808)),V=O(Q(4404)),J=O(Q(7310)),Y=O(Q(9491)),X=O(tt()),ee=st(),ae=O(at()),he=X.default("https-proxy-agent:agent"),Ee=class extends ee.Agent{constructor(v){let S;if(typeof v=="string"?S=J.default.parse(v):S=v,!S)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");he("creating new HttpsProxyAgent instance: %o",S),super(S);let Q=Object.assign({},S);this.secureProxy=S.secureProxy||xh(Q.protocol),Q.host=Q.hostname||Q.host,typeof Q.port=="string"&&(Q.port=parseInt(Q.port,10)),!Q.port&&Q.host&&(Q.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in Q)&&(Q.ALPNProtocols=["http 1.1"]),Q.host&&Q.path&&(delete Q.path,delete Q.pathname),this.proxy=Q}callback(v,Q){return S(this,void 0,void 0,(function*(){let{proxy:S,secureProxy:O}=this,J;O?(he("Creating `tls.Socket`: %o",S),J=V.default.connect(S)):(he("Creating `net.Socket`: %o",S),J=H.default.connect(S));let X=Object.assign({},S.headers),ee=`CONNECT ${`${Q.host}:${Q.port}`} HTTP/1.1\r\n`;S.auth&&(X["Proxy-Authorization"]=`Basic ${Buffer.from(S.auth).toString("base64")}`);let{host:Ee,port:Be,secureEndpoint:ke}=Q;vh(Be,ke)||(Ee+=`:${Be}`),X.Host=Ee,X.Connection="close";for(let v of Object.keys(X))ee+=`${v}: ${X[v]}\r\n`;let Re=ae.default(J);J.write(`${ee}\r\n`);let{statusCode:Oe,buffered:Pe}=yield Re;if(Oe===200){if(v.once("socket",gh),Q.secureEndpoint){let v=Q.servername||Q.host;if(!v)throw new Error('Could not determine "servername"');return he("Upgrading socket connection to TLS"),V.default.connect(Object.assign(Object.assign({},_h(Q,"host","hostname","path","port")),{socket:J,servername:v}))}return J}J.destroy();let Le=new H.default.Socket;return Le.readable=!0,v.once("socket",(v=>{he("replaying proxy buffer for failed request"),Y.default(v.listenerCount("data")>0),v.push(Pe),v.push(null)})),Le}))}};v.default=Ee;function gh(v){v.resume()}function vh(v,S){return!!(!S&&v===80||S&&v===443)}function xh(v){return typeof v=="string"?/^https:?$/i.test(v):!1}function _h(v,...S){let Q={},O;for(O in v)S.includes(O)||(Q[O]=v[O]);return Q}}));var ct=y(((v,S)=>{"use strict";var Q=v&&v.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},O=Q(lt());function Rr(v){return new O.default(v)}(function(v){v.HttpsProxyAgent=O.default,v.prototype=O.default.prototype})(Rr||(Rr={}));S.exports=Rr}));var ut=y(((v,S)=>{var Q=Q||function(v){return Buffer.from(v).toString("base64")};function bh(v){var Q=this,O=Math.round,H=Math.floor,V=new Array(64),J=new Array(64),Y=new Array(64),X=new Array(64),ee,ae,he,Ee,Be=new Array(65535),ke=new Array(65535),Re=new Array(64),Oe=new Array(64),Pe=[],Le=0,je=7,qe=new Array(64),Ve=new Array(64),ze=new Array(64),$e=new Array(256),Ye=new Array(2048),et,tt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],nt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],it=[0,1,2,3,4,5,6,7,8,9,10,11],st=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],lt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ct=[0,1,2,3,4,5,6,7,8,9,10,11],ut=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(v){for(var S=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var O=H((S[Q]*v+50)/100);O<1?O=1:O>255&&(O=255),V[tt[Q]]=O}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var he=H((ee[ae]*v+50)/100);he<1?he=1:he>255&&(he=255),J[tt[ae]]=he}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,ke=0;ke<8;ke++)for(var Re=0;Re<8;Re++)Y[Be]=1/(V[tt[Be]]*Ee[ke]*Ee[Re]*8),X[Be]=1/(J[tt[Be]]*Ee[ke]*Ee[Re]*8),Be++}function P(v,S){for(var Q=0,O=0,H=new Array,V=1;V<=16;V++){for(var J=1;J<=v[V];J++)H[S[O]]=[],H[S[O]][0]=Q,H[S[O]][1]=V,O++,Q++;Q*=2}return H}function be(){ee=P(nt,it),ae=P(lt,ct),he=P(st,at),Ee=P(ut,dt)}function le(){for(var v=1,S=2,Q=1;Q<=15;Q++){for(var O=v;O<S;O++)ke[32767+O]=Q,Be[32767+O]=[],Be[32767+O][1]=Q,Be[32767+O][0]=O;for(var H=-(S-1);H<=-v;H++)ke[32767+H]=Q,Be[32767+H]=[],Be[32767+H][1]=Q,Be[32767+H][0]=S-1+H;v<<=1,S<<=1}}function ie(){for(var v=0;v<256;v++)Ye[v]=19595*v,Ye[v+256>>0]=38470*v,Ye[v+512>>0]=7471*v+32768,Ye[v+768>>0]=-11059*v,Ye[v+1024>>0]=-21709*v,Ye[v+1280>>0]=32768*v+8421375,Ye[v+1536>>0]=-27439*v,Ye[v+1792>>0]=-5329*v}function re(v){for(var S=v[0],Q=v[1]-1;Q>=0;)S&1<<Q&&(Le|=1<<je),Q--,je--,je<0&&(Le==255?(x(255),x(0)):x(Le),je=7,Le=0)}function x(v){Pe.push(v)}function q(v){x(v>>8&255),x(v&255)}function de(v,S){var Q,O,H,V,J,Y,X,ee,ae=0,he,Ee=8,Be=64;for(he=0;he<Ee;++he){Q=v[ae],O=v[ae+1],H=v[ae+2],V=v[ae+3],J=v[ae+4],Y=v[ae+5],X=v[ae+6],ee=v[ae+7];var ke=Q+ee,Oe=Q-ee,Pe=O+X,Le=O-X,je=H+Y,qe=H-Y,Ve=V+J,ze=V-J,$e=ke+Ve,Ye=ke-Ve,et=Pe+je,tt=Pe-je;v[ae]=$e+et,v[ae+4]=$e-et;var nt=(tt+Ye)*.707106781;v[ae+2]=Ye+nt,v[ae+6]=Ye-nt,$e=ze+qe,et=qe+Le,tt=Le+Oe;var it=($e-tt)*.382683433,st=.5411961*$e+it,at=1.306562965*tt+it,lt=et*.707106781,ct=Oe+lt,ut=Oe-lt;v[ae+5]=ut+st,v[ae+3]=ut-st,v[ae+1]=ct+at,v[ae+7]=ct-at,ae+=8}for(ae=0,he=0;he<Ee;++he){Q=v[ae],O=v[ae+8],H=v[ae+16],V=v[ae+24],J=v[ae+32],Y=v[ae+40],X=v[ae+48],ee=v[ae+56];var dt=Q+ee,ht=Q-ee,At=O+X,pt=O-X,mt=H+Y,Ct=H-Y,_t=V+J,yt=V-J,vt=dt+_t,It=dt-_t,xt=At+mt,Tt=At-mt;v[ae]=vt+xt,v[ae+32]=vt-xt;var Rt=(Tt+It)*.707106781;v[ae+16]=It+Rt,v[ae+48]=It-Rt,vt=yt+Ct,xt=Ct+pt,Tt=pt+ht;var Nt=(vt-Tt)*.382683433,Mt=.5411961*vt+Nt,jt=1.306562965*Tt+Nt,Jt=xt*.707106781,sn=ht+Jt,ln=ht-Jt;v[ae+40]=ln+Mt,v[ae+24]=ln-Mt,v[ae+8]=sn+jt,v[ae+56]=sn-jt,ae++}var cn;for(he=0;he<Be;++he)cn=v[he]*S[he],Re[he]=cn>0?cn+.5|0:cn-.5|0;return Re}function me(){q(65504),q(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),q(1),q(1),x(0),x(0)}function ce(v){if(v){q(65505),v[0]===69&&v[1]===120&&v[2]===105&&v[3]===102?q(v.length+2):(q(v.length+5+2),x(69),x(120),x(105),x(102),x(0));for(var S=0;S<v.length;S++)x(v[S])}}function ue(v,S){q(65472),q(17),x(8),q(S),q(v),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}function ne(){q(65499),q(132),x(0);for(var v=0;v<64;v++)x(V[v]);x(1);for(var S=0;S<64;S++)x(J[S])}function F(){q(65476),q(418),x(0);for(var v=0;v<16;v++)x(nt[v+1]);for(var S=0;S<=11;S++)x(it[S]);x(16);for(var Q=0;Q<16;Q++)x(st[Q+1]);for(var O=0;O<=161;O++)x(at[O]);x(1);for(var H=0;H<16;H++)x(lt[H+1]);for(var V=0;V<=11;V++)x(ct[V]);x(17);for(var J=0;J<16;J++)x(ut[J+1]);for(var Y=0;Y<=161;Y++)x(dt[Y])}function A(v){typeof v=="undefined"||v.constructor!==Array||v.forEach((v=>{if(typeof v=="string"){q(65534);var S=v.length;q(S+2);var Q;for(Q=0;Q<S;Q++)x(v.charCodeAt(Q))}}))}function ve(){q(65498),q(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0)}function K(v,S,Q,O,H){for(var V=H[0],J=H[240],Y,X=16,ee=63,ae=64,he=de(v,S),Ee=0;Ee<ae;++Ee)Oe[tt[Ee]]=he[Ee];var Re=Oe[0]-Q;Q=Oe[0],Re==0?re(O[0]):(Y=32767+Re,re(O[ke[Y]]),re(Be[Y]));for(var Pe=63;Pe>0&&Oe[Pe]==0;Pe--);if(Pe==0)return re(V),Q;for(var Le=1,je;Le<=Pe;){for(var qe=Le;Oe[Le]==0&&Le<=Pe;++Le);var Ve=Le-qe;if(Ve>=X){je=Ve>>4;for(var ze=1;ze<=je;++ze)re(J);Ve=Ve&15}Y=32767+Oe[Le],re(H[(Ve<<4)+ke[Y]]),re(Be[Y]),Le++}return Pe!=ee&&re(V),Q}function se(){for(var v=String.fromCharCode,S=0;S<256;S++)$e[S]=v(S)}this.encode=function(v,Q){var O=(new Date).getTime();Q&&We(Q),Pe=new Array,Le=0,je=7,q(65496),me(),A(v.comments),ce(v.exifBuffer),ne(),ue(v.width,v.height),F(),ve();var H=0,V=0,J=0;Le=0,je=7,this.encode.displayName="_encode_";for(var Be=v.data,ke=v.width,Re=v.height,Oe=ke*4,$e=ke*3,et,tt=0,nt,it,st,at,lt,ct,ut,dt;tt<Re;){for(et=0;et<Oe;){for(at=Oe*tt+et,lt=at,ct=-1,ut=0,dt=0;dt<64;dt++)ut=dt>>3,ct=(dt&7)*4,lt=at+ut*Oe+ct,tt+ut>=Re&&(lt-=Oe*(tt+1+ut-Re)),et+ct>=Oe&&(lt-=et+ct-Oe+4),nt=Be[lt++],it=Be[lt++],st=Be[lt++],qe[dt]=(Ye[nt]+Ye[it+256>>0]+Ye[st+512>>0]>>16)-128,Ve[dt]=(Ye[nt+768>>0]+Ye[it+1024>>0]+Ye[st+1280>>0]>>16)-128,ze[dt]=(Ye[nt+1280>>0]+Ye[it+1536>>0]+Ye[st+1792>>0]>>16)-128;H=K(qe,Y,H,ee,he),V=K(Ve,X,V,ae,Ee),J=K(ze,X,J,ae,Ee),et+=32}tt+=8}if(je>=0){var ht=[];ht[1]=je+1,ht[0]=(1<<je+1)-1,re(ht)}if(q(65497),typeof S=="undefined")return new Uint8Array(Pe);return Buffer.from(Pe);var At,pt};function We(v){if(v<=0&&(v=1),v>100&&(v=100),et!=v){var S=0;v<50?S=Math.floor(5e3/v):S=Math.floor(200-v*2),z(S),et=v}}function Je(){var S=(new Date).getTime();v||(v=50),se(),be(),le(),ie(),We(v);var Q=(new Date).getTime()-S}Je()}typeof S!="undefined"?S.exports=Bo:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=Bo);function Bo(v,S){typeof S=="undefined"&&(S=50);var Q=new bh(S),O=Q.encode(v,S);return{data:O,width:v.width,height:v.height}}}));var dt=y(((v,S)=>{var Q=function(){"use strict";var v=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),S=4017,Q=799,O=3406,H=2276,V=1567,J=3784,Y=5793,X=2896;function u(){}function f(v,S){for(var Q=0,O=[],H,V,J=16;J>0&&!v[J-1];)J--;O.push({children:[],index:0});var Y=O[0],X;for(H=0;H<J;H++){for(V=0;V<v[H];V++){for(Y=O.pop(),Y.children[Y.index]=S[Q];Y.index>0;){if(O.length===0)throw new Error("Could not recreate Huffman Table");Y=O.pop()}for(Y.index++,O.push(Y);O.length<=H;)O.push(X={children:[],index:0}),Y.children[Y.index]=X.children,Y=X;Q++}H+1<J&&(O.push(X={children:[],index:0}),Y.children[Y.index]=X.children,Y=X)}return O[0].children}function h(S,Q,O,H,V,J,Y,X,ee,ae){var he=O.precision,Ee=O.samplesPerLine,Be=O.scanLines,ke=O.mcusPerLine,Re=O.progressive,Oe=O.maxH,Pe=O.maxV,Le=Q,je=0,qe=0;function ie(){if(qe>0)return qe--,je>>qe&1;if(je=S[Q++],je==255){var v=S[Q++];if(v)throw new Error("unexpected marker: "+(je<<8|v).toString(16))}return qe=7,je>>>7}function re(v){for(var S=v,Q;(Q=ie())!==null;){if(S=S[Q],typeof S=="number")return S;if(typeof S!="object")throw new Error("invalid huffman sequence")}return null}function x(v){for(var S=0;v>0;){var Q=ie();if(Q===null)return;S=S<<1|Q,v--}return S}function q(v){var S=x(v);return S>=1<<v-1?S:S+(-1<<v)+1}function de(S,Q){var O=re(S.huffmanTableDC),H=O===0?0:q(O);Q[0]=S.pred+=H;for(var V=1;V<64;){var J=re(S.huffmanTableAC),Y=J&15,X=J>>4;if(Y===0){if(X<15)break;V+=16;continue}V+=X;var ee=v[V];Q[ee]=q(Y),V++}}function me(v,S){var Q=re(v.huffmanTableDC),O=Q===0?0:q(Q)<<ee;S[0]=v.pred+=O}function ce(v,S){S[0]|=ie()<<ee}var Ve=0;function ne(S,Q){if(Ve>0){Ve--;return}for(var O=J,H=Y;O<=H;){var V=re(S.huffmanTableAC),X=V&15,ae=V>>4;if(X===0){if(ae<15){Ve=x(ae)+(1<<ae)-1;break}O+=16;continue}O+=ae;var he=v[O];Q[he]=q(X)*(1<<ee),O++}}var ze=0,$e;function ve(S,Q){for(var O=J,H=Y,V=0;O<=H;){var X=v[O],ae=Q[X]<0?-1:1;switch(ze){case 0:var he=re(S.huffmanTableAC),Ee=he&15,V=he>>4;if(Ee===0)V<15?(Ve=x(V)+(1<<V),ze=4):(V=16,ze=1);else{if(Ee!==1)throw new Error("invalid ACn encoding");$e=q(Ee),ze=V?2:3}continue;case 1:case 2:Q[X]?Q[X]+=(ie()<<ee)*ae:(V--,V===0&&(ze=ze==2?3:0));break;case 3:Q[X]?Q[X]+=(ie()<<ee)*ae:(Q[X]=$e<<ee,ze=0);break;case 4:Q[X]&&(Q[X]+=(ie()<<ee)*ae);break}O++}ze===4&&(Ve--,Ve===0&&(ze=0))}function K(v,S,Q,O,H){var V=Q/ke|0,J=Q%ke,Y=V*v.v+O,X=J*v.h+H;v.blocks[Y]===void 0&&ae.tolerantDecoding||S(v,v.blocks[Y][X])}function se(v,S,Q){var O=Q/v.blocksPerLine|0,H=Q%v.blocksPerLine;v.blocks[O]===void 0&&ae.tolerantDecoding||S(v,v.blocks[O][H])}var Ye=H.length,et,tt,nt,it,st,at;Re?J===0?at=X===0?me:ce:at=X===0?ne:ve:at=de;var lt=0,ct,ut;Ye==1?ut=H[0].blocksPerLine*H[0].blocksPerColumn:ut=ke*O.mcusPerColumn,V||(V=ut);for(var dt,ht;lt<ut;){for(tt=0;tt<Ye;tt++)H[tt].pred=0;if(Ve=0,Ye==1)for(et=H[0],st=0;st<V;st++)se(et,at,lt),lt++;else for(st=0;st<V;st++){for(tt=0;tt<Ye;tt++)for(et=H[tt],dt=et.h,ht=et.v,nt=0;nt<ht;nt++)for(it=0;it<dt;it++)K(et,at,lt,nt,it);if(lt++,lt===ut)break}if(lt===ut)do{if(S[Q]===255&&S[Q+1]!==0)break;Q+=1}while(Q<S.length-2);if(qe=0,ct=S[Q]<<8|S[Q+1],ct<65280)throw new Error("marker was not found");if(ct>=65488&&ct<=65495)Q+=2;else break}return Q-Le}function p(v,ee){var ae=[],he=ee.blocksPerLine,Ee=ee.blocksPerColumn,Be=he<<3,ke=new Int32Array(64),Re=new Uint8Array(64);function T(v,ae,he){var Ee=ee.quantizationTable,Be,ke,Re,Oe,Pe,Le,je,qe,Ve,ze=he,$e;for($e=0;$e<64;$e++)ze[$e]=v[$e]*Ee[$e];for($e=0;$e<8;++$e){var Ye=8*$e;if(ze[1+Ye]==0&&ze[2+Ye]==0&&ze[3+Ye]==0&&ze[4+Ye]==0&&ze[5+Ye]==0&&ze[6+Ye]==0&&ze[7+Ye]==0){Ve=Y*ze[0+Ye]+512>>10,ze[0+Ye]=Ve,ze[1+Ye]=Ve,ze[2+Ye]=Ve,ze[3+Ye]=Ve,ze[4+Ye]=Ve,ze[5+Ye]=Ve,ze[6+Ye]=Ve,ze[7+Ye]=Ve;continue}Be=Y*ze[0+Ye]+128>>8,ke=Y*ze[4+Ye]+128>>8,Re=ze[2+Ye],Oe=ze[6+Ye],Pe=X*(ze[1+Ye]-ze[7+Ye])+128>>8,qe=X*(ze[1+Ye]+ze[7+Ye])+128>>8,Le=ze[3+Ye]<<4,je=ze[5+Ye]<<4,Ve=Be-ke+1>>1,Be=Be+ke+1>>1,ke=Ve,Ve=Re*J+Oe*V+128>>8,Re=Re*V-Oe*J+128>>8,Oe=Ve,Ve=Pe-je+1>>1,Pe=Pe+je+1>>1,je=Ve,Ve=qe+Le+1>>1,Le=qe-Le+1>>1,qe=Ve,Ve=Be-Oe+1>>1,Be=Be+Oe+1>>1,Oe=Ve,Ve=ke-Re+1>>1,ke=ke+Re+1>>1,Re=Ve,Ve=Pe*H+qe*O+2048>>12,Pe=Pe*O-qe*H+2048>>12,qe=Ve,Ve=Le*Q+je*S+2048>>12,Le=Le*S-je*Q+2048>>12,je=Ve,ze[0+Ye]=Be+qe,ze[7+Ye]=Be-qe,ze[1+Ye]=ke+je,ze[6+Ye]=ke-je,ze[2+Ye]=Re+Le,ze[5+Ye]=Re-Le,ze[3+Ye]=Oe+Pe,ze[4+Ye]=Oe-Pe}for($e=0;$e<8;++$e){var et=$e;if(ze[8+et]==0&&ze[16+et]==0&&ze[24+et]==0&&ze[32+et]==0&&ze[40+et]==0&&ze[48+et]==0&&ze[56+et]==0){Ve=Y*he[$e+0]+8192>>14,ze[0+et]=Ve,ze[8+et]=Ve,ze[16+et]=Ve,ze[24+et]=Ve,ze[32+et]=Ve,ze[40+et]=Ve,ze[48+et]=Ve,ze[56+et]=Ve;continue}Be=Y*ze[0+et]+2048>>12,ke=Y*ze[32+et]+2048>>12,Re=ze[16+et],Oe=ze[48+et],Pe=X*(ze[8+et]-ze[56+et])+2048>>12,qe=X*(ze[8+et]+ze[56+et])+2048>>12,Le=ze[24+et],je=ze[40+et],Ve=Be-ke+1>>1,Be=Be+ke+1>>1,ke=Ve,Ve=Re*J+Oe*V+2048>>12,Re=Re*V-Oe*J+2048>>12,Oe=Ve,Ve=Pe-je+1>>1,Pe=Pe+je+1>>1,je=Ve,Ve=qe+Le+1>>1,Le=qe-Le+1>>1,qe=Ve,Ve=Be-Oe+1>>1,Be=Be+Oe+1>>1,Oe=Ve,Ve=ke-Re+1>>1,ke=ke+Re+1>>1,Re=Ve,Ve=Pe*H+qe*O+2048>>12,Pe=Pe*O-qe*H+2048>>12,qe=Ve,Ve=Le*Q+je*S+2048>>12,Le=Le*S-je*Q+2048>>12,je=Ve,ze[0+et]=Be+qe,ze[56+et]=Be-qe,ze[8+et]=ke+je,ze[48+et]=ke-je,ze[16+et]=Re+Le,ze[40+et]=Re-Le,ze[24+et]=Oe+Pe,ze[32+et]=Oe-Pe}for($e=0;$e<64;++$e){var tt=128+(ze[$e]+8>>4);ae[$e]=tt<0?0:tt>255?255:tt}}E(Be*Ee*8);for(var Oe,Pe,Le=0;Le<Ee;Le++){var je=Le<<3;for(Oe=0;Oe<8;Oe++)ae.push(new Uint8Array(Be));for(var qe=0;qe<he;qe++){T(ee.blocks[Le][qe],Re,ke);var Ve=0,ze=qe<<3;for(Pe=0;Pe<8;Pe++){var $e=ae[je+Pe];for(Oe=0;Oe<8;Oe++)$e[ze+Oe]=Re[Ve++]}}}return ae}function d(v){return v<0?0:v>255?255:v}u.prototype={load:function(v){var S=new XMLHttpRequest;S.open("GET",v,!0),S.responseType="arraybuffer",S.onload=function(){var v=new Uint8Array(S.response||S.mozResponseArrayBuffer);this.parse(v),this.onload&&this.onload()}.bind(this),S.send(null)},parse:function(S){var Q=this.opts.maxResolutionInMP*1e3*1e3,O=0,H=S.length;function k(){var v=S[O]<<8|S[O+1];return O+=2,v}function U(){var v=k(),Q=S.subarray(O,O+v-2);return O+=Q.length,Q}function b(v){var S=1,Q=1,O,H;for(H in v.components)v.components.hasOwnProperty(H)&&(O=v.components[H],S<O.h&&(S=O.h),Q<O.v&&(Q=O.v));var V=Math.ceil(v.samplesPerLine/8/S),J=Math.ceil(v.scanLines/8/Q);for(H in v.components)if(v.components.hasOwnProperty(H)){O=v.components[H];var Y=Math.ceil(Math.ceil(v.samplesPerLine/8)*O.h/S),X=Math.ceil(Math.ceil(v.scanLines/8)*O.v/Q),ee=V*O.h,ae=J*O.v,he=ae*ee,Ee=[];E(he*256);for(var Be=0;Be<ae;Be++){for(var ke=[],Re=0;Re<ee;Re++)ke.push(new Int32Array(64));Ee.push(ke)}O.blocksPerLine=Y,O.blocksPerColumn=X,O.blocks=Ee}v.maxH=S,v.maxV=Q,v.mcusPerLine=V,v.mcusPerColumn=J}var V=null,J=null,Y=null,X,ee,ae=[],he=[],Ee=[],Be=[],ke=k(),Re=-1;if(this.comments=[],ke!=65496)throw new Error("SOI not found");for(ke=k();ke!=65497;){var Oe,Pe,Le;switch(ke){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var je=U();if(ke===65534){var qe=String.fromCharCode.apply(null,je);this.comments.push(qe)}ke===65504&&je[0]===74&&je[1]===70&&je[2]===73&&je[3]===70&&je[4]===0&&(V={version:{major:je[5],minor:je[6]},densityUnits:je[7],xDensity:je[8]<<8|je[9],yDensity:je[10]<<8|je[11],thumbWidth:je[12],thumbHeight:je[13],thumbData:je.subarray(14,14+3*je[12]*je[13])}),ke===65505&&je[0]===69&&je[1]===120&&je[2]===105&&je[3]===102&&je[4]===0&&(this.exifBuffer=je.subarray(5,je.length)),ke===65518&&je[0]===65&&je[1]===100&&je[2]===111&&je[3]===98&&je[4]===101&&je[5]===0&&(J={version:je[6],flags0:je[7]<<8|je[8],flags1:je[9]<<8|je[10],transformCode:je[11]});break;case 65499:for(var Ve=k(),ze=Ve+O-2;O<ze;){var $e=S[O++];E(256);var Ye=new Int32Array(64);if($e>>4)if($e>>4===1)for(Pe=0;Pe<64;Pe++){var et=v[Pe];Ye[et]=k()}else throw new Error("DQT: invalid table spec");else for(Pe=0;Pe<64;Pe++){var et=v[Pe];Ye[et]=S[O++]}ae[$e&15]=Ye}break;case 65472:case 65473:case 65474:k(),X={},X.extended=ke===65473,X.progressive=ke===65474,X.precision=S[O++],X.scanLines=k(),X.samplesPerLine=k(),X.components={},X.componentsOrder=[];var tt=X.scanLines*X.samplesPerLine;if(tt>Q){var nt=Math.ceil((tt-Q)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${nt}MP`)}var it=S[O++],st,at=0,lt=0;for(Oe=0;Oe<it;Oe++){st=S[O];var ct=S[O+1]>>4,ut=S[O+1]&15,dt=S[O+2];if(ct<=0||ut<=0)throw new Error("Invalid sampling factor, expected values above 0");X.componentsOrder.push(st),X.components[st]={h:ct,v:ut,quantizationIdx:dt},O+=3}b(X),he.push(X);break;case 65476:var ht=k();for(Oe=2;Oe<ht;){var At=S[O++],pt=new Uint8Array(16),mt=0;for(Pe=0;Pe<16;Pe++,O++)mt+=pt[Pe]=S[O];E(16+mt);var Ct=new Uint8Array(mt);for(Pe=0;Pe<mt;Pe++,O++)Ct[Pe]=S[O];Oe+=17+mt,(At>>4?Ee:Be)[At&15]=f(pt,Ct)}break;case 65501:k(),ee=k();break;case 65500:k(),k();break;case 65498:var _t=k(),yt=S[O++],vt=[],It;for(Oe=0;Oe<yt;Oe++){It=X.components[S[O++]];var xt=S[O++];It.huffmanTableDC=Be[xt>>4],It.huffmanTableAC=Ee[xt&15],vt.push(It)}var Tt=S[O++],Rt=S[O++],Nt=S[O++],Mt=h(S,O,X,vt,ee,Tt,Rt,Nt>>4,Nt&15,this.opts);O+=Mt;break;case 65535:S[O]!==255&&O--;break;default:if(S[O-3]==255&&S[O-2]>=192&&S[O-2]<=254){O-=3;break}else if(ke===224||ke==225){if(Re!==-1)throw new Error(`first unknown JPEG marker at offset ${Re.toString(16)}, second unknown JPEG marker ${ke.toString(16)} at offset ${(O-1).toString(16)}`);Re=O-1;let v=k();if(S[O+v-2]===255){O+=v-2;break}}throw new Error("unknown JPEG marker "+ke.toString(16))}ke=k()}if(he.length!=1)throw new Error("only single frame JPEGs supported");for(var Oe=0;Oe<he.length;Oe++){var jt=he[Oe].components;for(var Pe in jt)jt[Pe].quantizationTable=ae[jt[Pe].quantizationIdx],delete jt[Pe].quantizationIdx}this.width=X.samplesPerLine,this.height=X.scanLines,this.jfif=V,this.adobe=J,this.components=[];for(var Oe=0;Oe<X.componentsOrder.length;Oe++){var It=X.components[X.componentsOrder[Oe]];this.components.push({lines:p(X,It),scaleX:It.h/X.maxH,scaleY:It.v/X.maxV})}},getData:function(v,S){var Q=this.width/v,O=this.height/S,H,V,J,Y,X,ee,ae,he,Ee,Be,ke=0,Re,Oe,Pe,Le,je,qe,Ve,ze,$e,Ye,et,tt=v*S*this.components.length;E(tt);var nt=new Uint8Array(tt);switch(this.components.length){case 1:for(H=this.components[0],Be=0;Be<S;Be++)for(X=H.lines[0|Be*H.scaleY*O],Ee=0;Ee<v;Ee++)Re=X[0|Ee*H.scaleX*Q],nt[ke++]=Re;break;case 2:for(H=this.components[0],V=this.components[1],Be=0;Be<S;Be++)for(X=H.lines[0|Be*H.scaleY*O],ee=V.lines[0|Be*V.scaleY*O],Ee=0;Ee<v;Ee++)Re=X[0|Ee*H.scaleX*Q],nt[ke++]=Re,Re=ee[0|Ee*V.scaleX*Q],nt[ke++]=Re;break;case 3:for(et=!0,this.adobe&&this.adobe.transformCode?et=!0:typeof this.opts.colorTransform!="undefined"&&(et=!!this.opts.colorTransform),H=this.components[0],V=this.components[1],J=this.components[2],Be=0;Be<S;Be++)for(X=H.lines[0|Be*H.scaleY*O],ee=V.lines[0|Be*V.scaleY*O],ae=J.lines[0|Be*J.scaleY*O],Ee=0;Ee<v;Ee++)et?(Re=X[0|Ee*H.scaleX*Q],Oe=ee[0|Ee*V.scaleX*Q],Pe=ae[0|Ee*J.scaleX*Q],ze=d(Re+1.402*(Pe-128)),$e=d(Re-.3441363*(Oe-128)-.71413636*(Pe-128)),Ye=d(Re+1.772*(Oe-128))):(ze=X[0|Ee*H.scaleX*Q],$e=ee[0|Ee*V.scaleX*Q],Ye=ae[0|Ee*J.scaleX*Q]),nt[ke++]=ze,nt[ke++]=$e,nt[ke++]=Ye;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(et=!1,this.adobe&&this.adobe.transformCode?et=!0:typeof this.opts.colorTransform!="undefined"&&(et=!!this.opts.colorTransform),H=this.components[0],V=this.components[1],J=this.components[2],Y=this.components[3],Be=0;Be<S;Be++)for(X=H.lines[0|Be*H.scaleY*O],ee=V.lines[0|Be*V.scaleY*O],ae=J.lines[0|Be*J.scaleY*O],he=Y.lines[0|Be*Y.scaleY*O],Ee=0;Ee<v;Ee++)et?(Re=X[0|Ee*H.scaleX*Q],Oe=ee[0|Ee*V.scaleX*Q],Pe=ae[0|Ee*J.scaleX*Q],Le=he[0|Ee*Y.scaleX*Q],je=255-d(Re+1.402*(Pe-128)),qe=255-d(Re-.3441363*(Oe-128)-.71413636*(Pe-128)),Ve=255-d(Re+1.772*(Oe-128))):(je=X[0|Ee*H.scaleX*Q],qe=ee[0|Ee*V.scaleX*Q],Ve=ae[0|Ee*J.scaleX*Q],Le=he[0|Ee*Y.scaleX*Q]),nt[ke++]=255-je,nt[ke++]=255-qe,nt[ke++]=255-Ve,nt[ke++]=255-Le;break;default:throw new Error("Unsupported color mode")}return nt},copyToImageData:function(v,S){var Q=v.width,O=v.height,H=v.data,V=this.getData(Q,O),J=0,Y=0,X,ee,ae,he,Ee,Be,ke,Re,Oe;switch(this.components.length){case 1:for(ee=0;ee<O;ee++)for(X=0;X<Q;X++)ae=V[J++],H[Y++]=ae,H[Y++]=ae,H[Y++]=ae,S&&(H[Y++]=255);break;case 3:for(ee=0;ee<O;ee++)for(X=0;X<Q;X++)ke=V[J++],Re=V[J++],Oe=V[J++],H[Y++]=ke,H[Y++]=Re,H[Y++]=Oe,S&&(H[Y++]=255);break;case 4:for(ee=0;ee<O;ee++)for(X=0;X<Q;X++)Ee=V[J++],Be=V[J++],ae=V[J++],he=V[J++],ke=255-d(Ee*(1-he/255)+he),Re=255-d(Be*(1-he/255)+he),Oe=255-d(ae*(1-he/255)+he),H[Y++]=ke,H[Y++]=Re,H[Y++]=Oe,S&&(H[Y++]=255);break;default:throw new Error("Unsupported color mode")}}};var ee=0,ae=0;function E(v=0){var S=ee+v;if(S>ae){var Q=Math.ceil((S-ae)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Q}MB`)}ee=S}return u.resetMaxMemoryUsage=function(v){ee=0,ae=v},u.getBytesAllocated=function(){return ee},u.requestMemoryAllocation=E,u}();typeof S!="undefined"?S.exports=Fo:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=Fo);function Fo(v,S={}){var O={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},H={...O,...S},V=new Uint8Array(v),J=new Q;J.opts=H,Q.resetMaxMemoryUsage(H.maxMemoryUsageInMB*1024*1024),J.parse(V);var Y=H.formatAsRGBA?4:3,X=J.width*J.height*Y;try{Q.requestMemoryAllocation(X);var ee={width:J.width,height:J.height,exifBuffer:J.exifBuffer,data:H.useTArray?new Uint8Array(X):Buffer.alloc(X)};J.comments.length>0&&(ee.comments=J.comments)}catch(v){throw v instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+X):v instanceof ReferenceError&&v.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):v}return J.copyToImageData(ee,H.formatAsRGBA),ee}}));var ht=y(((v,S)=>{var Q=ut(),O=dt();S.exports={encode:Q,decode:O}}));var At=y(((v,S)=>{"use strict";function Gi(){this._types=Object.create(null),this._extensions=Object.create(null);for(let v=0;v<arguments.length;v++)this.define(arguments[v]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Gi.prototype.define=function(v,S){for(let Q in v){let O=v[Q].map((function(v){return v.toLowerCase()}));Q=Q.toLowerCase();for(let v=0;v<O.length;v++){let H=O[v];if(H[0]!=="*"){if(!S&&H in this._types)throw new Error('Attempt to change mapping for "'+H+'" extension from "'+this._types[H]+'" to "'+Q+'". Pass `force=true` to allow this, otherwise remove "'+H+'" from the list of extensions for "'+Q+'".');this._types[H]=Q}}if(S||!this._extensions[Q]){let v=O[0];this._extensions[Q]=v[0]!=="*"?v:v.substr(1)}}};Gi.prototype.getType=function(v){v=String(v);let S=v.replace(/^.*[/\\]/,"").toLowerCase(),Q=S.replace(/^.*\./,"").toLowerCase(),O=S.length<v.length;return(Q.length<S.length-1||!O)&&this._types[Q]||null};Gi.prototype.getExtension=function(v){return v=/^\s*([^;\s]*)/.test(v)&&RegExp.$1,v&&this._extensions[v.toLowerCase()]||null};S.exports=Gi}));var pt=y(((v,S)=>{S.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}));var mt=y(((v,S)=>{S.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}}));var Ct=y(((v,S)=>{"use strict";var Q=At();S.exports=new Q(pt(),mt())}));var _t=y(((v,S)=>{S.exports=function(v,S){for(var O=[],H=0;H<v.length;H++){var V=S(v[H],H);Q(V)?O.push.apply(O,V):O.push(V)}return O};var Q=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"}}));var yt=y(((v,S)=>{"use strict";S.exports=Zo;function Zo(v,S,Q){v instanceof RegExp&&(v=Ko(v,Q)),S instanceof RegExp&&(S=Ko(S,Q));var O=Xo(v,S,Q);return O&&{start:O[0],end:O[1],pre:Q.slice(0,O[0]),body:Q.slice(O[0]+v.length,O[1]),post:Q.slice(O[1]+S.length)}}function Ko(v,S){var Q=S.match(v);return Q?Q[0]:null}Zo.range=Xo;function Xo(v,S,Q){var O,H,V,J,Y,X=Q.indexOf(v),ee=Q.indexOf(S,X+1),ae=X;if(X>=0&&ee>0){if(v===S)return[X,ee];for(O=[],V=Q.length;ae>=0&&!Y;)ae==X?(O.push(ae),X=Q.indexOf(v,ae+1)):O.length==1?Y=[O.pop(),ee]:(H=O.pop(),H<V&&(V=H,J=ee),ee=Q.indexOf(S,ae+1)),ae=X<ee&&X>=0?X:ee;O.length&&(Y=[V,J])}return Y}}));var vt=y(((v,S)=>{var Q=_t(),O=yt();S.exports=Th;var H="\0SLASH"+Math.random()+"\0",V="\0OPEN"+Math.random()+"\0",J="\0CLOSE"+Math.random()+"\0",Y="\0COMMA"+Math.random()+"\0",X="\0PERIOD"+Math.random()+"\0";function Fr(v){return parseInt(v,10)==v?parseInt(v,10):v.charCodeAt(0)}function Oh(v){return v.split("\\\\").join(H).split("\\{").join(V).split("\\}").join(J).split("\\,").join(Y).split("\\.").join(X)}function Ih(v){return v.split(H).join("\\").split(V).join("{").split(J).join("}").split(Y).join(",").split(X).join(".")}function sa(v){if(!v)return[""];var S=[],Q=O("{","}",v);if(!Q)return v.split(",");var H=Q.pre,V=Q.body,J=Q.post,Y=H.split(",");Y[Y.length-1]+="{"+V+"}";var X=sa(J);return J.length&&(Y[Y.length-1]+=X.shift(),Y.push.apply(Y,X)),S.push.apply(S,Y),S}function Th(v){return v?(v.substr(0,2)==="{}"&&(v="\\{\\}"+v.substr(2)),Gt(Oh(v),!0).map(Ih)):[]}function Ah(v){return"{"+v+"}"}function Rh(v){return/^-?0\d/.test(v)}function Bh(v,S){return v<=S}function Lh(v,S){return v>=S}function Gt(v,S){var H=[],V=O("{","}",v);if(!V||/\$$/.test(V.pre))return[v];var Y=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(V.body),X=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(V.body),ee=Y||X,ae=V.body.indexOf(",")>=0;if(!ee&&!ae)return V.post.match(/,.*\}/)?(v=V.pre+"{"+V.body+J+V.post,Gt(v)):[v];var he;if(ee)he=V.body.split(/\.\./);else if(he=sa(V.body),he.length===1&&(he=Gt(he[0],!1).map(Ah),he.length===1)){var Ee=V.post.length?Gt(V.post,!1):[""];return Ee.map((function(v){return V.pre+he[0]+v}))}var Be=V.pre,Ee=V.post.length?Gt(V.post,!1):[""],ke;if(ee){var Re=Fr(he[0]),Oe=Fr(he[1]),Pe=Math.max(he[0].length,he[1].length),Le=he.length==3?Math.abs(Fr(he[2])):1,je=Bh,qe=Oe<Re;qe&&(Le*=-1,je=Lh);var Ve=he.some(Rh);ke=[];for(var ze=Re;je(ze,Oe);ze+=Le){var $e;if(X)$e=String.fromCharCode(ze),$e==="\\"&&($e="");else if($e=String(ze),Ve){var Ye=Pe-$e.length;if(Ye>0){var et=new Array(Ye+1).join("0");ze<0?$e="-"+et+$e.slice(1):$e=et+$e}}ke.push($e)}}else ke=Q(he,(function(v){return Gt(v,!1)}));for(var tt=0;tt<ke.length;tt++)for(var nt=0;nt<Ee.length;nt++){var it=Be+ke[tt]+Ee[nt];(!S||ee||it)&&H.push(it)}return H}}));var It=y(((v,S)=>{S.exports=Ge;Ge.Minimatch=Fe;var O=function(){try{return Q(1017)}catch{}}()||{sep:"/"};Ge.sep=O.sep;var H=Ge.GLOBSTAR=Fe.GLOBSTAR={},V=vt(),J={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Y="[^/]",X=Y+"*?",ee="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ae="(?:(?!(?:\\/|^)\\.).)*?",he=Mh("().*{}+?[]^$\\!");function Mh(v){return v.split("").reduce((function(v,S){return v[S]=!0,v}),{})}var Ee=/\/+/;Ge.filter=Uh;function Uh(v,S){return S=S||{},function(Q,O,H){return Ge(Q,v,S)}}function ft(v,S){S=S||{};var Q={};return Object.keys(v).forEach((function(S){Q[S]=v[S]})),Object.keys(S).forEach((function(v){Q[v]=S[v]})),Q}Ge.defaults=function(v){if(!v||typeof v!="object"||!Object.keys(v).length)return Ge;var S=Ge,i=function(Q,O,H){return S(Q,O,ft(v,H))};return i.Minimatch=function(Q,O){return new S.Minimatch(Q,ft(v,O))},i.Minimatch.defaults=function(Q){return S.defaults(ft(v,Q)).Minimatch},i.filter=function(Q,O){return S.filter(Q,ft(v,O))},i.defaults=function(Q){return S.defaults(ft(v,Q))},i.makeRe=function(Q,O){return S.makeRe(Q,ft(v,O))},i.braceExpand=function(Q,O){return S.braceExpand(Q,ft(v,O))},i.match=function(Q,O,H){return S.match(Q,O,ft(v,H))},i};Fe.defaults=function(v){return Ge.defaults(v).Minimatch};function Ge(v,S,Q){return Wi(S),Q||(Q={}),!Q.nocomment&&S.charAt(0)==="#"?!1:new Fe(S,Q).match(v)}function Fe(v,S){if(!(this instanceof Fe))return new Fe(v,S);Wi(v),S||(S={}),v=v.trim(),!S.allowWindowsEscape&&O.sep!=="/"&&(v=v.split(O.sep).join("/")),this.options=S,this.set=[],this.pattern=v,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!S.partial,this.make()}Fe.prototype.debug=function(){};Fe.prototype.make=Dh;function Dh(){var v=this.pattern,S=this.options;if(!S.nocomment&&v.charAt(0)==="#"){this.comment=!0;return}if(!v){this.empty=!0;return}this.parseNegate();var Q=this.globSet=this.braceExpand();S.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,Q),Q=this.globParts=Q.map((function(v){return v.split(Ee)})),this.debug(this.pattern,Q),Q=Q.map((function(v,S,Q){return v.map(this.parse,this)}),this),this.debug(this.pattern,Q),Q=Q.filter((function(v){return v.indexOf(!1)===-1})),this.debug(this.pattern,Q),this.set=Q}Fe.prototype.parseNegate=jh;function jh(){var v=this.pattern,S=!1,Q=this.options,O=0;if(!Q.nonegate){for(var H=0,V=v.length;H<V&&v.charAt(H)==="!";H++)S=!S,O++;O&&(this.pattern=v.substr(O)),this.negate=S}}Ge.braceExpand=function(v,S){return fa(v,S)};Fe.prototype.braceExpand=fa;function fa(v,S){return S||(this instanceof Fe?S=this.options:S={}),v=typeof v=="undefined"?this.pattern:v,Wi(v),S.nobrace||!/\{(?:(?!\{).)*\}/.test(v)?[v]:V(v)}var Be=1024*64,Wi=function(v){if(typeof v!="string")throw new TypeError("invalid pattern");if(v.length>Be)throw new TypeError("pattern is too long")};Fe.prototype.parse=Hh;var ke={};function Hh(v,S){Wi(v);var Q=this.options;if(v==="**")if(Q.noglobstar)v="*";else return H;if(v==="")return"";var O="",V=!!Q.nocase,ee=!1,ae=[],Ee=[],Be,Re=!1,Oe=-1,Pe=-1,Le=v.charAt(0)==="."?"":Q.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",je=this;function d(){if(Be){switch(Be){case"*":O+=X,V=!0;break;case"?":O+=Y,V=!0;break;default:O+="\\"+Be;break}je.debug("clearStateChar %j %j",Be,O),Be=!1}}for(var qe=0,Ve=v.length,ze;qe<Ve&&(ze=v.charAt(qe));qe++){if(this.debug("%s\t%s %s %j",v,qe,O,ze),ee&&he[ze]){O+="\\"+ze,ee=!1;continue}switch(ze){case"/":return!1;case"\\":d(),ee=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",v,qe,O,ze),Re){this.debug("  in class"),ze==="!"&&qe===Pe+1&&(ze="^"),O+=ze;continue}je.debug("call clearStateChar %j",Be),d(),Be=ze,Q.noext&&d();continue;case"(":if(Re){O+="(";continue}if(!Be){O+="\\(";continue}ae.push({type:Be,start:qe-1,reStart:O.length,open:J[Be].open,close:J[Be].close}),O+=Be==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",Be,O),Be=!1;continue;case")":if(Re||!ae.length){O+="\\)";continue}d(),V=!0;var $e=ae.pop();O+=$e.close,$e.type==="!"&&Ee.push($e),$e.reEnd=O.length;continue;case"|":if(Re||!ae.length||ee){O+="\\|",ee=!1;continue}d(),O+="|";continue;case"[":if(d(),Re){O+="\\"+ze;continue}Re=!0,Pe=qe,Oe=O.length,O+=ze;continue;case"]":if(qe===Pe+1||!Re){O+="\\"+ze,ee=!1;continue}var Ye=v.substring(Pe+1,qe);try{RegExp("["+Ye+"]")}catch{var et=this.parse(Ye,ke);O=O.substr(0,Oe)+"\\["+et[0]+"\\]",V=V||et[1],Re=!1;continue}V=!0,Re=!1,O+=ze;continue;default:d(),ee?ee=!1:he[ze]&&!(ze==="^"&&Re)&&(O+="\\"),O+=ze}}for(Re&&(Ye=v.substr(Pe+1),et=this.parse(Ye,ke),O=O.substr(0,Oe)+"\\["+et[0],V=V||et[1]),$e=ae.pop();$e;$e=ae.pop()){var tt=O.slice($e.reStart+$e.open.length);this.debug("setting tail",O,$e),tt=tt.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(v,S,Q){return Q||(Q="\\"),S+S+Q+"|"})),this.debug(`tail=%j\n   %s`,tt,tt,$e,O);var nt=$e.type==="*"?X:$e.type==="?"?Y:"\\"+$e.type;V=!0,O=O.slice(0,$e.reStart)+nt+"\\("+tt}d(),ee&&(O+="\\\\");var it=!1;switch(O.charAt(0)){case"[":case".":case"(":it=!0}for(var st=Ee.length-1;st>-1;st--){var at=Ee[st],lt=O.slice(0,at.reStart),ct=O.slice(at.reStart,at.reEnd-8),ut=O.slice(at.reEnd-8,at.reEnd),dt=O.slice(at.reEnd);ut+=dt;var ht=lt.split("(").length-1,At=dt;for(qe=0;qe<ht;qe++)At=At.replace(/\)[+*?]?/,"");dt=At;var pt="";dt===""&&S!==ke&&(pt="$");var mt=lt+ct+dt+pt+ut;O=mt}if(O!==""&&V&&(O="(?=.)"+O),it&&(O=Le+O),S===ke)return[O,V];if(!V)return $h(v);var Ct=Q.nocase?"i":"";try{var _t=new RegExp("^"+O+"$",Ct)}catch{return new RegExp("$.")}return _t._glob=v,_t._src=O,_t}Ge.makeRe=function(v,S){return new Fe(v,S||{}).makeRe()};Fe.prototype.makeRe=Vh;function Vh(){if(this.regexp||this.regexp===!1)return this.regexp;var v=this.set;if(!v.length)return this.regexp=!1,this.regexp;var S=this.options,Q=S.noglobstar?X:S.dot?ee:ae,O=S.nocase?"i":"",V=v.map((function(v){return v.map((function(v){return v===H?Q:typeof v=="string"?Gh(v):v._src})).join("\\/")})).join("|");V="^(?:"+V+")$",this.negate&&(V="^(?!"+V+").*$");try{this.regexp=new RegExp(V,O)}catch{this.regexp=!1}return this.regexp}Ge.match=function(v,S,Q){Q=Q||{};var O=new Fe(S,Q);return v=v.filter((function(v){return O.match(v)})),O.options.nonull&&!v.length&&v.push(S),v};Fe.prototype.match=function(v,S){if(typeof S=="undefined"&&(S=this.partial),this.debug("match",v,this.pattern),this.comment)return!1;if(this.empty)return v==="";if(v==="/"&&S)return!0;var Q=this.options;O.sep!=="/"&&(v=v.split(O.sep).join("/")),v=v.split(Ee),this.debug(this.pattern,"split",v);var H=this.set;this.debug(this.pattern,"set",H);var V,J;for(J=v.length-1;J>=0&&(V=v[J],!V);J--);for(J=0;J<H.length;J++){var Y=H[J],X=v;Q.matchBase&&Y.length===1&&(X=[V]);var ee=this.matchOne(X,Y,S);if(ee)return Q.flipNegate?!0:!this.negate}return Q.flipNegate?!1:this.negate};Fe.prototype.matchOne=function(v,S,Q){var O=this.options;this.debug("matchOne",{this:this,file:v,pattern:S}),this.debug("matchOne",v.length,S.length);for(var V=0,J=0,Y=v.length,X=S.length;V<Y&&J<X;V++,J++){this.debug("matchOne loop");var ee=S[J],ae=v[V];if(this.debug(S,ee,ae),ee===!1)return!1;if(ee===H){this.debug("GLOBSTAR",[S,ee,ae]);var he=V,Ee=J+1;if(Ee===X){for(this.debug("** at the end");V<Y;V++)if(v[V]==="."||v[V]===".."||!O.dot&&v[V].charAt(0)===".")return!1;return!0}for(;he<Y;){var Be=v[he];if(this.debug(`\nglobstar while`,v,he,S,Ee,Be),this.matchOne(v.slice(he),S.slice(Ee),Q))return this.debug("globstar found match!",he,Y,Be),!0;if(Be==="."||Be===".."||!O.dot&&Be.charAt(0)==="."){this.debug("dot detected!",v,he,S,Ee);break}this.debug("globstar swallow a segment, and continue"),he++}return!!(Q&&(this.debug(`\n>>> no match, partial?`,v,he,S,Ee),he===Y))}var ke;if(typeof ee=="string"?(ke=ae===ee,this.debug("string match",ee,ae,ke)):(ke=ae.match(ee),this.debug("pattern match",ee,ae,ke)),!ke)return!1}if(V===Y&&J===X)return!0;if(V===Y)return Q;if(J===X)return V===Y-1&&v[V]==="";throw new Error("wtf?")};function $h(v){return v.replace(/\\(.)/g,"$1")}function Gh(v){return v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}));var xt=y(((v,S)=>{"use strict";var O=Q(7147),H;function zh(){try{return O.statSync("/.dockerenv"),!0}catch{return!1}}function Wh(){try{return O.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}S.exports=()=>(H===void 0&&(H=zh()||Wh()),H)}));var Tt=y(((v,S)=>{"use strict";var O=Q(2037),H=Q(7147),V=xt(),va=()=>{if(process.platform!=="linux")return!1;if(O.release().toLowerCase().includes("microsoft"))return!V();try{return H.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!V():!1}catch{return!1}};process.env.__IS_WSL_TEST__?S.exports=va:S.exports=va()}));var Rt=y(((v,S)=>{"use strict";S.exports=(v,S,Q)=>{let r=Q=>Object.defineProperty(v,S,{value:Q,enumerable:!0,writable:!0});return Object.defineProperty(v,S,{configurable:!0,enumerable:!0,get(){let v=Q();return r(v),v},set(v){r(v)}}),v}}));var Nt=y(((v,S)=>{var O=Q(1017),H=Q(2081),{promises:V,constants:J}=Q(7147),Y=Tt(),X=xt(),ee=Rt(),ae=Q.ab+"xdg-open",{platform:he,arch:Ee}=process,Be=(()=>{let v="/mnt/",S;return async function(){if(S)return S;let Q="/etc/wsl.conf",O=!1;try{await V.access(Q,J.F_OK),O=!0}catch{}if(!O)return v;let H=await V.readFile(Q,{encoding:"utf8"}),Y=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(H);return Y?(S=Y.groups.mountPoint.trim(),S=S.endsWith("/")?S:`${S}/`,S):v}})(),Ea=async(v,S)=>{let Q;for(let O of v)try{return await S(O)}catch(v){Q=v}throw Q},Ki=async v=>{if(v={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...v},Array.isArray(v.app))return Ea(v.app,(S=>Ki({...v,app:S})));let{name:S,arguments:Q=[]}=v.app||{};if(Q=[...Q],Array.isArray(S))return Ea(S,(S=>Ki({...v,app:{name:S,arguments:Q}})));let O,ee=[],Ee={};if(he==="darwin")O="open",v.wait&&ee.push("--wait-apps"),v.background&&ee.push("--background"),v.newInstance&&ee.push("--new"),S&&ee.push("-a",S);else if(he==="win32"||Y&&!X()){let H=await Be();O=Y?`${H}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,ee.push("-NoProfile","-NonInteractive","–ExecutionPolicy","Bypass","-EncodedCommand"),Y||(Ee.windowsVerbatimArguments=!0);let V=["Start"];v.wait&&V.push("-Wait"),S?(V.push(`"\`"${S}\`""`,"-ArgumentList"),v.target&&Q.unshift(v.target)):v.target&&V.push(`"${v.target}"`),Q.length>0&&(Q=Q.map((v=>`"\`"${v}\`""`)),V.push(Q.join(","))),v.target=Buffer.from(V.join(" "),"utf16le").toString("base64")}else{if(S)O=S;else{let v=!__dirname||__dirname==="/",S=!1;try{await V.access(ae,J.X_OK),S=!0}catch{}O=process.versions.electron||he==="android"||v||!S?"xdg-open":ae}Q.length>0&&ee.push(...Q),v.wait||(Ee.stdio="ignore",Ee.detached=!0)}v.target&&ee.push(v.target),he==="darwin"&&Q.length>0&&ee.push("--args",...Q);let ke=H.spawn(O,ee,Ee);return v.wait?new Promise(((S,Q)=>{ke.once("error",Q),ke.once("close",(O=>{if(v.allowNonzeroExitCode&&O>0){Q(new Error(`Exited with code ${O}`));return}S(ke)}))})):(ke.unref(),ke)},Gr=(v,S)=>{if(typeof v!="string")throw new TypeError("Expected a `target`");return Ki({...S,target:v})},ep=(v,S)=>{if(typeof v!="string")throw new TypeError("Expected a `name`");let{arguments:Q=[]}=S||{};if(Q!=null&&!Array.isArray(Q))throw new TypeError("Expected `appArguments` as Array type");return Ki({...S,app:{name:v,arguments:Q}})};function Sa(v){if(typeof v=="string"||Array.isArray(v))return v;let{[Ee]:S}=v;if(!S)throw new Error(`${Ee} is not supported`);return S}function zr({[he]:v},{wsl:S}){if(S&&Y)return Sa(S);if(!v)throw new Error(`${he} is not supported`);return Sa(v)}var ke={};ee(ke,"chrome",(()=>zr({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})));ee(ke,"firefox",(()=>zr({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})));ee(ke,"edge",(()=>zr({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})));Gr.apps=ke;Gr.openApp=ep;S.exports=Gr}));var Mt=y(((v,S)=>{"use strict";var O=Q(3837),H=Q(2781),V=S.exports=function(){H.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};O.inherits(V,H);V.prototype.read=function(v,S){this._reads.push({length:Math.abs(v),allowLess:v<0,func:S}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};V.prototype.write=function(v,S){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let Q;return Buffer.isBuffer(v)?Q=v:Q=Buffer.from(v,S||this._encoding),this._buffers.push(Q),this._buffered+=Q.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};V.prototype.end=function(v,S){v&&this.write(v,S),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};V.prototype.destroySoon=V.prototype.end;V.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};V.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};V.prototype._processReadAllowingLess=function(v){this._reads.shift();let S=this._buffers[0];S.length>v.length?(this._buffered-=v.length,this._buffers[0]=S.slice(v.length),v.func.call(this,S.slice(0,v.length))):(this._buffered-=S.length,this._buffers.shift(),v.func.call(this,S))};V.prototype._processRead=function(v){this._reads.shift();let S=0,Q=0,O=Buffer.alloc(v.length);for(;S<v.length;){let H=this._buffers[Q++],V=Math.min(H.length,v.length-S);H.copy(O,S,0,V),S+=V,V!==H.length&&(this._buffers[--Q]=H.slice(V))}Q>0&&this._buffers.splice(0,Q),this._buffered-=v.length,v.func.call(this,O)};V.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let v=this._reads[0];if(v.allowLess)this._processReadAllowingLess(v);else if(this._buffered>=v.length)this._processRead(v);else break}this._buffers&&!this.writable&&this._end()}catch(v){this.emit("error",v)}}}));var jt=y((v=>{"use strict";var S=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];v.getImagePasses=function(v,Q){let O=[],H=v%8,V=Q%8,J=(v-H)/8,Y=(Q-V)/8;for(let v=0;v<S.length;v++){let Q=S[v],X=J*Q.x.length,ee=Y*Q.y.length;for(let v=0;v<Q.x.length&&Q.x[v]<H;v++)X++;for(let v=0;v<Q.y.length&&Q.y[v]<V;v++)ee++;X>0&&ee>0&&O.push({width:X,height:ee,index:v})}return O};v.getInterlaceIterator=function(v){return function(Q,O,H){let V=Q%S[H].x.length,J=(Q-V)/S[H].x.length*8+S[H].x[V],Y=O%S[H].y.length,X=(O-Y)/S[H].y.length*8+S[H].y[Y];return J*4+X*v*4}}}));var Jt=y(((v,S)=>{"use strict";S.exports=function(v,S,Q){let O=v+S-Q,H=Math.abs(O-v),V=Math.abs(O-S),J=Math.abs(O-Q);return H<=V&&H<=J?v:V<=J?S:Q}}));var sn=y(((v,S)=>{"use strict";var Q=jt(),O=Jt();function Ra(v,S,Q){let O=v*S;return Q!==8&&(O=Math.ceil(O/(8/Q))),O}var H=S.exports=function(v,S){let O=v.width,H=v.height,V=v.interlace,J=v.bpp,Y=v.depth;if(this.read=S.read,this.write=S.write,this.complete=S.complete,this._imageIndex=0,this._images=[],V){let v=Q.getImagePasses(O,H);for(let S=0;S<v.length;S++)this._images.push({byteWidth:Ra(v[S].width,J,Y),height:v[S].height,lineIndex:0})}else this._images.push({byteWidth:Ra(O,J,Y),height:H,lineIndex:0});Y===8?this._xComparison=J:Y===16?this._xComparison=J*2:this._xComparison=1};H.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};H.prototype._unFilterType1=function(v,S,Q){let O=this._xComparison,H=O-1;for(let V=0;V<Q;V++){let Q=v[1+V],J=V>H?S[V-O]:0;S[V]=Q+J}};H.prototype._unFilterType2=function(v,S,Q){let O=this._lastLine;for(let H=0;H<Q;H++){let Q=v[1+H],V=O?O[H]:0;S[H]=Q+V}};H.prototype._unFilterType3=function(v,S,Q){let O=this._xComparison,H=O-1,V=this._lastLine;for(let J=0;J<Q;J++){let Q=v[1+J],Y=V?V[J]:0,X=J>H?S[J-O]:0,ee=Math.floor((X+Y)/2);S[J]=Q+ee}};H.prototype._unFilterType4=function(v,S,Q){let H=this._xComparison,V=H-1,J=this._lastLine;for(let Y=0;Y<Q;Y++){let Q=v[1+Y],X=J?J[Y]:0,ee=Y>V?S[Y-H]:0,ae=Y>V&&J?J[Y-H]:0,he=O(ee,X,ae);S[Y]=Q+he}};H.prototype._reverseFilterLine=function(v){let S=v[0],Q,O=this._images[this._imageIndex],H=O.byteWidth;if(S===0)Q=v.slice(1,H+1);else switch(Q=Buffer.alloc(H),S){case 1:this._unFilterType1(v,Q,H);break;case 2:this._unFilterType2(v,Q,H);break;case 3:this._unFilterType3(v,Q,H);break;case 4:this._unFilterType4(v,Q,H);break;default:throw new Error("Unrecognised filter type - "+S)}this.write(Q),O.lineIndex++,O.lineIndex>=O.height?(this._lastLine=null,this._imageIndex++,O=this._images[this._imageIndex]):this._lastLine=Q,O?this.read(O.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}));var ln=y(((v,S)=>{"use strict";var O=Q(3837),H=Mt(),V=sn(),J=S.exports=function(v){H.call(this);let S=[],Q=this;this._filter=new V(v,{read:this.read.bind(this),write:function(v){S.push(v)},complete:function(){Q.emit("complete",Buffer.concat(S))}}),this._filter.start()};O.inherits(J,H)}));var cn=y(((v,S)=>{"use strict";S.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}}));var dn=y(((v,S)=>{"use strict";var Q=[];(function(){for(let v=0;v<256;v++){let S=v;for(let v=0;v<8;v++)S&1?S=3988292384^S>>>1:S=S>>>1;Q[v]=S}})();var O=S.exports=function(){this._crc=-1};O.prototype.write=function(v){for(let S=0;S<v.length;S++)this._crc=Q[(this._crc^v[S])&255]^this._crc>>>8;return!0};O.prototype.crc32=function(){return this._crc^-1};O.crc32=function(v){let S=-1;for(let O=0;O<v.length;O++)S=Q[(S^v[O])&255]^S>>>8;return S^-1}}));var An=y(((v,S)=>{"use strict";var Q=cn(),O=dn(),H=S.exports=function(v,S){this._options=v,v.checkCRC=v.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[Q.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[Q.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[Q.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[Q.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[Q.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[Q.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=S.read,this.error=S.error,this.metadata=S.metadata,this.gamma=S.gamma,this.transColor=S.transColor,this.palette=S.palette,this.parsed=S.parsed,this.inflateData=S.inflateData,this.finished=S.finished,this.simpleTransparency=S.simpleTransparency,this.headersFinished=S.headersFinished||function(){}};H.prototype.start=function(){this.read(Q.PNG_SIGNATURE.length,this._parseSignature.bind(this))};H.prototype._parseSignature=function(v){let S=Q.PNG_SIGNATURE;for(let Q=0;Q<S.length;Q++)if(v[Q]!==S[Q]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};H.prototype._parseChunkBegin=function(v){let S=v.readUInt32BE(0),H=v.readUInt32BE(4),V="";for(let S=4;S<8;S++)V+=String.fromCharCode(v[S]);let J=!!(v[4]&32);if(!this._hasIHDR&&H!==Q.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new O,this._crc.write(Buffer.from(V)),this._chunks[H])return this._chunks[H](S);if(!J){this.error(new Error("Unsupported critical chunk type "+V));return}this.read(S+4,this._skipChunk.bind(this))};H.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};H.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};H.prototype._parseChunkEnd=function(v){let S=v.readInt32BE(0),Q=this._crc.crc32();if(this._options.checkCRC&&Q!==S){this.error(new Error("Crc error - "+S+" - "+Q));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};H.prototype._handleIHDR=function(v){this.read(v,this._parseIHDR.bind(this))};H.prototype._parseIHDR=function(v){this._crc.write(v);let S=v.readUInt32BE(0),O=v.readUInt32BE(4),H=v[8],V=v[9],J=v[10],Y=v[11],X=v[12];if(H!==8&&H!==4&&H!==2&&H!==1&&H!==16){this.error(new Error("Unsupported bit depth "+H));return}if(!(V in Q.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(J!==0){this.error(new Error("Unsupported compression method"));return}if(Y!==0){this.error(new Error("Unsupported filter method"));return}if(X!==0&&X!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=V;let ee=Q.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:S,height:O,depth:H,interlace:!!X,palette:!!(V&Q.COLORTYPE_PALETTE),color:!!(V&Q.COLORTYPE_COLOR),alpha:!!(V&Q.COLORTYPE_ALPHA),bpp:ee,colorType:V}),this._handleChunkEnd()};H.prototype._handlePLTE=function(v){this.read(v,this._parsePLTE.bind(this))};H.prototype._parsePLTE=function(v){this._crc.write(v);let S=Math.floor(v.length/3);for(let Q=0;Q<S;Q++)this._palette.push([v[Q*3],v[Q*3+1],v[Q*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};H.prototype._handleTRNS=function(v){this.simpleTransparency(),this.read(v,this._parseTRNS.bind(this))};H.prototype._parseTRNS=function(v){if(this._crc.write(v),this._colorType===Q.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(v.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let S=0;S<v.length;S++)this._palette[S][3]=v[S];this.palette(this._palette)}this._colorType===Q.COLORTYPE_GRAYSCALE&&this.transColor([v.readUInt16BE(0)]),this._colorType===Q.COLORTYPE_COLOR&&this.transColor([v.readUInt16BE(0),v.readUInt16BE(2),v.readUInt16BE(4)]),this._handleChunkEnd()};H.prototype._handleGAMA=function(v){this.read(v,this._parseGAMA.bind(this))};H.prototype._parseGAMA=function(v){this._crc.write(v),this.gamma(v.readUInt32BE(0)/Q.GAMMA_DIVISION),this._handleChunkEnd()};H.prototype._handleIDAT=function(v){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-v,this._parseIDAT.bind(this,v))};H.prototype._parseIDAT=function(v,S){if(this._crc.write(S),this._colorType===Q.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(S);let O=v-S.length;O>0?this._handleIDAT(O):this._handleChunkEnd()};H.prototype._handleIEND=function(v){this.read(v,this._parseIEND.bind(this))};H.prototype._parseIEND=function(v){this._crc.write(v),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}));var gn=y((v=>{"use strict";var S=jt(),Q=[function(){},function(v,S,Q,O){if(O===S.length)throw new Error("Ran out of data");let H=S[O];v[Q]=H,v[Q+1]=H,v[Q+2]=H,v[Q+3]=255},function(v,S,Q,O){if(O+1>=S.length)throw new Error("Ran out of data");let H=S[O];v[Q]=H,v[Q+1]=H,v[Q+2]=H,v[Q+3]=S[O+1]},function(v,S,Q,O){if(O+2>=S.length)throw new Error("Ran out of data");v[Q]=S[O],v[Q+1]=S[O+1],v[Q+2]=S[O+2],v[Q+3]=255},function(v,S,Q,O){if(O+3>=S.length)throw new Error("Ran out of data");v[Q]=S[O],v[Q+1]=S[O+1],v[Q+2]=S[O+2],v[Q+3]=S[O+3]}],O=[function(){},function(v,S,Q,O){let H=S[0];v[Q]=H,v[Q+1]=H,v[Q+2]=H,v[Q+3]=O},function(v,S,Q){let O=S[0];v[Q]=O,v[Q+1]=O,v[Q+2]=O,v[Q+3]=S[1]},function(v,S,Q,O){v[Q]=S[0],v[Q+1]=S[1],v[Q+2]=S[2],v[Q+3]=O},function(v,S,Q){v[Q]=S[0],v[Q+1]=S[1],v[Q+2]=S[2],v[Q+3]=S[3]}];function up(v,S){let Q=[],O=0;function n(){if(O===v.length)throw new Error("Ran out of data");let H=v[O];O++;let V,J,Y,X,ee,ae,he,Ee;switch(S){default:throw new Error("unrecognised depth");case 16:he=v[O],O++,Q.push((H<<8)+he);break;case 4:he=H&15,Ee=H>>4,Q.push(Ee,he);break;case 2:ee=H&3,ae=H>>2&3,he=H>>4&3,Ee=H>>6&3,Q.push(Ee,he,ae,ee);break;case 1:V=H&1,J=H>>1&1,Y=H>>2&1,X=H>>3&1,ee=H>>4&1,ae=H>>5&1,he=H>>6&1,Ee=H>>7&1,Q.push(Ee,he,ae,ee,X,Y,J,V);break}}return{get:function(v){for(;Q.length<v;)n();let S=Q.slice(0,v);return Q=Q.slice(v),S},resetAfterLine:function(){Q.length=0},end:function(){if(O!==v.length)throw new Error("extra data found")}}}function fp(v,S,O,H,V,J){let Y=v.width,X=v.height,ee=v.index;for(let v=0;v<X;v++)for(let X=0;X<Y;X++){let Y=O(X,v,ee);Q[H](S,V,Y,J),J+=H}return J}function hp(v,S,Q,H,V,J){let Y=v.width,X=v.height,ee=v.index;for(let v=0;v<X;v++){for(let X=0;X<Y;X++){let Y=V.get(H),ae=Q(X,v,ee);O[H](S,Y,ae,J)}V.resetAfterLine()}}v.dataToBitMap=function(v,Q){let O=Q.width,H=Q.height,V=Q.depth,J=Q.bpp,Y=Q.interlace,X;V!==8&&(X=up(v,V));let ee;V<=8?ee=Buffer.alloc(O*H*4):ee=new Uint16Array(O*H*4);let ae=Math.pow(2,V)-1,he=0,Ee,Be;if(Y)Ee=S.getImagePasses(O,H),Be=S.getInterlaceIterator(O,H);else{let v=0;Be=function(){let S=v;return v+=4,S},Ee=[{width:O,height:H}]}for(let S=0;S<Ee.length;S++)V===8?he=fp(Ee[S],ee,Be,J,v,he):hp(Ee[S],ee,Be,J,X,ae);if(V===8){if(he!==v.length)throw new Error("extra data found")}else X.end();return ee}}));var En=y(((v,S)=>{"use strict";function pp(v,S,Q,O,H){let V=0;for(let J=0;J<O;J++)for(let O=0;O<Q;O++){let Q=H[v[V]];if(!Q)throw new Error("index "+v[V]+" not in palette");for(let v=0;v<4;v++)S[V+v]=Q[v];V+=4}}function dp(v,S,Q,O,H){let V=0;for(let J=0;J<O;J++)for(let O=0;O<Q;O++){let Q=!1;if(H.length===1?H[0]===v[V]&&(Q=!0):H[0]===v[V]&&H[1]===v[V+1]&&H[2]===v[V+2]&&(Q=!0),Q)for(let v=0;v<4;v++)S[V+v]=0;V+=4}}function mp(v,S,Q,O,H){let V=255,J=Math.pow(2,H)-1,Y=0;for(let H=0;H<O;H++)for(let O=0;O<Q;O++){for(let Q=0;Q<4;Q++)S[Y+Q]=Math.floor(v[Y+Q]*V/J+.5);Y+=4}}S.exports=function(v,S,Q=!1){let O=S.depth,H=S.width,V=S.height,J=S.colorType,Y=S.transColor,X=S.palette,ee=v;return J===3?pp(v,ee,H,V,X):(Y&&dp(v,ee,H,V,Y),O!==8&&!Q&&(O===16&&(ee=Buffer.alloc(H*V*4)),mp(v,ee,H,V,O))),ee}}));var wn=y(((v,S)=>{"use strict";var O=Q(3837),H=Q(9796),V=Mt(),J=ln(),Y=An(),X=gn(),ee=En(),ae=S.exports=function(v){V.call(this),this._parser=new Y(v,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=v,this.writable=!0,this._parser.start()};O.inherits(ae,V);ae.prototype._handleError=function(v){this.emit("error",v),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0};ae.prototype._inflateData=function(v){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=H.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let v=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,S=Math.max(v,H.Z_MIN_CHUNK);this._inflate=H.createInflate({chunkSize:S});let Q=v,O=this.emit.bind(this,"error");this._inflate.on("error",(function(v){Q&&O(v)})),this._filter.on("complete",this._complete.bind(this));let V=this._filter.write.bind(this._filter);this._inflate.on("data",(function(v){Q&&(v.length>Q&&(v=v.slice(0,Q)),Q-=v.length,V(v))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(v)};ae.prototype._handleMetaData=function(v){this._metaData=v,this._bitmapInfo=Object.create(v),this._filter=new J(this._bitmapInfo)};ae.prototype._handleTransColor=function(v){this._bitmapInfo.transColor=v};ae.prototype._handlePalette=function(v){this._bitmapInfo.palette=v};ae.prototype._simpleTransparency=function(){this._metaData.alpha=!0};ae.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};ae.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};ae.prototype._complete=function(v){if(this.errord)return;let S;try{let Q=X.dataToBitMap(v,this._bitmapInfo);S=ee(Q,this._bitmapInfo,this._options.skipRescale),Q=null}catch(v){this._handleError(v);return}this.emit("parsed",S)}}));var Cn=y(((v,S)=>{"use strict";var Q=cn();S.exports=function(v,S,O,H){let V=[Q.COLORTYPE_COLOR_ALPHA,Q.COLORTYPE_ALPHA].indexOf(H.colorType)!==-1;if(H.colorType===H.inputColorType){let S=function(){let v=new ArrayBuffer(2);return new DataView(v).setInt16(0,256,!0),new Int16Array(v)[0]!==256}();if(H.bitDepth===8||H.bitDepth===16&&S)return v}let J=H.bitDepth!==16?v:new Uint16Array(v.buffer),Y=255,X=Q.COLORTYPE_TO_BPP_MAP[H.inputColorType];X===4&&!H.inputHasAlpha&&(X=3);let ee=Q.COLORTYPE_TO_BPP_MAP[H.colorType];H.bitDepth===16&&(Y=65535,ee*=2);let ae=Buffer.alloc(S*O*ee),he=0,Ee=0,Be=H.bgColor||{};Be.red===void 0&&(Be.red=Y),Be.green===void 0&&(Be.green=Y),Be.blue===void 0&&(Be.blue=Y);function p(){let v,S,O,X=Y;switch(H.inputColorType){case Q.COLORTYPE_COLOR_ALPHA:X=J[he+3],v=J[he],S=J[he+1],O=J[he+2];break;case Q.COLORTYPE_COLOR:v=J[he],S=J[he+1],O=J[he+2];break;case Q.COLORTYPE_ALPHA:X=J[he+1],v=J[he],S=v,O=v;break;case Q.COLORTYPE_GRAYSCALE:v=J[he],S=v,O=v;break;default:throw new Error("input color type:"+H.inputColorType+" is not supported at present")}return H.inputHasAlpha&&(V||(X/=Y,v=Math.min(Math.max(Math.round((1-X)*Be.red+X*v),0),Y),S=Math.min(Math.max(Math.round((1-X)*Be.green+X*S),0),Y),O=Math.min(Math.max(Math.round((1-X)*Be.blue+X*O),0),Y))),{red:v,green:S,blue:O,alpha:X}}for(let v=0;v<O;v++)for(let v=0;v<S;v++){let v=p(J,he);switch(H.colorType){case Q.COLORTYPE_COLOR_ALPHA:case Q.COLORTYPE_COLOR:H.bitDepth===8?(ae[Ee]=v.red,ae[Ee+1]=v.green,ae[Ee+2]=v.blue,V&&(ae[Ee+3]=v.alpha)):(ae.writeUInt16BE(v.red,Ee),ae.writeUInt16BE(v.green,Ee+2),ae.writeUInt16BE(v.blue,Ee+4),V&&ae.writeUInt16BE(v.alpha,Ee+6));break;case Q.COLORTYPE_ALPHA:case Q.COLORTYPE_GRAYSCALE:{let S=(v.red+v.green+v.blue)/3;H.bitDepth===8?(ae[Ee]=S,V&&(ae[Ee+1]=v.alpha)):(ae.writeUInt16BE(S,Ee),V&&ae.writeUInt16BE(v.alpha,Ee+2));break}default:throw new Error("unrecognised color Type "+H.colorType)}he+=X,Ee+=ee}return ae}}));var _n=y(((v,S)=>{"use strict";var Q=Jt();function bp(v,S,Q,O,H){for(let V=0;V<Q;V++)O[H+V]=v[S+V]}function wp(v,S,Q){let O=0,H=S+Q;for(let Q=S;Q<H;Q++)O+=Math.abs(v[Q]);return O}function Ep(v,S,Q,O,H,V){for(let J=0;J<Q;J++){let Q=J>=V?v[S+J-V]:0,Y=v[S+J]-Q;O[H+J]=Y}}function Sp(v,S,Q,O){let H=0;for(let V=0;V<Q;V++){let Q=V>=O?v[S+V-O]:0,J=v[S+V]-Q;H+=Math.abs(J)}return H}function kp(v,S,Q,O,H){for(let V=0;V<Q;V++){let J=S>0?v[S+V-Q]:0,Y=v[S+V]-J;O[H+V]=Y}}function Cp(v,S,Q){let O=0,H=S+Q;for(let V=S;V<H;V++){let H=S>0?v[V-Q]:0,J=v[V]-H;O+=Math.abs(J)}return O}function Op(v,S,Q,O,H,V){for(let J=0;J<Q;J++){let Y=J>=V?v[S+J-V]:0,X=S>0?v[S+J-Q]:0,ee=v[S+J]-(Y+X>>1);O[H+J]=ee}}function Ip(v,S,Q,O){let H=0;for(let V=0;V<Q;V++){let J=V>=O?v[S+V-O]:0,Y=S>0?v[S+V-Q]:0,X=v[S+V]-(J+Y>>1);H+=Math.abs(X)}return H}function Tp(v,S,O,H,V,J){for(let Y=0;Y<O;Y++){let X=Y>=J?v[S+Y-J]:0,ee=S>0?v[S+Y-O]:0,ae=S>0&&Y>=J?v[S+Y-(O+J)]:0,he=v[S+Y]-Q(X,ee,ae);H[V+Y]=he}}function Ap(v,S,O,H){let V=0;for(let J=0;J<O;J++){let Y=J>=H?v[S+J-H]:0,X=S>0?v[S+J-O]:0,ee=S>0&&J>=H?v[S+J-(O+H)]:0,ae=v[S+J]-Q(Y,X,ee);V+=Math.abs(ae)}return V}var O={0:bp,1:Ep,2:kp,3:Op,4:Tp},H={0:wp,1:Sp,2:Cp,3:Ip,4:Ap};S.exports=function(v,S,Q,V,J){let Y;if(!("filterType"in V)||V.filterType===-1)Y=[0,1,2,3,4];else if(typeof V.filterType=="number")Y=[V.filterType];else throw new Error("unrecognised filter types");V.bitDepth===16&&(J*=2);let X=S*J,ee=0,ae=0,he=Buffer.alloc((X+1)*Q),Ee=Y[0];for(let S=0;S<Q;S++){if(Y.length>1){let S=1/0;for(let Q=0;Q<Y.length;Q++){let O=H[Y[Q]](v,ae,X,J);O<S&&(Ee=Y[Q],S=O)}}he[ee]=Ee,ee++,O[Ee](v,ae,X,he,ee,J),ee+=X,ae+=X}return he}}));var yn=y(((v,S)=>{"use strict";var O=cn(),H=dn(),V=Cn(),J=_n(),Y=Q(9796),X=S.exports=function(v){if(this._options=v,v.deflateChunkSize=v.deflateChunkSize||32*1024,v.deflateLevel=v.deflateLevel!=null?v.deflateLevel:9,v.deflateStrategy=v.deflateStrategy!=null?v.deflateStrategy:3,v.inputHasAlpha=v.inputHasAlpha!=null?v.inputHasAlpha:!0,v.deflateFactory=v.deflateFactory||Y.createDeflate,v.bitDepth=v.bitDepth||8,v.colorType=typeof v.colorType=="number"?v.colorType:O.COLORTYPE_COLOR_ALPHA,v.inputColorType=typeof v.inputColorType=="number"?v.inputColorType:O.COLORTYPE_COLOR_ALPHA,[O.COLORTYPE_GRAYSCALE,O.COLORTYPE_COLOR,O.COLORTYPE_COLOR_ALPHA,O.COLORTYPE_ALPHA].indexOf(v.colorType)===-1)throw new Error("option color type:"+v.colorType+" is not supported at present");if([O.COLORTYPE_GRAYSCALE,O.COLORTYPE_COLOR,O.COLORTYPE_COLOR_ALPHA,O.COLORTYPE_ALPHA].indexOf(v.inputColorType)===-1)throw new Error("option input color type:"+v.inputColorType+" is not supported at present");if(v.bitDepth!==8&&v.bitDepth!==16)throw new Error("option bit depth:"+v.bitDepth+" is not supported at present")};X.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};X.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};X.prototype.filterData=function(v,S,Q){let H=V(v,S,Q,this._options),Y=O.COLORTYPE_TO_BPP_MAP[this._options.colorType];return J(H,S,Q,this._options,Y)};X.prototype._packChunk=function(v,S){let Q=S?S.length:0,O=Buffer.alloc(Q+12);return O.writeUInt32BE(Q,0),O.writeUInt32BE(v,4),S&&S.copy(O,8),O.writeInt32BE(H.crc32(O.slice(4,O.length-4)),O.length-4),O};X.prototype.packGAMA=function(v){let S=Buffer.alloc(4);return S.writeUInt32BE(Math.floor(v*O.GAMMA_DIVISION),0),this._packChunk(O.TYPE_gAMA,S)};X.prototype.packIHDR=function(v,S){let Q=Buffer.alloc(13);return Q.writeUInt32BE(v,0),Q.writeUInt32BE(S,4),Q[8]=this._options.bitDepth,Q[9]=this._options.colorType,Q[10]=0,Q[11]=0,Q[12]=0,this._packChunk(O.TYPE_IHDR,Q)};X.prototype.packIDAT=function(v){return this._packChunk(O.TYPE_IDAT,v)};X.prototype.packIEND=function(){return this._packChunk(O.TYPE_IEND,null)}}));var In=y(((v,S)=>{"use strict";var O=Q(3837),H=Q(2781),V=cn(),J=yn(),Y=S.exports=function(v){H.call(this);let S=v||{};this._packer=new J(S),this._deflate=this._packer.createDeflate(),this.readable=!0};O.inherits(Y,H);Y.prototype.pack=function(v,S,Q,O){this.emit("data",Buffer.from(V.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(S,Q)),O&&this.emit("data",this._packer.packGAMA(O));let H=this._packer.filterData(v,S,Q);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(v){this.emit("data",this._packer.packIDAT(v))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(H)}}));var Sn=y(((v,S)=>{"use strict";var O=Q(9491).ok,H=Q(9796),V=Q(3837),J=Q(4300).kMaxLength;function St(v){if(!(this instanceof St))return new St(v);v&&v.chunkSize<H.Z_MIN_CHUNK&&(v.chunkSize=H.Z_MIN_CHUNK),H.Inflate.call(this,v),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,v&&v.maxLength!=null&&(this._maxLength=v.maxLength)}function qp(v){return new St(v)}function rl(v,S){S&&process.nextTick(S),v._handle&&(v._handle.close(),v._handle=null)}St.prototype._processChunk=function(v,S,Q){if(typeof Q=="function")return H.Inflate._processChunk.call(this,v,S,Q);let V=this,Y=v&&v.length,X=this._chunkSize-this._offset,ee=this._maxLength,ae=0,he=[],Ee=0,Be;this.on("error",(function(v){Be=v}));function f(v,S){if(V._hadError)return;let Q=X-S;if(O(Q>=0,"have should not go down"),Q>0){let v=V._buffer.slice(V._offset,V._offset+Q);if(V._offset+=Q,v.length>ee&&(v=v.slice(0,ee)),he.push(v),Ee+=v.length,ee-=v.length,ee===0)return!1}return(S===0||V._offset>=V._chunkSize)&&(X=V._chunkSize,V._offset=0,V._buffer=Buffer.allocUnsafe(V._chunkSize)),S===0?(ae+=Y-v,Y=v,!0):!1}O(this._handle,"zlib binding closed");let ke;do{ke=this._handle.writeSync(S,v,ae,Y,this._buffer,this._offset,X),ke=ke||this._writeState}while(!this._hadError&&f(ke[0],ke[1]));if(this._hadError)throw Be;if(Ee>=J)throw rl(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+J.toString(16)+" bytes");let Re=Buffer.concat(he,Ee);return rl(this),Re};V.inherits(St,H.Inflate);function Hp(v,S){if(typeof S=="string"&&(S=Buffer.from(S)),!(S instanceof Buffer))throw new TypeError("Not a string or buffer");let Q=v._finishFlushFlag;return Q==null&&(Q=H.Z_FINISH),v._processChunk(S,Q)}function nl(v,S){return Hp(new St(S),v)}S.exports=v=nl;v.Inflate=St;v.createInflate=qp;v.inflateSync=nl}));var Bn=y(((v,S)=>{"use strict";var Q=S.exports=function(v){this._buffer=v,this._reads=[]};Q.prototype.read=function(v,S){this._reads.push({length:Math.abs(v),allowLess:v<0,func:S})};Q.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let v=this._reads[0];if(this._buffer.length&&(this._buffer.length>=v.length||v.allowLess)){this._reads.shift();let S=this._buffer;this._buffer=S.slice(v.length),v.func.call(this,S.slice(0,v.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}}));var kn=y((v=>{"use strict";var S=Bn(),Q=sn();v.process=function(v,O){let H=[],V=new S(v);return new Q(O,{read:V.read.bind(V),write:function(v){H.push(v)},complete:function(){}}).start(),V.process(),Buffer.concat(H)}}));var Qn=y(((v,S)=>{"use strict";var O=!0,H=Q(9796),V=Sn();H.deflateSync||(O=!1);var J=Bn(),Y=kn(),X=An(),ee=gn(),ae=En();S.exports=function(v,S){if(!O)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let Q;function r(v){Q=v}let he;function s(v){he=v}function o(v){he.transColor=v}function l(v){he.palette=v}function a(){he.alpha=!0}let Ee;function u(v){Ee=v}let Be=[];function h(v){Be.push(v)}let ke=new J(v);if(new X(S,{read:ke.read.bind(ke),error:r,metadata:s,gamma:u,palette:l,transColor:o,inflateData:h,simpleTransparency:a}).start(),ke.process(),Q)throw Q;let Re=Buffer.concat(Be);Be.length=0;let Oe;if(he.interlace)Oe=H.inflateSync(Re);else{let v=((he.width*he.bpp*he.depth+7>>3)+1)*he.height;Oe=V(Re,{chunkSize:v,maxLength:v})}if(Re=null,!Oe||!Oe.length)throw new Error("bad png - invalid inflate data response");let Pe=Y.process(Oe,he);Re=null;let Le=ee.dataToBitMap(Pe,he);Pe=null;let je=ae(Le,he,S.skipRescale);return he.data=je,he.gamma=Ee||0,he}}));var Tn=y(((v,S)=>{"use strict";var O=!0,H=Q(9796);H.deflateSync||(O=!1);var V=cn(),J=yn();S.exports=function(v,S){if(!O)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let Q=S||{},Y=new J(Q),X=[];X.push(Buffer.from(V.PNG_SIGNATURE)),X.push(Y.packIHDR(v.width,v.height)),v.gamma&&X.push(Y.packGAMA(v.gamma));let ee=Y.filterData(v.data,v.width,v.height),ae=H.deflateSync(ee,Y.getDeflateOptions());if(ee=null,!ae||!ae.length)throw new Error("bad png - invalid compressed data response");return X.push(Y.packIDAT(ae)),X.push(Y.packIEND()),Buffer.concat(X)}}));var Rn=y((v=>{"use strict";var S=Qn(),Q=Tn();v.read=function(v,Q){return S(v,Q||{})};v.write=function(v,S){return Q(v,S)}}));var Dn=y((v=>{"use strict";var S=Q(3837),O=Q(2781),H=wn(),V=In(),J=Rn(),Y=v.PNG=function(v){O.call(this),v=v||{},this.width=v.width|0,this.height=v.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,v.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new H(v),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(v){this.data=v,this.emit("parsed",v)}.bind(this)),this._packer=new V(v),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};S.inherits(Y,O);Y.sync=J;Y.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};Y.prototype.parse=function(v,S){if(S){let v,Q;v=function(v){this.removeListener("error",Q),this.data=v,S(null,this)}.bind(this),Q=function(Q){this.removeListener("parsed",v),S(Q,null)}.bind(this),this.once("parsed",v),this.once("error",Q)}return this.end(v),this};Y.prototype.write=function(v){return this._parser.write(v),!0};Y.prototype.end=function(v){this._parser.end(v)};Y.prototype._metadata=function(v){this.width=v.width,this.height=v.height,this.emit("metadata",v)};Y.prototype._gamma=function(v){this.gamma=v};Y.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};Y.bitblt=function(v,S,Q,O,H,V,J,Y){if(Q|=0,O|=0,H|=0,V|=0,J|=0,Y|=0,Q>v.width||O>v.height||Q+H>v.width||O+V>v.height)throw new Error("bitblt reading outside image");if(J>S.width||Y>S.height||J+H>S.width||Y+V>S.height)throw new Error("bitblt writing outside image");for(let X=0;X<V;X++)v.data.copy(S.data,(Y+X)*S.width+J<<2,(O+X)*v.width+Q<<2,(O+X)*v.width+Q+H<<2)};Y.prototype.bitblt=function(v,S,Q,O,H,V,J){return Y.bitblt(this,v,S,Q,O,H,V,J),this};Y.adjustGamma=function(v){if(v.gamma){for(let S=0;S<v.height;S++)for(let Q=0;Q<v.width;Q++){let O=v.width*S+Q<<2;for(let S=0;S<3;S++){let Q=v.data[O+S]/255;Q=Math.pow(Q,1/2.2/v.gamma),v.data[O+S]=Math.round(Q*255)}}v.gamma=0}};Y.prototype.adjustGamma=function(){Y.adjustGamma(this)}}));var On=y((v=>{var S=class extends Error{constructor(v,S,Q){super(Q),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=S,this.exitCode=v,this.nestedError=void 0}},Q=class extends S{constructor(v){super(1,"commander.invalidArgument",v),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};v.CommanderError=S;v.InvalidArgumentError=Q}));var Fn=y((v=>{var{InvalidArgumentError:S}=On(),Q=class{constructor(v,S){switch(this.description=S||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,v[0]){case"<":this.required=!0,this._name=v.slice(1,-1);break;case"[":this.required=!1,this._name=v.slice(1,-1);break;default:this.required=!0,this._name=v;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(v,S){return S===this.defaultValue||!Array.isArray(S)?[v]:S.concat(v)}default(v,S){return this.defaultValue=v,this.defaultValueDescription=S,this}argParser(v){return this.parseArg=v,this}choices(v){return this.argChoices=v,this.parseArg=(Q,O)=>{if(!v.includes(Q))throw new S(`Allowed choices are ${v.join(", ")}.`);return this.variadic?this._concatValue(Q,O):Q},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function od(v){let S=v.name()+(v.variadic===!0?"...":"");return v.required?"<"+S+">":"["+S+"]"}v.Argument=Q;v.humanReadableArgName=od}));var Pn=y((v=>{var{humanReadableArgName:S}=Fn(),Q=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1}visibleCommands(v){let S=v.commands.filter((v=>!v._hidden));if(v._hasImplicitHelpCommand()){let[,Q,O]=v._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),H=v.createCommand(Q).helpOption(!1);H.description(v._helpCommandDescription),O&&H.arguments(O),S.push(H)}return this.sortSubcommands&&S.sort(((v,S)=>v.name().localeCompare(S.name()))),S}visibleOptions(v){let S=v.options.filter((v=>!v.hidden)),Q=v._hasHelpOption&&v._helpShortFlag&&!v._findOption(v._helpShortFlag),O=v._hasHelpOption&&!v._findOption(v._helpLongFlag);if(Q||O){let H;Q?O?H=v.createOption(v._helpFlags,v._helpDescription):H=v.createOption(v._helpShortFlag,v._helpDescription):H=v.createOption(v._helpLongFlag,v._helpDescription),S.push(H)}if(this.sortOptions){let s=v=>v.short?v.short.replace(/^-/,""):v.long.replace(/^--/,"");S.sort(((v,S)=>s(v).localeCompare(s(S))))}return S}visibleArguments(v){return v._argsDescription&&v._args.forEach((S=>{S.description=S.description||v._argsDescription[S.name()]||""})),v._args.find((v=>v.description))?v._args:[]}subcommandTerm(v){let Q=v._args.map((v=>S(v))).join(" ");return v._name+(v._aliases[0]?"|"+v._aliases[0]:"")+(v.options.length?" [options]":"")+(Q?" "+Q:"")}optionTerm(v){return v.flags}argumentTerm(v){return v.name()}longestSubcommandTermLength(v,S){return S.visibleCommands(v).reduce(((v,Q)=>Math.max(v,S.subcommandTerm(Q).length)),0)}longestOptionTermLength(v,S){return S.visibleOptions(v).reduce(((v,Q)=>Math.max(v,S.optionTerm(Q).length)),0)}longestArgumentTermLength(v,S){return S.visibleArguments(v).reduce(((v,Q)=>Math.max(v,S.argumentTerm(Q).length)),0)}commandUsage(v){let S=v._name;v._aliases[0]&&(S=S+"|"+v._aliases[0]);let Q="";for(let S=v.parent;S;S=S.parent)Q=S.name()+" "+Q;return Q+S+" "+v.usage()}commandDescription(v){return v.description()}subcommandDescription(v){return v.description()}optionDescription(v){let S=[];return v.argChoices&&!v.negate&&S.push(`choices: ${v.argChoices.map((v=>JSON.stringify(v))).join(", ")}`),v.defaultValue!==void 0&&!v.negate&&S.push(`default: ${v.defaultValueDescription||JSON.stringify(v.defaultValue)}`),v.envVar!==void 0&&S.push(`env: ${v.envVar}`),S.length>0?`${v.description} (${S.join(", ")})`:v.description}argumentDescription(v){let S=[];if(v.argChoices&&S.push(`choices: ${v.argChoices.map((v=>JSON.stringify(v))).join(", ")}`),v.defaultValue!==void 0&&S.push(`default: ${v.defaultValueDescription||JSON.stringify(v.defaultValue)}`),S.length>0){let Q=`(${S.join(", ")})`;return v.description?`${v.description} ${Q}`:Q}return v.description}formatHelp(v,S){let Q=S.padWidth(v,S),O=S.helpWidth||80,H=2,V=2;function l(v,J){if(J){let Y=`${v.padEnd(Q+V)}${J}`;return S.wrap(Y,O-H,Q+V)}return v}function a(v){return v.join(`\n`).replace(/^/gm," ".repeat(H))}let J=[`Usage: ${S.commandUsage(v)}`,""],Y=S.commandDescription(v);Y.length>0&&(J=J.concat([Y,""]));let X=S.visibleArguments(v).map((v=>l(S.argumentTerm(v),S.argumentDescription(v))));X.length>0&&(J=J.concat(["Arguments:",a(X),""]));let ee=S.visibleOptions(v).map((v=>l(S.optionTerm(v),S.optionDescription(v))));ee.length>0&&(J=J.concat(["Options:",a(ee),""]));let ae=S.visibleCommands(v).map((v=>l(S.subcommandTerm(v),S.subcommandDescription(v))));return ae.length>0&&(J=J.concat(["Commands:",a(ae),""])),J.join(`\n`)}padWidth(v,S){return Math.max(S.longestOptionTermLength(v,S),S.longestSubcommandTermLength(v,S),S.longestArgumentTermLength(v,S))}wrap(v,S,Q,O=40){if(v.match(/[\n]\s+/))return v;let H=S-Q;if(H<O)return v;let V=v.substr(0,Q),J=v.substr(Q),Y=" ".repeat(Q),X=new RegExp(".{1,"+(H-1)+"}([\\s​]|$)|[^\\s​]+?([\\s​]|$)","g"),ee=J.match(X)||[];return V+ee.map(((v,S)=>(v.slice(-1)===`\n`&&(v=v.slice(0,v.length-1)),(S>0?Y:"")+v.trimRight()))).join(`\n`)}};v.Help=Q}));var Nn=y((v=>{var{InvalidArgumentError:S}=On(),Q=class{constructor(v,S){this.flags=v,this.description=S||"",this.required=v.includes("<"),this.optional=v.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(v),this.mandatory=!1;let Q=Sl(v);this.short=Q.shortFlag,this.long=Q.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0}default(v,S){return this.defaultValue=v,this.defaultValueDescription=S,this}env(v){return this.envVar=v,this}argParser(v){return this.parseArg=v,this}makeOptionMandatory(v=!0){return this.mandatory=!!v,this}hideHelp(v=!0){return this.hidden=!!v,this}_concatValue(v,S){return S===this.defaultValue||!Array.isArray(S)?[v]:S.concat(v)}choices(v){return this.argChoices=v,this.parseArg=(Q,O)=>{if(!v.includes(Q))throw new S(`Allowed choices are ${v.join(", ")}.`);return this.variadic?this._concatValue(Q,O):Q},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return cd(this.name().replace(/^no-/,""))}is(v){return this.short===v||this.long===v}};function cd(v){return v.split("-").reduce(((v,S)=>v+S[0].toUpperCase()+S.slice(1)))}function Sl(v){let S,Q,O=v.split(/[ |,]+/);return O.length>1&&!/^[[<]/.test(O[1])&&(S=O.shift()),Q=O.shift(),!S&&/^-[^-]$/.test(Q)&&(S=Q,Q=void 0),{shortFlag:S,longFlag:Q}}v.Option=Q;v.splitOptionFlags=Sl}));var Mn=y((v=>{function ud(v,S){if(Math.abs(v.length-S.length)>3)return Math.max(v.length,S.length);let Q=[];for(let S=0;S<=v.length;S++)Q[S]=[S];for(let v=0;v<=S.length;v++)Q[0][v]=v;for(let O=1;O<=S.length;O++)for(let H=1;H<=v.length;H++){let V=1;v[H-1]===S[O-1]?V=0:V=1,Q[H][O]=Math.min(Q[H-1][O]+1,Q[H][O-1]+1,Q[H-1][O-1]+V),H>1&&O>1&&v[H-1]===S[O-2]&&v[H-2]===S[O-1]&&(Q[H][O]=Math.min(Q[H][O],Q[H-2][O-2]+1))}return Q[v.length][S.length]}function fd(v,S){if(!S||S.length===0)return"";S=Array.from(new Set(S));let Q=v.startsWith("--");Q&&(v=v.slice(2),S=S.map((v=>v.slice(2))));let O=[],H=3,V=.4;return S.forEach((S=>{if(S.length<=1)return;let Q=ud(v,S),J=Math.max(v.length,S.length);(J-Q)/J>V&&(Q<H?(H=Q,O=[S]):Q===H&&O.push(S))})),O.sort(((v,S)=>v.localeCompare(S))),Q&&(O=O.map((v=>`--${v}`))),O.length>1?`\n(Did you mean one of ${O.join(", ")}?)`:O.length===1?`\n(Did you mean ${O[0]}?)`:""}v.suggestSimilar=fd}));var Ln=y((v=>{var S=Q(2361).EventEmitter,O=Q(2081),H=Q(1017),V=Q(7147),{Argument:J,humanReadableArgName:Y}=Fn(),{CommanderError:X}=On(),{Help:ee}=Pn(),{Option:ae,splitOptionFlags:he}=Nn(),{suggestSimilar:Ee}=Mn(),Be=class t extends S{constructor(v){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=v||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!1,this._outputConfiguration={writeOut:v=>process.stdout.write(v),writeErr:v=>process.stderr.write(v),getOutHelpWidth:()=>process.stdout.isTTY?process.stdout.columns:void 0,getErrHelpWidth:()=>process.stderr.isTTY?process.stderr.columns:void 0,outputError:(v,S)=>S(v)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(v){return this._outputConfiguration=v._outputConfiguration,this._hasHelpOption=v._hasHelpOption,this._helpFlags=v._helpFlags,this._helpDescription=v._helpDescription,this._helpShortFlag=v._helpShortFlag,this._helpLongFlag=v._helpLongFlag,this._helpCommandName=v._helpCommandName,this._helpCommandnameAndArgs=v._helpCommandnameAndArgs,this._helpCommandDescription=v._helpCommandDescription,this._helpConfiguration=v._helpConfiguration,this._exitCallback=v._exitCallback,this._storeOptionsAsProperties=v._storeOptionsAsProperties,this._combineFlagAndOptionalValue=v._combineFlagAndOptionalValue,this._allowExcessArguments=v._allowExcessArguments,this._enablePositionalOptions=v._enablePositionalOptions,this._showHelpAfterError=v._showHelpAfterError,this._showSuggestionAfterError=v._showSuggestionAfterError,this}command(v,S,Q){let O=S,H=Q;typeof O=="object"&&O!==null&&(H=O,O=null),H=H||{};let[,V,J]=v.match(/([^ ]+) *(.*)/),Y=this.createCommand(V);return O&&(Y.description(O),Y._executableHandler=!0),H.isDefault&&(this._defaultCommandName=Y._name),Y._hidden=!!(H.noHelp||H.hidden),Y._executableFile=H.executableFile||null,J&&Y.arguments(J),this.commands.push(Y),Y.parent=this,Y.copyInheritedSettings(this),O?this:Y}createCommand(v){return new t(v)}createHelp(){return Object.assign(new ee,this.configureHelp())}configureHelp(v){return v===void 0?this._helpConfiguration:(this._helpConfiguration=v,this)}configureOutput(v){return v===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,v),this)}showHelpAfterError(v=!0){return typeof v!="string"&&(v=!!v),this._showHelpAfterError=v,this}showSuggestionAfterError(v=!0){return this._showSuggestionAfterError=!!v,this}addCommand(v,S){if(!v._name)throw new Error("Command passed to .addCommand() must have a name");function r(v){v.forEach((v=>{if(v._executableHandler&&!v._executableFile)throw new Error(`Must specify executableFile for deeply nested executable: ${v.name()}`);r(v.commands)}))}return r(v.commands),S=S||{},S.isDefault&&(this._defaultCommandName=v._name),(S.noHelp||S.hidden)&&(v._hidden=!0),this.commands.push(v),v.parent=this,this}createArgument(v,S){return new J(v,S)}argument(v,S,Q,O){let H=this.createArgument(v,S);return typeof Q=="function"?H.default(O).argParser(Q):H.default(Q),this.addArgument(H),this}arguments(v){return v.split(/ +/).forEach((v=>{this.argument(v)})),this}addArgument(v){let S=this._args.slice(-1)[0];if(S&&S.variadic)throw new Error(`only the last argument can be variadic '${S.name()}'`);if(v.required&&v.defaultValue!==void 0&&v.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${v.name()}'`);return this._args.push(v),this}addHelpCommand(v,S){return v===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof v=="string"&&(this._helpCommandName=v.split(" ")[0],this._helpCommandnameAndArgs=v),this._helpCommandDescription=S||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(v,S){let Q=["preAction","postAction"];if(!Q.includes(v))throw new Error(`Unexpected value for event passed to hook : '${v}'.\nExpecting one of '${Q.join("', '")}'`);return this._lifeCycleHooks[v]?this._lifeCycleHooks[v].push(S):this._lifeCycleHooks[v]=[S],this}exitOverride(v){return v?this._exitCallback=v:this._exitCallback=v=>{if(v.code!=="commander.executeSubCommandAsync")throw v},this}_exit(v,S,Q){this._exitCallback&&this._exitCallback(new X(v,S,Q)),process.exit(v)}action(v){let i=S=>{let Q=this._args.length,O=S.slice(0,Q);return this._storeOptionsAsProperties?O[Q]=this:O[Q]=this.opts(),O.push(this),v.apply(this,O)};return this._actionHandler=i,this}createOption(v,S){return new ae(v,S)}addOption(v){let S=v.name(),Q=v.attributeName(),O=v.defaultValue;if(v.negate||v.optional||v.required||typeof O=="boolean"){if(v.negate){let S=v.long.replace(/^--no-/,"--");O=this._findOption(S)?this.getOptionValue(Q):!0}O!==void 0&&this.setOptionValueWithSource(Q,O,"default")}this.options.push(v);let s=(S,H,V)=>{let J=this.getOptionValue(Q);if(S!==null&&v.parseArg)try{S=v.parseArg(S,J===void 0?O:J)}catch(v){if(v.code==="commander.invalidArgument"){let S=`${H} ${v.message}`;this._displayError(v.exitCode,v.code,S)}throw v}else S!==null&&v.variadic&&(S=v._concatValue(S,J));typeof J=="boolean"||typeof J=="undefined"?S==null?this.setOptionValueWithSource(Q,v.negate?!1:O||!0,V):this.setOptionValueWithSource(Q,S,V):S!==null&&this.setOptionValueWithSource(Q,v.negate?!1:S,V)};return this.on("option:"+S,(S=>{let Q=`error: option '${v.flags}' argument '${S}' is invalid.`;s(S,Q,"cli")})),v.envVar&&this.on("optionEnv:"+S,(S=>{let Q=`error: option '${v.flags}' value '${S}' from env '${v.envVar}' is invalid.`;s(S,Q,"env")})),this}_optionEx(v,S,Q,O,H){let V=this.createOption(S,Q);if(V.makeOptionMandatory(!!v.mandatory),typeof O=="function")V.default(H).argParser(O);else if(O instanceof RegExp){let v=O;O=(S,Q)=>{let O=v.exec(S);return O?O[0]:Q},V.default(H).argParser(O)}else V.default(O);return this.addOption(V)}option(v,S,Q,O){return this._optionEx({},v,S,Q,O)}requiredOption(v,S,Q,O){return this._optionEx({mandatory:!0},v,S,Q,O)}combineFlagAndOptionalValue(v=!0){return this._combineFlagAndOptionalValue=!!v,this}allowUnknownOption(v=!0){return this._allowUnknownOption=!!v,this}allowExcessArguments(v=!0){return this._allowExcessArguments=!!v,this}enablePositionalOptions(v=!0){return this._enablePositionalOptions=!!v,this}passThroughOptions(v=!0){if(this._passThroughOptions=!!v,this.parent&&v&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(v=!0){if(this._storeOptionsAsProperties=!!v,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(v){return this._storeOptionsAsProperties?this[v]:this._optionValues[v]}setOptionValue(v,S){return this._storeOptionsAsProperties?this[v]=S:this._optionValues[v]=S,this}setOptionValueWithSource(v,S,Q){return this.setOptionValue(v,S),this._optionValueSources[v]=Q,this}getOptionValueSource(v){return this._optionValueSources[v]}_prepareUserArgs(v,S){if(v!==void 0&&!Array.isArray(v))throw new Error("first parameter to parse must be array or undefined");S=S||{},v===void 0&&(v=process.argv,process.versions&&process.versions.electron&&(S.from="electron")),this.rawArgs=v.slice();let Q;switch(S.from){case void 0:case"node":this._scriptPath=v[1],Q=v.slice(2);break;case"electron":process.defaultApp?(this._scriptPath=v[1],Q=v.slice(2)):Q=v.slice(1);break;case"user":Q=v.slice(0);break;default:throw new Error(`unexpected parse option { from: '${S.from}' }`)}return!this._scriptPath&&require.main&&(this._scriptPath=require.main.filename),this._name=this._name||this._scriptPath&&H.basename(this._scriptPath,H.extname(this._scriptPath)),Q}parse(v,S){let Q=this._prepareUserArgs(v,S);return this._parseCommand([],Q),this}async parseAsync(v,S){let Q=this._prepareUserArgs(v,S);return await this._parseCommand([],Q),this}_executeSubCommand(v,S){S=S.slice();let Q=!1,J=[".js",".ts",".tsx",".mjs",".cjs"];this._checkForMissingMandatoryOptions();let Y=this._scriptPath;!Y&&require.main&&(Y=require.main.filename);let ee;try{let v=V.realpathSync(Y);ee=H.dirname(v)}catch{ee="."}let ae=H.basename(Y,H.extname(Y))+"-"+v._name;v._executableFile&&(ae=v._executableFile);let he=H.join(ee,ae);V.existsSync(he)?ae=he:J.forEach((v=>{V.existsSync(`${he}${v}`)&&(ae=`${he}${v}`)})),Q=J.includes(H.extname(ae));let Ee;process.platform!=="win32"?Q?(S.unshift(ae),S=Tl(process.execArgv).concat(S),Ee=O.spawn(process.argv[0],S,{stdio:"inherit"})):Ee=O.spawn(ae,S,{stdio:"inherit"}):(S.unshift(ae),S=Tl(process.execArgv).concat(S),Ee=O.spawn(process.execPath,S,{stdio:"inherit"})),["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((v=>{process.on(v,(()=>{Ee.killed===!1&&Ee.exitCode===null&&Ee.kill(v)}))}));let Be=this._exitCallback;Be?Ee.on("close",(()=>{Be(new X(process.exitCode||0,"commander.executeSubCommandAsync","(close)"))})):Ee.on("close",process.exit.bind(process)),Ee.on("error",(S=>{if(S.code==="ENOENT"){let S=`'${ae}' does not exist\n - if '${v._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name`;throw new Error(S)}else if(S.code==="EACCES")throw new Error(`'${ae}' not executable`);if(!Be)process.exit(1);else{let v=new X(1,"commander.executeSubCommandAsync","(error)");v.nestedError=S,Be(v)}})),this.runningCommand=Ee}_dispatchSubcommand(v,S,Q){let O=this._findCommand(v);if(O||this.help({error:!0}),O._executableHandler)this._executeSubCommand(O,S.concat(Q));else return O._parseCommand(S,Q)}_checkNumberOfArguments(){this._args.forEach(((v,S)=>{v.required&&this.args[S]==null&&this.missingArgument(v.name())})),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let e=(v,S,Q)=>{let O=S;if(S!==null&&v.parseArg)try{O=v.parseArg(S,Q)}catch(Q){if(Q.code==="commander.invalidArgument"){let O=`error: command-argument value '${S}' is invalid for argument '${v.name()}'. ${Q.message}`;this._displayError(Q.exitCode,Q.code,O)}throw Q}return O};this._checkNumberOfArguments();let v=[];this._args.forEach(((S,Q)=>{let O=S.defaultValue;S.variadic?Q<this.args.length?(O=this.args.slice(Q),S.parseArg&&(O=O.reduce(((v,Q)=>e(S,Q,v)),S.defaultValue))):O===void 0&&(O=[]):Q<this.args.length&&(O=this.args[Q],S.parseArg&&(O=e(S,O,S.defaultValue))),v[Q]=O})),this.processedArgs=v}_chainOrCall(v,S){return v&&v.then&&typeof v.then=="function"?v.then((()=>S())):S()}_chainOrCallHooks(v,S){let Q=v,O=[];return bn(this).reverse().filter((v=>v._lifeCycleHooks[S]!==void 0)).forEach((v=>{v._lifeCycleHooks[S].forEach((S=>{O.push({hookedCommand:v,callback:S})}))})),S==="postAction"&&O.reverse(),O.forEach((v=>{Q=this._chainOrCall(Q,(()=>v.callback(v.hookedCommand,this)))})),Q}_parseCommand(v,S){let Q=this.parseOptions(S);if(this._parseOptionsEnv(),v=v.concat(Q.operands),S=Q.unknown,this.args=v.concat(S),v&&this._findCommand(v[0]))return this._dispatchSubcommand(v[0],v.slice(1),S);if(this._hasImplicitHelpCommand()&&v[0]===this._helpCommandName)return v.length===1&&this.help(),this._dispatchSubcommand(v[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return Il(this,S),this._dispatchSubcommand(this._defaultCommandName,v,S);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Il(this,Q.unknown),this._checkForMissingMandatoryOptions();let n=()=>{Q.unknown.length>0&&this.unknownOption(Q.unknown[0])},O=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let Q;return Q=this._chainOrCallHooks(Q,"preAction"),Q=this._chainOrCall(Q,(()=>this._actionHandler(this.processedArgs))),this.parent&&this.parent.emit(O,v,S),Q=this._chainOrCallHooks(Q,"postAction"),Q}if(this.parent&&this.parent.listenerCount(O))n(),this._processArguments(),this.parent.emit(O,v,S);else if(v.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",v,S);this.listenerCount("command:*")?this.emit("command:*",v,S):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(v){if(v)return this.commands.find((S=>S._name===v||S._aliases.includes(v)))}_findOption(v){return this.options.find((S=>S.is(v)))}_checkForMissingMandatoryOptions(){for(let v=this;v;v=v.parent)v.options.forEach((S=>{S.mandatory&&v.getOptionValue(S.attributeName())===void 0&&v.missingMandatoryOptionValue(S)}))}parseOptions(v){let S=[],Q=[],O=S,H=v.slice();function o(v){return v.length>1&&v[0]==="-"}let V=null;for(;H.length;){let v=H.shift();if(v==="--"){O===Q&&O.push(v),O.push(...H);break}if(V&&!o(v)){this.emit(`option:${V.name()}`,v);continue}if(V=null,o(v)){let S=this._findOption(v);if(S){if(S.required){let v=H.shift();v===void 0&&this.optionMissingArgument(S),this.emit(`option:${S.name()}`,v)}else if(S.optional){let v=null;H.length>0&&!o(H[0])&&(v=H.shift()),this.emit(`option:${S.name()}`,v)}else this.emit(`option:${S.name()}`);V=S.variadic?S:null;continue}}if(v.length>2&&v[0]==="-"&&v[1]!=="-"){let S=this._findOption(`-${v[1]}`);if(S){S.required||S.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${S.name()}`,v.slice(2)):(this.emit(`option:${S.name()}`),H.unshift(`-${v.slice(2)}`));continue}}if(/^--[^=]+=/.test(v)){let S=v.indexOf("="),Q=this._findOption(v.slice(0,S));if(Q&&(Q.required||Q.optional)){this.emit(`option:${Q.name()}`,v.slice(S+1));continue}}if(o(v)&&(O=Q),(this._enablePositionalOptions||this._passThroughOptions)&&S.length===0&&Q.length===0){if(this._findCommand(v)){S.push(v),H.length>0&&Q.push(...H);break}else if(v===this._helpCommandName&&this._hasImplicitHelpCommand()){S.push(v),H.length>0&&S.push(...H);break}else if(this._defaultCommandName){Q.push(v),H.length>0&&Q.push(...H);break}}if(this._passThroughOptions){O.push(v),H.length>0&&O.push(...H);break}O.push(v)}return{operands:S,unknown:Q}}opts(){if(this._storeOptionsAsProperties){let v={},S=this.options.length;for(let Q=0;Q<S;Q++){let S=this.options[Q].attributeName();v[S]=S===this._versionOptionName?this._version:this[S]}return v}return this._optionValues}_displayError(v,S,Q){this._outputConfiguration.outputError(`${Q}\n`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`\n`),this.outputHelp({error:!0})),this._exit(v,S,Q)}_parseOptionsEnv(){this.options.forEach((v=>{if(v.envVar&&v.envVar in process.env){let S=v.attributeName();(this.getOptionValue(S)===void 0||["default","config","env"].includes(this.getOptionValueSource(S)))&&(v.required||v.optional?this.emit(`optionEnv:${v.name()}`,process.env[v.envVar]):this.emit(`optionEnv:${v.name()}`))}}))}missingArgument(v){let S=`error: missing required argument '${v}'`;this._displayError(1,"commander.missingArgument",S)}optionMissingArgument(v){let S=`error: option '${v.flags}' argument missing`;this._displayError(1,"commander.optionMissingArgument",S)}missingMandatoryOptionValue(v){let S=`error: required option '${v.flags}' not specified`;this._displayError(1,"commander.missingMandatoryOptionValue",S)}unknownOption(v){if(this._allowUnknownOption)return;let S="";if(v.startsWith("--")&&this._showSuggestionAfterError){let Q=[],O=this;do{let v=O.createHelp().visibleOptions(O).filter((v=>v.long)).map((v=>v.long));Q=Q.concat(v),O=O.parent}while(O&&!O._enablePositionalOptions);S=Ee(v,Q)}let Q=`error: unknown option '${v}'${S}`;this._displayError(1,"commander.unknownOption",Q)}_excessArguments(v){if(this._allowExcessArguments)return;let S=this._args.length,Q=S===1?"":"s",O=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${S} argument${Q} but got ${v.length}.`;this._displayError(1,"commander.excessArguments",O)}unknownCommand(){let v=this.args[0],S="";if(this._showSuggestionAfterError){let Q=[];this.createHelp().visibleCommands(this).forEach((v=>{Q.push(v.name()),v.alias()&&Q.push(v.alias())})),S=Ee(v,Q)}let Q=`error: unknown command '${v}'${S}`;this._displayError(1,"commander.unknownCommand",Q)}version(v,S,Q){if(v===void 0)return this._version;this._version=v,S=S||"-V, --version",Q=Q||"output the version number";let O=this.createOption(S,Q);return this._versionOptionName=O.attributeName(),this.options.push(O),this.on("option:"+O.name(),(()=>{this._outputConfiguration.writeOut(`${v}\n`),this._exit(0,"commander.version",v)})),this}description(v,S){return v===void 0&&S===void 0?this._description:(this._description=v,S&&(this._argsDescription=S),this)}alias(v){if(v===void 0)return this._aliases[0];let S=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(S=this.commands[this.commands.length-1]),v===S._name)throw new Error("Command alias can't be the same as its name");return S._aliases.push(v),this}aliases(v){return v===void 0?this._aliases:(v.forEach((v=>this.alias(v))),this)}usage(v){if(v===void 0){if(this._usage)return this._usage;let v=this._args.map((v=>Y(v)));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?v:[]).join(" ")}return this._usage=v,this}name(v){return v===void 0?this._name:(this._name=v,this)}helpInformation(v){let S=this.createHelp();return S.helpWidth===void 0&&(S.helpWidth=v&&v.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),S.formatHelp(this,S)}_getHelpContext(v){v=v||{};let S={error:!!v.error},Q;return S.error?Q=v=>this._outputConfiguration.writeErr(v):Q=v=>this._outputConfiguration.writeOut(v),S.write=v.write||Q,S.command=this,S}outputHelp(v){let S;typeof v=="function"&&(S=v,v=void 0);let Q=this._getHelpContext(v);bn(this).reverse().forEach((v=>v.emit("beforeAllHelp",Q))),this.emit("beforeHelp",Q);let O=this.helpInformation(Q);if(S&&(O=S(O),typeof O!="string"&&!Buffer.isBuffer(O)))throw new Error("outputHelp callback must return a string or a Buffer");Q.write(O),this.emit(this._helpLongFlag),this.emit("afterHelp",Q),bn(this).forEach((v=>v.emit("afterAllHelp",Q)))}helpOption(v,S){if(typeof v=="boolean")return this._hasHelpOption=v,this;this._helpFlags=v||this._helpFlags,this._helpDescription=S||this._helpDescription;let Q=he(this._helpFlags);return this._helpShortFlag=Q.shortFlag,this._helpLongFlag=Q.longFlag,this}help(v){this.outputHelp(v);let S=process.exitCode||0;S===0&&v&&typeof v!="function"&&v.error&&(S=1),this._exit(S,"commander.help","(outputHelp)")}addHelpText(v,S){let Q=["beforeAll","before","after","afterAll"];if(!Q.includes(v))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${Q.join("', '")}'`);let O=`${v}Help`;return this.on(O,(v=>{let Q;typeof S=="function"?Q=S({error:v.error,command:v.command}):Q=S,Q&&v.write(`${Q}\n`)})),this}};function Il(v,S){v._hasHelpOption&&S.find((S=>S===v._helpLongFlag||S===v._helpShortFlag))&&(v.outputHelp(),v._exit(0,"commander.helpDisplayed","(outputHelp)"))}function Tl(v){return v.map((v=>{if(!v.startsWith("--inspect"))return v;let S,Q="127.0.0.1",O="9229",H;return(H=v.match(/^(--inspect(-brk)?)$/))!==null?S=H[1]:(H=v.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(S=H[1],/^\d+$/.test(H[3])?O=H[3]:Q=H[3]):(H=v.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(S=H[1],Q=H[3],O=H[4]),S&&O!=="0"?`${S}=${Q}:${parseInt(O)+1}`:v}))}function bn(v){let S=[];for(let Q=v;Q;Q=Q.parent)S.push(Q);return S}v.Command=Be}));var Hn=y(((v,S)=>{var{Argument:Q}=Fn(),{Command:O}=Ln(),{CommanderError:H,InvalidArgumentError:V}=On(),{Help:J}=Pn(),{Option:Y}=Nn();v=S.exports=new O;v.program=v;v.Argument=Q;v.Command=O;v.CommanderError=H;v.Help=J;v.InvalidArgumentError=V;v.InvalidOptionArgumentError=V;v.Option=Y}));var Un=y(((v,S)=>{v=S.exports=Zt;function Zt(v,S){if(this.stream=S.stream||process.stderr,typeof S=="number"){var Q=S;S={},S.total=Q}else{if(S=S||{},typeof v!="string")throw new Error("format required");if(typeof S.total!="number")throw new Error("total required")}this.fmt=v,this.curr=S.curr||0,this.total=S.total,this.width=S.width||this.total,this.clear=S.clear,this.chars={complete:S.complete||"=",incomplete:S.incomplete||"-",head:S.head||S.complete||"="},this.renderThrottle=S.renderThrottle!==0?S.renderThrottle||16:0,this.lastRender=-1/0,this.callback=S.callback||function(){},this.tokens={},this.lastDraw=""}Zt.prototype.tick=function(v,S){if(v!==0&&(v=v||1),typeof v=="object"&&(S=v,v=1),S&&(this.tokens=S),this.curr==0&&(this.start=new Date),this.curr+=v,this.render(),this.curr>=this.total){this.render(void 0,!0),this.complete=!0,this.terminate(),this.callback(this);return}};Zt.prototype.render=function(v,S){if(S=S!==void 0?S:!1,v&&(this.tokens=v),!!this.stream.isTTY){var Q=Date.now(),O=Q-this.lastRender;if(!(!S&&O<this.renderThrottle)){this.lastRender=Q;var H=this.curr/this.total;H=Math.min(Math.max(H,0),1);var V=Math.floor(H*100),J,Y,X,ee=new Date-this.start,ae=V==100?0:ee*(this.total/this.curr-1),he=this.curr/(ee/1e3),Ee=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(ee)?"0.0":(ee/1e3).toFixed(1)).replace(":eta",isNaN(ae)||!isFinite(ae)?"0.0":(ae/1e3).toFixed(1)).replace(":percent",V.toFixed(0)+"%").replace(":rate",Math.round(he)),Be=Math.max(0,this.stream.columns-Ee.replace(":bar","").length);Be&&process.platform==="win32"&&(Be=Be-1);var ke=Math.min(this.width,Be);if(X=Math.round(ke*H),Y=Array(Math.max(0,X+1)).join(this.chars.complete),J=Array(Math.max(0,ke-X+1)).join(this.chars.incomplete),X>0&&(Y=Y.slice(0,-1)+this.chars.head),Ee=Ee.replace(":bar",Y+J),this.tokens)for(var Re in this.tokens)Ee=Ee.replace(":"+Re,this.tokens[Re]);this.lastDraw!==Ee&&(this.stream.cursorTo(0),this.stream.write(Ee),this.stream.clearLine(1),this.lastDraw=Ee)}}};Zt.prototype.update=function(v,S){var Q=Math.floor(v*this.total),O=Q-this.curr;this.tick(O,S)};Zt.prototype.interrupt=function(v){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(v),this.stream.write(`\n`),this.stream.write(this.lastDraw)};Zt.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write(`\n`)}}));var jn=y(((v,S)=>{S.exports=Un()}));var Wn=y((v=>{var S=v,{Buffer:O}=Q(4300),H=Q(2037);S.toBuffer=function(v,S,Q){Q=~~Q;let H;if(this.isV4Format(v))H=S||O.alloc(Q+4),v.split(/\./g).map((v=>{H[Q++]=parseInt(v,10)&255}));else if(this.isV6Format(v)){let V=v.split(":",8),J;for(J=0;J<V.length;J++){let v=this.isV4Format(V[J]),S;v&&(S=this.toBuffer(V[J]),V[J]=S.slice(0,2).toString("hex")),S&&++J<8&&V.splice(J,0,S.slice(2,4).toString("hex"))}if(V[0]==="")for(;V.length<8;)V.unshift("0");else if(V[V.length-1]==="")for(;V.length<8;)V.push("0");else if(V.length<8){for(J=0;J<V.length&&V[J]!=="";J++);let v=[J,1];for(J=9-V.length;J>0;J--)v.push("0");V.splice(...v)}for(H=S||O.alloc(Q+16),J=0;J<V.length;J++){let v=parseInt(V[J],16);H[Q++]=v>>8&255,H[Q++]=v&255}}if(!H)throw Error(`Invalid ip address: ${v}`);return H};S.toString=function(v,S,Q){S=~~S,Q=Q||v.length-S;let O=[];if(Q===4){for(let H=0;H<Q;H++)O.push(v[S+H]);O=O.join(".")}else if(Q===16){for(let H=0;H<Q;H+=2)O.push(v.readUInt16BE(S+H).toString(16));O=O.join(":"),O=O.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),O=O.replace(/:{3,4}/,"::")}return O};var V=/^(\d{1,3}\.){3,3}\d{1,3}$/,J=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;S.isV4Format=function(v){return V.test(v)};S.isV6Format=function(v){return J.test(v)};function Ei(v){return v===4?"ipv4":v===6?"ipv6":v?v.toLowerCase():"ipv4"}S.fromPrefixLen=function(v,Q){v>32?Q="ipv6":Q=Ei(Q);let H=4;Q==="ipv6"&&(H=16);let V=O.alloc(H);for(let S=0,Q=V.length;S<Q;++S){let Q=8;v<8&&(Q=v),v-=Q,V[S]=~(255>>Q)&255}return S.toString(V)};S.mask=function(v,Q){v=S.toBuffer(v),Q=S.toBuffer(Q);let H=O.alloc(Math.max(v.length,Q.length)),V;if(v.length===Q.length)for(V=0;V<v.length;V++)H[V]=v[V]&Q[V];else if(Q.length===4)for(V=0;V<Q.length;V++)H[V]=v[v.length-4+V]&Q[V];else{for(V=0;V<H.length-6;V++)H[V]=0;for(H[10]=255,H[11]=255,V=0;V<v.length;V++)H[V+12]=v[V]&Q[V+12];V+=12}for(;V<H.length;V++)H[V]=0;return S.toString(H)};S.cidr=function(v){let Q=v.split("/"),O=Q[0];if(Q.length!==2)throw new Error(`invalid CIDR subnet: ${O}`);let H=S.fromPrefixLen(parseInt(Q[1],10));return S.mask(O,H)};S.subnet=function(v,Q){let O=S.toLong(S.mask(v,Q)),H=S.toBuffer(Q),V=0;for(let v=0;v<H.length;v++)if(H[v]===255)V+=8;else{let S=H[v]&255;for(;S;)S=S<<1&255,V++}let J=2**(32-V);return{networkAddress:S.fromLong(O),firstAddress:J<=2?S.fromLong(O):S.fromLong(O+1),lastAddress:J<=2?S.fromLong(O+J-1):S.fromLong(O+J-2),broadcastAddress:S.fromLong(O+J-1),subnetMask:Q,subnetMaskLength:V,numHosts:J<=2?J:J-2,length:J,contains(v){return O===S.toLong(S.mask(v,Q))}}};S.cidrSubnet=function(v){let Q=v.split("/"),O=Q[0];if(Q.length!==2)throw new Error(`invalid CIDR subnet: ${O}`);let H=S.fromPrefixLen(parseInt(Q[1],10));return S.subnet(O,H)};S.not=function(v){let Q=S.toBuffer(v);for(let v=0;v<Q.length;v++)Q[v]=255^Q[v];return S.toString(Q)};S.or=function(v,Q){if(v=S.toBuffer(v),Q=S.toBuffer(Q),v.length===Q.length){for(let S=0;S<v.length;++S)v[S]|=Q[S];return S.toString(v)}let O=v,H=Q;Q.length>v.length&&(O=Q,H=v);let V=O.length-H.length;for(let v=V;v<O.length;++v)O[v]|=H[v-V];return S.toString(O)};S.isEqual=function(v,Q){if(v=S.toBuffer(v),Q=S.toBuffer(Q),v.length===Q.length){for(let S=0;S<v.length;S++)if(v[S]!==Q[S])return!1;return!0}if(Q.length===4){let S=Q;Q=v,v=S}for(let v=0;v<10;v++)if(Q[v]!==0)return!1;let O=Q.readUInt16BE(10);if(O!==0&&O!==65535)return!1;for(let S=0;S<4;S++)if(v[S]!==Q[S+12])return!1;return!0};S.isPrivate=function(v){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(v)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(v)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(v)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(v)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(v)||/^f[cd][0-9a-f]{2}:/i.test(v)||/^fe80:/i.test(v)||/^::1$/.test(v)||/^::$/.test(v)};S.isPublic=function(v){return!S.isPrivate(v)};S.isLoopback=function(v){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(v)||/^fe80::1$/.test(v)||/^::1$/.test(v)||/^::$/.test(v)};S.loopback=function(v){if(v=Ei(v),v!=="ipv4"&&v!=="ipv6")throw new Error("family must be ipv4 or ipv6");return v==="ipv4"?"127.0.0.1":"fe80::1"};S.address=function(v,Q){let O=H.networkInterfaces();if(Q=Ei(Q),v&&v!=="private"&&v!=="public"){let S=O[v].filter((v=>Ei(v.family)===Q));return S.length===0?void 0:S[0].address}let V=Object.keys(O).map((H=>{let V=O[H].filter((O=>(O.family=Ei(O.family),O.family!==Q||S.isLoopback(O.address)?!1:v?v==="public"?S.isPrivate(O.address):S.isPublic(O.address):!0)));return V.length?V[0].address:void 0})).filter(Boolean);return V.length?V[0]:S.loopback(Q)};S.toLong=function(v){let S=0;return v.split(".").forEach((v=>{S<<=8,S+=parseInt(v)})),S>>>0};S.fromLong=function(v){return`${v>>>24}.${v>>16&255}.${v>>8&255}.${v&255}`}}));var Vn=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});var S=Q(4300),O={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};v.ERRORS=O;function kd(v){if(!S.Buffer.isEncoding(v))throw new Error(O.INVALID_ENCODING)}v.checkEncoding=kd;function $l(v){return typeof v=="number"&&isFinite(v)&&Td(v)}v.isFiniteInteger=$l;function Gl(v,S){if(typeof v=="number"){if(!$l(v)||v<0)throw new Error(S?O.INVALID_OFFSET:O.INVALID_LENGTH)}else throw new Error(S?O.INVALID_OFFSET_NON_NUMBER:O.INVALID_LENGTH_NON_NUMBER)}function Cd(v){Gl(v,!1)}v.checkLengthValue=Cd;function Od(v){Gl(v,!0)}v.checkOffsetValue=Od;function Id(v,S){if(v<0||v>S.length)throw new Error(O.INVALID_TARGET_OFFSET)}v.checkTargetOffset=Id;function Td(v){return typeof v=="number"&&isFinite(v)&&Math.floor(v)===v}function Ad(v){if(typeof BigInt=="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof S.Buffer.prototype[v]=="undefined")throw new Error(`Platform does not support Buffer.prototype.${v}.`)}v.bigIntAndBufferInt64Check=Ad}));var Gn=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});var S=Vn(),Q=4096,O="utf8",H=class t{constructor(v){if(this.length=0,this._encoding=O,this._writeOffset=0,this._readOffset=0,t.isSmartBufferOptions(v))if(v.encoding&&(S.checkEncoding(v.encoding),this._encoding=v.encoding),v.size)if(S.isFiniteInteger(v.size)&&v.size>0)this._buff=Buffer.allocUnsafe(v.size);else throw new Error(S.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(v.buff)if(Buffer.isBuffer(v.buff))this._buff=v.buff,this.length=v.buff.length;else throw new Error(S.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(Q);else{if(typeof v!="undefined")throw new Error(S.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(Q)}}static fromSize(v,S){return new this({size:v,encoding:S})}static fromBuffer(v,S){return new this({buff:v,encoding:S})}static fromOptions(v){return new this(v)}static isSmartBufferOptions(v){let S=v;return S&&(S.encoding!==void 0||S.size!==void 0||S.buff!==void 0)}readInt8(v){return this._readNumberValue(Buffer.prototype.readInt8,1,v)}readInt16BE(v){return this._readNumberValue(Buffer.prototype.readInt16BE,2,v)}readInt16LE(v){return this._readNumberValue(Buffer.prototype.readInt16LE,2,v)}readInt32BE(v){return this._readNumberValue(Buffer.prototype.readInt32BE,4,v)}readInt32LE(v){return this._readNumberValue(Buffer.prototype.readInt32LE,4,v)}readBigInt64BE(v){return S.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,v)}readBigInt64LE(v){return S.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,v)}writeInt8(v,S){return this._writeNumberValue(Buffer.prototype.writeInt8,1,v,S),this}insertInt8(v,S){return this._insertNumberValue(Buffer.prototype.writeInt8,1,v,S)}writeInt16BE(v,S){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,v,S)}insertInt16BE(v,S){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,v,S)}writeInt16LE(v,S){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,v,S)}insertInt16LE(v,S){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,v,S)}writeInt32BE(v,S){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,v,S)}insertInt32BE(v,S){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,v,S)}writeInt32LE(v,S){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,v,S)}insertInt32LE(v,S){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,v,S)}writeBigInt64BE(v,Q){return S.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,v,Q)}insertBigInt64BE(v,Q){return S.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,v,Q)}writeBigInt64LE(v,Q){return S.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,v,Q)}insertBigInt64LE(v,Q){return S.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,v,Q)}readUInt8(v){return this._readNumberValue(Buffer.prototype.readUInt8,1,v)}readUInt16BE(v){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,v)}readUInt16LE(v){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,v)}readUInt32BE(v){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,v)}readUInt32LE(v){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,v)}readBigUInt64BE(v){return S.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,v)}readBigUInt64LE(v){return S.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,v)}writeUInt8(v,S){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,v,S)}insertUInt8(v,S){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,v,S)}writeUInt16BE(v,S){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,v,S)}insertUInt16BE(v,S){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,v,S)}writeUInt16LE(v,S){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,v,S)}insertUInt16LE(v,S){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,v,S)}writeUInt32BE(v,S){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,v,S)}insertUInt32BE(v,S){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,v,S)}writeUInt32LE(v,S){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,v,S)}insertUInt32LE(v,S){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,v,S)}writeBigUInt64BE(v,Q){return S.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,v,Q)}insertBigUInt64BE(v,Q){return S.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,v,Q)}writeBigUInt64LE(v,Q){return S.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,v,Q)}insertBigUInt64LE(v,Q){return S.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,v,Q)}readFloatBE(v){return this._readNumberValue(Buffer.prototype.readFloatBE,4,v)}readFloatLE(v){return this._readNumberValue(Buffer.prototype.readFloatLE,4,v)}writeFloatBE(v,S){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,v,S)}insertFloatBE(v,S){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,v,S)}writeFloatLE(v,S){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,v,S)}insertFloatLE(v,S){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,v,S)}readDoubleBE(v){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,v)}readDoubleLE(v){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,v)}writeDoubleBE(v,S){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,v,S)}insertDoubleBE(v,S){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,v,S)}writeDoubleLE(v,S){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,v,S)}insertDoubleLE(v,S){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,v,S)}readString(v,Q){let O;typeof v=="number"?(S.checkLengthValue(v),O=Math.min(v,this.length-this._readOffset)):(Q=v,O=this.length-this._readOffset),typeof Q!="undefined"&&S.checkEncoding(Q);let H=this._buff.slice(this._readOffset,this._readOffset+O).toString(Q||this._encoding);return this._readOffset+=O,H}insertString(v,Q,O){return S.checkOffsetValue(Q),this._handleString(v,!0,Q,O)}writeString(v,S,Q){return this._handleString(v,!1,S,Q)}readStringNT(v){typeof v!="undefined"&&S.checkEncoding(v);let Q=this.length;for(let v=this._readOffset;v<this.length;v++)if(this._buff[v]===0){Q=v;break}let O=this._buff.slice(this._readOffset,Q);return this._readOffset=Q+1,O.toString(v||this._encoding)}insertStringNT(v,Q,O){return S.checkOffsetValue(Q),this.insertString(v,Q,O),this.insertUInt8(0,Q+v.length),this}writeStringNT(v,S,Q){return this.writeString(v,S,Q),this.writeUInt8(0,typeof S=="number"?S+v.length:this.writeOffset),this}readBuffer(v){typeof v!="undefined"&&S.checkLengthValue(v);let Q=typeof v=="number"?v:this.length,O=Math.min(this.length,this._readOffset+Q),H=this._buff.slice(this._readOffset,O);return this._readOffset=O,H}insertBuffer(v,Q){return S.checkOffsetValue(Q),this._handleBuffer(v,!0,Q)}writeBuffer(v,S){return this._handleBuffer(v,!1,S)}readBufferNT(){let v=this.length;for(let S=this._readOffset;S<this.length;S++)if(this._buff[S]===0){v=S;break}let S=this._buff.slice(this._readOffset,v);return this._readOffset=v+1,S}insertBufferNT(v,Q){return S.checkOffsetValue(Q),this.insertBuffer(v,Q),this.insertUInt8(0,Q+v.length),this}writeBufferNT(v,Q){return typeof Q!="undefined"&&S.checkOffsetValue(Q),this.writeBuffer(v,Q),this.writeUInt8(0,typeof Q=="number"?Q+v.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(v){S.checkOffsetValue(v),S.checkTargetOffset(v,this),this._readOffset=v}get writeOffset(){return this._writeOffset}set writeOffset(v){S.checkOffsetValue(v),S.checkTargetOffset(v,this),this._writeOffset=v}get encoding(){return this._encoding}set encoding(v){S.checkEncoding(v),this._encoding=v}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(v){let Q=typeof v=="string"?v:this._encoding;return S.checkEncoding(Q),this._buff.toString(Q,0,this.length)}destroy(){return this.clear(),this}_handleString(v,Q,O,H){let V=this._writeOffset,J=this._encoding;typeof O=="number"?V=O:typeof O=="string"&&(S.checkEncoding(O),J=O),typeof H=="string"&&(S.checkEncoding(H),J=H);let Y=Buffer.byteLength(v,J);return Q?this.ensureInsertable(Y,V):this._ensureWriteable(Y,V),this._buff.write(v,V,Y,J),Q?this._writeOffset+=Y:typeof O=="number"?this._writeOffset=Math.max(this._writeOffset,V+Y):this._writeOffset+=Y,this}_handleBuffer(v,S,Q){let O=typeof Q=="number"?Q:this._writeOffset;return S?this.ensureInsertable(v.length,O):this._ensureWriteable(v.length,O),v.copy(this._buff,O),S?this._writeOffset+=v.length:typeof Q=="number"?this._writeOffset=Math.max(this._writeOffset,O+v.length):this._writeOffset+=v.length,this}ensureReadable(v,Q){let O=this._readOffset;if(typeof Q!="undefined"&&(S.checkOffsetValue(Q),O=Q),O<0||O+v>this.length)throw new Error(S.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(v,Q){S.checkOffsetValue(Q),this._ensureCapacity(this.length+v),Q<this.length&&this._buff.copy(this._buff,Q+v,Q,this._buff.length),Q+v>this.length?this.length=Q+v:this.length+=v}_ensureWriteable(v,S){let Q=typeof S=="number"?S:this._writeOffset;this._ensureCapacity(Q+v),Q+v>this.length&&(this.length=Q+v)}_ensureCapacity(v){let S=this._buff.length;if(v>S){let Q=this._buff,O=S*3/2+1;O<v&&(O=v),this._buff=Buffer.allocUnsafe(O),Q.copy(this._buff,0,0,S)}}_readNumberValue(v,S,Q){this.ensureReadable(S,Q);let O=v.call(this._buff,typeof Q=="number"?Q:this._readOffset);return typeof Q=="undefined"&&(this._readOffset+=S),O}_insertNumberValue(v,Q,O,H){return S.checkOffsetValue(H),this.ensureInsertable(Q,H),v.call(this._buff,O,H),this._writeOffset+=Q,this}_writeNumberValue(v,Q,O,H){if(typeof H=="number"){if(H<0)throw new Error(S.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);S.checkOffsetValue(H)}let V=typeof H=="number"?H:this._writeOffset;return this._ensureWriteable(Q,V),v.call(this._buff,O,V),typeof H=="number"?this._writeOffset=Math.max(this._writeOffset,V+Q):this._writeOffset+=Q,this}};v.SmartBuffer=H}));var zn=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.SOCKS5_NO_ACCEPTABLE_AUTH=v.SOCKS5_CUSTOM_AUTH_END=v.SOCKS5_CUSTOM_AUTH_START=v.SOCKS_INCOMING_PACKET_SIZES=v.SocksClientState=v.Socks5Response=v.Socks5HostType=v.Socks5Auth=v.Socks4Response=v.SocksCommand=v.ERRORS=v.DEFAULT_TIMEOUT=void 0;var S=3e4;v.DEFAULT_TIMEOUT=S;var Q={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};v.ERRORS=Q;var O={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:v=>v+7,Socks4Response:8};v.SOCKS_INCOMING_PACKET_SIZES=O;var H;(function(v){v[v.connect=1]="connect",v[v.bind=2]="bind",v[v.associate=3]="associate"})(H||(H={}));v.SocksCommand=H;var V;(function(v){v[v.Granted=90]="Granted",v[v.Failed=91]="Failed",v[v.Rejected=92]="Rejected",v[v.RejectedIdent=93]="RejectedIdent"})(V||(V={}));v.Socks4Response=V;var J;(function(v){v[v.NoAuth=0]="NoAuth",v[v.GSSApi=1]="GSSApi",v[v.UserPass=2]="UserPass"})(J||(J={}));v.Socks5Auth=J;var Y=128;v.SOCKS5_CUSTOM_AUTH_START=Y;var X=254;v.SOCKS5_CUSTOM_AUTH_END=X;var ee=255;v.SOCKS5_NO_ACCEPTABLE_AUTH=ee;var ae;(function(v){v[v.Granted=0]="Granted",v[v.Failure=1]="Failure",v[v.NotAllowed=2]="NotAllowed",v[v.NetworkUnreachable=3]="NetworkUnreachable",v[v.HostUnreachable=4]="HostUnreachable",v[v.ConnectionRefused=5]="ConnectionRefused",v[v.TTLExpired=6]="TTLExpired",v[v.CommandNotSupported=7]="CommandNotSupported",v[v.AddressNotSupported=8]="AddressNotSupported"})(ae||(ae={}));v.Socks5Response=ae;var he;(function(v){v[v.IPv4=1]="IPv4",v[v.Hostname=3]="Hostname",v[v.IPv6=4]="IPv6"})(he||(he={}));v.Socks5HostType=he;var Ee;(function(v){v[v.Created=0]="Created",v[v.Connecting=1]="Connecting",v[v.Connected=2]="Connected",v[v.SentInitialHandshake=3]="SentInitialHandshake",v[v.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",v[v.SentAuthentication=5]="SentAuthentication",v[v.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",v[v.SentFinalHandshake=7]="SentFinalHandshake",v[v.ReceivedFinalResponse=8]="ReceivedFinalResponse",v[v.BoundWaitingForConnection=9]="BoundWaitingForConnection",v[v.Established=10]="Established",v[v.Disconnected=11]="Disconnected",v[v.Error=99]="Error"})(Ee||(Ee={}));v.SocksClientState=Ee}));var Jn=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.shuffleArray=v.SocksClientError=void 0;var S=class extends Error{constructor(v,S){super(v),this.options=S}};v.SocksClientError=S;function Ud(v){for(let S=v.length-1;S>0;S--){let Q=Math.floor(Math.random()*(S+1));[v[S],v[Q]]=[v[Q],v[S]]}}v.shuffleArray=Ud}));var $n=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.validateSocksClientChainOptions=v.validateSocksClientOptions=void 0;var S=Jn(),O=zn(),H=Q(2781);function jd(v,Q=["connect","bind","associate"]){if(!O.SocksCommand[v.command])throw new S.SocksClientError(O.ERRORS.InvalidSocksCommand,v);if(Q.indexOf(v.command)===-1)throw new S.SocksClientError(O.ERRORS.InvalidSocksCommandForOperation,v);if(!Zl(v.destination))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsDestination,v);if(!Xl(v.proxy))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsProxy,v);if(Kl(v.proxy,v),v.timeout&&!Jl(v.timeout))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsTimeout,v);if(v.existing_socket&&!(v.existing_socket instanceof H.Duplex))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsExistingSocket,v)}v.validateSocksClientOptions=jd;function qd(v){if(v.command!=="connect")throw new S.SocksClientError(O.ERRORS.InvalidSocksCommandChain,v);if(!Zl(v.destination))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsDestination,v);if(!(v.proxies&&Array.isArray(v.proxies)&&v.proxies.length>=2))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsProxiesLength,v);if(v.proxies.forEach((Q=>{if(!Xl(Q))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsProxy,v);Kl(Q,v)})),v.timeout&&!Jl(v.timeout))throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsTimeout,v)}v.validateSocksClientChainOptions=qd;function Kl(v,Q){if(v.custom_auth_method!==void 0){if(v.custom_auth_method<O.SOCKS5_CUSTOM_AUTH_START||v.custom_auth_method>O.SOCKS5_CUSTOM_AUTH_END)throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsCustomAuthRange,Q);if(v.custom_auth_request_handler===void 0||typeof v.custom_auth_request_handler!="function")throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Q);if(v.custom_auth_response_size===void 0)throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Q);if(v.custom_auth_response_handler===void 0||typeof v.custom_auth_response_handler!="function")throw new S.SocksClientError(O.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,Q)}}function Zl(v){return v&&typeof v.host=="string"&&typeof v.port=="number"&&v.port>=0&&v.port<=65535}function Xl(v){return v&&(typeof v.host=="string"||typeof v.ipaddress=="string")&&typeof v.port=="number"&&v.port>=0&&v.port<=65535&&(v.type===4||v.type===5)}function Jl(v){return typeof v=="number"&&v>0}}));var Yn=y((v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.ReceiveBuffer=void 0;var S=class{constructor(v=4096){this.buffer=Buffer.allocUnsafe(v),this.offset=0,this.originalSize=v}get length(){return this.offset}append(v){if(!Buffer.isBuffer(v))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+v.length>=this.buffer.length){let S=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+v.length)),S.copy(this.buffer)}return v.copy(this.buffer,this.offset),this.offset+=v.length}peek(v){if(v>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,v)}get(v){if(v>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let S=Buffer.allocUnsafe(v);return this.buffer.slice(0,v).copy(S),this.buffer.copyWithin(0,v,v+this.offset-v),this.offset-=v,S}};v.ReceiveBuffer=S}));var Kn=y((v=>{"use strict";var S=v&&v.__awaiter||function(v,S,Q,O){function n(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function l(v){try{c(O.next(v))}catch(v){H(v)}}function a(v){try{c(O.throw(v))}catch(v){H(v)}}function c(v){v.done?Q(v.value):n(v.value).then(l,a)}c((O=O.apply(v,S||[])).next())}))};Object.defineProperty(v,"__esModule",{value:!0});v.SocksClientError=v.SocksClient=void 0;var O=Q(2361),H=Q(1808),V=Wn(),J=Gn(),Y=zn(),X=$n(),ee=Yn(),ae=Jn();Object.defineProperty(v,"SocksClientError",{enumerable:!0,get:function(){return ae.SocksClientError}});var he=class t extends O.EventEmitter{constructor(v){super(),this.options=Object.assign({},v),(0,X.validateSocksClientOptions)(v),this.setState(Y.SocksClientState.Created)}static createConnection(v,S){return new Promise(((Q,O)=>{try{(0,X.validateSocksClientOptions)(v,["connect"])}catch(v){return typeof S=="function"?(S(v),Q(v)):O(v)}let H=new t(v);H.connect(v.existing_socket),H.once("established",(v=>{H.removeAllListeners(),typeof S=="function"&&S(null,v),Q(v)})),H.once("error",(v=>{H.removeAllListeners(),typeof S=="function"?(S(v),Q(v)):O(v)}))}))}static createConnectionChain(v,Q){return new Promise(((O,H)=>S(this,void 0,void 0,(function*(){try{(0,X.validateSocksClientChainOptions)(v)}catch(v){return typeof Q=="function"?(Q(v),O(v)):H(v)}let S;v.randomizeChain&&(0,ae.shuffleArray)(v.proxies);try{for(let Q=0;Q<v.proxies.length;Q++){let O=v.proxies[Q],H=Q===v.proxies.length-1?v.destination:{host:v.proxies[Q+1].host||v.proxies[Q+1].ipaddress,port:v.proxies[Q+1].port},V=yield t.createConnection({command:"connect",proxy:O,destination:H});S||(S=V.socket)}typeof Q=="function"?(Q(null,{socket:S}),O({socket:S})):O({socket:S})}catch(v){typeof Q=="function"?(Q(v),O(v)):H(v)}}))))}static createUDPFrame(v){let S=new J.SmartBuffer;return S.writeUInt16BE(0),S.writeUInt8(v.frameNumber||0),H.isIPv4(v.remoteHost.host)?(S.writeUInt8(Y.Socks5HostType.IPv4),S.writeUInt32BE(V.toLong(v.remoteHost.host))):H.isIPv6(v.remoteHost.host)?(S.writeUInt8(Y.Socks5HostType.IPv6),S.writeBuffer(V.toBuffer(v.remoteHost.host))):(S.writeUInt8(Y.Socks5HostType.Hostname),S.writeUInt8(Buffer.byteLength(v.remoteHost.host)),S.writeString(v.remoteHost.host)),S.writeUInt16BE(v.remoteHost.port),S.writeBuffer(v.data),S.toBuffer()}static parseUDPFrame(v){let S=J.SmartBuffer.fromBuffer(v);S.readOffset=2;let Q=S.readUInt8(),O=S.readUInt8(),H;O===Y.Socks5HostType.IPv4?H=V.fromLong(S.readUInt32BE()):O===Y.Socks5HostType.IPv6?H=V.toString(S.readBuffer(16)):H=S.readString(S.readUInt8());let X=S.readUInt16BE();return{frameNumber:Q,remoteHost:{host:H,port:X},data:S.readBuffer()}}setState(v){this.state!==Y.SocksClientState.Error&&(this.state=v)}connect(v){this.onDataReceived=v=>this.onDataReceivedHandler(v),this.onClose=()=>this.onCloseHandler(),this.onError=v=>this.onErrorHandler(v),this.onConnect=()=>this.onConnectHandler();let S=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||Y.DEFAULT_TIMEOUT);S.unref&&typeof S.unref=="function"&&S.unref(),v?this.socket=v:this.socket=new H.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(Y.SocksClientState.Connecting),this.receiveBuffer=new ee.ReceiveBuffer,v?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(v=>{setImmediate((()=>{if(this.receiveBuffer.length>0){let S=this.receiveBuffer.get(this.receiveBuffer.length);v.socket.emit("data",S)}v.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==Y.SocksClientState.Established&&this.state!==Y.SocksClientState.BoundWaitingForConnection&&this.closeSocket(Y.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(Y.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(Y.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(v){this.receiveBuffer.append(v),this.processData()}processData(){for(;this.state!==Y.SocksClientState.Established&&this.state!==Y.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===Y.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===Y.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===Y.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===Y.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(Y.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(Y.ERRORS.SocketClosed)}onErrorHandler(v){this.closeSocket(v.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(v){this.state!==Y.SocksClientState.Error&&(this.setState(Y.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new ae.SocksClientError(v,this.options)))}sendSocks4InitialHandshake(){let v=this.options.proxy.userId||"",S=new J.SmartBuffer;S.writeUInt8(4),S.writeUInt8(Y.SocksCommand[this.options.command]),S.writeUInt16BE(this.options.destination.port),H.isIPv4(this.options.destination.host)?(S.writeBuffer(V.toBuffer(this.options.destination.host)),S.writeStringNT(v)):(S.writeUInt8(0),S.writeUInt8(0),S.writeUInt8(0),S.writeUInt8(1),S.writeStringNT(v),S.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=Y.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(S.toBuffer())}handleSocks4FinalHandshakeResponse(){let v=this.receiveBuffer.get(8);if(v[1]!==Y.Socks4Response.Granted)this.closeSocket(`${Y.ERRORS.Socks4ProxyRejectedConnection} - (${Y.Socks4Response[v[1]]})`);else if(Y.SocksCommand[this.options.command]===Y.SocksCommand.bind){let S=J.SmartBuffer.fromBuffer(v);S.readOffset=2;let Q={port:S.readUInt16BE(),host:V.fromLong(S.readUInt32BE())};Q.host==="0.0.0.0"&&(Q.host=this.options.proxy.ipaddress),this.setState(Y.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:Q,socket:this.socket})}else this.setState(Y.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let v=this.receiveBuffer.get(8);if(v[1]!==Y.Socks4Response.Granted)this.closeSocket(`${Y.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${Y.Socks4Response[v[1]]})`);else{let S=J.SmartBuffer.fromBuffer(v);S.readOffset=2;let Q={port:S.readUInt16BE(),host:V.fromLong(S.readUInt32BE())};this.setState(Y.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:Q,socket:this.socket})}}sendSocks5InitialHandshake(){let v=new J.SmartBuffer,S=[Y.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&S.push(Y.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&S.push(this.options.proxy.custom_auth_method),v.writeUInt8(5),v.writeUInt8(S.length);for(let Q of S)v.writeUInt8(Q);this.nextRequiredPacketBufferSize=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(v.toBuffer()),this.setState(Y.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let v=this.receiveBuffer.get(2);v[0]!==5?this.closeSocket(Y.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):v[1]===Y.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(Y.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):v[1]===Y.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=Y.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):v[1]===Y.Socks5Auth.UserPass?(this.socks5ChosenAuthType=Y.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):v[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(Y.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let v=this.options.proxy.userId||"",S=this.options.proxy.password||"",Q=new J.SmartBuffer;Q.writeUInt8(1),Q.writeUInt8(Buffer.byteLength(v)),Q.writeString(v),Q.writeUInt8(Buffer.byteLength(S)),Q.writeString(S),this.nextRequiredPacketBufferSize=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(Q.toBuffer()),this.setState(Y.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return S(this,void 0,void 0,(function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(Y.SocksClientState.SentAuthentication)}))}handleSocks5CustomAuthHandshakeResponse(v){return S(this,void 0,void 0,(function*(){return yield this.options.proxy.custom_auth_response_handler(v)}))}handleSocks5AuthenticationNoAuthHandshakeResponse(v){return S(this,void 0,void 0,(function*(){return v[1]===0}))}handleSocks5AuthenticationUserPassHandshakeResponse(v){return S(this,void 0,void 0,(function*(){return v[1]===0}))}handleInitialSocks5AuthenticationHandshakeResponse(){return S(this,void 0,void 0,(function*(){this.setState(Y.SocksClientState.ReceivedAuthenticationResponse);let v=!1;this.socks5ChosenAuthType===Y.Socks5Auth.NoAuth?v=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===Y.Socks5Auth.UserPass?v=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(v=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),v?this.sendSocks5CommandRequest():this.closeSocket(Y.ERRORS.Socks5AuthenticationFailed)}))}sendSocks5CommandRequest(){let v=new J.SmartBuffer;v.writeUInt8(5),v.writeUInt8(Y.SocksCommand[this.options.command]),v.writeUInt8(0),H.isIPv4(this.options.destination.host)?(v.writeUInt8(Y.Socks5HostType.IPv4),v.writeBuffer(V.toBuffer(this.options.destination.host))):H.isIPv6(this.options.destination.host)?(v.writeUInt8(Y.Socks5HostType.IPv6),v.writeBuffer(V.toBuffer(this.options.destination.host))):(v.writeUInt8(Y.Socks5HostType.Hostname),v.writeUInt8(this.options.destination.host.length),v.writeString(this.options.destination.host)),v.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(v.toBuffer()),this.setState(Y.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let v=this.receiveBuffer.peek(5);if(v[0]!==5||v[1]!==Y.Socks5Response.Granted)this.closeSocket(`${Y.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${Y.Socks5Response[v[1]]}`);else{let S=v[3],Q,O;if(S===Y.Socks5HostType.IPv4){let v=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<v){this.nextRequiredPacketBufferSize=v;return}O=J.SmartBuffer.fromBuffer(this.receiveBuffer.get(v).slice(4)),Q={host:V.fromLong(O.readUInt32BE()),port:O.readUInt16BE()},Q.host==="0.0.0.0"&&(Q.host=this.options.proxy.ipaddress)}else if(S===Y.Socks5HostType.Hostname){let S=v[4],H=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(S);if(this.receiveBuffer.length<H){this.nextRequiredPacketBufferSize=H;return}O=J.SmartBuffer.fromBuffer(this.receiveBuffer.get(H).slice(5)),Q={host:O.readString(S),port:O.readUInt16BE()}}else if(S===Y.Socks5HostType.IPv6){let v=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<v){this.nextRequiredPacketBufferSize=v;return}O=J.SmartBuffer.fromBuffer(this.receiveBuffer.get(v).slice(4)),Q={host:V.toString(O.readBuffer(16)),port:O.readUInt16BE()}}this.setState(Y.SocksClientState.ReceivedFinalResponse),Y.SocksCommand[this.options.command]===Y.SocksCommand.connect?(this.setState(Y.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:Q,socket:this.socket})):Y.SocksCommand[this.options.command]===Y.SocksCommand.bind?(this.setState(Y.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:Q,socket:this.socket})):Y.SocksCommand[this.options.command]===Y.SocksCommand.associate&&(this.setState(Y.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:Q,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let v=this.receiveBuffer.peek(5);if(v[0]!==5||v[1]!==Y.Socks5Response.Granted)this.closeSocket(`${Y.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${Y.Socks5Response[v[1]]}`);else{let S=v[3],Q,O;if(S===Y.Socks5HostType.IPv4){let v=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<v){this.nextRequiredPacketBufferSize=v;return}O=J.SmartBuffer.fromBuffer(this.receiveBuffer.get(v).slice(4)),Q={host:V.fromLong(O.readUInt32BE()),port:O.readUInt16BE()},Q.host==="0.0.0.0"&&(Q.host=this.options.proxy.ipaddress)}else if(S===Y.Socks5HostType.Hostname){let S=v[4],H=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(S);if(this.receiveBuffer.length<H){this.nextRequiredPacketBufferSize=H;return}O=J.SmartBuffer.fromBuffer(this.receiveBuffer.get(H).slice(5)),Q={host:O.readString(S),port:O.readUInt16BE()}}else if(S===Y.Socks5HostType.IPv6){let v=Y.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<v){this.nextRequiredPacketBufferSize=v;return}O=J.SmartBuffer.fromBuffer(this.receiveBuffer.get(v).slice(4)),Q={host:V.toString(O.readBuffer(16)),port:O.readUInt16BE()}}this.setState(Y.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:Q,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};v.SocksClient=he}));var Xn=y((v=>{"use strict";var S=v&&v.__createBinding||(Object.create?function(v,S,Q,O){O===void 0&&(O=Q);var H=Object.getOwnPropertyDescriptor(S,Q);(!H||("get"in H?!S.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return S[Q]}}),Object.defineProperty(v,O,H)}:function(v,S,Q,O){O===void 0&&(O=Q),v[O]=S[Q]}),Q=v&&v.__exportStar||function(v,Q){for(var O in v)O!=="default"&&!Object.prototype.hasOwnProperty.call(Q,O)&&S(Q,v,O)};Object.defineProperty(v,"__esModule",{value:!0});Q(Kn(),v)}));var Zn=y((v=>{"use strict";var S=v&&v.__awaiter||function(v,S,Q,O){function n(v){return v instanceof Q?v:new Q((function(S){S(v)}))}return new(Q||(Q=Promise))((function(Q,H){function l(v){try{c(O.next(v))}catch(v){H(v)}}function a(v){try{c(O.throw(v))}catch(v){H(v)}}function c(v){v.done?Q(v.value):n(v.value).then(l,a)}c((O=O.apply(v,S||[])).next())}))},O=v&&v.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(v,"__esModule",{value:!0});var H=O(Q(9523)),V=O(Q(4404)),J=O(Q(7310)),Y=O(tt()),X=st(),ee=Xn(),ae=Y.default("socks-proxy-agent");function Qd(v){return new Promise(((S,Q)=>{H.default.lookup(v,((v,O)=>{v?Q(v):S(O)}))}))}function em(v){let S=0,Q=!1,O=5,H=v.hostname||v.host;if(!H)throw new TypeError('No "host"');if(typeof v.port=="number"?S=v.port:typeof v.port=="string"&&(S=parseInt(v.port,10)),S||(S=1080),v.protocol)switch(v.protocol.replace(":","")){case"socks4":Q=!0;case"socks4a":O=4;break;case"socks5":Q=!0;case"socks":case"socks5h":O=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${v.protocol}`)}if(typeof v.type!="undefined")if(v.type===4||v.type===5)O=v.type;else throw new TypeError(`"type" must be 4 or 5, got: ${v.type}`);let V={host:H,port:S,type:O},J=v.userId||v.username,Y=v.password;if(v.auth){let S=v.auth.split(":");J=S[0],Y=S[1]}return J&&Object.defineProperty(V,"userId",{value:J,enumerable:!1}),Y&&Object.defineProperty(V,"password",{value:Y,enumerable:!1}),{lookup:Q,proxy:V}}var he=class extends X.Agent{constructor(v){let S;if(typeof v=="string"?S=J.default.parse(v):S=v,!S)throw new TypeError("a SOCKS proxy server `host` and `port` must be specified!");super(S);let Q=em(S);this.lookup=Q.lookup,this.proxy=Q.proxy,this.tlsConnectionOptions=S.tls||{}}callback(v,Q){return S(this,void 0,void 0,(function*(){let{lookup:v,proxy:S}=this,{host:O,port:H,timeout:J}=Q;if(!O)throw new Error("No `host` defined!");v&&(O=yield Qd(O));let Y={proxy:S,destination:{host:O,port:H},command:"connect",timeout:J};ae("Creating socks proxy connection: %o",Y);let{socket:X}=yield ee.SocksClient.createConnection(Y);if(ae("Successfully created socks proxy connection"),Q.secureEndpoint){ae("Upgrading socket connection to TLS");let v=Q.servername||Q.host;return V.default.connect(Object.assign(Object.assign(Object.assign({},tm(Q,"host","hostname","path","port")),{socket:X,servername:v}),this.tlsConnectionOptions))}return X}))}};v.default=he;function tm(v,...S){let Q={},O;for(O in v)S.includes(O)||(Q[O]=v[O]);return Q}}));var er=y(((v,S)=>{"use strict";var Q=v&&v.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},O=Q(Zn());function qn(v){return new O.default(v)}(function(v){v.SocksProxyAgent=O.default,v.prototype=O.default.prototype})(qn||(qn={}));S.exports=qn}));var tr=y(((v,S)=>{"use strict";var Q=/[|\\{}()[\]^$+*?.-]/g;S.exports=v=>{if(typeof v!="string")throw new TypeError("Expected a string");return v.replace(Q,"\\$&")}}));var nr=y(((v,S)=>{"use strict";var O=tr(),H=typeof process=="object"&&process&&typeof process.cwd=="function"?process.cwd():".",V=[].concat(Q(8188).builtinModules,"bootstrap_node","node").map((v=>new RegExp(`(?:\\((?:node:)?${v}(?:\\.js)?:\\d+:\\d+\\)$|^\\s*at (?:node:)?${v}(?:\\.js)?:\\d+:\\d+$)`)));V.push(/\((?:node:)?internal\/[^:]+:\d+:\d+\)$/,/\s*at (?:node:)?internal\/[^:]+:\d+:\d+$/,/\/\.node-spawn-wrap-\w+-\w+\/node:\d+:\d+\)?$/);var J=class t{constructor(v){v={ignoredPackages:[],...v},"internals"in v||(v.internals=t.nodeInternals()),"cwd"in v||(v.cwd=H),this._cwd=v.cwd.replace(/\\/g,"/"),this._internals=[].concat(v.internals,om(v.ignoredPackages)),this._wrapCallSite=v.wrapCallSite||!1}static nodeInternals(){return[...V]}clean(v,S=0){S=" ".repeat(S),Array.isArray(v)||(v=v.split(`\n`)),!/^\s*at /.test(v[0])&&/^\s*at /.test(v[1])&&(v=v.slice(1));let Q=!1,O=null,H=[];return v.forEach((v=>{if(v=v.replace(/\\/g,"/"),this._internals.some((S=>S.test(v))))return;let S=/^\s*at /.test(v);Q?v=v.trimEnd().replace(/^(\s+)at /,"$1"):(v=v.trim(),S&&(v=v.slice(3))),v=v.replace(`${this._cwd}/`,""),v&&(S?(O&&(H.push(O),O=null),H.push(v)):(Q=!0,O=v))})),H.map((v=>`${S}${v}\n`)).join("")}captureString(v,S=this.captureString){typeof v=="function"&&(S=v,v=1/0);let{stackTraceLimit:Q}=Error;v&&(Error.stackTraceLimit=v);let O={};Error.captureStackTrace(O,S);let{stack:H}=O;return Error.stackTraceLimit=Q,this.clean(H)}capture(v,S=this.capture){typeof v=="function"&&(S=v,v=1/0);let{prepareStackTrace:Q,stackTraceLimit:O}=Error;Error.prepareStackTrace=(v,S)=>this._wrapCallSite?S.map(this._wrapCallSite):S,v&&(Error.stackTraceLimit=v);let H={};Error.captureStackTrace(H,S);let{stack:V}=H;return Object.assign(Error,{prepareStackTrace:Q,stackTraceLimit:O}),V}at(v=this.at){let[S]=this.capture(1,v);if(!S)return{};let Q={line:S.getLineNumber(),column:S.getColumnNumber()};lc(Q,S.getFileName(),this._cwd),S.isConstructor()&&(Q.constructor=!0),S.isEval()&&(Q.evalOrigin=S.getEvalOrigin()),S.isNative()&&(Q.native=!0);let O;try{O=S.getTypeName()}catch{}O&&O!=="Object"&&O!=="[object Object]"&&(Q.type=O);let H=S.getFunctionName();H&&(Q.function=H);let V=S.getMethodName();return V&&H!==V&&(Q.method=V),Q}parseLine(v){let S=v&&v.match(Y);if(!S)return null;let Q=S[1]==="new",O=S[2],H=S[3],V=S[4],J=Number(S[5]),ee=Number(S[6]),ae=S[7],he=S[8],Ee=S[9],Be=S[10]==="native",ke=S[11]===")",Re,Oe={};if(he&&(Oe.line=Number(he)),Ee&&(Oe.column=Number(Ee)),ke&&ae){let v=0;for(let S=ae.length-1;S>0;S--)if(ae.charAt(S)===")")v++;else if(ae.charAt(S)==="("&&ae.charAt(S-1)===" "&&(v--,v===-1&&ae.charAt(S-1)===" ")){let v=ae.slice(0,S-1);ae=ae.slice(S+1),O+=` (${v}`;break}}if(O){let v=O.match(X);v&&(O=v[1],Re=v[2])}return lc(Oe,ae,this._cwd),Q&&(Oe.constructor=!0),H&&(Oe.evalOrigin=H,Oe.evalLine=J,Oe.evalColumn=ee,Oe.evalFile=V&&V.replace(/\\/g,"/")),Be&&(Oe.native=!0),O&&(Oe.function=O),Re&&O!==Re&&(Oe.method=Re),Oe}};function lc(v,S,Q){S&&(S=S.replace(/\\/g,"/"),S.startsWith(`${Q}/`)&&(S=S.slice(Q.length+1)),v.file=S)}function om(v){if(v.length===0)return[];let S=v.map((v=>O(v)));return new RegExp(`[/\\\\]node_modules[/\\\\](?:${S.join("|")})[/\\\\][^:]+:\\d+:\\d+`)}var Y=new RegExp("^(?:\\s*at )?(?:(new) )?(?:(.*?) \\()?(?:eval at ([^ ]+) \\((.+?):(\\d+):(\\d+)\\), )?(?:(.+?):(\\d+):(\\d+)|(native))(\\)?)$"),X=/^(.*?) \[as (.*?)\]$/;S.exports=J}));var rr=y(((v,S)=>{"use strict";var{Duplex:O}=Q(2781);function hc(v){v.emit("close")}function um(){!this.destroyed&&this._writableState.finished&&this.destroy()}function pc(v){this.removeListener("error",pc),this.destroy(),this.listenerCount("error")===0&&this.emit("error",v)}function fm(v,S){let Q=!0,H=new O({...S,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return v.on("message",(function(S,Q){let O=!Q&&H._readableState.objectMode?S.toString():S;H.push(O)||v.pause()})),v.once("error",(function(v){H.destroyed||(Q=!1,H.destroy(v))})),v.once("close",(function(){H.destroyed||H.push(null)})),H._destroy=function(S,O){if(v.readyState===v.CLOSED){O(S),process.nextTick(hc,H);return}let V=!1;v.once("error",(function(v){V=!0,O(v)})),v.once("close",(function(){V||O(S),process.nextTick(hc,H)})),Q&&v.terminate()},H._final=function(S){if(v.readyState===v.CONNECTING){v.once("open",(function(){H._final(S)}));return}v._socket!==null&&(v._socket._writableState.finished?(S(),H._readableState.endEmitted&&H.destroy()):(v._socket.once("finish",(function(){S()})),v.close()))},H._read=function(){v.isPaused&&v.resume()},H._write=function(S,Q,O){if(v.readyState===v.CONNECTING){v.once("open",(function(){H._write(S,Q,O)}));return}v.send(S,O)},H.on("end",um),H.on("error",pc),H}S.exports=fm}));var cr=y(((v,S)=>{"use strict";S.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}));var ur=y(((v,S)=>{"use strict";var{EMPTY_BUFFER:O}=cr();function vc(v,S){if(v.length===0)return O;if(v.length===1)return v[0];let Q=Buffer.allocUnsafe(S),H=0;for(let S=0;S<v.length;S++){let O=v[S];Q.set(O,H),H+=O.length}return H<S?Q.slice(0,H):Q}function xc(v,S,Q,O,H){for(let V=0;V<H;V++)Q[O+V]=v[V]^S[V&3]}function _c(v,S){for(let Q=0;Q<v.length;Q++)v[Q]^=S[Q&3]}function yc(v){return v.byteLength===v.buffer.byteLength?v.buffer:v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength)}function ir(v){if(ir.readOnly=!0,Buffer.isBuffer(v))return v;let S;return v instanceof ArrayBuffer?S=Buffer.from(v):ArrayBuffer.isView(v)?S=Buffer.from(v.buffer,v.byteOffset,v.byteLength):(S=Buffer.from(v),ir.readOnly=!1),S}try{let v=Q(1269);S.exports={concat:vc,mask(S,Q,O,H,V){V<48?xc(S,Q,O,H,V):v.mask(S,Q,O,H,V)},toArrayBuffer:yc,toBuffer:ir,unmask(S,Q){S.length<32?_c(S,Q):v.unmask(S,Q)}}}catch{S.exports={concat:vc,mask:xc,toArrayBuffer:yc,toBuffer:ir,unmask:_c}}}));var dr=y(((v,S)=>{"use strict";var Q=Symbol("kDone"),O=Symbol("kRun"),H=class{constructor(v){this[Q]=()=>{this.pending--,this[O]()},this.concurrency=v||1/0,this.jobs=[],this.pending=0}add(v){this.jobs.push(v),this[O]()}[O](){if(this.pending!==this.concurrency&&this.jobs.length){let v=this.jobs.shift();this.pending++,v(this[Q])}}};S.exports=H}));var hr=y(((v,S)=>{"use strict";var O=Q(9796),H=ur(),V=dr(),{kStatusCode:J}=cr(),Y=Buffer.from([0,0,255,255]),X=Symbol("permessage-deflate"),ee=Symbol("total-length"),ae=Symbol("callback"),he=Symbol("buffers"),Ee=Symbol("error"),Be,ke=class{constructor(v,S,Q){if(this._maxPayload=Q|0,this._options=v||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!S,this._deflate=null,this._inflate=null,this.params=null,!Be){let v=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Be=new V(v)}}static get extensionName(){return"permessage-deflate"}offer(){let v={};return this._options.serverNoContextTakeover&&(v.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(v.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(v.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?v.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(v.client_max_window_bits=!0),v}accept(v){return v=this.normalizeParams(v),this.params=this._isServer?this.acceptAsServer(v):this.acceptAsClient(v),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let v=this._deflate[ae];this._deflate.close(),this._deflate=null,v&&v(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(v){let S=this._options,Q=v.find((v=>!(S.serverNoContextTakeover===!1&&v.server_no_context_takeover||v.server_max_window_bits&&(S.serverMaxWindowBits===!1||typeof S.serverMaxWindowBits=="number"&&S.serverMaxWindowBits>v.server_max_window_bits)||typeof S.clientMaxWindowBits=="number"&&!v.client_max_window_bits)));if(!Q)throw new Error("None of the extension offers can be accepted");return S.serverNoContextTakeover&&(Q.server_no_context_takeover=!0),S.clientNoContextTakeover&&(Q.client_no_context_takeover=!0),typeof S.serverMaxWindowBits=="number"&&(Q.server_max_window_bits=S.serverMaxWindowBits),typeof S.clientMaxWindowBits=="number"?Q.client_max_window_bits=S.clientMaxWindowBits:(Q.client_max_window_bits===!0||S.clientMaxWindowBits===!1)&&delete Q.client_max_window_bits,Q}acceptAsClient(v){let S=v[0];if(this._options.clientNoContextTakeover===!1&&S.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!S.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(S.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&S.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return S}normalizeParams(v){return v.forEach((v=>{Object.keys(v).forEach((S=>{let Q=v[S];if(Q.length>1)throw new Error(`Parameter "${S}" must have only a single value`);if(Q=Q[0],S==="client_max_window_bits"){if(Q!==!0){let v=+Q;if(!Number.isInteger(v)||v<8||v>15)throw new TypeError(`Invalid value for parameter "${S}": ${Q}`);Q=v}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${S}": ${Q}`)}else if(S==="server_max_window_bits"){let v=+Q;if(!Number.isInteger(v)||v<8||v>15)throw new TypeError(`Invalid value for parameter "${S}": ${Q}`);Q=v}else if(S==="client_no_context_takeover"||S==="server_no_context_takeover"){if(Q!==!0)throw new TypeError(`Invalid value for parameter "${S}": ${Q}`)}else throw new Error(`Unknown parameter "${S}"`);v[S]=Q}))})),v}decompress(v,S,Q){Be.add((O=>{this._decompress(v,S,((v,S)=>{O(),Q(v,S)}))}))}compress(v,S,Q){Be.add((O=>{this._compress(v,S,((v,S)=>{O(),Q(v,S)}))}))}_decompress(v,S,Q){let V=this._isServer?"client":"server";if(!this._inflate){let v=`${V}_max_window_bits`,S=typeof this.params[v]!="number"?O.Z_DEFAULT_WINDOWBITS:this.params[v];this._inflate=O.createInflateRaw({...this._options.zlibInflateOptions,windowBits:S}),this._inflate[X]=this,this._inflate[ee]=0,this._inflate[he]=[],this._inflate.on("error",gm),this._inflate.on("data",Cc)}this._inflate[ae]=Q,this._inflate.write(v),S&&this._inflate.write(Y),this._inflate.flush((()=>{let v=this._inflate[Ee];if(v){this._inflate.close(),this._inflate=null,Q(v);return}let O=H.concat(this._inflate[he],this._inflate[ee]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[ee]=0,this._inflate[he]=[],S&&this.params[`${V}_no_context_takeover`]&&this._inflate.reset()),Q(null,O)}))}_compress(v,S,Q){let V=this._isServer?"server":"client";if(!this._deflate){let v=`${V}_max_window_bits`,S=typeof this.params[v]!="number"?O.Z_DEFAULT_WINDOWBITS:this.params[v];this._deflate=O.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:S}),this._deflate[ee]=0,this._deflate[he]=[],this._deflate.on("data",mm)}this._deflate[ae]=Q,this._deflate.write(v),this._deflate.flush(O.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let v=H.concat(this._deflate[he],this._deflate[ee]);S&&(v=v.slice(0,v.length-4)),this._deflate[ae]=null,this._deflate[ee]=0,this._deflate[he]=[],S&&this.params[`${V}_no_context_takeover`]&&this._deflate.reset(),Q(null,v)}))}};S.exports=ke;function mm(v){this[he].push(v),this[ee]+=v.length}function Cc(v){if(this[ee]+=v.length,this[X]._maxPayload<1||this[ee]<=this[X]._maxPayload){this[he].push(v);return}this[Ee]=new RangeError("Max payload size exceeded"),this[Ee].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Ee][J]=1009,this.removeListener("data",Cc),this.reset()}function gm(v){this[X]._inflate=null,v[J]=1007,this[ae](v)}}));var Ar=y(((v,S)=>{"use strict";var O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Tc(v){return v>=1e3&&v<=1014&&v!==1004&&v!==1005&&v!==1006||v>=3e3&&v<=4999}function Ac(v){let S=v.length,Q=0;for(;Q<S;)if(!(v[Q]&128))Q++;else if((v[Q]&224)===192){if(Q+1===S||(v[Q+1]&192)!==128||(v[Q]&254)===192)return!1;Q+=2}else if((v[Q]&240)===224){if(Q+2>=S||(v[Q+1]&192)!==128||(v[Q+2]&192)!==128||v[Q]===224&&(v[Q+1]&224)===128||v[Q]===237&&(v[Q+1]&224)===160)return!1;Q+=3}else if((v[Q]&248)===240){if(Q+3>=S||(v[Q+1]&192)!==128||(v[Q+2]&192)!==128||(v[Q+3]&192)!==128||v[Q]===240&&(v[Q+1]&240)===128||v[Q]===244&&v[Q+1]>143||v[Q]>244)return!1;Q+=4}else return!1;return!0}try{let v=Q(4592);S.exports={isValidStatusCode:Tc,isValidUTF8(S){return S.length<150?Ac(S):v(S)},tokenChars:O}}catch{S.exports={isValidStatusCode:Tc,isValidUTF8:Ac,tokenChars:O}}}));var pr=y(((v,S)=>{"use strict";var{Writable:O}=Q(2781),H=hr(),{BINARY_TYPES:V,EMPTY_BUFFER:J,kStatusCode:Y,kWebSocket:X}=cr(),{concat:ee,toArrayBuffer:ae,unmask:he}=ur(),{isValidStatusCode:Ee,isValidUTF8:Be}=Ar(),ke=0,Re=1,Oe=2,Pe=3,Le=4,je=5,qe=class extends O{constructor(v={}){super(),this._binaryType=v.binaryType||V[0],this._extensions=v.extensions||{},this._isServer=!!v.isServer,this._maxPayload=v.maxPayload|0,this._skipUTF8Validation=!!v.skipUTF8Validation,this[X]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=ke,this._loop=!1}_write(v,S,Q){if(this._opcode===8&&this._state==ke)return Q();this._bufferedBytes+=v.length,this._buffers.push(v),this.startLoop(Q)}consume(v){if(this._bufferedBytes-=v,v===this._buffers[0].length)return this._buffers.shift();if(v<this._buffers[0].length){let S=this._buffers[0];return this._buffers[0]=S.slice(v),S.slice(0,v)}let S=Buffer.allocUnsafe(v);do{let Q=this._buffers[0],O=S.length-v;v>=Q.length?S.set(this._buffers.shift(),O):(S.set(new Uint8Array(Q.buffer,Q.byteOffset,v),O),this._buffers[0]=Q.slice(v)),v-=Q.length}while(v>0);return S}startLoop(v){let S;this._loop=!0;do{switch(this._state){case ke:S=this.getInfo();break;case Re:S=this.getPayloadLength16();break;case Oe:S=this.getPayloadLength64();break;case Pe:this.getMask();break;case Le:S=this.getData(v);break;default:this._loop=!1;return}}while(this._loop);v(S)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let v=this.consume(2);if(v[0]&48)return this._loop=!1,Ie(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let S=(v[0]&64)===64;if(S&&!this._extensions[H.extensionName])return this._loop=!1,Ie(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(v[0]&128)===128,this._opcode=v[0]&15,this._payloadLength=v[1]&127,this._opcode===0){if(S)return this._loop=!1,Ie(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Ie(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Ie(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=S}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Ie(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(S)return this._loop=!1,Ie(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Ie(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Ie(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(v[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Ie(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Ie(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Re;else if(this._payloadLength===127)this._state=Oe;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let v=this.consume(8),S=v.readUInt32BE(0);return S>Math.pow(2,53-32)-1?(this._loop=!1,Ie(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=S*Math.pow(2,32)+v.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Ie(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Pe:this._state=Le}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Le}getData(v){let S=J;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}S=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&he(S,this._mask)}if(this._opcode>7)return this.controlMessage(S);if(this._compressed){this._state=je,this.decompress(S,v);return}return S.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(S)),this.dataMessage()}decompress(v,S){this._extensions[H.extensionName].decompress(v,this._fin,((v,Q)=>{if(v)return S(v);if(Q.length){if(this._messageLength+=Q.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return S(Ie(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(Q)}let O=this.dataMessage();if(O)return S(O);this.startLoop(S)}))}dataMessage(){if(this._fin){let v=this._messageLength,S=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let Q;this._binaryType==="nodebuffer"?Q=ee(S,v):this._binaryType==="arraybuffer"?Q=ae(ee(S,v)):Q=S,this.emit("message",Q,!0)}else{let Q=ee(S,v);if(!this._skipUTF8Validation&&!Be(Q))return this._loop=!1,Ie(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",Q,!1)}}this._state=ke}controlMessage(v){if(this._opcode===8)if(this._loop=!1,v.length===0)this.emit("conclude",1005,J),this.end();else{if(v.length===1)return Ie(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let S=v.readUInt16BE(0);if(!Ee(S))return Ie(RangeError,`invalid status code ${S}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let Q=v.slice(2);if(!this._skipUTF8Validation&&!Be(Q))return Ie(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",S,Q),this.end()}}else this._opcode===9?this.emit("ping",v):this.emit("pong",v);this._state=ke}};S.exports=qe;function Ie(v,S,Q,O,H){let V=new v(Q?`Invalid WebSocket frame: ${S}`:S);return Error.captureStackTrace(V,Ie),V.code=H,V[Y]=O,V}}));var fr=y(((v,S)=>{"use strict";var O=Q(1808),H=Q(4404),{randomFillSync:V}=Q(6113),J=hr(),{EMPTY_BUFFER:Y}=cr(),{isValidStatusCode:X}=Ar(),{mask:ee,toBuffer:ae}=ur(),he=Symbol("kByteLength"),Ee=Buffer.alloc(4),Be=class t{constructor(v,S,Q){this._extensions=S||{},Q&&(this._generateMask=Q,this._maskBuffer=Buffer.alloc(4)),this._socket=v,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(v,S){let Q,O=!1,H=2,J=!1;S.mask&&(Q=S.maskBuffer||Ee,S.generateMask?S.generateMask(Q):V(Q,0,4),J=(Q[0]|Q[1]|Q[2]|Q[3])===0,H=6);let Y;typeof v=="string"?(!S.mask||J)&&S[he]!==void 0?Y=S[he]:(v=Buffer.from(v),Y=v.length):(Y=v.length,O=S.mask&&S.readOnly&&!J);let X=Y;Y>=65536?(H+=8,X=127):Y>125&&(H+=2,X=126);let ae=Buffer.allocUnsafe(O?Y+H:H);return ae[0]=S.fin?S.opcode|128:S.opcode,S.rsv1&&(ae[0]|=64),ae[1]=X,X===126?ae.writeUInt16BE(Y,2):X===127&&(ae[2]=ae[3]=0,ae.writeUIntBE(Y,4,6)),S.mask?(ae[1]|=128,ae[H-4]=Q[0],ae[H-3]=Q[1],ae[H-2]=Q[2],ae[H-1]=Q[3],J?[ae,v]:O?(ee(v,Q,ae,H,Y),[ae]):(ee(v,Q,v,0,Y),[ae,v])):[ae,v]}close(v,S,Q,O){let H;if(v===void 0)H=Y;else{if(typeof v!="number"||!X(v))throw new TypeError("First argument must be a valid error code number");if(S===void 0||!S.length)H=Buffer.allocUnsafe(2),H.writeUInt16BE(v,0);else{let Q=Buffer.byteLength(S);if(Q>123)throw new RangeError("The message must not be greater than 123 bytes");H=Buffer.allocUnsafe(2+Q),H.writeUInt16BE(v,0),typeof S=="string"?H.write(S,2):H.set(S,2)}}let V={[he]:H.length,fin:!0,generateMask:this._generateMask,mask:Q,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,H,!1,V,O]):this.sendFrame(t.frame(H,V),O)}ping(v,S,Q){let O,H;if(typeof v=="string"?(O=Buffer.byteLength(v),H=!1):(v=ae(v),O=v.length,H=ae.readOnly),O>125)throw new RangeError("The data size must not be greater than 125 bytes");let V={[he]:O,fin:!0,generateMask:this._generateMask,mask:S,maskBuffer:this._maskBuffer,opcode:9,readOnly:H,rsv1:!1};this._deflating?this.enqueue([this.dispatch,v,!1,V,Q]):this.sendFrame(t.frame(v,V),Q)}pong(v,S,Q){let O,H;if(typeof v=="string"?(O=Buffer.byteLength(v),H=!1):(v=ae(v),O=v.length,H=ae.readOnly),O>125)throw new RangeError("The data size must not be greater than 125 bytes");let V={[he]:O,fin:!0,generateMask:this._generateMask,mask:S,maskBuffer:this._maskBuffer,opcode:10,readOnly:H,rsv1:!1};this._deflating?this.enqueue([this.dispatch,v,!1,V,Q]):this.sendFrame(t.frame(v,V),Q)}send(v,S,Q){let O=this._extensions[J.extensionName],H=S.binary?2:1,V=S.compress,Y,X;if(typeof v=="string"?(Y=Buffer.byteLength(v),X=!1):(v=ae(v),Y=v.length,X=ae.readOnly),this._firstFragment?(this._firstFragment=!1,V&&O&&O.params[O._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(V=Y>=O._threshold),this._compress=V):(V=!1,H=0),S.fin&&(this._firstFragment=!0),O){let O={[he]:Y,fin:S.fin,generateMask:this._generateMask,mask:S.mask,maskBuffer:this._maskBuffer,opcode:H,readOnly:X,rsv1:V};this._deflating?this.enqueue([this.dispatch,v,this._compress,O,Q]):this.dispatch(v,this._compress,O,Q)}else this.sendFrame(t.frame(v,{[he]:Y,fin:S.fin,generateMask:this._generateMask,mask:S.mask,maskBuffer:this._maskBuffer,opcode:H,readOnly:X,rsv1:!1}),Q)}dispatch(v,S,Q,O){if(!S){this.sendFrame(t.frame(v,Q),O);return}let H=this._extensions[J.extensionName];this._bufferedBytes+=Q[he],this._deflating=!0,H.compress(v,Q.fin,((v,S)=>{if(this._socket.destroyed){let v=new Error("The socket was closed while data was being compressed");typeof O=="function"&&O(v);for(let S=0;S<this._queue.length;S++){let Q=this._queue[S],O=Q[Q.length-1];typeof O=="function"&&O(v)}return}this._bufferedBytes-=Q[he],this._deflating=!1,Q.readOnly=!1,this.sendFrame(t.frame(S,Q),O),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){let v=this._queue.shift();this._bufferedBytes-=v[3][he],Reflect.apply(v[0],this,v.slice(1))}}enqueue(v){this._bufferedBytes+=v[3][he],this._queue.push(v)}sendFrame(v,S){v.length===2?(this._socket.cork(),this._socket.write(v[0]),this._socket.write(v[1],S),this._socket.uncork()):this._socket.write(v[0],S)}};S.exports=Be}));var gr=y(((v,S)=>{"use strict";var{kForOnEventAttribute:Q,kListener:O}=cr(),H=Symbol("kCode"),V=Symbol("kData"),J=Symbol("kError"),Y=Symbol("kMessage"),X=Symbol("kReason"),ee=Symbol("kTarget"),ae=Symbol("kType"),he=Symbol("kWasClean"),Ee=class{constructor(v){this[ee]=null,this[ae]=v}get target(){return this[ee]}get type(){return this[ae]}};Object.defineProperty(Ee.prototype,"target",{enumerable:!0});Object.defineProperty(Ee.prototype,"type",{enumerable:!0});var Be=class extends Ee{constructor(v,S={}){super(v),this[H]=S.code===void 0?0:S.code,this[X]=S.reason===void 0?"":S.reason,this[he]=S.wasClean===void 0?!1:S.wasClean}get code(){return this[H]}get reason(){return this[X]}get wasClean(){return this[he]}};Object.defineProperty(Be.prototype,"code",{enumerable:!0});Object.defineProperty(Be.prototype,"reason",{enumerable:!0});Object.defineProperty(Be.prototype,"wasClean",{enumerable:!0});var ke=class extends Ee{constructor(v,S={}){super(v),this[J]=S.error===void 0?null:S.error,this[Y]=S.message===void 0?"":S.message}get error(){return this[J]}get message(){return this[Y]}};Object.defineProperty(ke.prototype,"error",{enumerable:!0});Object.defineProperty(ke.prototype,"message",{enumerable:!0});var Re=class extends Ee{constructor(v,S={}){super(v),this[V]=S.data===void 0?null:S.data}get data(){return this[V]}};Object.defineProperty(Re.prototype,"data",{enumerable:!0});var Oe={addEventListener(v,S,H={}){let V;if(v==="message")V=function(v,Q){let O=new Re("message",{data:Q?v:v.toString()});O[ee]=this,S.call(this,O)};else if(v==="close")V=function(v,Q){let O=new Be("close",{code:v,reason:Q.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});O[ee]=this,S.call(this,O)};else if(v==="error")V=function(v){let Q=new ke("error",{error:v,message:v.message});Q[ee]=this,S.call(this,Q)};else if(v==="open")V=function(){let v=new Ee("open");v[ee]=this,S.call(this,v)};else return;V[Q]=!!H[Q],V[O]=S,H.once?this.once(v,V):this.on(v,V)},removeEventListener(v,S){for(let H of this.listeners(v))if(H[O]===S&&!H[Q]){this.removeListener(v,H);break}}};S.exports={CloseEvent:Be,ErrorEvent:ke,Event:Ee,EventTarget:Oe,MessageEvent:Re}}));var mr=y(((v,S)=>{"use strict";var{tokenChars:Q}=Ar();function ot(v,S,Q){v[S]===void 0?v[S]=[Q]:v[S].push(Q)}function Am(v){let S=Object.create(null),O=Object.create(null),H=!1,V=!1,J=!1,Y,X,ee=-1,ae=-1,he=-1,Ee=0;for(;Ee<v.length;Ee++)if(ae=v.charCodeAt(Ee),Y===void 0)if(he===-1&&Q[ae]===1)ee===-1&&(ee=Ee);else if(Ee!==0&&(ae===32||ae===9))he===-1&&ee!==-1&&(he=Ee);else if(ae===59||ae===44){if(ee===-1)throw new SyntaxError(`Unexpected character at index ${Ee}`);he===-1&&(he=Ee);let Q=v.slice(ee,he);ae===44?(ot(S,Q,O),O=Object.create(null)):Y=Q,ee=he=-1}else throw new SyntaxError(`Unexpected character at index ${Ee}`);else if(X===void 0)if(he===-1&&Q[ae]===1)ee===-1&&(ee=Ee);else if(ae===32||ae===9)he===-1&&ee!==-1&&(he=Ee);else if(ae===59||ae===44){if(ee===-1)throw new SyntaxError(`Unexpected character at index ${Ee}`);he===-1&&(he=Ee),ot(O,v.slice(ee,he),!0),ae===44&&(ot(S,Y,O),O=Object.create(null),Y=void 0),ee=he=-1}else if(ae===61&&ee!==-1&&he===-1)X=v.slice(ee,Ee),ee=he=-1;else throw new SyntaxError(`Unexpected character at index ${Ee}`);else if(V){if(Q[ae]!==1)throw new SyntaxError(`Unexpected character at index ${Ee}`);ee===-1?ee=Ee:H||(H=!0),V=!1}else if(J)if(Q[ae]===1)ee===-1&&(ee=Ee);else if(ae===34&&ee!==-1)J=!1,he=Ee;else if(ae===92)V=!0;else throw new SyntaxError(`Unexpected character at index ${Ee}`);else if(ae===34&&v.charCodeAt(Ee-1)===61)J=!0;else if(he===-1&&Q[ae]===1)ee===-1&&(ee=Ee);else if(ee!==-1&&(ae===32||ae===9))he===-1&&(he=Ee);else if(ae===59||ae===44){if(ee===-1)throw new SyntaxError(`Unexpected character at index ${Ee}`);he===-1&&(he=Ee);let Q=v.slice(ee,he);H&&(Q=Q.replace(/\\/g,""),H=!1),ot(O,X,Q),ae===44&&(ot(S,Y,O),O=Object.create(null),Y=void 0),X=void 0,ee=he=-1}else throw new SyntaxError(`Unexpected character at index ${Ee}`);if(ee===-1||J||ae===32||ae===9)throw new SyntaxError("Unexpected end of input");he===-1&&(he=Ee);let Be=v.slice(ee,he);return Y===void 0?ot(S,Be,O):(X===void 0?ot(O,Be,!0):H?ot(O,X,Be.replace(/\\/g,"")):ot(O,X,Be),ot(S,Y,O)),S}function Rm(v){return Object.keys(v).map((S=>{let Q=v[S];return Array.isArray(Q)||(Q=[Q]),Q.map((v=>[S].concat(Object.keys(v).map((S=>{let Q=v[S];return Array.isArray(Q)||(Q=[Q]),Q.map((v=>v===!0?S:`${S}=${v}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")}S.exports={format:Rm,parse:Am}}));var wr=y(((v,S)=>{"use strict";var O=Q(2361),H=Q(5687),V=Q(3685),J=Q(1808),Y=Q(4404),{randomBytes:X,createHash:ee}=Q(6113),{Readable:ae}=Q(2781),{URL:he}=Q(7310),Ee=hr(),Be=pr(),ke=fr(),{BINARY_TYPES:Re,EMPTY_BUFFER:Oe,GUID:Pe,kForOnEventAttribute:Le,kListener:je,kStatusCode:qe,kWebSocket:Ve,NOOP:ze}=cr(),{EventTarget:{addEventListener:$e,removeEventListener:Ye}}=gr(),{format:et,parse:tt}=mr(),{toBuffer:nt}=ur(),it=["CONNECTING","OPEN","CLOSING","CLOSED"],st=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,at=[8,13],lt=30*1e3,ct=class t extends O{constructor(v,S,Q){super(),this._binaryType=Re[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Oe,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,v!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,S===void 0?S=[]:Array.isArray(S)||(typeof S=="object"&&S!==null?(Q=S,S=[]):S=[S]),iu(this,v,S,Q)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(v){Re.includes(v)&&(this._binaryType=v,this._receiver&&(this._receiver._binaryType=v))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(v,S,Q){let O=new Be({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:Q.maxPayload,skipUTF8Validation:Q.skipUTF8Validation});this._sender=new ke(v,this._extensions,Q.generateMask),this._receiver=O,this._socket=v,O[Ve]=this,v[Ve]=this,O.on("conclude",Jm),O.on("drain",Qm),O.on("error",e0),O.on("message",t0),O.on("ping",i0),O.on("pong",r0),v.setTimeout(0),v.setNoDelay(),S.length>0&&v.unshift(S),v.on("close",nu),v.on("data",ar),v.on("end",su),v.on("error",ou),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ee.extensionName]&&this._extensions[Ee.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(v,S){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let v="WebSocket was closed before the connection was established";return Ze(this,this._req,v)}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(v,S,!this._isServer,(v=>{v||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),lt)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(v,S,Q){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof v=="function"?(Q=v,v=S=void 0):typeof S=="function"&&(Q=S,S=void 0),typeof v=="number"&&(v=v.toString()),this.readyState!==t.OPEN){as(this,v,Q);return}S===void 0&&(S=!this._isServer),this._sender.ping(v||Oe,S,Q)}pong(v,S,Q){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof v=="function"?(Q=v,v=S=void 0):typeof S=="function"&&(Q=S,S=void 0),typeof v=="number"&&(v=v.toString()),this.readyState!==t.OPEN){as(this,v,Q);return}S===void 0&&(S=!this._isServer),this._sender.pong(v||Oe,S,Q)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(v,S,Q){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof S=="function"&&(Q=S,S={}),typeof v=="number"&&(v=v.toString()),this.readyState!==t.OPEN){as(this,v,Q);return}let O={binary:typeof v!="string",mask:!this._isServer,compress:!0,fin:!0,...S};this._extensions[Ee.extensionName]||(O.compress=!1),this._sender.send(v||Oe,O,Q)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let v="WebSocket was closed before the connection was established";return Ze(this,this._req,v)}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(ct,"CONNECTING",{enumerable:!0,value:it.indexOf("CONNECTING")});Object.defineProperty(ct.prototype,"CONNECTING",{enumerable:!0,value:it.indexOf("CONNECTING")});Object.defineProperty(ct,"OPEN",{enumerable:!0,value:it.indexOf("OPEN")});Object.defineProperty(ct.prototype,"OPEN",{enumerable:!0,value:it.indexOf("OPEN")});Object.defineProperty(ct,"CLOSING",{enumerable:!0,value:it.indexOf("CLOSING")});Object.defineProperty(ct.prototype,"CLOSING",{enumerable:!0,value:it.indexOf("CLOSING")});Object.defineProperty(ct,"CLOSED",{enumerable:!0,value:it.indexOf("CLOSED")});Object.defineProperty(ct.prototype,"CLOSED",{enumerable:!0,value:it.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((v=>{Object.defineProperty(ct.prototype,v,{enumerable:!0})}));["open","error","close","message"].forEach((v=>{Object.defineProperty(ct.prototype,`on${v}`,{enumerable:!0,get(){for(let S of this.listeners(v))if(S[Le])return S[je];return null},set(S){for(let S of this.listeners(v))if(S[Le]){this.removeListener(v,S);break}typeof S=="function"&&this.addEventListener(v,S,{[Le]:!0})}})}));ct.prototype.addEventListener=$e;ct.prototype.removeEventListener=Ye;S.exports=ct;function iu(v,S,Q,O){let J={protocolVersion:at[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...O,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!at.includes(J.protocolVersion))throw new RangeError(`Unsupported protocol version: ${J.protocolVersion} (supported versions: ${at.join(", ")})`);let Y;if(S instanceof he)Y=S,v._url=S.href;else{try{Y=new he(S)}catch{throw new SyntaxError(`Invalid URL: ${S}`)}v._url=S}let ae=Y.protocol==="wss:",Be=Y.protocol==="ws+unix:",ke;if(Y.protocol!=="ws:"&&!ae&&!Be?ke=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:Be&&!Y.pathname?ke="The URL's pathname is empty":Y.hash&&(ke="The URL contains a fragment identifier"),ke){let S=new SyntaxError(ke);if(v._redirects===0)throw S;os(v,S);return}let Re=ae?443:80,Oe=X(16).toString("base64"),Le=ae?H.get:V.get,je=new Set,qe;if(J.createConnection=ae?Xm:Zm,J.defaultPort=J.defaultPort||Re,J.port=Y.port||Re,J.host=Y.hostname.startsWith("[")?Y.hostname.slice(1,-1):Y.hostname,J.headers={"Sec-WebSocket-Version":J.protocolVersion,"Sec-WebSocket-Key":Oe,Connection:"Upgrade",Upgrade:"websocket",...J.headers},J.path=Y.pathname+Y.search,J.timeout=J.handshakeTimeout,J.perMessageDeflate&&(qe=new Ee(J.perMessageDeflate!==!0?J.perMessageDeflate:{},!1,J.maxPayload),J.headers["Sec-WebSocket-Extensions"]=et({[Ee.extensionName]:qe.offer()})),Q.length){for(let v of Q){if(typeof v!="string"||!st.test(v)||je.has(v))throw new SyntaxError("An invalid or duplicated subprotocol was specified");je.add(v)}J.headers["Sec-WebSocket-Protocol"]=Q.join(",")}if(J.origin&&(J.protocolVersion<13?J.headers["Sec-WebSocket-Origin"]=J.origin:J.headers.Origin=J.origin),(Y.username||Y.password)&&(J.auth=`${Y.username}:${Y.password}`),Be){let v=J.path.split(":");J.socketPath=v[0],J.path=v[1]}let Ve=v._req=Le(J);J.timeout&&Ve.on("timeout",(()=>{Ze(v,Ve,"Opening handshake has timed out")})),Ve.on("error",(S=>{Ve===null||Ve.aborted||(Ve=v._req=null,os(v,S))})),Ve.on("response",(H=>{let V=H.headers.location,Y=H.statusCode;if(V&&J.followRedirects&&Y>=300&&Y<400){if(++v._redirects>J.maxRedirects){Ze(v,Ve,"Maximum redirects exceeded");return}Ve.abort();let H;try{H=new he(V,S)}catch{let S=new SyntaxError(`Invalid URL: ${V}`);os(v,S);return}iu(v,H,Q,O)}else v.emit("unexpected-response",Ve,H)||Ze(v,Ve,`Unexpected server response: ${H.statusCode}`)})),Ve.on("upgrade",((S,Q,O)=>{if(v.emit("upgrade",S),v.readyState!==ct.CONNECTING)return;Ve=v._req=null;let H=ee("sha1").update(Oe+Pe).digest("base64");if(S.headers["sec-websocket-accept"]!==H){Ze(v,Q,"Invalid Sec-WebSocket-Accept header");return}let V=S.headers["sec-websocket-protocol"],Y;if(V!==void 0?je.size?je.has(V)||(Y="Server sent an invalid subprotocol"):Y="Server sent a subprotocol but none was requested":je.size&&(Y="Server sent no subprotocol"),Y){Ze(v,Q,Y);return}V&&(v._protocol=V);let X=S.headers["sec-websocket-extensions"];if(X!==void 0){if(!qe){Ze(v,Q,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let S;try{S=tt(X)}catch{Ze(v,Q,"Invalid Sec-WebSocket-Extensions header");return}let O=Object.keys(S);if(O.length!==1||O[0]!==Ee.extensionName){Ze(v,Q,"Server indicated an extension that was not requested");return}try{qe.accept(S[Ee.extensionName])}catch{Ze(v,Q,"Invalid Sec-WebSocket-Extensions header");return}v._extensions[Ee.extensionName]=qe}v.setSocket(Q,O,{generateMask:J.generateMask,maxPayload:J.maxPayload,skipUTF8Validation:J.skipUTF8Validation})}))}function os(v,S){v._readyState=ct.CLOSING,v.emit("error",S),v.emitClose()}function Zm(v){return v.path=v.socketPath,J.connect(v)}function Xm(v){return v.path=void 0,!v.servername&&v.servername!==""&&(v.servername=J.isIP(v.host)?"":v.host),Y.connect(v)}function Ze(v,S,Q){v._readyState=ct.CLOSING;let O=new Error(Q);Error.captureStackTrace(O,Ze),S.setHeader?(S.abort(),S.socket&&!S.socket.destroyed&&S.socket.destroy(),S.once("abort",v.emitClose.bind(v)),v.emit("error",O)):(S.destroy(O),S.once("error",v.emit.bind(v,"error")),S.once("close",v.emitClose.bind(v)))}function as(v,S,Q){if(S){let Q=nt(S).length;v._socket?v._sender._bufferedBytes+=Q:v._bufferedAmount+=Q}if(Q){let S=new Error(`WebSocket is not open: readyState ${v.readyState} (${it[v.readyState]})`);Q(S)}}function Jm(v,S){let Q=this[Ve];Q._closeFrameReceived=!0,Q._closeMessage=S,Q._closeCode=v,Q._socket[Ve]!==void 0&&(Q._socket.removeListener("data",ar),process.nextTick(ru,Q._socket),v===1005?Q.close():Q.close(v,S))}function Qm(){let v=this[Ve];v.isPaused||v._socket.resume()}function e0(v){let S=this[Ve];S._socket[Ve]!==void 0&&(S._socket.removeListener("data",ar),process.nextTick(ru,S._socket),S.close(v[qe])),S.emit("error",v)}function Qc(){this[Ve].emitClose()}function t0(v,S){this[Ve].emit("message",v,S)}function i0(v){let S=this[Ve];S.pong(v,!S._isServer,ze),S.emit("ping",v)}function r0(v){this[Ve].emit("pong",v)}function ru(v){v.resume()}function nu(){let v=this[Ve];this.removeListener("close",nu),this.removeListener("data",ar),this.removeListener("end",su),v._readyState=ct.CLOSING;let S;!this._readableState.endEmitted&&!v._closeFrameReceived&&!v._receiver._writableState.errorEmitted&&(S=v._socket.read())!==null&&v._receiver.write(S),v._receiver.end(),this[Ve]=void 0,clearTimeout(v._closeTimer),v._receiver._writableState.finished||v._receiver._writableState.errorEmitted?v.emitClose():(v._receiver.on("error",Qc),v._receiver.on("finish",Qc))}function ar(v){this[Ve]._receiver.write(v)||this.pause()}function su(){let v=this[Ve];v._readyState=ct.CLOSING,v._receiver.end(),this.end()}function ou(){let v=this[Ve];this.removeListener("error",ou),this.on("error",ze),v&&(v._readyState=ct.CLOSING,this.destroy())}}));var _r=y(((v,S)=>{"use strict";var{tokenChars:Q}=Ar();function s0(v){let S=new Set,O=-1,H=-1,V=0;for(V;V<v.length;V++){let J=v.charCodeAt(V);if(H===-1&&Q[J]===1)O===-1&&(O=V);else if(V!==0&&(J===32||J===9))H===-1&&O!==-1&&(H=V);else if(J===44){if(O===-1)throw new SyntaxError(`Unexpected character at index ${V}`);H===-1&&(H=V);let Q=v.slice(O,H);if(S.has(Q))throw new SyntaxError(`The "${Q}" subprotocol is duplicated`);S.add(Q),O=H=-1}else throw new SyntaxError(`Unexpected character at index ${V}`)}if(O===-1||H!==-1)throw new SyntaxError("Unexpected end of input");let J=v.slice(O,V);if(S.has(J))throw new SyntaxError(`The "${J}" subprotocol is duplicated`);return S.add(J),S}S.exports={parse:s0}}));var yr=y(((v,S)=>{"use strict";var O=Q(2361),H=Q(3685),V=Q(5687),J=Q(1808),Y=Q(4404),{createHash:X}=Q(6113),ee=mr(),ae=hr(),he=_r(),Ee=wr(),{GUID:Be,kWebSocket:ke}=cr(),Re=/^[+/0-9A-Za-z]{22}==$/,Oe=0,Pe=1,Le=2,je=class extends O{constructor(v,S){if(super(),v={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...v},v.port==null&&!v.server&&!v.noServer||v.port!=null&&(v.server||v.noServer)||v.server&&v.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(v.port!=null?(this._server=H.createServer(((v,S)=>{let Q=H.STATUS_CODES[426];S.writeHead(426,{"Content-Length":Q.length,"Content-Type":"text/plain"}),S.end(Q)})),this._server.listen(v.port,v.host,v.backlog,S)):v.server&&(this._server=v.server),this._server){let v=this.emit.bind(this,"connection");this._removeListeners=p0(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(S,Q,O)=>{this.handleUpgrade(S,Q,O,v)}})}v.perMessageDeflate===!0&&(v.perMessageDeflate={}),v.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=v,this._state=Oe}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(v){if(this._state===Le){v&&this.once("close",(()=>{v(new Error("The server is not running"))})),process.nextTick(Bi,this);return}if(v&&this.once("close",v),this._state!==Pe)if(this._state=Pe,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Bi,this):process.nextTick(Bi,this);else{let v=this._server;this._removeListeners(),this._removeListeners=this._server=null,v.close((()=>{Bi(this)}))}}shouldHandle(v){if(this.options.path){let S=v.url.indexOf("?");if((S!==-1?v.url.slice(0,S):v.url)!==this.options.path)return!1}return!0}handleUpgrade(v,S,Q,O){S.on("error",us);let H=v.headers["sec-websocket-key"]!==void 0?v.headers["sec-websocket-key"]:!1,V=+v.headers["sec-websocket-version"];if(v.method!=="GET"||v.headers.upgrade.toLowerCase()!=="websocket"||!H||!Re.test(H)||V!==8&&V!==13||!this.shouldHandle(v))return ni(S,400);let J=v.headers["sec-websocket-protocol"],Y=new Set;if(J!==void 0)try{Y=he.parse(J)}catch{return ni(S,400)}let X=v.headers["sec-websocket-extensions"],Ee={};if(this.options.perMessageDeflate&&X!==void 0){let v=new ae(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let S=ee.parse(X);S[ae.extensionName]&&(v.accept(S[ae.extensionName]),Ee[ae.extensionName]=v)}catch{return ni(S,400)}}if(this.options.verifyClient){let J={origin:v.headers[`${V===8?"sec-websocket-origin":"origin"}`],secure:!!(v.socket.authorized||v.socket.encrypted),req:v};if(this.options.verifyClient.length===2){this.options.verifyClient(J,((V,J,X,ee)=>{if(!V)return ni(S,J||401,X,ee);this.completeUpgrade(Ee,H,Y,v,S,Q,O)}));return}if(!this.options.verifyClient(J))return ni(S,401)}this.completeUpgrade(Ee,H,Y,v,S,Q,O)}completeUpgrade(v,S,Q,O,H,V,J){if(!H.readable||!H.writable)return H.destroy();if(H[ke])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Oe)return ni(H,503);let Y=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${X("sha1").update(S+Be).digest("base64")}`],he=new Ee(null);if(Q.size){let v=this.options.handleProtocols?this.options.handleProtocols(Q,O):Q.values().next().value;v&&(Y.push(`Sec-WebSocket-Protocol: ${v}`),he._protocol=v)}if(v[ae.extensionName]){let S=v[ae.extensionName].params,Q=ee.format({[ae.extensionName]:[S]});Y.push(`Sec-WebSocket-Extensions: ${Q}`),he._extensions=v}this.emit("headers",Y,O),H.write(Y.concat(`\r\n`).join(`\r\n`)),H.removeListener("error",us),he.setSocket(H,V,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(he),he.on("close",(()=>{this.clients.delete(he),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Bi,this)}))),J(he,O)}};S.exports=je;function p0(v,S){for(let Q of Object.keys(S))v.on(Q,S[Q]);return function(){for(let Q of Object.keys(S))v.removeListener(Q,S[Q])}}function Bi(v){v._state=Le,v.emit("close")}function us(){this.destroy()}function ni(v,S,Q,O){v.writable&&(Q=Q||H.STATUS_CODES[S],O={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(Q),...O},v.write(`HTTP/1.1 ${S} ${H.STATUS_CODES[S]}\r\n`+Object.keys(O).map((v=>`${v}: ${O[v]}`)).join(`\r\n`)+`\r\n\r\n`+Q)),v.removeListener("error",us),v.destroy()}}));var Ir=y(((v,S)=>{var O=Q(2057),H=process.cwd,V=null,J=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return V||(V=H.call(process)),V};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Y=process.chdir,process.chdir=function(v){V=null,Y.call(process,v)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Y));var Y;S.exports=v0;function v0(v){O.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(v),v.lutimes||i(v),v.chown=s(v.chown),v.fchown=s(v.fchown),v.lchown=s(v.lchown),v.chmod=r(v.chmod),v.fchmod=r(v.fchmod),v.lchmod=r(v.lchmod),v.chownSync=o(v.chownSync),v.fchownSync=o(v.fchownSync),v.lchownSync=o(v.lchownSync),v.chmodSync=n(v.chmodSync),v.fchmodSync=n(v.fchmodSync),v.lchmodSync=n(v.lchmodSync),v.stat=l(v.stat),v.fstat=l(v.fstat),v.lstat=l(v.lstat),v.statSync=a(v.statSync),v.fstatSync=a(v.fstatSync),v.lstatSync=a(v.lstatSync),v.chmod&&!v.lchmod&&(v.lchmod=function(v,S,Q){Q&&process.nextTick(Q)},v.lchmodSync=function(){}),v.chown&&!v.lchown&&(v.lchown=function(v,S,Q,O){O&&process.nextTick(O)},v.lchownSync=function(){}),J==="win32"&&(v.rename=typeof v.rename!="function"?v.rename:function(S){function f(Q,O,H){var V=Date.now(),J=0;S(Q,O,(function E(Y){if(Y&&(Y.code==="EACCES"||Y.code==="EPERM")&&Date.now()-V<6e4){setTimeout((function(){v.stat(O,(function(v,V){v&&v.code==="ENOENT"?S(Q,O,E):H(Y)}))}),J),J<100&&(J+=10);return}H&&H(Y)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(f,S),f}(v.rename)),v.read=typeof v.read!="function"?v.read:function(S){function f(Q,O,H,V,J,Y){var X;if(Y&&typeof Y=="function"){var ee=0;X=function(ae,he,Ee){if(ae&&ae.code==="EAGAIN"&&ee<10)return ee++,S.call(v,Q,O,H,V,J,X);Y.apply(this,arguments)}}return S.call(v,Q,O,H,V,J,X)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,S),f}(v.read),v.readSync=typeof v.readSync!="function"?v.readSync:function(S){return function(Q,O,H,V,J){for(var Y=0;;)try{return S.call(v,Q,O,H,V,J)}catch(v){if(v.code==="EAGAIN"&&Y<10){Y++;continue}throw v}}}(v.readSync);function e(v){v.lchmod=function(S,Q,H){v.open(S,O.O_WRONLY|O.O_SYMLINK,Q,(function(S,O){if(S){H&&H(S);return}v.fchmod(O,Q,(function(S){v.close(O,(function(v){H&&H(S||v)}))}))}))},v.lchmodSync=function(S,Q){var H=v.openSync(S,O.O_WRONLY|O.O_SYMLINK,Q),V=!0,J;try{J=v.fchmodSync(H,Q),V=!1}finally{if(V)try{v.closeSync(H)}catch{}else v.closeSync(H)}return J}}function i(v){O.hasOwnProperty("O_SYMLINK")&&v.futimes?(v.lutimes=function(S,Q,H,V){v.open(S,O.O_SYMLINK,(function(S,O){if(S){V&&V(S);return}v.futimes(O,Q,H,(function(S){v.close(O,(function(v){V&&V(S||v)}))}))}))},v.lutimesSync=function(S,Q,H){var V=v.openSync(S,O.O_SYMLINK),J,Y=!0;try{J=v.futimesSync(V,Q,H),Y=!1}finally{if(Y)try{v.closeSync(V)}catch{}else v.closeSync(V)}return J}):v.futimes&&(v.lutimes=function(v,S,Q,O){O&&process.nextTick(O)},v.lutimesSync=function(){})}function r(S){return S&&function(Q,O,H){return S.call(v,Q,O,(function(v){c(v)&&(v=null),H&&H.apply(this,arguments)}))}}function n(S){return S&&function(Q,O){try{return S.call(v,Q,O)}catch(v){if(!c(v))throw v}}}function s(S){return S&&function(Q,O,H,V){return S.call(v,Q,O,H,(function(v){c(v)&&(v=null),V&&V.apply(this,arguments)}))}}function o(S){return S&&function(Q,O,H){try{return S.call(v,Q,O,H)}catch(v){if(!c(v))throw v}}}function l(S){return S&&function(Q,O,H){typeof O=="function"&&(H=O,O=null);function d(v,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),H&&H.apply(this,arguments)}return O?S.call(v,Q,O,d):S.call(v,Q,d)}}function a(S){return S&&function(Q,O){var H=O?S.call(v,Q,O):S.call(v,Q);return H&&(H.uid<0&&(H.uid+=4294967296),H.gid<0&&(H.gid+=4294967296)),H}}function c(v){if(!v||v.code==="ENOSYS")return!0;var S=!process.getuid||process.getuid()!==0;return!!(S&&(v.code==="EINVAL"||v.code==="EPERM"))}}}));var Br=y(((v,S)=>{var O=Q(2781).Stream;S.exports=x0;function x0(v){return{ReadStream:e,WriteStream:i};function e(S,Q){if(!(this instanceof e))return new e(S,Q);O.call(this);var H=this;this.path=S,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,Q=Q||{};for(var V=Object.keys(Q),J=0,Y=V.length;J<Y;J++){var X=V[J];this[X]=Q[X]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick((function(){H._read()}));return}v.open(this.path,this.flags,this.mode,(function(v,S){if(v){H.emit("error",v),H.readable=!1;return}H.fd=S,H.emit("open",S),H._read()}))}function i(S,Q){if(!(this instanceof i))return new i(S,Q);O.call(this),this.path=S,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,Q=Q||{};for(var H=Object.keys(Q),V=0,J=H.length;V<J;V++){var Y=H[V];this[Y]=Q[Y]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=v.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}));var kr=y(((v,S)=>{"use strict";S.exports=y0;var Q=Object.getPrototypeOf||function(v){return v.__proto__};function y0(v){if(v===null||typeof v!="object")return v;if(v instanceof Object)var S={__proto__:Q(v)};else var S=Object.create(null);return Object.getOwnPropertyNames(v).forEach((function(Q){Object.defineProperty(S,Q,Object.getOwnPropertyDescriptor(v,Q))})),S}}));var Or=y(((v,S)=>{var O=Q(7147),H=Ir(),V=Br(),J=kr(),Y=Q(3837),X,ee;typeof Symbol=="function"&&typeof Symbol.for=="function"?(X=Symbol.for("graceful-fs.queue"),ee=Symbol.for("graceful-fs.previous")):(X="___graceful-fs.queue",ee="___graceful-fs.previous");function S0(){}function Ou(v,S){Object.defineProperty(v,X,{get:function(){return S}})}var ae=S0;Y.debuglog?ae=Y.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ae=function(){var v=Y.format.apply(Y,arguments);v="GFS4: "+v.split(/\n/).join(`\nGFS4: `),console.error(v)});O[X]||(he=global[X]||[],Ou(O,he),O.close=function(v){function e(S,Q){return v.call(O,S,(function(v){v||Cu(),typeof Q=="function"&&Q.apply(this,arguments)}))}return Object.defineProperty(e,ee,{value:v}),e}(O.close),O.closeSync=function(v){function e(S){v.apply(O,arguments),Cu()}return Object.defineProperty(e,ee,{value:v}),e}(O.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){ae(O[X]),Q(9491).equal(O[X].length,0)})));var he;global[X]||Ou(global,O[X]);S.exports=ms(J(O));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!O.__patched&&(S.exports=ms(O),O.__patched=!0);function ms(v){H(v),v.gracefulify=ms,v.createReadStream=_,v.createWriteStream=$;var S=v.readFile;v.readFile=i;function i(v,Q,O){return typeof Q=="function"&&(O=Q,Q=null),G(v,Q,O);function G(v,Q,O,H){return S(v,Q,(function(S){S&&(S.code==="EMFILE"||S.code==="ENFILE")?si([G,[v,Q,O],S,H||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)}))}}var Q=v.writeFile;v.writeFile=n;function n(v,S,O,H){return typeof O=="function"&&(H=O,O=null),L(v,S,O,H);function L(v,S,O,H,V){return Q(v,S,O,(function(Q){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?si([L,[v,S,O,H],Q,V||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)}))}}var O=v.appendFile;O&&(v.appendFile=o);function o(v,S,Q,H){return typeof Q=="function"&&(H=Q,Q=null),L(v,S,Q,H);function L(v,S,Q,H,V){return O(v,S,Q,(function(O){O&&(O.code==="EMFILE"||O.code==="ENFILE")?si([L,[v,S,Q,H],O,V||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)}))}}var J=v.copyFile;J&&(v.copyFile=a);function a(v,S,Q,O){return typeof Q=="function"&&(O=Q,Q=0),L(v,S,Q,O);function L(v,S,Q,O,H){return J(v,S,Q,(function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?si([L,[v,S,Q,O],V,H||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)}))}}var Y=v.readdir;v.readdir=f;var X=/^v[0-5]\./;function f(v,S,Q){typeof S=="function"&&(Q=S,S=null);var O=X.test(process.version)?function(v,S,Q,O){return Y(v,L(v,S,Q,O))}:function(v,S,Q,O){return Y(v,S,L(v,S,Q,O))};return O(v,S,Q);function L(v,S,Q,H){return function(V,J){V&&(V.code==="EMFILE"||V.code==="ENFILE")?si([O,[v,S,Q],V,H||Date.now(),Date.now()]):(J&&J.sort&&J.sort(),typeof Q=="function"&&Q.call(this,V,J))}}}if(process.version.substr(0,4)==="v0.8"){var ee=V(v);E=ee.ReadStream,w=ee.WriteStream}var ae=v.ReadStream;ae&&(E.prototype=Object.create(ae.prototype),E.prototype.open=I);var he=v.WriteStream;he&&(w.prototype=Object.create(he.prototype),w.prototype.open=C),Object.defineProperty(v,"ReadStream",{get:function(){return E},set:function(v){E=v},enumerable:!0,configurable:!0}),Object.defineProperty(v,"WriteStream",{get:function(){return w},set:function(v){w=v},enumerable:!0,configurable:!0});var Ee=E;Object.defineProperty(v,"FileReadStream",{get:function(){return Ee},set:function(v){Ee=v},enumerable:!0,configurable:!0});var Be=w;Object.defineProperty(v,"FileWriteStream",{get:function(){return Be},set:function(v){Be=v},enumerable:!0,configurable:!0});function E(v,S){return this instanceof E?(ae.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function I(){var v=this;U(v.path,v.flags,v.mode,(function(S,Q){S?(v.autoClose&&v.destroy(),v.emit("error",S)):(v.fd=Q,v.emit("open",Q),v.read())}))}function w(v,S){return this instanceof w?(he.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function C(){var v=this;U(v.path,v.flags,v.mode,(function(S,Q){S?(v.destroy(),v.emit("error",S)):(v.fd=Q,v.emit("open",Q))}))}function _(S,Q){return new v.ReadStream(S,Q)}function $(S,Q){return new v.WriteStream(S,Q)}var ke=v.open;v.open=U;function U(v,S,Q,O){return typeof Q=="function"&&(O=Q,Q=null),L(v,S,Q,O);function L(v,S,Q,O,H){return ke(v,S,Q,(function(V,J){V&&(V.code==="EMFILE"||V.code==="ENFILE")?si([L,[v,S,Q,O],V,H||Date.now(),Date.now()]):typeof O=="function"&&O.apply(this,arguments)}))}}return v}function si(v){ae("ENQUEUE",v[0].name,v[1]),O[X].push(v),gs()}var Ee;function Cu(){for(var v=Date.now(),S=0;S<O[X].length;++S)O[X][S].length>2&&(O[X][S][3]=v,O[X][S][4]=v);gs()}function gs(){if(clearTimeout(Ee),Ee=void 0,O[X].length!==0){var v=O[X].shift(),S=v[0],Q=v[1],H=v[2],V=v[3],J=v[4];if(V===void 0)ae("RETRY",S.name,Q),S.apply(null,Q);else if(Date.now()-V>=6e4){ae("TIMEOUT",S.name,Q);var Y=Q.pop();typeof Y=="function"&&Y.call(null,H)}else{var ee=Date.now()-J,he=Math.max(J-V,1),Be=Math.min(he*1.2,100);ee>=Be?(ae("RETRY",S.name,Q),S.apply(null,Q.concat([V]))):O[X].push(v)}Ee===void 0&&(Ee=setTimeout(gs,0))}}}));var Pr=y(((v,S)=>{function Xe(v,S){typeof S=="boolean"&&(S={forever:S}),this._originalTimeouts=JSON.parse(JSON.stringify(v)),this._timeouts=v,this._options=S||{},this._maxRetryTime=S&&S.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}S.exports=Xe;Xe.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};Xe.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};Xe.prototype.retry=function(v){if(this._timeout&&clearTimeout(this._timeout),!v)return!1;var S=(new Date).getTime();if(v&&S-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(v);var Q=this._timeouts.shift();if(Q===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),Q=this._timeouts.shift();else return!1;var O=this,H=setTimeout((function(){O._attempts++,O._operationTimeoutCb&&(O._timeout=setTimeout((function(){O._operationTimeoutCb(O._attempts)}),O._operationTimeout),O._options.unref&&O._timeout.unref()),O._fn(O._attempts)}),Q);return this._options.unref&&H.unref(),!0};Xe.prototype.attempt=function(v,S){this._fn=v,S&&(S.timeout&&(this._operationTimeout=S.timeout),S.cb&&(this._operationTimeoutCb=S.cb));var Q=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){Q._operationTimeoutCb()}),Q._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)};Xe.prototype.try=function(v){console.log("Using RetryOperation.try() is deprecated"),this.attempt(v)};Xe.prototype.start=function(v){console.log("Using RetryOperation.start() is deprecated"),this.attempt(v)};Xe.prototype.start=Xe.prototype.try;Xe.prototype.errors=function(){return this._errors};Xe.prototype.attempts=function(){return this._attempts};Xe.prototype.mainError=function(){if(this._errors.length===0)return null;for(var v={},S=null,Q=0,O=0;O<this._errors.length;O++){var H=this._errors[O],V=H.message,J=(v[V]||0)+1;v[V]=J,J>=Q&&(S=H,Q=J)}return S}}));var Nr=y((v=>{var S=Pr();v.operation=function(Q){var O=v.timeouts(Q);return new S(O,{forever:Q&&Q.forever,unref:Q&&Q.unref,maxRetryTime:Q&&Q.maxRetryTime})};v.timeouts=function(v){if(v instanceof Array)return[].concat(v);var S={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var Q in v)S[Q]=v[Q];if(S.minTimeout>S.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var O=[],H=0;H<S.retries;H++)O.push(this.createTimeout(H,S));return v&&v.forever&&!O.length&&O.push(this.createTimeout(H,S)),O.sort((function(v,S){return v-S})),O};v.createTimeout=function(v,S){var Q=S.randomize?Math.random()+1:1,O=Math.round(Q*S.minTimeout*Math.pow(S.factor,v));return O=Math.min(O,S.maxTimeout),O};v.wrap=function(S,Q,O){if(Q instanceof Array&&(O=Q,Q=null),!O){O=[];for(var H in S)typeof S[H]=="function"&&O.push(H)}for(var V=0;V<O.length;V++){var J=O[V],Y=S[J];S[J]=function(O){var H=v.operation(Q),V=Array.prototype.slice.call(arguments,1),J=V.pop();V.push((function(v){H.retry(v)||(v&&(arguments[0]=H.mainError()),J.apply(this,arguments))})),H.attempt((function(){O.apply(S,V)}))}.bind(S,Y),S[J].options=Q}}}));var Mr=y(((v,S)=>{S.exports=Nr()}));var Lr=y(((v,S)=>{S.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&S.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&S.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}));var Hr=y(((v,S)=>{var O=global.process,Lt=function(v){return v&&typeof v=="object"&&typeof v.removeListener=="function"&&typeof v.emit=="function"&&typeof v.reallyExit=="function"&&typeof v.listeners=="function"&&typeof v.kill=="function"&&typeof v.pid=="number"&&typeof v.on=="function"};Lt(O)?(H=Q(9491),V=Lr(),J=/^win/i.test(O.platform),Y=Q(2361),typeof Y!="function"&&(Y=Y.EventEmitter),O.__signal_exit_emitter__?X=O.__signal_exit_emitter__:(X=O.__signal_exit_emitter__=new Y,X.count=0,X.emitted={}),X.infinite||(X.setMaxListeners(1/0),X.infinite=!0),S.exports=function(v,S){if(!Lt(global.process))return function(){};H.equal(typeof v,"function","a callback must be provided for exit handler"),Ee===!1&&Be();var Q="exit";S&&S.alwaysLast&&(Q="afterexit");var r=function(){X.removeListener(Q,v),X.listeners("exit").length===0&&X.listeners("afterexit").length===0&&ee()};return X.on(Q,v),r},ee=function(){!Ee||!Lt(global.process)||(Ee=!1,V.forEach((function(v){try{O.removeListener(v,he[v])}catch{}})),O.emit=Oe,O.reallyExit=ke,X.count-=1)},S.exports.unload=ee,ae=function(v,S,Q){X.emitted[v]||(X.emitted[v]=!0,X.emit(v,S,Q))},he={},V.forEach((function(v){he[v]=function(){if(Lt(global.process)){var S=O.listeners(v);S.length===X.count&&(ee(),ae("exit",null,v),ae("afterexit",null,v),J&&v==="SIGHUP"&&(v="SIGINT"),O.kill(O.pid,v))}}})),S.exports.signals=function(){return V},Ee=!1,Be=function(){Ee||!Lt(global.process)||(Ee=!0,X.count+=1,V=V.filter((function(v){try{return O.on(v,he[v]),!0}catch{return!1}})),O.emit=Pe,O.reallyExit=Re)},S.exports.load=Be,ke=O.reallyExit,Re=function(v){Lt(global.process)&&(O.exitCode=v||0,ae("exit",O.exitCode,null),ae("afterexit",O.exitCode,null),ke.call(O,O.exitCode))},Oe=O.emit,Pe=function(v,S){if(v==="exit"&&Lt(global.process)){S!==void 0&&(O.exitCode=S);var Q=Oe.apply(this,arguments);return ae("exit",O.exitCode,null),ae("afterexit",O.exitCode,null),Q}else return Oe.apply(this,arguments)}):S.exports=function(){return function(){}};var H,V,J,Y,X,ee,ae,he,Ee,Be,ke,Re,Oe,Pe}));var qr=y(((v,S)=>{"use strict";var O=Q(1017),H=Or(),V=Mr(),J=Hr(),Y={},X=Symbol();function T0(v,S,Q){let O=S[X];if(O)return S.stat(v,((v,S)=>{if(v)return Q(v);Q(null,S.mtime,O)}));let H=new Date(Math.ceil(Date.now()/1e3)*1e3+5);S.utimes(v,H,H,(O=>{if(O)return Q(O);S.stat(v,((v,O)=>{if(v)return Q(v);let H=O.mtime.getTime()%1e3===0?"s":"ms";Object.defineProperty(S,X,{value:H}),Q(null,O.mtime,H)}))}))}function A0(v){let S=Date.now();return v==="s"&&(S=Math.ceil(S/1e3)*1e3),new Date(S)}function xr(v,S){return S.lockfilePath||`${v}.lock`}function $u(v,S,Q){if(!S.realpath)return Q(null,O.resolve(v));S.fs.realpath(v,Q)}function bs(v,S,Q){let O=xr(v,S);S.fs.mkdir(O,(H=>{if(!H)return T0(O,S.fs,((v,H,V)=>{if(v)return S.fs.rmdir(O,(()=>{})),Q(v);Q(null,H,V)}));if(H.code!=="EEXIST")return Q(H);if(S.stale<=0)return Q(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:v}));S.fs.stat(O,((O,H)=>{if(O)return O.code==="ENOENT"?bs(v,{...S,stale:0},Q):Q(O);if(!R0(H,S))return Q(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:v}));Gu(v,S,(O=>{if(O)return Q(O);bs(v,{...S,stale:0},Q)}))}))}))}function R0(v,S){return v.mtime.getTime()<Date.now()-S.stale}function Gu(v,S,Q){S.fs.rmdir(xr(v,S),(v=>{if(v&&v.code!=="ENOENT")return Q(v);Q()}))}function vr(v,S){let Q=Y[v];Q.updateTimeout||(Q.updateDelay=Q.updateDelay||S.update,Q.updateTimeout=setTimeout((()=>{Q.updateTimeout=null,S.fs.stat(Q.lockfilePath,((O,H)=>{let V=Q.lastUpdate+S.stale<Date.now();if(O)return O.code==="ENOENT"||V?ys(v,Q,Object.assign(O,{code:"ECOMPROMISED"})):(Q.updateDelay=1e3,vr(v,S));if(!(Q.mtime.getTime()===H.mtime.getTime()))return ys(v,Q,Object.assign(new Error("Unable to update lock within the stale threshold"),{code:"ECOMPROMISED"}));let J=A0(Q.mtimePrecision);S.fs.utimes(Q.lockfilePath,J,J,(O=>{let H=Q.lastUpdate+S.stale<Date.now();if(!Q.released){if(O)return O.code==="ENOENT"||H?ys(v,Q,Object.assign(O,{code:"ECOMPROMISED"})):(Q.updateDelay=1e3,vr(v,S));Q.mtime=J,Q.lastUpdate=Date.now(),Q.updateDelay=null,vr(v,S)}}))}))}),Q.updateDelay),Q.updateTimeout.unref&&Q.updateTimeout.unref())}function ys(v,S,Q){S.released=!0,S.updateTimeout&&clearTimeout(S.updateTimeout),Y[v]===S&&delete Y[v],S.options.onCompromised(Q)}function B0(v,S,Q){S={stale:1e4,update:null,realpath:!0,retries:0,fs:H,onCompromised:v=>{throw v},...S},S.retries=S.retries||0,S.retries=typeof S.retries=="number"?{retries:S.retries}:S.retries,S.stale=Math.max(S.stale||0,2e3),S.update=S.update==null?S.stale/2:S.update||0,S.update=Math.max(Math.min(S.update,S.stale/2),1e3),$u(v,S,((v,O)=>{if(v)return Q(v);let H=V.operation(S.retries);H.attempt((()=>{bs(O,S,((v,V,J)=>{if(H.retry(v))return;if(v)return Q(H.mainError());let X=Y[O]={lockfilePath:xr(O,S),mtime:V,mtimePrecision:J,options:S,lastUpdate:Date.now()};vr(O,S),Q(null,(v=>{if(X.released)return v&&v(Object.assign(new Error("Lock is already released"),{code:"ERELEASED"}));L0(O,{...S,realpath:!1},v)}))}))}))}))}function L0(v,S,Q){S={fs:H,realpath:!0,...S},$u(v,S,((v,O)=>{if(v)return Q(v);let H=Y[O];if(!H)return Q(Object.assign(new Error("Lock is not acquired/owned by you"),{code:"ENOTACQUIRED"}));H.updateTimeout&&clearTimeout(H.updateTimeout),H.released=!0,delete Y[O],Gu(O,S,Q)}))}function qu(v){return(...S)=>new Promise(((Q,O)=>{S.push(((v,S)=>{v?O(v):Q(S)})),v(...S)}))}var ee=!1;function P0(){ee||(ee=!0,J((()=>{for(let v in Y){let S=Y[v].options;try{S.fs.rmdirSync(xr(v,S))}catch{}}})))}S.exports.lock=async(v,S)=>{P0();let Q=await qu(B0)(v,S);return qu(Q)}}));var Wr={};df(Wr,{HttpsProxyAgent:()=>Kr.HttpsProxyAgent,PNG:()=>ri.PNG,SocksProxyAgent:()=>ai.SocksProxyAgent,StackUtils:()=>Ii,colors:()=>fi,debug:()=>gi,getProxyForUrl:()=>Yr.getProxyForUrl,jpegjs:()=>mi,lockfile:()=>bi,mime:()=>Ci,minimatch:()=>_i,open:()=>yi,program:()=>ii.program,progress:()=>vi,ws:()=>Si,wsReceiver:()=>ki,wsSender:()=>Qi,wsServer:()=>xi});v.exports=mf(Wr);var Vr=Te(je()),$r=Te(tt()),Yr=Te(nt()),Kr=Te(ct()),Xr=Te(ht()),Zr=Te(Ct()),ei=Te(It()),ti=Te(Nt()),ri=Te(Dn()),ii=Te(Hn()),oi=Te(jn()),ai=Te(er()),li=Te(nr());var ci=Te(rr(),1),ui=Te(pr(),1),di=Te(fr(),1),hi=Te(wr(),1),Ai=Te(yr(),1);var pi=hi.default;var fi=Vr.default,gi=$r.default,mi=Xr.default,wi=qr(),bi=wi,Ci=Zr.default,_i=ei.default,yi=ti.default,vi=oi.default,Ii=li.default,Si=pi,xi=Ai.default,ki=ui.default,Qi=di.default;0&&0;
/*! Bundled license information:

progress/lib/node-progress.js:
  (*!
   * node-progress
   * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
   * MIT Licensed
   *)
*/},5913:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.jsonStringifyForceASCII=jsonStringifyForceASCII;S.wrapInASCIIBox=wrapInASCIIBox;function wrapInASCIIBox(v,S=0){const Q=v.split("\n");const O=Math.max(...Q.map((v=>v.length)));return["╔"+"═".repeat(O+S*2)+"╗",...Q.map((v=>"║"+" ".repeat(S)+v+" ".repeat(O-v.length+S)+"║")),"╚"+"═".repeat(O+S*2)+"╝"].join("\n")}function jsonStringifyForceASCII(v){return JSON.stringify(v).replace(/[\u007f-\uffff]/g,(v=>"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)))}},9509:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getComparator=getComparator;var O=Q(1319);var H=Q(7116);const V=Q(8950);const{diff_match_patch:J,DIFF_INSERT:Y,DIFF_DELETE:X,DIFF_EQUAL:ee}=Q(2371);function getComparator(v){if(v==="image/png")return compareImages.bind(null,"image/png");if(v==="image/jpeg")return compareImages.bind(null,"image/jpeg");if(v==="text/plain")return compareText;return compareBuffersOrStrings}const ae=5*1024;function compareBuffersOrStrings(v,S){if(typeof v==="string")return compareText(v,S);if(!v||!(v instanceof Buffer))return{errorMessage:"Actual result should be a Buffer or a string."};if(Buffer.compare(v,S))return{errorMessage:"Buffers differ"};return null}function compareImages(v,S,Q,J={}){var Y,X;if(!S||!(S instanceof Buffer))return{errorMessage:"Actual result should be a Buffer."};validateBuffer(Q,v);let ee=v==="image/png"?O.PNG.sync.read(S):O.jpegjs.decode(S,{maxMemoryUsageInMB:ae});let he=v==="image/png"?O.PNG.sync.read(Q):O.jpegjs.decode(Q,{maxMemoryUsageInMB:ae});const Ee={width:Math.max(he.width,ee.width),height:Math.max(he.height,ee.height)};let Be="";if(he.width!==ee.width||he.height!==ee.height){Be=`Expected an image ${he.width}px by ${he.height}px, received ${ee.width}px by ${ee.height}px. `;ee=resizeImage(ee,Ee);he=resizeImage(he,Ee)}const ke=new O.PNG({width:Ee.width,height:Ee.height});let Re;if(J._comparator==="ssim-cie94"){Re=(0,H.compare)(he.data,ee.data,ke.data,Ee.width,Ee.height,{maxColorDeltaE94:1})}else if(((Y=J._comparator)!==null&&Y!==void 0?Y:"pixelmatch")==="pixelmatch"){var Oe;Re=V(he.data,ee.data,ke.data,Ee.width,Ee.height,{threshold:(Oe=J.threshold)!==null&&Oe!==void 0?Oe:.2})}else{throw new Error(`Configuration specifies unknown comparator "${J._comparator}"`)}const Pe=J.maxDiffPixels;const Le=J.maxDiffPixelRatio!==undefined?he.width*he.height*J.maxDiffPixelRatio:undefined;let je;if(Pe!==undefined&&Le!==undefined)je=Math.min(Pe,Le);else je=(X=Pe!==null&&Pe!==void 0?Pe:Le)!==null&&X!==void 0?X:0;const qe=Math.ceil(Re/(he.width*he.height)*100)/100;const Ve=Re>je?`${Re} pixels (ratio ${qe.toFixed(2)} of all image pixels) are different.`:"";if(Ve||Be)return{errorMessage:Be+Ve,diff:O.PNG.sync.write(ke)};return null}function validateBuffer(v,S){if(S==="image/png"){const S=[137,80,78,71,13,10,26,10];if(v.length<S.length||!S.every(((S,Q)=>v[Q]===S)))throw new Error("could not decode image as PNG.")}else if(S==="image/jpeg"){const S=[255,216];if(v.length<S.length||!S.every(((S,Q)=>v[Q]===S)))throw new Error("could not decode image as JPEG.")}}function compareText(v,S){if(typeof v!=="string")return{errorMessage:"Actual result should be a string"};const Q=S.toString("utf-8");if(Q===v)return null;const O=new J;const H=O.diff_main(Q,v);O.diff_cleanupSemantic(H);return{errorMessage:diff_prettyTerminal(H)}}function diff_prettyTerminal(v){const S=[];for(let Q=0;Q<v.length;Q++){const H=v[Q][0];const V=v[Q][1];const J=V;switch(H){case Y:S[Q]=O.colors.green(J);break;case X:S[Q]=O.colors.reset(O.colors.strikethrough(O.colors.red(J)));break;case ee:S[Q]=J;break}}return S.join("")}function resizeImage(v,S){if(v.width===S.width&&v.height===S.height)return v;const Q=new Uint8Array(S.width*S.height*4);for(let O=0;O<S.height;O++){for(let H=0;H<S.width;H++){const V=(O*S.width+H)*4;if(O<v.height&&H<v.width){const S=(O*v.width+H)*4;Q[V]=v.data[S];Q[V+1]=v.data[S+1];Q[V+2]=v.data[S+2];Q[V+3]=v.data[S+3]}else{Q[V]=0;Q[V+1]=0;Q[V+2]=0;Q[V+3]=0}}}return{data:Buffer.from(Q),width:S.width,height:S.height}}},5847:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.calculateSha1=calculateSha1;S.createGuid=createGuid;var O=_interopRequireDefault(Q(6113));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function createGuid(){return O.default.randomBytes(16).toString("hex")}function calculateSha1(v){const S=O.default.createHash("sha1");S.update(v);return S.digest("hex")}},6819:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.assert=assert;S.debugAssert=debugAssert;S.debugMode=debugMode;S.isUnderTest=isUnderTest;S.setUnderTest=setUnderTest;var O=Q(8895);function assert(v,S){if(!v)throw new Error(S||"Assertion error")}function debugAssert(v,S){if(isUnderTest()&&!v)throw new Error(S)}const H=(0,O.getFromENV)("PWDEBUG")||"";function debugMode(){if(H==="console")return"console";if(H==="0"||H==="false")return"";return H?"inspector":""}let V=!!process.env.PWTEST_UNDER_TEST;function setUnderTest(){V=true}function isUnderTest(){return V}},8895:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getAsBooleanFromENV=getAsBooleanFromENV;S.getFromENV=getFromENV;S.getPackageManager=getPackageManager;S.getPackageManagerExecCommand=getPackageManagerExecCommand;function getFromENV(v){let S=process.env[v];S=S===undefined?process.env[`npm_config_${v.toLowerCase()}`]:S;S=S===undefined?process.env[`npm_package_config_${v.toLowerCase()}`]:S;return S}function getAsBooleanFromENV(v){const S=getFromENV(v);return!!S&&S!=="false"&&S!=="0"}function getPackageManager(){const v=process.env.npm_config_user_agent||"";if(v.includes("yarn"))return"yarn";if(v.includes("pnpm"))return"pnpm";return"npm"}function getPackageManagerExecCommand(){const v=getPackageManager();if(v==="yarn")return"yarn";if(v==="pnpm")return"pnpm exec";return"npx"}},3841:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.eventsHelper=void 0;class EventsHelper{static addEventListener(v,S,Q){v.on(S,Q);return{emitter:v,eventName:S,handler:Q}}static removeEventListeners(v){for(const S of v)S.emitter.removeListener(S.eventName,S.handler);v.splice(0,v.length)}}const Q=S.eventsHelper=EventsHelper},6034:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.canAccessFile=canAccessFile;S.copyFileAndMakeWritable=copyFileAndMakeWritable;S.fileUploadSizeLimit=S.existsAsync=void 0;S.mkdirIfNeeded=mkdirIfNeeded;S.removeFolders=removeFolders;S.sanitizeForFilePath=sanitizeForFilePath;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const V=S.fileUploadSizeLimit=50*1024*1024;const existsAsync=v=>new Promise((S=>O.default.stat(v,(v=>S(!v)))));S.existsAsync=existsAsync;async function mkdirIfNeeded(v){await O.default.promises.mkdir(H.default.dirname(v),{recursive:true}).catch((()=>{}))}async function removeFolders(v){return await Promise.all(v.map((v=>O.default.promises.rm(v,{recursive:true,force:true,maxRetries:10}).catch((v=>v)))))}function canAccessFile(v){if(!v)return false;try{O.default.accessSync(v);return true}catch(v){return false}}async function copyFileAndMakeWritable(v,S){await O.default.promises.copyFile(v,S);await O.default.promises.chmod(S,436)}function sanitizeForFilePath(v){return v.replace(/[\x00-\x2C\x2E-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/g,"-")}},994:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.globToRegex=globToRegex;const Q=new Set(["$","^","+",".","*","(",")","|","\\","?","{","}","[","]"]);function globToRegex(v){const S=["^"];let O=false;for(let H=0;H<v.length;++H){const V=v[H];if(V==="\\"&&H+1<v.length){const O=v[++H];S.push(Q.has(O)?"\\"+O:O);continue}if(V==="*"){const Q=v[H-1];let O=1;while(v[H+1]==="*"){O++;H++}const V=v[H+1];const J=O>1&&(Q==="/"||Q===undefined)&&(V==="/"||V===undefined);if(J){S.push("((?:[^/]*(?:/|$))*)");H++}else{S.push("([^/]*)")}continue}switch(V){case"?":S.push(".");break;case"[":S.push("[");break;case"]":S.push("]");break;case"{":O=true;S.push("(");break;case"}":O=false;S.push(")");break;case",":if(O){S.push("|");break}S.push("\\"+V);break;default:S.push(Q.has(V)?"\\"+V:V)}}S.push("$");return new RegExp(S.join(""))}},7363:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.createSocket=createSocket;S.httpsHappyEyeballsAgent=S.httpHappyEyeballsAgent=void 0;var O=_interopRequireWildcard(Q(9523));var H=_interopRequireWildcard(Q(3685));var V=_interopRequireWildcard(Q(5687));var J=_interopRequireWildcard(Q(1808));var Y=_interopRequireWildcard(Q(4404));var X=Q(6729);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const ee=300;class HttpHappyEyeballsAgent extends H.Agent{createConnection(v,S){if(J.isIP(clientRequestArgsToHostName(v)))return J.createConnection(v);createConnectionAsync(v,S,false).catch((v=>S===null||S===void 0?void 0:S(v)))}}class HttpsHappyEyeballsAgent extends V.Agent{createConnection(v,S){if(J.isIP(clientRequestArgsToHostName(v)))return Y.connect(v);createConnectionAsync(v,S,true).catch((v=>S===null||S===void 0?void 0:S(v)))}}const ae=S.httpsHappyEyeballsAgent=new HttpsHappyEyeballsAgent;const he=S.httpHappyEyeballsAgent=new HttpHappyEyeballsAgent;async function createSocket(v,S){return new Promise(((Q,O)=>{if(J.isIP(v)){const H=J.createConnection({host:v,port:S});H.on("connect",(()=>Q(H)));H.on("error",(v=>O(v)))}else{createConnectionAsync({host:v,port:S},((v,S)=>{if(v)O(v);if(S)Q(S)}),false).catch((v=>O(v)))}}))}async function createConnectionAsync(v,S,Q){const O=v.__testHookLookup||lookupAddresses;const H=clientRequestArgsToHostName(v);const V=await O(H);const ae=new Set;let he;let Ee=0;const handleError=(v,Q)=>{var O;if(!ae.delete(v))return;++Ee;(O=he)!==null&&O!==void 0?O:he=Q;if(Ee===V.length)S===null||S===void 0?void 0:S(he)};const Be=new X.ManualPromise;for(const{address:O}of V){const V=Q?Y.connect({...v,port:v.port,host:O,servername:H}):J.createConnection({...v,port:v.port,host:O});V.on("connect",(()=>{Be.resolve();S===null||S===void 0?void 0:S(null,V);ae.delete(V);for(const v of ae)v.destroy();ae.clear()}));V.on("timeout",(()=>{V.destroy();handleError(V,new Error("Connection timeout"))}));V.on("error",(v=>handleError(V,v)));ae.add(V);await Promise.race([Be,new Promise((v=>setTimeout(v,ee)))]);if(Be.isDone())break}}async function lookupAddresses(v){const S=await O.promises.lookup(v,{all:true,family:0,verbatim:true});let Q=S.filter((({family:v})=>v===6));let H=S.filter((({family:v})=>v===4));if(Q.length&&Q[0]!==S[0]){const v=Q;Q=H;H=v}const V=[];for(let v=0;v<Math.max(Q.length,H.length);v++){if(Q[v])V.push(Q[v]);if(H[v])V.push(H[v])}return V}function clientRequestArgsToHostName(v){if(v.hostname)return v.hostname;if(v.host)return v.host;throw new Error("Either options.hostname or options.host must be provided")}},4964:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.headersArrayToObject=headersArrayToObject;S.headersObjectToArray=headersObjectToArray;function headersObjectToArray(v,S,Q){if(!Q)Q=S;const O=[];for(const H in v){const V=v[H];if(V===undefined)continue;if(S){const v=H.toLowerCase()==="set-cookie"?Q:S;for(const S of V.split(v))O.push({name:H,value:S.trim()})}else{O.push({name:H,value:V})}}return O}function headersArrayToObject(v,S){const Q={};for(const{name:O,value:H}of v)Q[S?O.toLowerCase():O]=H;return Q}},5228:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.isOfficiallySupportedPlatform=S.hostPlatform=void 0;var O=_interopRequireDefault(Q(2037));var H=Q(1665);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function calculatePlatform(){const v=O.default.platform();if(v==="darwin"){const v=O.default.release().split(".").map((v=>parseInt(v,10)));let S="";if(v[0]<18){S="mac10.13"}else if(v[0]===18){S="mac10.14"}else if(v[0]===19){S="mac10.15"}else{const Q=13;S="mac"+Math.min(v[0]-9,Q);if(O.default.cpus().some((v=>v.model.includes("Apple"))))S+="-arm64"}return{hostPlatform:S,isOfficiallySupportedPlatform:true}}if(v==="linux"){if(!["x64","arm64"].includes(O.default.arch()))return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:false};const v="-"+O.default.arch();const S=(0,H.getLinuxDistributionInfoSync)();if((S===null||S===void 0?void 0:S.id)==="ubuntu"||(S===null||S===void 0?void 0:S.id)==="pop"||(S===null||S===void 0?void 0:S.id)==="neon"||(S===null||S===void 0?void 0:S.id)==="tuxedo"){const Q=(S===null||S===void 0?void 0:S.id)==="ubuntu";if(parseInt(S.version,10)<=19)return{hostPlatform:"ubuntu18.04"+v,isOfficiallySupportedPlatform:Q};if(parseInt(S.version,10)<=21)return{hostPlatform:"ubuntu20.04"+v,isOfficiallySupportedPlatform:Q};return{hostPlatform:"ubuntu22.04"+v,isOfficiallySupportedPlatform:Q}}if((S===null||S===void 0?void 0:S.id)==="linuxmint"){if(parseInt(S.version,10)<=20)return{hostPlatform:"ubuntu20.04"+v,isOfficiallySupportedPlatform:false};return{hostPlatform:"ubuntu22.04"+v,isOfficiallySupportedPlatform:false}}if((S===null||S===void 0?void 0:S.id)==="debian"||(S===null||S===void 0?void 0:S.id)==="raspbian"){const Q=(S===null||S===void 0?void 0:S.id)==="debian";if((S===null||S===void 0?void 0:S.version)==="11")return{hostPlatform:"debian11"+v,isOfficiallySupportedPlatform:Q};if((S===null||S===void 0?void 0:S.version)==="12")return{hostPlatform:"debian12"+v,isOfficiallySupportedPlatform:Q};if((S===null||S===void 0?void 0:S.version)==="")return{hostPlatform:"debian12"+v,isOfficiallySupportedPlatform:Q}}return{hostPlatform:"ubuntu20.04"+v,isOfficiallySupportedPlatform:false}}if(v==="win32")return{hostPlatform:"win64",isOfficiallySupportedPlatform:true};return{hostPlatform:"<unknown>",isOfficiallySupportedPlatform:false}}const{hostPlatform:V,isOfficiallySupportedPlatform:J}=calculatePlatform();S.isOfficiallySupportedPlatform=J;S.hostPlatform=V},4915:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.HttpServer=void 0;var O=_interopRequireDefault(Q(7147));var H=_interopRequireDefault(Q(1017));var V=Q(1319);var J=Q(6819);var Y=Q(9965);var X=Q(6729);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}class HttpServer{constructor(v=""){this._server=void 0;this._urlPrefix=void 0;this._port=0;this._started=false;this._routes=[];this._urlPrefix=v;this._server=(0,Y.createHttpServer)(this._onRequest.bind(this))}server(){return this._server}routePrefix(v,S){this._routes.push({prefix:v,handler:S})}routePath(v,S){this._routes.push({exact:v,handler:S})}port(){return this._port}async _tryStart(v,S){const Q=new X.ManualPromise;const errorListener=v=>Q.reject(v);this._server.on("error",errorListener);try{this._server.listen(v,S);await Promise.race([new Promise((v=>this._server.once("listening",v))),Q])}finally{this._server.removeListener("error",errorListener)}}async start(v={}){(0,J.assert)(!this._started,"server already started");this._started=true;const S=v.host||"localhost";if(v.preferredPort){try{await this._tryStart(v.preferredPort,S)}catch(v){if(!v||!v.message||!v.message.includes("EADDRINUSE"))throw v;await this._tryStart(undefined,S)}}else{await this._tryStart(v.port,S)}const Q=this._server.address();(0,J.assert)(Q,"Could not bind server socket");if(!this._urlPrefix){if(typeof Q==="string"){this._urlPrefix=Q}else{this._port=Q.port;this._urlPrefix=`http://${S}:${Q.port}`}}return this._urlPrefix}async stop(){await new Promise((v=>this._server.close(v)))}urlPrefix(){return this._urlPrefix}serveFile(v,S,Q,O){try{for(const[v,Q]of Object.entries(O||{}))S.setHeader(v,Q);if(v.headers.range)this._serveRangeFile(v,S,Q);else this._serveFile(S,Q);return true}catch(v){return false}}_serveFile(v,S){const Q=O.default.readFileSync(S);v.statusCode=200;const J=V.mime.getType(H.default.extname(S))||"application/octet-stream";v.setHeader("Content-Type",J);v.setHeader("Content-Length",Q.byteLength);v.end(Q)}_serveRangeFile(v,S,Q){const J=v.headers.range;if(!J||!J.startsWith("bytes=")||J.includes(", ")||[...J].filter((v=>v==="-")).length!==1){S.statusCode=400;return S.end("Bad request")}const[Y,X]=J.replace(/bytes=/,"").split("-");let ee;let ae;const he=O.default.statSync(Q).size;if(Y!==""&&X===""){ee=+Y;ae=he-1}else if(Y===""&&X!==""){ee=he-+X;ae=he-1}else{ee=+Y;ae=+X}if(Number.isNaN(ee)||Number.isNaN(ae)||ee>=he||ae>=he||ee>ae){S.writeHead(416,{"Content-Range":`bytes */${he}`});return S.end()}S.writeHead(206,{"Content-Range":`bytes ${ee}-${ae}/${he}`,"Accept-Ranges":"bytes","Content-Length":ae-ee+1,"Content-Type":V.mime.getType(H.default.extname(Q))});const Ee=O.default.createReadStream(Q,{start:ee,end:ae});Ee.pipe(S)}_onRequest(v,S){S.setHeader("Access-Control-Allow-Origin","*");S.setHeader("Access-Control-Request-Method","*");S.setHeader("Access-Control-Allow-Methods","OPTIONS, GET");if(v.headers.origin)S.setHeader("Access-Control-Allow-Headers",v.headers.origin);if(v.method==="OPTIONS"){S.writeHead(200);S.end();return}v.on("error",(()=>S.end()));try{if(!v.url){S.end();return}const Q=new URL("http://localhost"+v.url);for(const O of this._routes){if(O.exact&&Q.pathname===O.exact&&O.handler(v,S))return;if(O.prefix&&Q.pathname.startsWith(O.prefix)&&O.handler(v,S))return}S.statusCode=404;S.end()}catch(v){S.end()}}}S.HttpServer=HttpServer},3557:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});var O=Q(5913);Object.keys(O).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===O[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return O[v]}})}));var H=Q(9509);Object.keys(H).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===H[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return H[v]}})}));var V=Q(5847);Object.keys(V).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===V[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return V[v]}})}));var J=Q(6819);Object.keys(J).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===J[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return J[v]}})}));var Y=Q(8895);Object.keys(Y).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Y[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Y[v]}})}));var X=Q(3841);Object.keys(X).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===X[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return X[v]}})}));var ee=Q(6034);Object.keys(ee).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===ee[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return ee[v]}})}));var ae=Q(994);Object.keys(ae).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===ae[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return ae[v]}})}));var he=Q(4964);Object.keys(he).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===he[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return he[v]}})}));var Ee=Q(5228);Object.keys(Ee).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Ee[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Ee[v]}})}));var Be=Q(4915);Object.keys(Be).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Be[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Be[v]}})}));var ke=Q(6729);Object.keys(ke).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===ke[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return ke[v]}})}));var Re=Q(5746);Object.keys(Re).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Re[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Re[v]}})}));var Oe=Q(2391);Object.keys(Oe).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Oe[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Oe[v]}})}));var Pe=Q(9965);Object.keys(Pe).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Pe[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Pe[v]}})}));var Le=Q(1441);Object.keys(Le).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Le[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Le[v]}})}));var je=Q(6655);Object.keys(je).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===je[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return je[v]}})}));var qe=Q(7061);Object.keys(qe).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===qe[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return qe[v]}})}));var Ve=Q(4588);Object.keys(Ve).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Ve[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Ve[v]}})}));var ze=Q(9030);Object.keys(ze).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===ze[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return ze[v]}})}));var $e=Q(2572);Object.keys($e).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===$e[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return $e[v]}})}));var Ye=Q(3392);Object.keys(Ye).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===Ye[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return Ye[v]}})}));var et=Q(803);Object.keys(et).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===et[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return et[v]}})}));var tt=Q(2323);Object.keys(tt).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===tt[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return tt[v]}})}));var nt=Q(9521);Object.keys(nt).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===nt[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return nt[v]}})}));var it=Q(6435);Object.keys(it).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===it[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return it[v]}})}));var st=Q(4940);Object.keys(st).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===st[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return st[v]}})}));var at=Q(7113);Object.keys(at).forEach((function(v){if(v==="default"||v==="__esModule")return;if(v in S&&S[v]===at[v])return;Object.defineProperty(S,v,{enumerable:true,get:function(){return at[v]}})}))},8610:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.InvalidSelectorError=void 0;S.isInvalidSelectorError=isInvalidSelectorError;S.parseCSS=parseCSS;S.serializeSelector=serializeSelector;var O=_interopRequireWildcard(Q(8906));function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}class InvalidSelectorError extends Error{}S.InvalidSelectorError=InvalidSelectorError;function isInvalidSelectorError(v){return v instanceof InvalidSelectorError}function parseCSS(v,S){let Q;try{Q=O.tokenize(v);if(!(Q[Q.length-1]instanceof O.EOFToken))Q.push(new O.EOFToken)}catch(S){const Q=S.message+` while parsing selector "${v}"`;const O=(S.stack||"").indexOf(S.message);if(O!==-1)S.stack=S.stack.substring(0,O)+Q+S.stack.substring(O+S.message.length);S.message=Q;throw S}const H=Q.find((v=>v instanceof O.AtKeywordToken||v instanceof O.BadStringToken||v instanceof O.BadURLToken||v instanceof O.ColumnToken||v instanceof O.CDOToken||v instanceof O.CDCToken||v instanceof O.SemicolonToken||v instanceof O.OpenCurlyToken||v instanceof O.CloseCurlyToken||v instanceof O.URLToken||v instanceof O.PercentageToken));if(H)throw new InvalidSelectorError(`Unsupported token "${H.toSource()}" while parsing selector "${v}"`);let V=0;const J=new Set;function unexpected(){return new InvalidSelectorError(`Unexpected token "${Q[V].toSource()}" while parsing selector "${v}"`)}function skipWhitespace(){while(Q[V]instanceof O.WhitespaceToken)V++}function isIdent(v=V){return Q[v]instanceof O.IdentToken}function isString(v=V){return Q[v]instanceof O.StringToken}function isNumber(v=V){return Q[v]instanceof O.NumberToken}function isComma(v=V){return Q[v]instanceof O.CommaToken}function isOpenParen(v=V){return Q[v]instanceof O.OpenParenToken}function isCloseParen(v=V){return Q[v]instanceof O.CloseParenToken}function isFunction(v=V){return Q[v]instanceof O.FunctionToken}function isStar(v=V){return Q[v]instanceof O.DelimToken&&Q[v].value==="*"}function isEOF(v=V){return Q[v]instanceof O.EOFToken}function isClauseCombinator(v=V){return Q[v]instanceof O.DelimToken&&[">","+","~"].includes(Q[v].value)}function isSelectorClauseEnd(v=V){return isComma(v)||isCloseParen(v)||isEOF(v)||isClauseCombinator(v)||Q[v]instanceof O.WhitespaceToken}function consumeFunctionArguments(){const v=[consumeArgument()];while(true){skipWhitespace();if(!isComma())break;V++;v.push(consumeArgument())}return v}function consumeArgument(){skipWhitespace();if(isNumber())return Q[V++].value;if(isString())return Q[V++].value;return consumeComplexSelector()}function consumeComplexSelector(){const v={simples:[]};skipWhitespace();if(isClauseCombinator()){v.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""})}else{v.simples.push({selector:consumeSimpleSelector(),combinator:""})}while(true){skipWhitespace();if(isClauseCombinator()){v.simples[v.simples.length-1].combinator=Q[V++].value;skipWhitespace()}else if(isSelectorClauseEnd()){break}v.simples.push({combinator:"",selector:consumeSimpleSelector()})}return v}function consumeSimpleSelector(){let v="";const H=[];while(!isSelectorClauseEnd()){if(isIdent()||isStar()){v+=Q[V++].toSource()}else if(Q[V]instanceof O.HashToken){v+=Q[V++].toSource()}else if(Q[V]instanceof O.DelimToken&&Q[V].value==="."){V++;if(isIdent())v+="."+Q[V++].toSource();else throw unexpected()}else if(Q[V]instanceof O.ColonToken){V++;if(isIdent()){if(!S.has(Q[V].value.toLowerCase())){v+=":"+Q[V++].toSource()}else{const v=Q[V++].value.toLowerCase();H.push({name:v,args:[]});J.add(v)}}else if(isFunction()){const O=Q[V++].value.toLowerCase();if(!S.has(O)){v+=`:${O}(${consumeBuiltinFunctionArguments()})`}else{H.push({name:O,args:consumeFunctionArguments()});J.add(O)}skipWhitespace();if(!isCloseParen())throw unexpected();V++}else{throw unexpected()}}else if(Q[V]instanceof O.OpenSquareToken){v+="[";V++;while(!(Q[V]instanceof O.CloseSquareToken)&&!isEOF())v+=Q[V++].toSource();if(!(Q[V]instanceof O.CloseSquareToken))throw unexpected();v+="]";V++}else{throw unexpected()}}if(!v&&!H.length)throw unexpected();return{css:v||undefined,functions:H}}function consumeBuiltinFunctionArguments(){let v="";let S=1;while(!isEOF()){if(isOpenParen()||isFunction())S++;if(isCloseParen())S--;if(!S)break;v+=Q[V++].toSource()}return v}const Y=consumeFunctionArguments();if(!isEOF())throw unexpected();if(Y.some((v=>typeof v!=="object"||!("simples"in v))))throw new InvalidSelectorError(`Error while parsing selector "${v}"`);return{selector:Y,names:Array.from(J)}}function serializeSelector(v){return v.map((v=>{if(typeof v==="string")return`"${v}"`;if(typeof v==="number")return String(v);return v.simples.map((({selector:v,combinator:S})=>{let Q=v.css||"";Q=Q+v.functions.map((v=>`:${v.name}(${serializeSelector(v.args)})`)).join("");if(S)Q+=" "+S;return Q})).join(" ")})).join(", ")}},8906:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.WhitespaceToken=S.URLToken=S.SuffixMatchToken=S.SubstringMatchToken=S.StringValuedToken=S.StringToken=S.SemicolonToken=S.PrefixMatchToken=S.PercentageToken=S.OpenSquareToken=S.OpenParenToken=S.OpenCurlyToken=S.NumberToken=S.InvalidCharacterError=S.IncludeMatchToken=S.IdentToken=S.HashToken=S.GroupingToken=S.FunctionToken=S.EOFToken=S.DimensionToken=S.DelimToken=S.DashMatchToken=S.CommaToken=S.ColumnToken=S.ColonToken=S.CloseSquareToken=S.CloseParenToken=S.CloseCurlyToken=S.CSSParserToken=S.CDOToken=S.CDCToken=S.BadURLToken=S.BadStringToken=S.AtKeywordToken=void 0;S.tokenize=tokenize;const between=function(v,S,Q){return v>=S&&v<=Q};function digit(v){return between(v,48,57)}function hexdigit(v){return digit(v)||between(v,65,70)||between(v,97,102)}function uppercaseletter(v){return between(v,65,90)}function lowercaseletter(v){return between(v,97,122)}function letter(v){return uppercaseletter(v)||lowercaseletter(v)}function nonascii(v){return v>=128}function namestartchar(v){return letter(v)||nonascii(v)||v===95}function namechar(v){return namestartchar(v)||digit(v)||v===45}function nonprintable(v){return between(v,0,8)||v===11||between(v,14,31)||v===127}function newline(v){return v===10}function whitespace(v){return newline(v)||v===9||v===32}const Q=1114111;class InvalidCharacterError extends Error{constructor(v){super(v);this.name="InvalidCharacterError"}}S.InvalidCharacterError=InvalidCharacterError;function preprocess(v){const S=[];for(let Q=0;Q<v.length;Q++){let O=v.charCodeAt(Q);if(O===13&&v.charCodeAt(Q+1)===10){O=10;Q++}if(O===13||O===12)O=10;if(O===0)O=65533;if(between(O,55296,56319)&&between(v.charCodeAt(Q+1),56320,57343)){const S=O-55296;const H=v.charCodeAt(Q+1)-56320;O=Math.pow(2,16)+S*Math.pow(2,10)+H;Q++}S.push(O)}return S}function stringFromCode(v){if(v<=65535)return String.fromCharCode(v);v-=Math.pow(2,16);const S=Math.floor(v/Math.pow(2,10))+55296;const Q=v%Math.pow(2,10)+56320;return String.fromCharCode(S)+String.fromCharCode(Q)}function tokenize(v){const S=preprocess(v);let O=-1;const H=[];let V;let J=0;let Y=0;let X=0;const incrLineno=function(){J+=1;X=Y;Y=0};const ee={line:J,column:Y};const codepoint=function(v){if(v>=S.length)return-1;return S[v]};const next=function(v){if(v===undefined)v=1;if(v>3)throw"Spec Error: no more than three codepoints of lookahead.";return codepoint(O+v)};const consume=function(v){if(v===undefined)v=1;O+=v;V=codepoint(O);if(newline(V))incrLineno();else Y+=v;return true};const reconsume=function(){O-=1;if(newline(V)){J-=1;Y=X}else{Y-=1}ee.line=J;ee.column=Y;return true};const eof=function(v){if(v===undefined)v=V;return v===-1};const donothing=function(){};const parseerror=function(){};const consumeAToken=function(){consumeComments();consume();if(whitespace(V)){while(whitespace(next()))consume();return new WhitespaceToken}else if(V===34){return consumeAStringToken()}else if(V===35){if(namechar(next())||areAValidEscape(next(1),next(2))){const v=new HashToken("");if(wouldStartAnIdentifier(next(1),next(2),next(3)))v.type="id";v.value=consumeAName();return v}else{return new DelimToken(V)}}else if(V===36){if(next()===61){consume();return new SuffixMatchToken}else{return new DelimToken(V)}}else if(V===39){return consumeAStringToken()}else if(V===40){return new OpenParenToken}else if(V===41){return new CloseParenToken}else if(V===42){if(next()===61){consume();return new SubstringMatchToken}else{return new DelimToken(V)}}else if(V===43){if(startsWithANumber()){reconsume();return consumeANumericToken()}else{return new DelimToken(V)}}else if(V===44){return new CommaToken}else if(V===45){if(startsWithANumber()){reconsume();return consumeANumericToken()}else if(next(1)===45&&next(2)===62){consume(2);return new CDCToken}else if(startsWithAnIdentifier()){reconsume();return consumeAnIdentlikeToken()}else{return new DelimToken(V)}}else if(V===46){if(startsWithANumber()){reconsume();return consumeANumericToken()}else{return new DelimToken(V)}}else if(V===58){return new ColonToken}else if(V===59){return new SemicolonToken}else if(V===60){if(next(1)===33&&next(2)===45&&next(3)===45){consume(3);return new CDOToken}else{return new DelimToken(V)}}else if(V===64){if(wouldStartAnIdentifier(next(1),next(2),next(3)))return new AtKeywordToken(consumeAName());else return new DelimToken(V)}else if(V===91){return new OpenSquareToken}else if(V===92){if(startsWithAValidEscape()){reconsume();return consumeAnIdentlikeToken()}else{parseerror();return new DelimToken(V)}}else if(V===93){return new CloseSquareToken}else if(V===94){if(next()===61){consume();return new PrefixMatchToken}else{return new DelimToken(V)}}else if(V===123){return new OpenCurlyToken}else if(V===124){if(next()===61){consume();return new DashMatchToken}else if(next()===124){consume();return new ColumnToken}else{return new DelimToken(V)}}else if(V===125){return new CloseCurlyToken}else if(V===126){if(next()===61){consume();return new IncludeMatchToken}else{return new DelimToken(V)}}else if(digit(V)){reconsume();return consumeANumericToken()}else if(namestartchar(V)){reconsume();return consumeAnIdentlikeToken()}else if(eof()){return new EOFToken}else{return new DelimToken(V)}};const consumeComments=function(){while(next(1)===47&&next(2)===42){consume(2);while(true){consume();if(V===42&&next()===47){consume();break}else if(eof()){parseerror();return}}}};const consumeANumericToken=function(){const v=consumeANumber();if(wouldStartAnIdentifier(next(1),next(2),next(3))){const S=new DimensionToken;S.value=v.value;S.repr=v.repr;S.type=v.type;S.unit=consumeAName();return S}else if(next()===37){consume();const S=new PercentageToken;S.value=v.value;S.repr=v.repr;return S}else{const S=new NumberToken;S.value=v.value;S.repr=v.repr;S.type=v.type;return S}};const consumeAnIdentlikeToken=function(){const v=consumeAName();if(v.toLowerCase()==="url"&&next()===40){consume();while(whitespace(next(1))&&whitespace(next(2)))consume();if(next()===34||next()===39)return new FunctionToken(v);else if(whitespace(next())&&(next(2)===34||next(2)===39))return new FunctionToken(v);else return consumeAURLToken()}else if(next()===40){consume();return new FunctionToken(v)}else{return new IdentToken(v)}};const consumeAStringToken=function(v){if(v===undefined)v=V;let S="";while(consume()){if(V===v||eof()){return new StringToken(S)}else if(newline(V)){parseerror();reconsume();return new BadStringToken}else if(V===92){if(eof(next()))donothing();else if(newline(next()))consume();else S+=stringFromCode(consumeEscape())}else{S+=stringFromCode(V)}}throw new Error("Internal error")};const consumeAURLToken=function(){const v=new URLToken("");while(whitespace(next()))consume();if(eof(next()))return v;while(consume()){if(V===41||eof()){return v}else if(whitespace(V)){while(whitespace(next()))consume();if(next()===41||eof(next())){consume();return v}else{consumeTheRemnantsOfABadURL();return new BadURLToken}}else if(V===34||V===39||V===40||nonprintable(V)){parseerror();consumeTheRemnantsOfABadURL();return new BadURLToken}else if(V===92){if(startsWithAValidEscape()){v.value+=stringFromCode(consumeEscape())}else{parseerror();consumeTheRemnantsOfABadURL();return new BadURLToken}}else{v.value+=stringFromCode(V)}}throw new Error("Internal error")};const consumeEscape=function(){consume();if(hexdigit(V)){const v=[V];for(let S=0;S<5;S++){if(hexdigit(next())){consume();v.push(V)}else{break}}if(whitespace(next()))consume();let S=parseInt(v.map((function(v){return String.fromCharCode(v)})).join(""),16);if(S>Q)S=65533;return S}else if(eof()){return 65533}else{return V}};const areAValidEscape=function(v,S){if(v!==92)return false;if(newline(S))return false;return true};const startsWithAValidEscape=function(){return areAValidEscape(V,next())};const wouldStartAnIdentifier=function(v,S,Q){if(v===45)return namestartchar(S)||S===45||areAValidEscape(S,Q);else if(namestartchar(v))return true;else if(v===92)return areAValidEscape(v,S);else return false};const startsWithAnIdentifier=function(){return wouldStartAnIdentifier(V,next(1),next(2))};const wouldStartANumber=function(v,S,Q){if(v===43||v===45){if(digit(S))return true;if(S===46&&digit(Q))return true;return false}else if(v===46){if(digit(S))return true;return false}else if(digit(v)){return true}else{return false}};const startsWithANumber=function(){return wouldStartANumber(V,next(1),next(2))};const consumeAName=function(){let v="";while(consume()){if(namechar(V)){v+=stringFromCode(V)}else if(startsWithAValidEscape()){v+=stringFromCode(consumeEscape())}else{reconsume();return v}}throw new Error("Internal parse error")};const consumeANumber=function(){let v="";let S="integer";if(next()===43||next()===45){consume();v+=stringFromCode(V)}while(digit(next())){consume();v+=stringFromCode(V)}if(next(1)===46&&digit(next(2))){consume();v+=stringFromCode(V);consume();v+=stringFromCode(V);S="number";while(digit(next())){consume();v+=stringFromCode(V)}}const Q=next(1),O=next(2),H=next(3);if((Q===69||Q===101)&&digit(O)){consume();v+=stringFromCode(V);consume();v+=stringFromCode(V);S="number";while(digit(next())){consume();v+=stringFromCode(V)}}else if((Q===69||Q===101)&&(O===43||O===45)&&digit(H)){consume();v+=stringFromCode(V);consume();v+=stringFromCode(V);consume();v+=stringFromCode(V);S="number";while(digit(next())){consume();v+=stringFromCode(V)}}const J=convertAStringToANumber(v);return{type:S,value:J,repr:v}};const convertAStringToANumber=function(v){return+v};const consumeTheRemnantsOfABadURL=function(){while(consume()){if(V===41||eof()){return}else if(startsWithAValidEscape()){consumeEscape();donothing()}else{donothing()}}};let ae=0;while(!eof(next())){H.push(consumeAToken());ae++;if(ae>S.length*2)throw new Error("I'm infinite-looping!")}return H}class CSSParserToken{constructor(){this.tokenType="";this.value=void 0}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}}S.CSSParserToken=CSSParserToken;class BadStringToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="BADSTRING"}}S.BadStringToken=BadStringToken;class BadURLToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="BADURL"}}S.BadURLToken=BadURLToken;class WhitespaceToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}}S.WhitespaceToken=WhitespaceToken;class CDOToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="CDO"}toSource(){return"\x3c!--"}}S.CDOToken=CDOToken;class CDCToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="CDC"}toSource(){return"--\x3e"}}S.CDCToken=CDCToken;class ColonToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType=":"}}S.ColonToken=ColonToken;class SemicolonToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType=";"}}S.SemicolonToken=SemicolonToken;class CommaToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType=","}}S.CommaToken=CommaToken;class GroupingToken extends CSSParserToken{constructor(...v){super(...v);this.value="";this.mirror=""}}S.GroupingToken=GroupingToken;class OpenCurlyToken extends GroupingToken{constructor(){super();this.tokenType="{";this.value="{";this.mirror="}"}}S.OpenCurlyToken=OpenCurlyToken;class CloseCurlyToken extends GroupingToken{constructor(){super();this.tokenType="}";this.value="}";this.mirror="{"}}S.CloseCurlyToken=CloseCurlyToken;class OpenSquareToken extends GroupingToken{constructor(){super();this.tokenType="[";this.value="[";this.mirror="]"}}S.OpenSquareToken=OpenSquareToken;class CloseSquareToken extends GroupingToken{constructor(){super();this.tokenType="]";this.value="]";this.mirror="["}}S.CloseSquareToken=CloseSquareToken;class OpenParenToken extends GroupingToken{constructor(){super();this.tokenType="(";this.value="(";this.mirror=")"}}S.OpenParenToken=OpenParenToken;class CloseParenToken extends GroupingToken{constructor(){super();this.tokenType=")";this.value=")";this.mirror="("}}S.CloseParenToken=CloseParenToken;class IncludeMatchToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="~="}}S.IncludeMatchToken=IncludeMatchToken;class DashMatchToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="|="}}S.DashMatchToken=DashMatchToken;class PrefixMatchToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="^="}}S.PrefixMatchToken=PrefixMatchToken;class SuffixMatchToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="$="}}S.SuffixMatchToken=SuffixMatchToken;class SubstringMatchToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="*="}}S.SubstringMatchToken=SubstringMatchToken;class ColumnToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="||"}}S.ColumnToken=ColumnToken;class EOFToken extends CSSParserToken{constructor(...v){super(...v);this.tokenType="EOF"}toSource(){return""}}S.EOFToken=EOFToken;class DelimToken extends CSSParserToken{constructor(v){super();this.tokenType="DELIM";this.value="";this.value=stringFromCode(v)}toString(){return"DELIM("+this.value+")"}toJSON(){const v=this.constructor.prototype.constructor.prototype.toJSON.call(this);v.value=this.value;return v}toSource(){if(this.value==="\\")return"\\\n";else return this.value}}S.DelimToken=DelimToken;class StringValuedToken extends CSSParserToken{constructor(...v){super(...v);this.value=""}ASCIIMatch(v){return this.value.toLowerCase()===v.toLowerCase()}toJSON(){const v=this.constructor.prototype.constructor.prototype.toJSON.call(this);v.value=this.value;return v}}S.StringValuedToken=StringValuedToken;class IdentToken extends StringValuedToken{constructor(v){super();this.tokenType="IDENT";this.value=v}toString(){return"IDENT("+this.value+")"}toSource(){return escapeIdent(this.value)}}S.IdentToken=IdentToken;class FunctionToken extends StringValuedToken{constructor(v){super();this.tokenType="FUNCTION";this.mirror=void 0;this.value=v;this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return escapeIdent(this.value)+"("}}S.FunctionToken=FunctionToken;class AtKeywordToken extends StringValuedToken{constructor(v){super();this.tokenType="AT-KEYWORD";this.value=v}toString(){return"AT("+this.value+")"}toSource(){return"@"+escapeIdent(this.value)}}S.AtKeywordToken=AtKeywordToken;class HashToken extends StringValuedToken{constructor(v){super();this.tokenType="HASH";this.type=void 0;this.value=v;this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const v=this.constructor.prototype.constructor.prototype.toJSON.call(this);v.value=this.value;v.type=this.type;return v}toSource(){if(this.type==="id")return"#"+escapeIdent(this.value);else return"#"+escapeHash(this.value)}}S.HashToken=HashToken;class StringToken extends StringValuedToken{constructor(v){super();this.tokenType="STRING";this.value=v}toString(){return'"'+escapeString(this.value)+'"'}}S.StringToken=StringToken;class URLToken extends StringValuedToken{constructor(v){super();this.tokenType="URL";this.value=v}toString(){return"URL("+this.value+")"}toSource(){return'url("'+escapeString(this.value)+'")'}}S.URLToken=URLToken;class NumberToken extends CSSParserToken{constructor(){super();this.tokenType="NUMBER";this.type=void 0;this.repr=void 0;this.type="integer";this.repr=""}toString(){if(this.type==="integer")return"INT("+this.value+")";return"NUMBER("+this.value+")"}toJSON(){const v=super.toJSON();v.value=this.value;v.type=this.type;v.repr=this.repr;return v}toSource(){return this.repr}}S.NumberToken=NumberToken;class PercentageToken extends CSSParserToken{constructor(){super();this.tokenType="PERCENTAGE";this.repr=void 0;this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const v=this.constructor.prototype.constructor.prototype.toJSON.call(this);v.value=this.value;v.repr=this.repr;return v}toSource(){return this.repr+"%"}}S.PercentageToken=PercentageToken;class DimensionToken extends CSSParserToken{constructor(){super();this.tokenType="DIMENSION";this.type=void 0;this.repr=void 0;this.unit=void 0;this.type="integer";this.repr="";this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const v=this.constructor.prototype.constructor.prototype.toJSON.call(this);v.value=this.value;v.type=this.type;v.repr=this.repr;v.unit=this.unit;return v}toSource(){const v=this.repr;let S=escapeIdent(this.unit);if(S[0].toLowerCase()==="e"&&(S[1]==="-"||between(S.charCodeAt(1),48,57))){S="\\65 "+S.slice(1,S.length)}return v+S}}S.DimensionToken=DimensionToken;function escapeIdent(v){v=""+v;let S="";const Q=v.charCodeAt(0);for(let O=0;O<v.length;O++){const H=v.charCodeAt(O);if(H===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(between(H,1,31)||H===127||O===0&&between(H,48,57)||O===1&&between(H,48,57)&&Q===45)S+="\\"+H.toString(16)+" ";else if(H>=128||H===45||H===95||between(H,48,57)||between(H,65,90)||between(H,97,122))S+=v[O];else S+="\\"+v[O]}return S}function escapeHash(v){v=""+v;let S="";for(let Q=0;Q<v.length;Q++){const O=v.charCodeAt(Q);if(O===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(O>=128||O===45||O===95||between(O,48,57)||between(O,65,90)||between(O,97,122))S+=v[Q];else S+="\\"+O.toString(16)+" "}return S}function escapeString(v){v=""+v;let S="";for(let Q=0;Q<v.length;Q++){const O=v.charCodeAt(Q);if(O===0)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");if(between(O,1,31)||O===127)S+="\\"+O.toString(16)+" ";else if(O===34||O===92)S+="\\"+v[Q];else S+=v[Q]}return S}},7113:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.PythonLocatorFactory=S.JsonlLocatorFactory=S.JavaScriptLocatorFactory=S.JavaLocatorFactory=S.CSharpLocatorFactory=void 0;S.asLocator=asLocator;S.asLocators=asLocators;var O=Q(7517);var H=Q(942);function asLocator(v,S,Q=false){return asLocators(v,S,Q)[0]}function asLocators(v,S,Q=false,O=20,J){try{return innerAsLocators(new V[v](J),(0,H.parseSelector)(S),Q,O)}catch(v){return[S]}}function innerAsLocators(v,S,Q=false,O=20){const V=[...S.parts];for(let v=0;v<V.length-1;v++){if(V[v].name==="nth"&&V[v+1].name==="internal:control"&&V[v+1].body==="enter-frame"){const[S]=V.splice(v,1);V.splice(v+1,0,S)}}const J=[];let Y=Q?"frame-locator":"page";for(let S=0;S<V.length;S++){const Q=V[S];const X=Y;Y="locator";if(Q.name==="nth"){if(Q.body==="0")J.push([v.generateLocator(X,"first",""),v.generateLocator(X,"nth","0")]);else if(Q.body==="-1")J.push([v.generateLocator(X,"last",""),v.generateLocator(X,"nth","-1")]);else J.push([v.generateLocator(X,"nth",Q.body)]);continue}if(Q.name==="internal:text"){const{exact:S,text:O}=detectExact(Q.body);J.push([v.generateLocator(X,"text",O,{exact:S})]);continue}if(Q.name==="internal:has-text"){const{exact:S,text:O}=detectExact(Q.body);if(!S){J.push([v.generateLocator(X,"has-text",O,{exact:S})]);continue}}if(Q.name==="internal:has-not-text"){const{exact:S,text:O}=detectExact(Q.body);if(!S){J.push([v.generateLocator(X,"has-not-text",O,{exact:S})]);continue}}if(Q.name==="internal:has"){const S=innerAsLocators(v,Q.body.parsed,false,O);J.push(S.map((S=>v.generateLocator(X,"has",S))));continue}if(Q.name==="internal:has-not"){const S=innerAsLocators(v,Q.body.parsed,false,O);J.push(S.map((S=>v.generateLocator(X,"hasNot",S))));continue}if(Q.name==="internal:and"){const S=innerAsLocators(v,Q.body.parsed,false,O);J.push(S.map((S=>v.generateLocator(X,"and",S))));continue}if(Q.name==="internal:or"){const S=innerAsLocators(v,Q.body.parsed,false,O);J.push(S.map((S=>v.generateLocator(X,"or",S))));continue}if(Q.name==="internal:chain"){const S=innerAsLocators(v,Q.body.parsed,false,O);J.push(S.map((S=>v.generateLocator(X,"chain",S))));continue}if(Q.name==="internal:label"){const{exact:S,text:O}=detectExact(Q.body);J.push([v.generateLocator(X,"label",O,{exact:S})]);continue}if(Q.name==="internal:role"){const S=(0,H.parseAttributeSelector)(Q.body,true);const O={attrs:[]};for(const v of S.attributes){if(v.name==="name"){O.exact=v.caseSensitive;O.name=v.value}else{if(v.name==="level"&&typeof v.value==="string")v.value=+v.value;O.attrs.push({name:v.name==="include-hidden"?"includeHidden":v.name,value:v.value})}}J.push([v.generateLocator(X,"role",S.name,O)]);continue}if(Q.name==="internal:testid"){const S=(0,H.parseAttributeSelector)(Q.body,true);const{value:O}=S.attributes[0];J.push([v.generateLocator(X,"test-id",O)]);continue}if(Q.name==="internal:attr"){const S=(0,H.parseAttributeSelector)(Q.body,true);const{name:O,value:V,caseSensitive:Y}=S.attributes[0];const ee=V;const ae=!!Y;if(O==="placeholder"){J.push([v.generateLocator(X,"placeholder",ee,{exact:ae})]);continue}if(O==="alt"){J.push([v.generateLocator(X,"alt",ee,{exact:ae})]);continue}if(O==="title"){J.push([v.generateLocator(X,"title",ee,{exact:ae})]);continue}}let ee="default";const ae=V[S+1];if(ae&&ae.name==="internal:control"&&ae.body==="enter-frame"){ee="frame";Y="frame-locator";S++}const he=(0,H.stringifySelector)({parts:[Q]});const Ee=v.generateLocator(X,ee,he);if(ee==="default"&&ae&&["internal:has-text","internal:has-not-text"].includes(ae.name)){const{exact:Q,text:O}=detectExact(ae.body);if(!Q){const H=v.generateLocator("locator",ae.name==="internal:has-text"?"has-text":"has-not-text",O,{exact:Q});const V={};if(ae.name==="internal:has-text")V.hasText=O;else V.hasNotText=O;const Y=v.generateLocator(X,"default",he,V);J.push([v.chainLocators([Ee,H]),Y]);S++;continue}}let Be;if(["xpath","css"].includes(Q.name)){const S=(0,H.stringifySelector)({parts:[Q]},true);Be=v.generateLocator(X,ee,S)}J.push([Ee,Be].filter(Boolean))}return combineTokens(v,J,O)}function combineTokens(v,S,Q){const O=S.map((()=>""));const H=[];const visit=V=>{if(V===S.length){H.push(v.chainLocators(O));return O.length<Q}for(const v of S[V]){O[V]=v;if(!visit(V+1))return false}return true};visit(0);return H}function detectExact(v){let S=false;const Q=v.match(/^\/(.*)\/([igm]*)$/);if(Q)return{text:new RegExp(Q[1],Q[2])};if(v.endsWith('"')){v=JSON.parse(v);S=true}else if(v.endsWith('"s')){v=JSON.parse(v.substring(0,v.length-1));S=true}else if(v.endsWith('"i')){v=JSON.parse(v.substring(0,v.length-1));S=false}return{exact:S,text:v}}class JavaScriptLocatorFactory{constructor(v){this.preferredQuote=v}generateLocator(v,S,Q,O={}){switch(S){case"default":if(O.hasText!==undefined)return`locator(${this.quote(Q)}, { hasText: ${this.toHasText(O.hasText)} })`;if(O.hasNotText!==undefined)return`locator(${this.quote(Q)}, { hasNotText: ${this.toHasText(O.hasNotText)} })`;return`locator(${this.quote(Q)})`;case"frame":return`frameLocator(${this.quote(Q)})`;case"nth":return`nth(${Q})`;case"first":return`first()`;case"last":return`last()`;case"role":const v=[];if(isRegExp(O.name)){v.push(`name: ${this.regexToSourceString(O.name)}`)}else if(typeof O.name==="string"){v.push(`name: ${this.quote(O.name)}`);if(O.exact)v.push(`exact: true`)}for(const{name:S,value:Q}of O.attrs)v.push(`${S}: ${typeof Q==="string"?this.quote(Q):Q}`);const H=v.length?`, { ${v.join(", ")} }`:"";return`getByRole(${this.quote(Q)}${H})`;case"has-text":return`filter({ hasText: ${this.toHasText(Q)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(Q)} })`;case"has":return`filter({ has: ${Q} })`;case"hasNot":return`filter({ hasNot: ${Q} })`;case"and":return`and(${Q})`;case"or":return`or(${Q})`;case"chain":return`locator(${Q})`;case"test-id":return`getByTestId(${this.toTestIdValue(Q)})`;case"text":return this.toCallWithExact("getByText",Q,!!O.exact);case"alt":return this.toCallWithExact("getByAltText",Q,!!O.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",Q,!!O.exact);case"label":return this.toCallWithExact("getByLabel",Q,!!O.exact);case"title":return this.toCallWithExact("getByTitle",Q,!!O.exact);default:throw new Error("Unknown selector kind "+S)}}chainLocators(v){return v.join(".")}regexToSourceString(v){return(0,O.normalizeEscapedRegexQuotes)(String(v))}toCallWithExact(v,S,Q){if(isRegExp(S))return`${v}(${this.regexToSourceString(S)})`;return Q?`${v}(${this.quote(S)}, { exact: true })`:`${v}(${this.quote(S)})`}toHasText(v){if(isRegExp(v))return this.regexToSourceString(v);return this.quote(v)}toTestIdValue(v){if(isRegExp(v))return this.regexToSourceString(v);return this.quote(v)}quote(v){var S;return(0,O.escapeWithQuotes)(v,(S=this.preferredQuote)!==null&&S!==void 0?S:"'")}}S.JavaScriptLocatorFactory=JavaScriptLocatorFactory;class PythonLocatorFactory{generateLocator(v,S,Q,H={}){switch(S){case"default":if(H.hasText!==undefined)return`locator(${this.quote(Q)}, has_text=${this.toHasText(H.hasText)})`;if(H.hasNotText!==undefined)return`locator(${this.quote(Q)}, has_not_text=${this.toHasText(H.hasNotText)})`;return`locator(${this.quote(Q)})`;case"frame":return`frame_locator(${this.quote(Q)})`;case"nth":return`nth(${Q})`;case"first":return`first`;case"last":return`last`;case"role":const v=[];if(isRegExp(H.name)){v.push(`name=${this.regexToString(H.name)}`)}else if(typeof H.name==="string"){v.push(`name=${this.quote(H.name)}`);if(H.exact)v.push(`exact=True`)}for(const{name:S,value:Q}of H.attrs){let H=typeof Q==="string"?this.quote(Q):Q;if(typeof Q==="boolean")H=Q?"True":"False";v.push(`${(0,O.toSnakeCase)(S)}=${H}`)}const V=v.length?`, ${v.join(", ")}`:"";return`get_by_role(${this.quote(Q)}${V})`;case"has-text":return`filter(has_text=${this.toHasText(Q)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(Q)})`;case"has":return`filter(has=${Q})`;case"hasNot":return`filter(has_not=${Q})`;case"and":return`and_(${Q})`;case"or":return`or_(${Q})`;case"chain":return`locator(${Q})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(Q)})`;case"text":return this.toCallWithExact("get_by_text",Q,!!H.exact);case"alt":return this.toCallWithExact("get_by_alt_text",Q,!!H.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",Q,!!H.exact);case"label":return this.toCallWithExact("get_by_label",Q,!!H.exact);case"title":return this.toCallWithExact("get_by_title",Q,!!H.exact);default:throw new Error("Unknown selector kind "+S)}}chainLocators(v){return v.join(".")}regexToString(v){const S=v.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${(0,O.normalizeEscapedRegexQuotes)(v.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${S})`}toCallWithExact(v,S,Q){if(isRegExp(S))return`${v}(${this.regexToString(S)})`;if(Q)return`${v}(${this.quote(S)}, exact=True)`;return`${v}(${this.quote(S)})`}toHasText(v){if(isRegExp(v))return this.regexToString(v);return`${this.quote(v)}`}toTestIdValue(v){if(isRegExp(v))return this.regexToString(v);return this.quote(v)}quote(v){return(0,O.escapeWithQuotes)(v,'"')}}S.PythonLocatorFactory=PythonLocatorFactory;class JavaLocatorFactory{generateLocator(v,S,Q,H={}){let V;switch(v){case"page":V="Page";break;case"frame-locator":V="FrameLocator";break;case"locator":V="Locator";break}switch(S){case"default":if(H.hasText!==undefined)return`locator(${this.quote(Q)}, new ${V}.LocatorOptions().setHasText(${this.toHasText(H.hasText)}))`;if(H.hasNotText!==undefined)return`locator(${this.quote(Q)}, new ${V}.LocatorOptions().setHasNotText(${this.toHasText(H.hasNotText)}))`;return`locator(${this.quote(Q)})`;case"frame":return`frameLocator(${this.quote(Q)})`;case"nth":return`nth(${Q})`;case"first":return`first()`;case"last":return`last()`;case"role":const v=[];if(isRegExp(H.name)){v.push(`.setName(${this.regexToString(H.name)})`)}else if(typeof H.name==="string"){v.push(`.setName(${this.quote(H.name)})`);if(H.exact)v.push(`.setExact(true)`)}for(const{name:S,value:Q}of H.attrs)v.push(`.set${(0,O.toTitleCase)(S)}(${typeof Q==="string"?this.quote(Q):Q})`);const J=v.length?`, new ${V}.GetByRoleOptions()${v.join("")}`:"";return`getByRole(AriaRole.${(0,O.toSnakeCase)(Q).toUpperCase()}${J})`;case"has-text":return`filter(new ${V}.FilterOptions().setHasText(${this.toHasText(Q)}))`;case"has-not-text":return`filter(new ${V}.FilterOptions().setHasNotText(${this.toHasText(Q)}))`;case"has":return`filter(new ${V}.FilterOptions().setHas(${Q}))`;case"hasNot":return`filter(new ${V}.FilterOptions().setHasNot(${Q}))`;case"and":return`and(${Q})`;case"or":return`or(${Q})`;case"chain":return`locator(${Q})`;case"test-id":return`getByTestId(${this.toTestIdValue(Q)})`;case"text":return this.toCallWithExact(V,"getByText",Q,!!H.exact);case"alt":return this.toCallWithExact(V,"getByAltText",Q,!!H.exact);case"placeholder":return this.toCallWithExact(V,"getByPlaceholder",Q,!!H.exact);case"label":return this.toCallWithExact(V,"getByLabel",Q,!!H.exact);case"title":return this.toCallWithExact(V,"getByTitle",Q,!!H.exact);default:throw new Error("Unknown selector kind "+S)}}chainLocators(v){return v.join(".")}regexToString(v){const S=v.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote((0,O.normalizeEscapedRegexQuotes)(v.source))}${S})`}toCallWithExact(v,S,Q,H){if(isRegExp(Q))return`${S}(${this.regexToString(Q)})`;if(H)return`${S}(${this.quote(Q)}, new ${v}.${(0,O.toTitleCase)(S)}Options().setExact(true))`;return`${S}(${this.quote(Q)})`}toHasText(v){if(isRegExp(v))return this.regexToString(v);return this.quote(v)}toTestIdValue(v){if(isRegExp(v))return this.regexToString(v);return this.quote(v)}quote(v){return(0,O.escapeWithQuotes)(v,'"')}}S.JavaLocatorFactory=JavaLocatorFactory;class CSharpLocatorFactory{generateLocator(v,S,Q,H={}){switch(S){case"default":if(H.hasText!==undefined)return`Locator(${this.quote(Q)}, new() { ${this.toHasText(H.hasText)} })`;if(H.hasNotText!==undefined)return`Locator(${this.quote(Q)}, new() { ${this.toHasNotText(H.hasNotText)} })`;return`Locator(${this.quote(Q)})`;case"frame":return`FrameLocator(${this.quote(Q)})`;case"nth":return`Nth(${Q})`;case"first":return`First`;case"last":return`Last`;case"role":const v=[];if(isRegExp(H.name)){v.push(`NameRegex = ${this.regexToString(H.name)}`)}else if(typeof H.name==="string"){v.push(`Name = ${this.quote(H.name)}`);if(H.exact)v.push(`Exact = true`)}for(const{name:S,value:Q}of H.attrs)v.push(`${(0,O.toTitleCase)(S)} = ${typeof Q==="string"?this.quote(Q):Q}`);const V=v.length?`, new() { ${v.join(", ")} }`:"";return`GetByRole(AriaRole.${(0,O.toTitleCase)(Q)}${V})`;case"has-text":return`Filter(new() { ${this.toHasText(Q)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(Q)} })`;case"has":return`Filter(new() { Has = ${Q} })`;case"hasNot":return`Filter(new() { HasNot = ${Q} })`;case"and":return`And(${Q})`;case"or":return`Or(${Q})`;case"chain":return`Locator(${Q})`;case"test-id":return`GetByTestId(${this.toTestIdValue(Q)})`;case"text":return this.toCallWithExact("GetByText",Q,!!H.exact);case"alt":return this.toCallWithExact("GetByAltText",Q,!!H.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",Q,!!H.exact);case"label":return this.toCallWithExact("GetByLabel",Q,!!H.exact);case"title":return this.toCallWithExact("GetByTitle",Q,!!H.exact);default:throw new Error("Unknown selector kind "+S)}}chainLocators(v){return v.join(".")}regexToString(v){const S=v.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote((0,O.normalizeEscapedRegexQuotes)(v.source))}${S})`}toCallWithExact(v,S,Q){if(isRegExp(S))return`${v}(${this.regexToString(S)})`;if(Q)return`${v}(${this.quote(S)}, new() { Exact = true })`;return`${v}(${this.quote(S)})`}toHasText(v){if(isRegExp(v))return`HasTextRegex = ${this.regexToString(v)}`;return`HasText = ${this.quote(v)}`}toTestIdValue(v){if(isRegExp(v))return this.regexToString(v);return this.quote(v)}toHasNotText(v){if(isRegExp(v))return`HasNotTextRegex = ${this.regexToString(v)}`;return`HasNotText = ${this.quote(v)}`}quote(v){return(0,O.escapeWithQuotes)(v,'"')}}S.CSharpLocatorFactory=CSharpLocatorFactory;class JsonlLocatorFactory{generateLocator(v,S,Q,O={}){return JSON.stringify({kind:S,body:Q,options:O})}chainLocators(v){const S=v.map((v=>JSON.parse(v)));for(let v=0;v<S.length-1;++v)S[v].next=S[v+1];return JSON.stringify(S[0])}}S.JsonlLocatorFactory=JsonlLocatorFactory;const V={javascript:JavaScriptLocatorFactory,python:PythonLocatorFactory,java:JavaLocatorFactory,csharp:CSharpLocatorFactory,jsonl:JsonlLocatorFactory};function isRegExp(v){return v instanceof RegExp}},1973:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.locatorOrSelectorAsSelector=locatorOrSelectorAsSelector;var O=Q(7517);var H=Q(7113);var V=Q(942);function parseLocator(v,S){v=v.replace(/AriaRole\s*\.\s*([\w]+)/g,((v,S)=>S.toLowerCase())).replace(/(get_by_role|getByRole)\s*\(\s*(?:["'`])([^'"`]+)['"`]/g,((v,S,Q)=>`${S}(${Q.toLowerCase()}`));const Q=[];let O="";for(let S=0;S<v.length;++S){const H=v[S];if(H!=='"'&&H!=="'"&&H!=="`"&&H!=="/"){O+=H;continue}const V=v[S-1]==="r"||v[S]==="/";++S;let J="";while(S<v.length){if(v[S]==="\\"){if(V){if(v[S+1]!==H)J+=v[S];++S;J+=v[S]}else{++S;if(v[S]==="n")J+="\n";else if(v[S]==="r")J+="\r";else if(v[S]==="t")J+="\t";else J+=v[S]}++S;continue}if(v[S]!==H){J+=v[S++];continue}break}Q.push({quote:H,text:J});O+=(H==="/"?"r":"")+"$"+Q.length}O=O.toLowerCase().replace(/get_by_alt_text/g,"getbyalttext").replace(/get_by_test_id/g,"getbytestid").replace(/get_by_([\w]+)/g,"getby$1").replace(/has_not_text/g,"hasnottext").replace(/has_text/g,"hastext").replace(/has_not/g,"hasnot").replace(/frame_locator/g,"framelocator").replace(/[{}\s]/g,"").replace(/new\(\)/g,"").replace(/new[\w]+\.[\w]+options\(\)/g,"").replace(/\.set/g,",set").replace(/\.or_\(/g,"or(").replace(/\.and_\(/g,"and(").replace(/:/g,"=").replace(/,re\.ignorecase/g,"i").replace(/,pattern.case_insensitive/g,"i").replace(/,regexoptions.ignorecase/g,"i").replace(/re.compile\(([^)]+)\)/g,"$1").replace(/pattern.compile\(([^)]+)\)/g,"r$1").replace(/newregex\(([^)]+)\)/g,"r$1").replace(/string=/g,"=").replace(/regex=/g,"=").replace(/,,/g,",");const H=Q.map((v=>v.quote)).filter((v=>"'\"`".includes(v)))[0];return{selector:transform(O,Q,S),preferredQuote:H}}function countParams(v){return[...v.matchAll(/\$\d+/g)].length}function shiftParams(v,S){return v.replace(/\$(\d+)/g,((v,Q)=>`$${Q-S}`))}function transform(v,S,Q){while(true){const O=v.match(/filter\(,?(has=|hasnot=|sethas\(|sethasnot\()/);if(!O)break;const H=O.index+O[0].length;let V=0;let J=H;for(;J<v.length;J++){if(v[J]==="(")V++;else if(v[J]===")")V--;if(V<0)break}let Y=v.substring(0,H);let X=0;if(["sethas(","sethasnot("].includes(O[1])){X=1;Y=Y.replace(/sethas\($/,"has=").replace(/sethasnot\($/,"hasnot=")}const ee=countParams(v.substring(0,H));const ae=shiftParams(v.substring(H,J),ee);const he=countParams(ae);const Ee=S.slice(ee,ee+he);const Be=JSON.stringify(transform(ae,Ee,Q));v=Y.replace(/=$/,"2=")+`$${ee+1}`+shiftParams(v.substring(J+X),he-1);const ke=S.slice(0,ee);const Re=S.slice(ee+he);S=ke.concat([{quote:'"',text:Be}]).concat(Re)}v=v.replace(/\,set([\w]+)\(([^)]+)\)/g,((v,S,Q)=>","+S.toLowerCase()+"="+Q.toLowerCase())).replace(/framelocator\(([^)]+)\)/g,"$1.internal:control=enter-frame").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+),hasnottext=([^),]+)\)/g,"locator($1).internal:has-not-text=$2").replace(/locator\(([^)]+),hastext=([^),]+)\)/g,"locator($1).internal:has-text=$2").replace(/locator\(([^)]+)\)/g,"$1").replace(/getbyrole\(([^)]+)\)/g,"internal:role=$1").replace(/getbytext\(([^)]+)\)/g,"internal:text=$1").replace(/getbylabel\(([^)]+)\)/g,"internal:label=$1").replace(/getbytestid\(([^)]+)\)/g,`internal:testid=[${Q}=$1]`).replace(/getby(placeholder|alt|title)(?:text)?\(([^)]+)\)/g,"internal:attr=[$1=$2]").replace(/first(\(\))?/g,"nth=0").replace(/last(\(\))?/g,"nth=-1").replace(/nth\(([^)]+)\)/g,"nth=$1").replace(/filter\(,?hastext=([^)]+)\)/g,"internal:has-text=$1").replace(/filter\(,?hasnottext=([^)]+)\)/g,"internal:has-not-text=$1").replace(/filter\(,?has2=([^)]+)\)/g,"internal:has=$1").replace(/filter\(,?hasnot2=([^)]+)\)/g,"internal:has-not=$1").replace(/,exact=false/g,"").replace(/,exact=true/g,"s").replace(/\,/g,"][");const H=v.split(".");for(let v=0;v<H.length-1;v++){if(H[v]==="internal:control=enter-frame"&&H[v+1].startsWith("nth=")){const[S]=H.splice(v,1);H.splice(v+1,0,S)}}return H.map((v=>{if(!v.startsWith("internal:")||v==="internal:control")return v.replace(/\$(\d+)/g,((v,Q)=>{const O=S[+Q-1];return O.text}));v=v.includes("[")?v.replace(/\]/,"")+"]":v;v=v.replace(/(?:r)\$(\d+)(i)?/g,((Q,H,V)=>{const J=S[+H-1];if(v.startsWith("internal:attr")||v.startsWith("internal:testid")||v.startsWith("internal:role"))return(0,O.escapeForAttributeSelector)(new RegExp(J.text),false)+(V||"");return(0,O.escapeForTextSelector)(new RegExp(J.text,V),false)})).replace(/\$(\d+)(i|s)?/g,((Q,H,V)=>{const J=S[+H-1];if(v.startsWith("internal:has=")||v.startsWith("internal:has-not="))return J.text;if(v.startsWith("internal:testid"))return(0,O.escapeForAttributeSelector)(J.text,true);if(v.startsWith("internal:attr")||v.startsWith("internal:role"))return(0,O.escapeForAttributeSelector)(J.text,V==="s");return(0,O.escapeForTextSelector)(J.text,V==="s")}));return v})).join(" >> ")}function locatorOrSelectorAsSelector(v,S,Q){try{(0,V.parseSelector)(S);return S}catch(v){}try{const{selector:O,preferredQuote:V}=parseLocator(S,Q);const J=(0,H.asLocators)(v,O,undefined,undefined,V);const Y=digestForComparison(S);if(J.some((v=>digestForComparison(v)===Y)))return O}catch(v){}return""}function digestForComparison(v){return v.replace(/\s/g,"").replace(/["`]/g,"'")}},7675:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getByAltTextSelector=getByAltTextSelector;S.getByLabelSelector=getByLabelSelector;S.getByPlaceholderSelector=getByPlaceholderSelector;S.getByRoleSelector=getByRoleSelector;S.getByTestIdSelector=getByTestIdSelector;S.getByTextSelector=getByTextSelector;S.getByTitleSelector=getByTitleSelector;var O=Q(7517);function getByAttributeTextSelector(v,S,Q){return`internal:attr=[${v}=${(0,O.escapeForAttributeSelector)(S,(Q===null||Q===void 0?void 0:Q.exact)||false)}]`}function getByTestIdSelector(v,S){return`internal:testid=[${v}=${(0,O.escapeForAttributeSelector)(S,true)}]`}function getByLabelSelector(v,S){return"internal:label="+(0,O.escapeForTextSelector)(v,!!(S!==null&&S!==void 0&&S.exact))}function getByAltTextSelector(v,S){return getByAttributeTextSelector("alt",v,S)}function getByTitleSelector(v,S){return getByAttributeTextSelector("title",v,S)}function getByPlaceholderSelector(v,S){return getByAttributeTextSelector("placeholder",v,S)}function getByTextSelector(v,S){return"internal:text="+(0,O.escapeForTextSelector)(v,!!(S!==null&&S!==void 0&&S.exact))}function getByRoleSelector(v,S={}){const Q=[];if(S.checked!==undefined)Q.push(["checked",String(S.checked)]);if(S.disabled!==undefined)Q.push(["disabled",String(S.disabled)]);if(S.selected!==undefined)Q.push(["selected",String(S.selected)]);if(S.expanded!==undefined)Q.push(["expanded",String(S.expanded)]);if(S.includeHidden!==undefined)Q.push(["include-hidden",String(S.includeHidden)]);if(S.level!==undefined)Q.push(["level",String(S.level)]);if(S.name!==undefined)Q.push(["name",(0,O.escapeForAttributeSelector)(S.name,!!S.exact)]);if(S.pressed!==undefined)Q.push(["pressed",String(S.pressed)]);return`internal:role=${v}${Q.map((([v,S])=>`[${v}=${S}]`)).join("")}`}},942:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});Object.defineProperty(S,"InvalidSelectorError",{enumerable:true,get:function(){return O.InvalidSelectorError}});S.customCSSNames=void 0;Object.defineProperty(S,"isInvalidSelectorError",{enumerable:true,get:function(){return O.isInvalidSelectorError}});S.parseAttributeSelector=parseAttributeSelector;S.parseSelector=parseSelector;S.splitSelectorByFrame=splitSelectorByFrame;S.stringifySelector=stringifySelector;S.visitAllSelectorParts=visitAllSelectorParts;var O=Q(8610);const H=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]);const V=new Set(["left-of","right-of","above","below","near"]);const J=S.customCSSNames=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function parseSelector(v){const S=parseSelectorString(v);const Q=[];for(const v of S.parts){if(v.name==="css"||v.name==="css:light"){if(v.name==="css:light")v.body=":light("+v.body+")";const S=(0,O.parseCSS)(v.body,J);Q.push({name:"css",body:S.selector,source:v.body});continue}if(H.has(v.name)){let S;let H;try{const Q=JSON.parse("["+v.body+"]");if(!Array.isArray(Q)||Q.length<1||Q.length>2||typeof Q[0]!=="string")throw new O.InvalidSelectorError(`Malformed selector: ${v.name}=`+v.body);S=Q[0];if(Q.length===2){if(typeof Q[1]!=="number"||!V.has(v.name))throw new O.InvalidSelectorError(`Malformed selector: ${v.name}=`+v.body);H=Q[1]}}catch(S){throw new O.InvalidSelectorError(`Malformed selector: ${v.name}=`+v.body)}const J={name:v.name,source:v.body,body:{parsed:parseSelector(S),distance:H}};const Y=[...J.body.parsed.parts].reverse().find((v=>v.name==="internal:control"&&v.body==="enter-frame"));const X=Y?J.body.parsed.parts.indexOf(Y):-1;if(X!==-1&&selectorPartsEqual(J.body.parsed.parts.slice(0,X+1),Q.slice(0,X+1)))J.body.parsed.parts.splice(0,X+1);Q.push(J);continue}Q.push({...v,source:v.body})}if(H.has(Q[0].name))throw new O.InvalidSelectorError(`"${Q[0].name}" selector cannot be first`);return{capture:S.capture,parts:Q}}function splitSelectorByFrame(v){const S=parseSelector(v);const Q=[];let H={parts:[]};let V=0;for(let v=0;v<S.parts.length;++v){const J=S.parts[v];if(J.name==="internal:control"&&J.body==="enter-frame"){if(!H.parts.length)throw new O.InvalidSelectorError("Selector cannot start with entering frame, select the iframe first");Q.push(H);H={parts:[]};V=v+1;continue}if(S.capture===v)H.capture=v-V;H.parts.push(J)}if(!H.parts.length)throw new O.InvalidSelectorError(`Selector cannot end with entering frame, while parsing selector ${v}`);Q.push(H);if(typeof S.capture==="number"&&typeof Q[Q.length-1].capture!=="number")throw new O.InvalidSelectorError(`Can not capture the selector before diving into the frame. Only use * after the last frame has been selected`);return Q}function selectorPartsEqual(v,S){return stringifySelector({parts:v})===stringifySelector({parts:S})}function stringifySelector(v,S){if(typeof v==="string")return v;return v.parts.map(((Q,O)=>{let H=true;if(!S&&O!==v.capture){if(Q.name==="css")H=false;else if(Q.name==="xpath"&&Q.source.startsWith("//")||Q.source.startsWith(".."))H=false}const V=H?Q.name+"=":"";return`${O===v.capture?"*":""}${V}${Q.source}`})).join(" >> ")}function visitAllSelectorParts(v,S){const visit=(v,Q)=>{for(const O of v.parts){S(O,Q);if(H.has(O.name))visit(O.body.parsed,true)}};visit(v,false)}function parseSelectorString(v){let S=0;let Q;let H=0;const V={parts:[]};const append=()=>{const Q=v.substring(H,S).trim();const J=Q.indexOf("=");let Y;let X;if(J!==-1&&Q.substring(0,J).trim().match(/^[a-zA-Z_0-9-+:*]+$/)){Y=Q.substring(0,J).trim();X=Q.substring(J+1)}else if(Q.length>1&&Q[0]==='"'&&Q[Q.length-1]==='"'){Y="text";X=Q}else if(Q.length>1&&Q[0]==="'"&&Q[Q.length-1]==="'"){Y="text";X=Q}else if(/^\(*\/\//.test(Q)||Q.startsWith("..")){Y="xpath";X=Q}else{Y="css";X=Q}let ee=false;if(Y[0]==="*"){ee=true;Y=Y.substring(1)}V.parts.push({name:Y,body:X});if(ee){if(V.capture!==undefined)throw new O.InvalidSelectorError(`Only one of the selectors can capture using * modifier`);V.capture=V.parts.length-1}};if(!v.includes(">>")){S=v.length;append();return V}const shouldIgnoreTextSelectorQuote=()=>{const Q=v.substring(H,S);const O=Q.match(/^\s*text\s*=(.*)$/);return!!O&&!!O[1]};while(S<v.length){const O=v[S];if(O==="\\"&&S+1<v.length){S+=2}else if(O===Q){Q=undefined;S++}else if(!Q&&(O==='"'||O==="'"||O==="`")&&!shouldIgnoreTextSelectorQuote()){Q=O;S++}else if(!Q&&O===">"&&v[S+1]===">"){append();S+=2;H=S}else{S++}}append();return V}function parseAttributeSelector(v,S){let Q=0;let H=v.length===0;const next=()=>v[Q]||"";const eat1=()=>{const S=next();++Q;H=Q>=v.length;return S};const syntaxError=S=>{if(H)throw new O.InvalidSelectorError(`Unexpected end of selector while parsing selector \`${v}\``);throw new O.InvalidSelectorError(`Error while parsing selector \`${v}\` - unexpected symbol "${next()}" at position ${Q}`+(S?" during "+S:""))};function skipSpaces(){while(!H&&/\s/.test(next()))eat1()}function isCSSNameChar(v){return v>=""||v>="0"&&v<="9"||v>="A"&&v<="Z"||v>="a"&&v<="z"||v>="0"&&v<="9"||v==="_"||v==="-"}function readIdentifier(){let v="";skipSpaces();while(!H&&isCSSNameChar(next()))v+=eat1();return v}function readQuotedString(v){let S=eat1();if(S!==v)syntaxError("parsing quoted string");while(!H&&next()!==v){if(next()==="\\")eat1();S+=eat1()}if(next()!==v)syntaxError("parsing quoted string");S+=eat1();return S}function readRegularExpression(){if(eat1()!=="/")syntaxError("parsing regular expression");let S="";let Q=false;while(!H){if(next()==="\\"){S+=eat1();if(H)syntaxError("parsing regular expression")}else if(Q&&next()==="]"){Q=false}else if(!Q&&next()==="["){Q=true}else if(!Q&&next()==="/"){break}S+=eat1()}if(eat1()!=="/")syntaxError("parsing regular expression");let V="";while(!H&&next().match(/[dgimsuy]/))V+=eat1();try{return new RegExp(S,V)}catch(S){throw new O.InvalidSelectorError(`Error while parsing selector \`${v}\`: ${S.message}`)}}function readAttributeToken(){let v="";skipSpaces();if(next()===`'`||next()===`"`)v=readQuotedString(next()).slice(1,-1);else v=readIdentifier();if(!v)syntaxError("parsing property path");return v}function readOperator(){skipSpaces();let v="";if(!H)v+=eat1();if(!H&&v!=="=")v+=eat1();if(!["=","*=","^=","$=","|=","~="].includes(v))syntaxError("parsing operator");return v}function readAttribute(){eat1();const Q=[];Q.push(readAttributeToken());skipSpaces();while(next()==="."){eat1();Q.push(readAttributeToken());skipSpaces()}if(next()==="]"){eat1();return{name:Q.join("."),jsonPath:Q,op:"<truthy>",value:null,caseSensitive:false}}const V=readOperator();let J=undefined;let Y=true;skipSpaces();if(next()==="/"){if(V!=="=")throw new O.InvalidSelectorError(`Error while parsing selector \`${v}\` - cannot use ${V} in attribute with regular expression`);J=readRegularExpression()}else if(next()===`'`||next()===`"`){J=readQuotedString(next()).slice(1,-1);skipSpaces();if(next()==="i"||next()==="I"){Y=false;eat1()}else if(next()==="s"||next()==="S"){Y=true;eat1()}}else{J="";while(!H&&(isCSSNameChar(next())||next()==="+"||next()==="."))J+=eat1();if(J==="true"){J=true}else if(J==="false"){J=false}else{if(!S){J=+J;if(Number.isNaN(J))syntaxError("parsing attribute value")}}}skipSpaces();if(next()!=="]")syntaxError("parsing attribute value");eat1();if(V!=="="&&typeof J!=="string")throw new O.InvalidSelectorError(`Error while parsing selector \`${v}\` - cannot use ${V} in attribute with non-string matching value - ${J}`);return{name:Q.join("."),jsonPath:Q,op:V,value:J,caseSensitive:Y}}const V={name:"",attributes:[]};V.name=readIdentifier();skipSpaces();while(next()==="["){V.attributes.push(readAttribute());skipSpaces()}if(!H)syntaxError(undefined);if(!V.name&&!V.attributes.length)throw new O.InvalidSelectorError(`Error while parsing selector \`${v}\` - selector cannot be empty`);return V}},7517:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.cssEscape=cssEscape;S.escapeForAttributeSelector=escapeForAttributeSelector;S.escapeForTextSelector=escapeForTextSelector;S.escapeWithQuotes=escapeWithQuotes;S.isString=isString;S.normalizeEscapedRegexQuotes=normalizeEscapedRegexQuotes;S.normalizeWhiteSpace=normalizeWhiteSpace;S.quoteCSSAttributeValue=quoteCSSAttributeValue;S.toSnakeCase=toSnakeCase;S.toTitleCase=toTitleCase;S.trimString=trimString;S.trimStringWithEllipsis=trimStringWithEllipsis;function escapeWithQuotes(v,S="'"){const Q=JSON.stringify(v);const O=Q.substring(1,Q.length-1).replace(/\\"/g,'"');if(S==="'")return S+O.replace(/[']/g,"\\'")+S;if(S==='"')return S+O.replace(/["]/g,'\\"')+S;if(S==="`")return S+O.replace(/[`]/g,"`")+S;throw new Error("Invalid escape char")}function isString(v){return typeof v==="string"||v instanceof String}function toTitleCase(v){return v.charAt(0).toUpperCase()+v.substring(1)}function toSnakeCase(v){return v.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function cssEscape(v){let S="";for(let Q=0;Q<v.length;Q++)S+=cssEscapeOne(v,Q);return S}function quoteCSSAttributeValue(v){return`"${cssEscape(v).replace(/\\ /g," ")}"`}function cssEscapeOne(v,S){const Q=v.charCodeAt(S);if(Q===0)return"�";if(Q>=1&&Q<=31||Q>=48&&Q<=57&&(S===0||S===1&&v.charCodeAt(0)===45))return"\\"+Q.toString(16)+" ";if(S===0&&Q===45&&v.length===1)return"\\"+v.charAt(S);if(Q>=128||Q===45||Q===95||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122)return v.charAt(S);return"\\"+v.charAt(S)}function normalizeWhiteSpace(v){return v.replace(/\u200b/g,"").trim().replace(/\s+/g," ")}function normalizeEscapedRegexQuotes(v){return v.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function escapeRegexForSelector(v){if(v.unicode||v.unicodeSets)return String(v);return String(v).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function escapeForTextSelector(v,S){if(typeof v!=="string")return escapeRegexForSelector(v);return`${JSON.stringify(v)}${S?"s":"i"}`}function escapeForAttributeSelector(v,S){if(typeof v!=="string")return escapeRegexForSelector(v);return`"${v.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${S?"s":"i"}`}function trimString(v,S,Q=""){if(v.length<=S)return v;const O=[...v];if(O.length>S)return O.slice(0,S-Q.length).join("")+Q;return O.join("")}function trimStringWithEllipsis(v,S){return trimString(v,S,"…")}},1665:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getLinuxDistributionInfo=getLinuxDistributionInfo;S.getLinuxDistributionInfoSync=getLinuxDistributionInfoSync;var O=_interopRequireDefault(Q(7147));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}let H=false;let V;async function getLinuxDistributionInfo(){if(process.platform!=="linux")return undefined;if(!V&&!H){try{var v,S;const Q=await O.default.promises.readFile("/etc/os-release","utf8");const H=parseOSReleaseText(Q);V={id:(v=H.get("id"))!==null&&v!==void 0?v:"",version:(S=H.get("version_id"))!==null&&S!==void 0?S:""}}catch(v){H=true}}return V}function getLinuxDistributionInfoSync(){if(process.platform!=="linux")return undefined;if(!V&&!H){try{var v,S;const Q=O.default.readFileSync("/etc/os-release","utf8");const H=parseOSReleaseText(Q);V={id:(v=H.get("id"))!==null&&v!==void 0?v:"",version:(S=H.get("version_id"))!==null&&S!==void 0?S:""}}catch(v){H=true}}return V}function parseOSReleaseText(v){const S=new Map;for(const Q of v.split("\n")){const v=Q.split("=");const O=v.shift();let H=v.join("=").trim();if(H.startsWith('"')&&H.endsWith('"'))H=H.substring(1,H.length-1);if(!O)continue;S.set(O.toLowerCase(),H)}return S}},6729:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ManualPromise=S.LongStandingScope=void 0;var O=Q(9030);let H,V;H=Symbol.species;V=Symbol.toStringTag;class ManualPromise extends Promise{constructor(){let v;let S;super(((Q,O)=>{v=Q;S=O}));this._resolve=void 0;this._reject=void 0;this._isDone=void 0;this._isDone=false;this._resolve=v;this._reject=S}isDone(){return this._isDone}resolve(v){this._isDone=true;this._resolve(v)}reject(v){this._isDone=true;this._reject(v)}static get[H](){return Promise}get[V](){return"ManualPromise"}}S.ManualPromise=ManualPromise;class LongStandingScope{constructor(){this._terminateError=void 0;this._closeError=void 0;this._terminatePromises=new Map;this._isClosed=false}reject(v){this._isClosed=true;this._terminateError=v;for(const S of this._terminatePromises.keys())S.resolve(v)}close(v){this._isClosed=true;this._closeError=v;for(const[S,Q]of this._terminatePromises)S.resolve(cloneError(v,Q))}isClosed(){return this._isClosed}static async raceMultiple(v,S){return Promise.race(v.map((v=>v.race(S))))}async race(v){return this._race(Array.isArray(v)?v:[v],false)}async safeRace(v,S){return this._race([v],true,S)}async _race(v,S,Q){const H=new ManualPromise;const V=(0,O.captureRawStack)();if(this._terminateError)H.resolve(this._terminateError);if(this._closeError)H.resolve(cloneError(this._closeError,V));this._terminatePromises.set(H,V);try{return await Promise.race([H.then((v=>S?Q:Promise.reject(v))),...v])}finally{this._terminatePromises.delete(H)}}}S.LongStandingScope=LongStandingScope;function cloneError(v,S){const Q=new Error;Q.name=v.name;Q.message=v.message;Q.stack=[v.name+":"+v.message,...S].join("\n");return Q}},5746:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.isJsonMimeType=isJsonMimeType;S.isTextualMimeType=isTextualMimeType;function isJsonMimeType(v){return!!v.match(/^(application\/json|application\/.*?\+json|text\/(x-)?json)(;\s*charset=.*)?$/)}function isTextualMimeType(v){return!!v.match(/^(text\/.*?|application\/(json|(x-)?javascript|xml.*?|ecmascript|graphql|x-www-form-urlencoded)|image\/svg(\+xml)?|application\/.*?(\+json|\+xml))(;\s*charset=.*)?$/)}},2391:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.MultiMap=void 0;let Q;Q=Symbol.iterator;class MultiMap{constructor(){this._map=void 0;this._map=new Map}set(v,S){let Q=this._map.get(v);if(!Q){Q=[];this._map.set(v,Q)}Q.push(S)}get(v){return this._map.get(v)||[]}has(v){return this._map.has(v)}delete(v,S){const Q=this._map.get(v);if(!Q)return;if(Q.includes(S))this._map.set(v,Q.filter((v=>S!==v)))}deleteAll(v){this._map.delete(v)}hasValue(v,S){const Q=this._map.get(v);if(!Q)return false;return Q.includes(S)}get size(){return this._map.size}[Q](){return this._map[Symbol.iterator]()}keys(){return this._map.keys()}values(){const v=[];for(const S of this.keys())v.push(...this.get(S));return v}clear(){this._map.clear()}}S.MultiMap=MultiMap},9965:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.NET_DEFAULT_TIMEOUT=void 0;S.constructURLBasedOnBaseURL=constructURLBasedOnBaseURL;S.createHttpServer=createHttpServer;S.createHttpsServer=createHttpsServer;S.fetchData=fetchData;S.httpRequest=httpRequest;S.urlMatches=urlMatches;S.urlMatchesEqual=urlMatchesEqual;var O=_interopRequireDefault(Q(3685));var H=_interopRequireDefault(Q(5687));var V=Q(1319);var J=_interopRequireDefault(Q(7310));var Y=Q(7061);var X=Q(994);var ee=Q(7363);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const ae=S.NET_DEFAULT_TIMEOUT=3e4;function httpRequest(v,S,Q){var Y;const X=J.default.parse(v.url);let he={...X,agent:X.protocol==="https:"?ee.httpsHappyEyeballsAgent:ee.httpHappyEyeballsAgent,method:v.method||"GET",headers:v.headers};if(v.rejectUnauthorized!==undefined)he.rejectUnauthorized=v.rejectUnauthorized;const Ee=(Y=v.timeout)!==null&&Y!==void 0?Y:ae;const Be=(0,V.getProxyForUrl)(v.url);if(Be){const S=J.default.parse(Be);if(v.url.startsWith("http:")){he={path:X.href,host:S.hostname,port:S.port,headers:he.headers,method:he.method}}else{S.secureProxy=S.protocol==="https:";he.agent=new V.HttpsProxyAgent(S);he.rejectUnauthorized=false}}const requestCallback=O=>{const H=O.statusCode||0;if(H>=300&&H<400&&O.headers.location)httpRequest({...v,url:new URL(O.headers.location,v.url).toString()},S,Q);else S(O)};const ke=he.protocol==="https:"?H.default.request(he,requestCallback):O.default.request(he,requestCallback);ke.on("error",Q);if(Ee!==undefined){const rejectOnTimeout=()=>{Q(new Error(`Request to ${v.url} timed out after ${Ee}ms`));ke.abort()};if(Ee<=0){rejectOnTimeout();return}ke.setTimeout(Ee,rejectOnTimeout)}ke.end(v.data)}function fetchData(v,S){return new Promise(((Q,O)=>{httpRequest(v,(async H=>{if(H.statusCode!==200){const Q=S?await S(v,H):new Error(`fetch failed: server returned code ${H.statusCode}. URL: ${v.url}`);O(Q);return}let V="";H.on("data",(v=>V+=v));H.on("error",(v=>O(v)));H.on("end",(()=>Q(V)))}),O)}))}function urlMatchesEqual(v,S){if((0,Y.isRegExp)(v)&&(0,Y.isRegExp)(S))return v.source===S.source&&v.flags===S.flags;return v===S}function urlMatches(v,S,Q){if(Q===undefined||Q==="")return true;if((0,Y.isString)(Q)&&!Q.startsWith("*"))Q=constructURLBasedOnBaseURL(v,Q);if((0,Y.isString)(Q))Q=(0,X.globToRegex)(Q);if((0,Y.isRegExp)(Q))return Q.test(S);if(typeof Q==="string"&&Q===S)return true;const O=parsedURL(S);if(!O)return false;if(typeof Q==="string")return O.pathname===Q;if(typeof Q!=="function")throw new Error("url parameter should be string, RegExp or function");return Q(O)}function parsedURL(v){try{return new URL(v)}catch(v){return null}}function constructURLBasedOnBaseURL(v,S){try{return new URL(S,v).toString()}catch(v){return S}}function createHttpServer(...v){const S=O.default.createServer(...v);decorateServer(S);return S}function createHttpsServer(...v){const S=H.default.createServer(...v);decorateServer(S);return S}function decorateServer(v){const S=new Set;v.on("connection",(v=>{S.add(v);v.once("close",(()=>S.delete(v)))}));const Q=v.close;v.close=O=>{for(const v of S)v.destroy();S.clear();return Q.call(v,O)}}},1441:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.envArrayToObject=envArrayToObject;S.gracefullyCloseAll=gracefullyCloseAll;S.gracefullyCloseSet=void 0;S.gracefullyProcessExitDoNotHang=gracefullyProcessExitDoNotHang;S.launchProcess=launchProcess;var O=_interopRequireDefault(Q(7147));var H=_interopRequireWildcard(Q(2081));var V=_interopRequireWildcard(Q(4521));var J=Q(3557);var Y=Q(6034);function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const X=S.gracefullyCloseSet=new Set;const ee=new Set;async function gracefullyCloseAll(){await Promise.all(Array.from(X).map((v=>v().catch((v=>{})))))}function gracefullyProcessExitDoNotHang(v){setTimeout((()=>process.exit(v)),3e4);gracefullyCloseAll().then((()=>{process.exit(v)}))}function exitHandler(){for(const v of ee)v()}let ae=false;function sigintHandler(){const exitWithCode130=()=>{if((0,J.isUnderTest)()){setTimeout((()=>process.exit(130)),1e3)}else{process.exit(130)}};if(ae){process.off("SIGINT",sigintHandler);for(const v of ee)v();exitWithCode130()}else{ae=true;gracefullyCloseAll().then((()=>exitWithCode130()))}}function sigtermHandler(){gracefullyCloseAll()}function sighupHandler(){gracefullyCloseAll()}const he=new Set;const Ee={exit:exitHandler,SIGINT:sigintHandler,SIGTERM:sigtermHandler,SIGHUP:sighupHandler};function addProcessHandlerIfNeeded(v){if(!he.has(v)){he.add(v);process.on(v,Ee[v])}}async function launchProcess(v){const S=v.stdio==="pipe"?["ignore","pipe","pipe","pipe","pipe"]:["pipe","pipe","pipe"];v.log(`<launching> ${v.command} ${v.args?v.args.join(" "):""}`);const Q={detached:process.platform!=="win32",env:v.env,cwd:v.cwd,shell:v.shell,stdio:S};const J=H.spawn(v.command,v.args||[],Q);const cleanup=async()=>{v.log(`[pid=${J.pid||"N/A"}] starting temporary directories cleanup`);const S=await(0,Y.removeFolders)(v.tempDirectories);for(let Q=0;Q<v.tempDirectories.length;++Q){if(S[Q])v.log(`[pid=${J.pid||"N/A"}] exception while removing ${v.tempDirectories[Q]}: ${S[Q]}`)}v.log(`[pid=${J.pid||"N/A"}] finished temporary directories cleanup`)};J.on("error",(()=>{}));if(!J.pid){let v;const S=new Promise(((S,Q)=>v=S));J.once("error",(S=>{v(new Error("Failed to launch: "+S))}));return cleanup().then((()=>S)).then((v=>Promise.reject(v)))}v.log(`<launched> pid=${J.pid}`);const ae=V.createInterface({input:J.stdout});ae.on("line",(S=>{v.log(`[pid=${J.pid}][out] `+S)}));const he=V.createInterface({input:J.stderr});he.on("line",(S=>{v.log(`[pid=${J.pid}][err] `+S)}));let Ee=false;let fulfillCleanup=()=>{};const Be=new Promise((v=>fulfillCleanup=v));J.once("exit",((S,Q)=>{v.log(`[pid=${J.pid}] <process did exit: exitCode=${S}, signal=${Q}>`);Ee=true;X.delete(gracefullyClose);ee.delete(killProcessAndCleanup);v.onExit(S,Q);cleanup().then(fulfillCleanup)}));addProcessHandlerIfNeeded("exit");if(v.handleSIGINT)addProcessHandlerIfNeeded("SIGINT");if(v.handleSIGTERM)addProcessHandlerIfNeeded("SIGTERM");if(v.handleSIGHUP)addProcessHandlerIfNeeded("SIGHUP");X.add(gracefullyClose);ee.add(killProcessAndCleanup);let ke=false;async function gracefullyClose(){if(ke){v.log(`[pid=${J.pid}] <forcefully close>`);killProcess();await Be;return}ke=true;v.log(`[pid=${J.pid}] <gracefully close start>`);await v.attemptToGracefullyClose().catch((()=>killProcess()));await Be;v.log(`[pid=${J.pid}] <gracefully close end>`)}function killProcess(){X.delete(gracefullyClose);ee.delete(killProcessAndCleanup);v.log(`[pid=${J.pid}] <kill>`);if(J.pid&&!J.killed&&!Ee){v.log(`[pid=${J.pid}] <will force kill>`);try{if(process.platform==="win32"){const S=H.spawnSync(`taskkill /pid ${J.pid} /T /F`,{shell:true});const[Q,O]=[S.stdout.toString(),S.stderr.toString()];if(Q)v.log(`[pid=${J.pid}] taskkill stdout: ${Q}`);if(O)v.log(`[pid=${J.pid}] taskkill stderr: ${O}`)}else{process.kill(-J.pid,"SIGKILL")}}catch(S){v.log(`[pid=${J.pid}] exception while trying to kill process: ${S}`)}}else{v.log(`[pid=${J.pid}] <skipped force kill spawnedProcess.killed=${J.killed} processClosed=${Ee}>`)}}function killProcessAndCleanup(){killProcess();v.log(`[pid=${J.pid||"N/A"}] starting temporary directories cleanup`);for(const S of v.tempDirectories){try{O.default.rmSync(S,{force:true,recursive:true,maxRetries:5})}catch(Q){v.log(`[pid=${J.pid||"N/A"}] exception while removing ${S}: ${Q}`)}}v.log(`[pid=${J.pid||"N/A"}] finished temporary directories cleanup`)}function killAndWait(){killProcess();return Be}return{launchedProcess:J,gracefullyClose:gracefullyClose,kill:killAndWait}}function envArrayToObject(v){const S={};for(const{name:Q,value:O}of v)S[Q]=O;return S}},6655:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.startProfiling=startProfiling;S.stopProfiling=stopProfiling;var O=_interopRequireWildcard(Q(7147));var H=_interopRequireWildcard(Q(1017));function _getRequireWildcardCache(v){if(typeof WeakMap!=="function")return null;var S=new WeakMap;var Q=new WeakMap;return(_getRequireWildcardCache=function(v){return v?Q:S})(v)}function _interopRequireWildcard(v,S){if(!S&&v&&v.__esModule){return v}if(v===null||typeof v!=="object"&&typeof v!=="function"){return{default:v}}var Q=_getRequireWildcardCache(S);if(Q&&Q.has(v)){return Q.get(v)}var O={};var H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in v){if(V!=="default"&&Object.prototype.hasOwnProperty.call(v,V)){var J=H?Object.getOwnPropertyDescriptor(v,V):null;if(J&&(J.get||J.set)){Object.defineProperty(O,V,J)}else{O[V]=v[V]}}}O.default=v;if(Q){Q.set(v,O)}return O}const V=process.env.PWTEST_PROFILE_DIR||"";let J;async function startProfiling(){if(!V)return;J=new(Q(1405).Session);J.connect();await new Promise((v=>{J.post("Profiler.enable",(()=>{J.post("Profiler.start",v)}))}))}async function stopProfiling(v){if(!V)return;await new Promise((S=>J.post("Profiler.stop",((Q,{profile:J})=>{if(!Q){O.mkdirSync(V,{recursive:true});O.writeFileSync(H.join(V,v+".json"),JSON.stringify(J))}S()}))))}},7061:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.isError=isError;S.isLikelyNpxGlobal=void 0;S.isObject=isObject;S.isRegExp=isRegExp;S.isString=isString;function isString(v){return typeof v==="string"||v instanceof String}function isRegExp(v){return v instanceof RegExp||Object.prototype.toString.call(v)==="[object RegExp]"}function isObject(v){return typeof v==="object"&&v!==null}function isError(v){var S;return v instanceof Error||v&&((S=Object.getPrototypeOf(v))===null||S===void 0?void 0:S.name)==="Error"}const isLikelyNpxGlobal=()=>process.argv.length>=2&&process.argv[1].includes("_npx");S.isLikelyNpxGlobal=isLikelyNpxGlobal},4588:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.spawnAsync=spawnAsync;var O=Q(2081);function spawnAsync(v,S,Q={}){const H=(0,O.spawn)(v,S,Object.assign({windowsHide:true},Q));return new Promise((v=>{let S="";let Q="";if(H.stdout)H.stdout.on("data",(v=>S+=v.toString()));if(H.stderr)H.stderr.on("data",(v=>Q+=v.toString()));H.on("close",(O=>v({stdout:S,stderr:Q,code:O})));H.on("error",(O=>v({stdout:S,stderr:Q,code:0,error:O})))}))}},9030:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.addInternalStackPrefix=void 0;S.captureLibraryStackText=captureLibraryStackText;S.captureLibraryStackTrace=captureLibraryStackTrace;S.captureRawStack=captureRawStack;S.formatCallLog=formatCallLog;S.rewriteErrorMessage=rewriteErrorMessage;S.splitErrorMessage=splitErrorMessage;S.stringifyStackFrames=stringifyStackFrames;var O=_interopRequireDefault(Q(1017));var H=Q(1319);var V=Q(3557);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function rewriteErrorMessage(v,S){var Q;const O=(((Q=v.stack)===null||Q===void 0?void 0:Q.split("\n"))||[]).filter((v=>v.startsWith("    at ")));v.message=S;const H=`${v.name}: ${v.message}`;if(O.length)v.stack=`${H}\n${O.join("\n")}`;return v}const J=O.default.resolve(__dirname,"..","..");const Y=O.default.join(J,"..","..","tests","config","coverage.js");const X=[J];const addInternalStackPrefix=v=>X.push(v);S.addInternalStackPrefix=addInternalStackPrefix;function captureRawStack(){const v=Error.stackTraceLimit;Error.stackTraceLimit=50;const S=new Error;const Q=S.stack||"";Error.stackTraceLimit=v;return Q.split("\n")}function captureLibraryStackTrace(v){const S=v||captureRawStack();const Q=(0,V.isUnderTest)();let O=S.map((v=>{const S=(0,H.parseStackTraceLine)(v);if(!S||!S.file)return null;if(!process.env.PWDEBUGIMPL&&Q&&S.file.includes(Y))return null;const O=S.file.startsWith(J);const V={frame:S,frameText:v,isPlaywrightLibrary:O};return V})).filter(Boolean);let ee="";for(let v=0;v<O.length-1;v++){const S=O[v];if(S.isPlaywrightLibrary&&!O[v+1].isPlaywrightLibrary){ee=ee||normalizeAPIName(S.frame.function);break}}function normalizeAPIName(v){if(!v)return"";const S=v.match(/(API|JS|CDP|[A-Z])(.*)/);if(!S)return v;return S[1].toLowerCase()+S[2]}O=O.filter((v=>{if(process.env.PWDEBUGIMPL)return true;if(X.some((S=>v.frame.file.startsWith(S))))return false;return true}));return{frames:O.map((v=>v.frame)),apiName:ee}}function stringifyStackFrames(v){const S=[];for(const Q of v){if(Q.function)S.push(`    at ${Q.function} (${Q.file}:${Q.line}:${Q.column})`);else S.push(`    at ${Q.file}:${Q.line}:${Q.column}`)}return S}function captureLibraryStackText(){const v=captureLibraryStackTrace();return stringifyStackFrames(v.frames).join("\n")}function splitErrorMessage(v){const S=v.indexOf(":");return{name:S!==-1?v.slice(0,S):"",message:S!==-1&&S+2<=v.length?v.substring(S+2):v}}function formatCallLog(v){if(!v||!v.some((v=>!!v)))return"";return`\nCall log:\n  ${H.colors.dim("- "+(v||[]).join("\n  - "))}\n`}},2572:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.makeWaitForNextTask=makeWaitForNextTask;function makeWaitForNextTask(){if(process.versions.electron)return v=>setTimeout(v,0);if(parseInt(process.versions.node,10)>=11)return setImmediate;let v=false;const S=[];const loop=()=>{const Q=S.shift();if(!Q){v=false;return}setImmediate(loop);Q()};return Q=>{S.push(Q);if(!v){v=true;setImmediate(loop)}}}},3392:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.monotonicTime=monotonicTime;const Q=process.hrtime();function monotonicTime(){const[v,S]=process.hrtime(Q);return v*1e3+(S/1e3|0)/1e3}},803:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.TimeoutRunnerError=S.TimeoutRunner=S.MaxTime=void 0;S.pollAgainstDeadline=pollAgainstDeadline;S.raceAgainstDeadline=raceAgainstDeadline;var O=Q(6729);var H=Q(3557);class TimeoutRunnerError extends Error{}S.TimeoutRunnerError=TimeoutRunnerError;const V=S.MaxTime=2147483647;class TimeoutRunner{constructor(v){this._running=void 0;this._timeout=void 0;this._elapsed=void 0;this._deadline=V;this._timeout=v;this._elapsed=0}async run(v){const S=this._running={lastElapsedSync:(0,H.monotonicTime)(),timer:undefined,timeoutPromise:new O.ManualPromise};try{const Q=Promise.race([v(),S.timeoutPromise]);this._updateTimeout(S,this._timeout);return await Q}finally{this._updateTimeout(S,0);if(this._running===S)this._running=undefined}}interrupt(){if(this._running)this._updateTimeout(this._running,-1)}elapsed(){this._syncElapsedAndStart();return this._elapsed}deadline(){return this._deadline}updateTimeout(v,S){this._timeout=v;if(S!==undefined){this._syncElapsedAndStart();this._elapsed=S}if(this._running)this._updateTimeout(this._running,v)}_syncElapsedAndStart(){if(this._running){const v=(0,H.monotonicTime)();this._elapsed+=v-this._running.lastElapsedSync;this._running.lastElapsedSync=v}}_updateTimeout(v,S){if(v.timer){clearTimeout(v.timer);v.timer=undefined}this._syncElapsedAndStart();this._deadline=S?(0,H.monotonicTime)()+S:V;if(S===0)return;S=S-this._elapsed;if(S<=0)v.timeoutPromise.reject(new TimeoutRunnerError);else v.timer=setTimeout((()=>v.timeoutPromise.reject(new TimeoutRunnerError)),S)}}S.TimeoutRunner=TimeoutRunner;async function raceAgainstDeadline(v,S){const Q=new TimeoutRunner((S||V)-(0,H.monotonicTime)());try{return{result:await Q.run(v),timedOut:false}}catch(v){if(v instanceof TimeoutRunnerError)return{timedOut:true};throw v}}async function pollAgainstDeadline(v,S,Q=[100,250,500,1e3]){var O;const V=(O=Q.pop())!==null&&O!==void 0?O:1e3;let J;const wrappedCallback=()=>Promise.resolve().then(v);while(true){var Y;const v=(0,H.monotonicTime)();if(S&&v>=S)break;const O=await raceAgainstDeadline(wrappedCallback,S);if(O.timedOut)break;J=O.result.result;if(!O.result.continuePolling)return{result:J,timedOut:false};const X=(Y=Q.shift())!==null&&Y!==void 0?Y:V;if(S&&S<=(0,H.monotonicTime)()+X)break;await new Promise((v=>setTimeout(v,X)))}return{timedOut:true,result:J}}},2323:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.serializeClientSideCallMetadata=serializeClientSideCallMetadata;function serializeClientSideCallMetadata(v){const S=new Map;const Q=[];for(const O of v){if(!O.stack||!O.stack.length)continue;const v=[];for(const Q of O.stack){let O=S.get(Q.file);if(typeof O!=="number"){O=S.size;S.set(Q.file,O)}const H=[O,Q.line||0,Q.column||0,Q.function||""];v.push(H)}Q.push([O.id,v])}return{files:[...S.keys()],stacks:Q}}},9521:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.getEmbedderName=getEmbedderName;S.getPlaywrightVersion=getPlaywrightVersion;S.getUserAgent=getUserAgent;S.userAgentVersionMatchesErrorMessage=userAgentVersionMatchesErrorMessage;var O=Q(2081);var H=_interopRequireDefault(Q(2037));var V=Q(1665);var J=Q(5913);function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}let Y;function getUserAgent(){if(Y)return Y;try{Y=determineUserAgent()}catch(v){Y="Playwright/unknown"}return Y}function determineUserAgent(){let v="unknown";let S="unknown";if(process.platform==="win32"){const Q=H.default.release().split(".");v="windows";S=`${Q[0]}.${Q[1]}`}else if(process.platform==="darwin"){const Q=(0,O.execSync)("sw_vers -productVersion",{stdio:["ignore","pipe","ignore"]}).toString().trim().split(".");v="macOS";S=`${Q[0]}.${Q[1]}`}else if(process.platform==="linux"){const Q=(0,V.getLinuxDistributionInfoSync)();if(Q){v=Q.id||"linux";S=Q.version||"unknown"}else{v="linux"}}const Q=[];if(process.env.CI)Q.push("CI/1");const J=Q.length?" "+Q.join(" "):"";const{embedderName:Y,embedderVersion:X}=getEmbedderName();return`Playwright/${getPlaywrightVersion()} (${H.default.arch()}; ${v} ${S}) ${Y}/${X}${J}`}function getEmbedderName(){let v="unknown";let S="unknown";if(!process.env.PW_LANG_NAME){v="node";S=process.version.substring(1).split(".").slice(0,2).join(".")}else if(["node","python","java","csharp"].includes(process.env.PW_LANG_NAME)){var Q;v=process.env.PW_LANG_NAME;S=(Q=process.env.PW_LANG_NAME_VERSION)!==null&&Q!==void 0?Q:"unknown"}return{embedderName:v,embedderVersion:S}}function getPlaywrightVersion(v=false){const S=process.env.PW_VERSION_OVERRIDE||Q(9415).i8;return v?S.split(".").slice(0,2).join("."):S}function userAgentVersionMatchesErrorMessage(v){const S=v.match(/^Playwright\/(\d+\.\d+\.\d+)/);if(!S){return}const Q=S[1].split(".").slice(0,2).join(".");const O=getPlaywrightVersion(true);if(Q!==O){return(0,J.wrapInASCIIBox)([`Playwright version mismatch:`,`  - server version: v${O}`,`  - client version: v${Q}`,``,`If you are using VSCode extension, restart VSCode.`,``,`If you are connecting to a remote service,`,`keep your local Playwright version in sync`,`with the remote service version.`,``,`<3 Playwright Team`].join("\n"),1)}}},6435:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.ZipFile=void 0;var O=Q(6383);class ZipFile{constructor(v){this._fileName=void 0;this._zipFile=void 0;this._entries=new Map;this._openedPromise=void 0;this._fileName=v;this._openedPromise=this._open()}async _open(){await new Promise(((v,S)=>{O.yauzl.open(this._fileName,{autoClose:false},((Q,O)=>{if(Q){S(Q);return}this._zipFile=O;this._zipFile.on("entry",(v=>{this._entries.set(v.fileName,v)}));this._zipFile.on("end",v)}))}))}async entries(){await this._openedPromise;return[...this._entries.keys()]}async read(v){await this._openedPromise;const S=this._entries.get(v);if(!S)throw new Error(`${v} not found in file ${this._fileName}`);return new Promise(((v,Q)=>{this._zipFile.openReadStream(S,((S,O)=>{if(S||!O){Q(S||"Entry not found");return}const H=[];O.on("data",(v=>H.push(v)));O.on("end",(()=>v(Buffer.concat(H))))}))}))}close(){var v;(v=this._zipFile)===null||v===void 0?void 0:v.close()}}S.ZipFile=ZipFile},4940:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.runWithFinally=runWithFinally;S.zones=void 0;var O=Q(9030);class ZoneManager{constructor(){this.lastZoneId=0;this._zones=new Map}run(v,S,Q){return new Zone(this,++this.lastZoneId,v,S).run(Q)}zoneData(v,S){for(const Q of S){for(const S of zoneIds(Q)){const Q=this._zones.get(S);if(Q&&Q.type===v)return Q.data}}return null}preserve(v){const S=(0,O.captureRawStack)();const Q=[];for(const v of S)Q.push(...zoneIds(v));Object.defineProperty(v,"name",{value:`__PWZONE__[${Q.join(",")}]-refs`});return v()}}function zoneIds(v){const S=v.indexOf("__PWZONE__[");if(S===-1)return[];return v.substring(S+"__PWZONE__[".length,v.indexOf("]",S)).split(",").map((v=>+v))}class Zone{constructor(v,S,Q,O){this._manager=void 0;this.id=void 0;this.type=void 0;this.data=void 0;this.wallTime=void 0;this._manager=v;this.id=S;this.type=Q;this.data=O;this.wallTime=Date.now()}run(v){this._manager._zones.set(this.id,this);Object.defineProperty(v,"name",{value:`__PWZONE__[${this.id}]-${this.type}`});return runWithFinally((()=>v(this.data)),(()=>{this._manager._zones.delete(this.id)}))}}function runWithFinally(v,S){try{const Q=v();if(Q instanceof Promise){return Q.then((v=>{S();return v})).catch((v=>{S();throw v}))}S();return Q}catch(v){S();throw v}}const H=S.zones=new ZoneManager},6383:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.yazl=S.yauzl=S.extract=void 0;const O=S.yazl=Q(1916).yazl;const H=S.yauzl=Q(1916).yauzl;const V=S.extract=Q(1916).extract},1916:(v,S,Q)=>{"use strict";var O=Object.create;var H=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var Y=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var E=(v,S)=>()=>(S||v((S={exports:{}}).exports,S),S.exports),Et=(v,S)=>{for(var Q in S)H(v,Q,{get:S[Q],enumerable:!0})},or=(v,S,Q,O)=>{if(S&&typeof S=="object"||typeof S=="function")for(let Y of J(S))!X.call(v,Y)&&Y!==Q&&H(v,Y,{get:()=>S[Y],enumerable:!(O=V(S,Y))||O.enumerable});return v};var Ue=(v,S,Q)=>(Q=v!=null?O(Y(v)):{},or(S||!v||!v.__esModule?H(Q,"default",{value:v,enumerable:!0}):Q,v)),wt=v=>or(H({},"__esModule",{value:!0}),v);var ee=E(((v,S)=>{var O=Q(4300).Buffer,H=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(H=new Int32Array(H));function sr(v){if(O.isBuffer(v))return v;var S=typeof O.alloc=="function"&&typeof O.from=="function";if(typeof v=="number")return S?O.alloc(v):new O(v);if(typeof v=="string")return S?O.from(v):new O(v);throw new Error("input must be buffer, number, or string, received "+typeof v)}function gt(v){var S=sr(4);return S.writeInt32BE(v,0),S}function Ne(v,S){v=sr(v),O.isBuffer(S)&&(S=S.readUInt32BE(0));for(var Q=~~S^-1,V=0;V<v.length;V++)Q=H[(Q^v[V])&255]^Q>>>8;return Q^-1}function Me(){return gt(Ne.apply(null,arguments))}Me.signed=function(){return Ne.apply(null,arguments)};Me.unsigned=function(){return Ne.apply(null,arguments)>>>0};S.exports=Me}));var ae=E((v=>{var S=Q(7147),O=Q(2781).Transform,H=Q(2781).PassThrough,V=Q(9796),J=Q(3837),Y=Q(2361).EventEmitter,X=ee();v.ZipFile=W;v.dateToDosDateTime=Cr;J.inherits(W,Y);function W(){this.outputStream=new H,this.entries=[],this.outputStreamCursor=0,this.ended=!1,this.allDone=!1,this.forceZip64Eocd=!1}W.prototype.addFile=function(v,Q,O){var H=this;Q=pe(Q,!1),O==null&&(O={});var V=new m(Q,!1,O);H.entries.push(V),S.stat(v,(function(Q,J){if(Q)return H.emit("error",Q);if(!J.isFile())return H.emit("error",new Error("not a file: "+v));V.uncompressedSize=J.size,O.mtime==null&&V.setLastModDate(J.mtime),O.mode==null&&V.setFileAttributesMode(J.mode),V.setFileDataPumpFunction((function(){var Q=S.createReadStream(v);V.state=m.FILE_DATA_IN_PROGRESS,Q.on("error",(function(v){H.emit("error",v)})),lr(H,V,Q)})),M(H)}))};W.prototype.addReadStream=function(v,S,Q){var O=this;S=pe(S,!1),Q==null&&(Q={});var H=new m(S,!1,Q);O.entries.push(H),H.setFileDataPumpFunction((function(){H.state=m.FILE_DATA_IN_PROGRESS,lr(O,H,v)})),M(O)};W.prototype.addBuffer=function(v,S,Q){var O=this;if(S=pe(S,!1),v.length>1073741823)throw new Error("buffer too large: "+v.length+" > 1073741823");if(Q==null&&(Q={}),Q.size!=null)throw new Error("options.size not allowed");var H=new m(S,!1,Q);H.uncompressedSize=v.length,H.crc32=X.unsigned(v),H.crcAndFileSizeKnown=!0,O.entries.push(H),H.compress?V.deflateRaw(v,(function(v,S){o(S)})):o(v);function o(v){H.compressedSize=v.length,H.setFileDataPumpFunction((function(){Z(O,v),Z(O,H.getDataDescriptor()),H.state=m.FILE_DATA_DONE,setImmediate((function(){M(O)}))})),M(O)}};W.prototype.addEmptyDirectory=function(v,S){var Q=this;if(v=pe(v,!0),S==null&&(S={}),S.size!=null)throw new Error("options.size not allowed");if(S.compress!=null)throw new Error("options.compress not allowed");var O=new m(v,!0,S);Q.entries.push(O),O.setFileDataPumpFunction((function(){Z(Q,O.getDataDescriptor()),O.state=m.FILE_DATA_DONE,M(Q)})),M(Q)};var ae=N([80,75,5,6]);W.prototype.end=function(v,S){if(typeof v=="function"&&(S=v,v=null),v==null&&(v={}),!this.ended){if(this.ended=!0,this.finalSizeCallback=S,this.forceZip64Eocd=!!v.forceZip64Format,v.comment){if(typeof v.comment=="string"?this.comment=St(v.comment):this.comment=v.comment,this.comment.length>65535)throw new Error("comment is too large");if(te(this.comment,ae))throw new Error("comment contains end of central directory record signature")}else this.comment=ke;M(this)}};function Z(v,S){v.outputStream.write(S),v.outputStreamCursor+=S.length}function lr(v,S,Q){var O=new He,J=new le,Y=S.compress?new V.DeflateRaw:new H,X=new le;Q.pipe(O).pipe(J).pipe(Y).pipe(X).pipe(v.outputStream,{end:!1}),X.on("end",(function(){if(S.crc32=O.crc32,S.uncompressedSize==null)S.uncompressedSize=J.byteCount;else if(S.uncompressedSize!==J.byteCount)return v.emit("error",new Error("file data stream has unexpected number of bytes"));S.compressedSize=X.byteCount,v.outputStreamCursor+=S.compressedSize,Z(v,S.getDataDescriptor()),S.state=m.FILE_DATA_DONE,M(v)}))}function M(v){if(v.allDone)return;if(v.ended&&v.finalSizeCallback!=null){var S=bt(v);S!=null&&(v.finalSizeCallback(S),v.finalSizeCallback=null)}var Q=n();function n(){for(var S=0;S<v.entries.length;S++){var Q=v.entries[S];if(Q.state<m.FILE_DATA_DONE)return Q}return null}if(Q!=null){if(Q.state<m.READY_TO_PUMP_FILE_DATA||Q.state===m.FILE_DATA_IN_PROGRESS)return;Q.relativeOffsetOfLocalHeader=v.outputStreamCursor;var O=Q.getLocalFileHeader();Z(v,O),Q.doFileDataPump()}else v.ended&&(v.offsetOfStartOfCentralDirectory=v.outputStreamCursor,v.entries.forEach((function(S){var Q=S.getCentralDirectoryRecord();Z(v,Q)})),Z(v,Ft(v)),v.outputStream.end(),v.allDone=!0)}function bt(v){for(var S=0,Q=0,O=0;O<v.entries.length;O++){var H=v.entries[O];if(H.compress)return-1;if(H.state>=m.READY_TO_PUMP_FILE_DATA){if(H.uncompressedSize==null)return-1}else if(H.uncompressedSize==null)return null;H.relativeOffsetOfLocalHeader=S;var V=H.useZip64Format();S+=Re+H.utf8FileName.length,S+=H.uncompressedSize,H.crcAndFileSizeKnown||(V?S+=ze:S+=Ve),Q+=$e+H.utf8FileName.length+H.fileComment.length,V&&(Q+=Ye)}var J=0;return(v.forceZip64Eocd||v.entries.length>=65535||Q>=65535||S>=4294967295)&&(J+=he+Ee),J+=Be+v.comment.length,S+Q+J}var he=56,Ee=20,Be=22;function Ft(v,S){var Q=!1,O=v.entries.length;(v.forceZip64Eocd||v.entries.length>=65535)&&(O=65535,Q=!0);var H=v.outputStreamCursor-v.offsetOfStartOfCentralDirectory,V=H;(v.forceZip64Eocd||H>=4294967295)&&(V=4294967295,Q=!0);var J=v.offsetOfStartOfCentralDirectory;if((v.forceZip64Eocd||v.offsetOfStartOfCentralDirectory>=4294967295)&&(J=4294967295,Q=!0),S)return Q?he+Ee+Be:Be;var Y=F(Be+v.comment.length);if(Y.writeUInt32LE(101010256,0),Y.writeUInt16LE(0,4),Y.writeUInt16LE(0,6),Y.writeUInt16LE(O,8),Y.writeUInt16LE(O,10),Y.writeUInt32LE(V,12),Y.writeUInt32LE(J,16),Y.writeUInt16LE(v.comment.length,20),v.comment.copy(Y,22),!Q)return Y;var X=F(he);X.writeUInt32LE(101075792,0),I(X,he-12,4),X.writeUInt16LE(Le,12),X.writeUInt16LE(Pe,14),X.writeUInt32LE(0,16),X.writeUInt32LE(0,20),I(X,v.entries.length,24),I(X,v.entries.length,32),I(X,H,40),I(X,v.offsetOfStartOfCentralDirectory,48);var ee=F(Ee);return ee.writeUInt32LE(117853008,0),ee.writeUInt32LE(0,4),I(ee,v.outputStreamCursor,8),ee.writeUInt32LE(1,16),Buffer.concat([X,ee,Y])}function pe(v,S){if(v==="")throw new Error("empty metadataPath");if(v=v.replace(/\\/g,"/"),/^[a-zA-Z]:/.test(v)||/^\//.test(v))throw new Error("absolute path: "+v);if(v.split("/").indexOf("..")!==-1)throw new Error("invalid relative path: "+v);var Q=/\/$/.test(v);if(S)Q||(v+="/");else if(Q)throw new Error("file path cannot end with '/': "+v);return v}var ke=F(0);function m(v,S,Q){if(this.utf8FileName=N(v),this.utf8FileName.length>65535)throw new Error("utf8 file name too long. "+utf8FileName.length+" > 65535");if(this.isDirectory=S,this.state=m.WAITING_FOR_METADATA,this.setLastModDate(Q.mtime!=null?Q.mtime:new Date),Q.mode!=null?this.setFileAttributesMode(Q.mode):this.setFileAttributesMode(S?16893:33204),S?(this.crcAndFileSizeKnown=!0,this.crc32=0,this.uncompressedSize=0,this.compressedSize=0):(this.crcAndFileSizeKnown=!1,this.crc32=null,this.uncompressedSize=null,this.compressedSize=null,Q.size!=null&&(this.uncompressedSize=Q.size)),S?this.compress=!1:(this.compress=!0,Q.compress!=null&&(this.compress=!!Q.compress)),this.forceZip64Format=!!Q.forceZip64Format,Q.fileComment){if(typeof Q.fileComment=="string"?this.fileComment=N(Q.fileComment,"utf-8"):this.fileComment=Q.fileComment,this.fileComment.length>65535)throw new Error("fileComment is too large")}else this.fileComment=ke}m.WAITING_FOR_METADATA=0;m.READY_TO_PUMP_FILE_DATA=1;m.FILE_DATA_IN_PROGRESS=2;m.FILE_DATA_DONE=3;m.prototype.setLastModDate=function(v){var S=Cr(v);this.lastModFileTime=S.time,this.lastModFileDate=S.date};m.prototype.setFileAttributesMode=function(v){if((v&65535)!==v)throw new Error("invalid mode. expected: 0 <= "+v+" <= 65535");this.externalFileAttributes=v<<16>>>0};m.prototype.setFileDataPumpFunction=function(v){this.doFileDataPump=v,this.state=m.READY_TO_PUMP_FILE_DATA};m.prototype.useZip64Format=function(){return this.forceZip64Format||this.uncompressedSize!=null&&this.uncompressedSize>4294967294||this.compressedSize!=null&&this.compressedSize>4294967294||this.relativeOffsetOfLocalHeader!=null&&this.relativeOffsetOfLocalHeader>4294967294};var Re=30,Oe=20,Pe=45,Le=831,je=2048,qe=8;m.prototype.getLocalFileHeader=function(){var v=0,S=0,Q=0;this.crcAndFileSizeKnown&&(v=this.crc32,S=this.compressedSize,Q=this.uncompressedSize);var O=F(Re),H=je;return this.crcAndFileSizeKnown||(H|=qe),O.writeUInt32LE(67324752,0),O.writeUInt16LE(Oe,4),O.writeUInt16LE(H,6),O.writeUInt16LE(this.getCompressionMethod(),8),O.writeUInt16LE(this.lastModFileTime,10),O.writeUInt16LE(this.lastModFileDate,12),O.writeUInt32LE(v,14),O.writeUInt32LE(S,18),O.writeUInt32LE(Q,22),O.writeUInt16LE(this.utf8FileName.length,26),O.writeUInt16LE(0,28),Buffer.concat([O,this.utf8FileName])};var Ve=16,ze=24;m.prototype.getDataDescriptor=function(){if(this.crcAndFileSizeKnown)return ke;if(this.useZip64Format()){var v=F(ze);return v.writeUInt32LE(134695760,0),v.writeUInt32LE(this.crc32,4),I(v,this.compressedSize,8),I(v,this.uncompressedSize,16),v}else{var v=F(Ve);return v.writeUInt32LE(134695760,0),v.writeUInt32LE(this.crc32,4),v.writeUInt32LE(this.compressedSize,8),v.writeUInt32LE(this.uncompressedSize,12),v}};var $e=46,Ye=28;m.prototype.getCentralDirectoryRecord=function(){var v=F($e),S=je;this.crcAndFileSizeKnown||(S|=qe);var Q=this.compressedSize,O=this.uncompressedSize,H=this.relativeOffsetOfLocalHeader,V,J;return this.useZip64Format()?(Q=4294967295,O=4294967295,H=4294967295,V=Pe,J=F(Ye),J.writeUInt16LE(1,0),J.writeUInt16LE(Ye-4,2),I(J,this.uncompressedSize,4),I(J,this.compressedSize,12),I(J,this.relativeOffsetOfLocalHeader,20)):(V=Oe,J=ke),v.writeUInt32LE(33639248,0),v.writeUInt16LE(Le,4),v.writeUInt16LE(V,6),v.writeUInt16LE(S,8),v.writeUInt16LE(this.getCompressionMethod(),10),v.writeUInt16LE(this.lastModFileTime,12),v.writeUInt16LE(this.lastModFileDate,14),v.writeUInt32LE(this.crc32,16),v.writeUInt32LE(Q,20),v.writeUInt32LE(O,24),v.writeUInt16LE(this.utf8FileName.length,28),v.writeUInt16LE(J.length,30),v.writeUInt16LE(this.fileComment.length,32),v.writeUInt16LE(0,34),v.writeUInt16LE(0,36),v.writeUInt32LE(this.externalFileAttributes,38),v.writeUInt32LE(H,42),Buffer.concat([v,this.utf8FileName,J,this.fileComment])};m.prototype.getCompressionMethod=function(){var v=0,S=8;return this.compress?S:v};function Cr(v){var S=0;S|=v.getDate()&31,S|=(v.getMonth()+1&15)<<5,S|=(v.getFullYear()-1980&127)<<9;var Q=0;return Q|=Math.floor(v.getSeconds()/2),Q|=(v.getMinutes()&63)<<5,Q|=(v.getHours()&31)<<11,{date:S,time:Q}}function I(v,S,Q){var O=Math.floor(S/4294967296),H=S%4294967296;v.writeUInt32LE(H,Q),v.writeUInt32LE(O,Q+4)}J.inherits(le,O);function le(v){O.call(this,v),this.byteCount=0}le.prototype._transform=function(v,S,Q){this.byteCount+=v.length,Q(null,v)};J.inherits(He,O);function He(v){O.call(this,v),this.crc32=0}He.prototype._transform=function(v,S,Q){this.crc32=X.unsigned(v,this.crc32),Q(null,v)};var et="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";if(et.length!==256)throw new Error("assertion failure");var tt=null;function St(v){if(/^[\x20-\x7e]*$/.test(v))return N(v,"utf-8");if(tt==null){tt={};for(var S=0;S<et.length;S++)tt[et[S]]=S}for(var Q=F(v.length),S=0;S<v.length;S++){var O=tt[v[S]];if(O==null)throw new Error("character not encodable in CP437: "+JSON.stringify(v[S]));Q[S]=O}return Q}function F(v){F=r;try{return F(v)}catch{return F=t,F(v)}function r(v){return Buffer.allocUnsafe(v)}function t(v){return new Buffer(v)}}function N(v,S){N=t;try{return N(v,S)}catch{return N=n,N(v,S)}function t(v,S){return Buffer.from(v,S)}function n(v,S){return new Buffer(v,S)}}function te(v,S){te=t;try{return te(v,S)}catch{return te=n,te(v,S)}function t(v,S){return v.includes(S)}function n(v,S){for(var Q=0;Q<=v.length-S.length;Q++)for(var O=0;;O++){if(O===S.length)return!0;if(v[Q+O]!==S[O])break}return!1}}}));var he=E(((v,S)=>{S.exports=xe;function xe(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}xe.prototype.go=function(v){this.pending<this.max?Sr(this,v):this.waiting.push(v)};xe.prototype.wait=function(v){this.pending===0?v(this.error):this.listeners.push(v)};xe.prototype.hold=function(){return Fr(this)};function Fr(v){v.pending+=1;var S=!1;return t;function t(Q){if(S)throw new Error("callback called twice");if(S=!0,v.error=v.error||Q,v.pending-=1,v.waiting.length>0&&v.pending<v.max)Sr(v,v.waiting.shift());else if(v.pending===0){var O=v.listeners;v.listeners=[],O.forEach(n)}}function n(S){S(v.error)}}function Sr(v,S){S(Fr(v))}}));var Ee=E((v=>{var S=Q(7147),O=Q(3837),H=Q(2781),V=H.Readable,J=H.Writable,Y=H.PassThrough,X=he(),ee=Q(2361).EventEmitter;v.createFromBuffer=Ot;v.createFromFd=zt;v.BufferSlicer=D;v.FdSlicer=R;O.inherits(R,ee);function R(v,S){S=S||{},ee.call(this),this.fd=v,this.pend=new X,this.pend.max=1,this.refCount=0,this.autoClose=!!S.autoClose}R.prototype.read=function(v,Q,O,H,V){var J=this;J.pend.go((function(Y){S.read(J.fd,v,Q,O,H,(function(v,S,Q){Y(),V(v,S,Q)}))}))};R.prototype.write=function(v,Q,O,H,V){var J=this;J.pend.go((function(Y){S.write(J.fd,v,Q,O,H,(function(v,S,Q){Y(),V(v,S,Q)}))}))};R.prototype.createReadStream=function(v){return new we(this,v)};R.prototype.createWriteStream=function(v){return new ge(this,v)};R.prototype.ref=function(){this.refCount+=1};R.prototype.unref=function(){var v=this;if(v.refCount-=1,v.refCount>0)return;if(v.refCount<0)throw new Error("invalid unref");v.autoClose&&S.close(v.fd,r);function r(S){S?v.emit("error",S):v.emit("close")}};O.inherits(we,V);function we(v,S){S=S||{},V.call(this,S),this.context=v,this.context.ref(),this.start=S.start||0,this.endOffset=S.end,this.pos=this.start,this.destroyed=!1}we.prototype._read=function(v){var Q=this;if(!Q.destroyed){var O=Math.min(Q._readableState.highWaterMark,v);if(Q.endOffset!=null&&(O=Math.min(O,Q.endOffset-Q.pos)),O<=0){Q.destroyed=!0,Q.push(null),Q.context.unref();return}Q.context.pend.go((function(v){if(Q.destroyed)return v();var H=Buffer.alloc(O);S.read(Q.context.fd,H,0,O,Q.pos,(function(S,O){S?Q.destroy(S):O===0?(Q.destroyed=!0,Q.push(null),Q.context.unref()):(Q.pos+=O,Q.push(H.slice(0,O))),v()}))}))}};we.prototype.destroy=function(v){this.destroyed||(v=v||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",v),this.context.unref())};O.inherits(ge,J);function ge(v,S){S=S||{},J.call(this,S),this.context=v,this.context.ref(),this.start=S.start||0,this.endOffset=S.end==null?1/0:+S.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}ge.prototype._write=function(v,Q,O){var H=this;if(!H.destroyed){if(H.pos+v.length>H.endOffset){var V=new Error("maximum file length exceeded");V.code="ETOOBIG",H.destroy(),O(V);return}H.context.pend.go((function(Q){if(H.destroyed)return Q();S.write(H.context.fd,v,0,v.length,H.pos,(function(v,S){v?(H.destroy(),Q(),O(v)):(H.bytesWritten+=S,H.pos+=S,H.emit("progress"),Q(),O())}))}))}};ge.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};O.inherits(D,ee);function D(v,S){ee.call(this),S=S||{},this.refCount=0,this.buffer=v,this.maxChunkSize=S.maxChunkSize||Number.MAX_SAFE_INTEGER}D.prototype.read=function(v,S,Q,O,H){var V=O+Q,J=V-this.buffer.length,Y=J>0?J:Q;this.buffer.copy(v,S,O,V),setImmediate((function(){H(null,Y)}))};D.prototype.write=function(v,S,Q,O,H){v.copy(this.buffer,O,S,S+Q),setImmediate((function(){H(null,Q,v)}))};D.prototype.createReadStream=function(v){v=v||{};var S=new Y(v);S.destroyed=!1,S.start=v.start||0,S.endOffset=v.end,S.pos=S.endOffset||this.buffer.length;for(var Q=this.buffer.slice(S.start,S.pos),O=0;;){var H=O+this.maxChunkSize;if(H>=Q.length){O<Q.length&&S.write(Q.slice(O,Q.length));break}S.write(Q.slice(O,H)),O=H}return S.end(),S.destroy=function(){S.destroyed=!0},S};D.prototype.createWriteStream=function(v){var S=this;v=v||{};var Q=new J(v);return Q.start=v.start||0,Q.endOffset=v.end==null?this.buffer.length:+v.end,Q.bytesWritten=0,Q.pos=Q.start,Q.destroyed=!1,Q._write=function(v,O,H){if(!Q.destroyed){var V=Q.pos+v.length;if(V>Q.endOffset){var J=new Error("maximum file length exceeded");J.code="ETOOBIG",Q.destroyed=!0,H(J);return}v.copy(S.buffer,Q.pos,0,v.length),Q.bytesWritten+=v.length,Q.pos=V,Q.emit("progress"),H()}},Q.destroy=function(){Q.destroyed=!0},Q};D.prototype.ref=function(){this.refCount+=1};D.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Ot(v,S){return new D(v,S)}function zt(v,S){return new R(v,S)}}));var Be=E((v=>{var S=Q(7147),O=Q(9796),H=Ee(),V=ee(),J=Q(3837),Y=Q(2361).EventEmitter,X=Q(2781).Transform,ae=Q(2781).PassThrough,he=Q(2781).Writable;v.open=Dt;v.fromFd=Rr;v.fromBuffer=Ut;v.fromRandomAccessReader=Ke;v.dosDateTimeToDate=Ur;v.validateFileName=Tr;v.ZipFile=B;v.Entry=oe;v.RandomAccessReader=q;function Dt(v,Q,O){typeof Q=="function"&&(O=Q,Q=null),Q==null&&(Q={}),Q.autoClose==null&&(Q.autoClose=!0),Q.lazyEntries==null&&(Q.lazyEntries=!1),Q.decodeStrings==null&&(Q.decodeStrings=!0),Q.validateEntrySizes==null&&(Q.validateEntrySizes=!0),Q.strictFileNames==null&&(Q.strictFileNames=!1),O==null&&(O=Ce),S.open(v,"r",(function(v,H){if(v)return O(v);Rr(H,Q,(function(v,Q){v&&S.close(H,Ce),O(v,Q)}))}))}function Rr(v,Q,O){typeof Q=="function"&&(O=Q,Q=null),Q==null&&(Q={}),Q.autoClose==null&&(Q.autoClose=!1),Q.lazyEntries==null&&(Q.lazyEntries=!1),Q.decodeStrings==null&&(Q.decodeStrings=!0),Q.validateEntrySizes==null&&(Q.validateEntrySizes=!0),Q.strictFileNames==null&&(Q.strictFileNames=!1),O==null&&(O=Ce),S.fstat(v,(function(S,V){if(S)return O(S);var J=H.createFromFd(v,{autoClose:!0});Ke(J,V.size,Q,O)}))}function Ut(v,S,Q){typeof S=="function"&&(Q=S,S=null),S==null&&(S={}),S.autoClose=!1,S.lazyEntries==null&&(S.lazyEntries=!1),S.decodeStrings==null&&(S.decodeStrings=!0),S.validateEntrySizes==null&&(S.validateEntrySizes=!0),S.strictFileNames==null&&(S.strictFileNames=!1);var O=H.createFromBuffer(v,{maxChunkSize:65536});Ke(O,v.length,S,Q)}function Ke(v,S,Q,O){typeof Q=="function"&&(O=Q,Q=null),Q==null&&(Q={}),Q.autoClose==null&&(Q.autoClose=!0),Q.lazyEntries==null&&(Q.lazyEntries=!1),Q.decodeStrings==null&&(Q.decodeStrings=!0);var H=!!Q.decodeStrings;if(Q.validateEntrySizes==null&&(Q.validateEntrySizes=!0),Q.strictFileNames==null&&(Q.strictFileNames=!1),O==null&&(O=Ce),typeof S!="number")throw new Error("expected totalSize parameter to be a number");if(S>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");v.ref();var V=22,J=65535,Y=Math.min(V+J,S),X=ke(Y),ee=S-X.length;$(v,X,0,Y,ee,(function(J){if(J)return O(J);for(var ae=Y-V;ae>=0;ae-=1)if(X.readUInt32LE(ae)===101010256){var he=X.slice(ae),Ee=he.readUInt16LE(4);if(Ee!==0)return O(new Error("multi-disk zip files are not supported: found disk number: "+Ee));var Be=he.readUInt16LE(10),Re=he.readUInt32LE(16),Oe=he.readUInt16LE(20),Pe=he.length-V;if(Oe!==Pe)return O(new Error("invalid comment length. expected: "+Pe+". found: "+Oe));var Le=H?ye(he,22,he.length,!1):he.slice(22);if(!(Be===65535||Re===4294967295))return O(null,new B(v,Re,S,Be,Le,Q.autoClose,Q.lazyEntries,H,Q.validateEntrySizes,Q.strictFileNames));var je=ke(20),qe=ee+ae-je.length;$(v,je,0,je.length,qe,(function(V){if(V)return O(V);if(je.readUInt32LE(0)!==117853008)return O(new Error("invalid zip64 end of central directory locator signature"));var J=j(je,8),Y=ke(56);$(v,Y,0,Y.length,J,(function(V){return V?O(V):Y.readUInt32LE(0)!==101075792?O(new Error("invalid zip64 end of central directory record signature")):(Be=j(Y,32),Re=j(Y,48),O(null,new B(v,Re,S,Be,Le,Q.autoClose,Q.lazyEntries,H,Q.validateEntrySizes,Q.strictFileNames)))}))}));return}O(new Error("end of central directory record signature not found"))}))}J.inherits(B,Y);function B(v,S,Q,O,H,V,J,X,ee,ae){var he=this;Y.call(he),he.reader=v,he.reader.on("error",(function(v){Dr(he,v)})),he.reader.once("close",(function(){he.emit("close")})),he.readEntryCursor=S,he.fileSize=Q,he.entryCount=O,he.comment=H,he.entriesRead=0,he.autoClose=!!V,he.lazyEntries=!!J,he.decodeStrings=!!X,he.validateEntrySizes=!!ee,he.strictFileNames=!!ae,he.isOpen=!0,he.emittedError=!1,he.lazyEntries||he._readEntry()}B.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function L(v,S){v.autoClose&&v.close(),Dr(v,S)}function Dr(v,S){v.emittedError||(v.emittedError=!0,v.emit("error",S))}B.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};B.prototype._readEntry=function(){var v=this;if(v.entryCount===v.entriesRead){setImmediate((function(){v.autoClose&&v.close(),!v.emittedError&&v.emit("end")}));return}if(!v.emittedError){var S=ke(46);$(v.reader,S,0,S.length,v.readEntryCursor,(function(Q){if(Q)return L(v,Q);if(!v.emittedError){var O=new oe,H=S.readUInt32LE(0);if(H!==33639248)return L(v,new Error("invalid central directory file header signature: 0x"+H.toString(16)));if(O.versionMadeBy=S.readUInt16LE(4),O.versionNeededToExtract=S.readUInt16LE(6),O.generalPurposeBitFlag=S.readUInt16LE(8),O.compressionMethod=S.readUInt16LE(10),O.lastModFileTime=S.readUInt16LE(12),O.lastModFileDate=S.readUInt16LE(14),O.crc32=S.readUInt32LE(16),O.compressedSize=S.readUInt32LE(20),O.uncompressedSize=S.readUInt32LE(24),O.fileNameLength=S.readUInt16LE(28),O.extraFieldLength=S.readUInt16LE(30),O.fileCommentLength=S.readUInt16LE(32),O.internalFileAttributes=S.readUInt16LE(36),O.externalFileAttributes=S.readUInt32LE(38),O.relativeOffsetOfLocalHeader=S.readUInt32LE(42),O.generalPurposeBitFlag&64)return L(v,new Error("strong encryption is not supported"));v.readEntryCursor+=46,S=ke(O.fileNameLength+O.extraFieldLength+O.fileCommentLength),$(v.reader,S,0,S.length,v.readEntryCursor,(function(Q){if(Q)return L(v,Q);if(!v.emittedError){var H=(O.generalPurposeBitFlag&2048)!==0;O.fileName=v.decodeStrings?ye(S,0,O.fileNameLength,H):S.slice(0,O.fileNameLength);var J=O.fileNameLength+O.extraFieldLength,Y=S.slice(O.fileNameLength,J);O.extraFields=[];for(var X=0;X<Y.length-3;){var ee=Y.readUInt16LE(X+0),ae=Y.readUInt16LE(X+2),he=X+4,Ee=he+ae;if(Ee>Y.length)return L(v,new Error("extra field length exceeds extra field buffer size"));var Be=ke(ae);Y.copy(Be,0,he,Ee),O.extraFields.push({id:ee,data:Be}),X=Ee}if(O.fileComment=v.decodeStrings?ye(S,J,J+O.fileCommentLength,H):S.slice(J,J+O.fileCommentLength),O.comment=O.fileComment,v.readEntryCursor+=S.length,v.entriesRead+=1,O.uncompressedSize===4294967295||O.compressedSize===4294967295||O.relativeOffsetOfLocalHeader===4294967295){for(var Re=null,X=0;X<O.extraFields.length;X++){var Oe=O.extraFields[X];if(Oe.id===1){Re=Oe.data;break}}if(Re==null)return L(v,new Error("expected zip64 extended information extra field"));var Pe=0;if(O.uncompressedSize===4294967295){if(Pe+8>Re.length)return L(v,new Error("zip64 extended information extra field does not include uncompressed size"));O.uncompressedSize=j(Re,Pe),Pe+=8}if(O.compressedSize===4294967295){if(Pe+8>Re.length)return L(v,new Error("zip64 extended information extra field does not include compressed size"));O.compressedSize=j(Re,Pe),Pe+=8}if(O.relativeOffsetOfLocalHeader===4294967295){if(Pe+8>Re.length)return L(v,new Error("zip64 extended information extra field does not include relative header offset"));O.relativeOffsetOfLocalHeader=j(Re,Pe),Pe+=8}}if(v.decodeStrings)for(var X=0;X<O.extraFields.length;X++){var Oe=O.extraFields[X];if(Oe.id===28789){if(Oe.data.length<6||Oe.data.readUInt8(0)!==1)continue;var Le=Oe.data.readUInt32LE(1);if(V.unsigned(S.slice(0,O.fileNameLength))!==Le)continue;O.fileName=ye(Oe.data,5,Oe.data.length,!0);break}}if(v.validateEntrySizes&&O.compressionMethod===0){var je=O.uncompressedSize;if(O.isEncrypted()&&(je+=12),O.compressedSize!==je){var qe="compressed/uncompressed size mismatch for stored file: "+O.compressedSize+" != "+O.uncompressedSize;return L(v,new Error(qe))}}if(v.decodeStrings){v.strictFileNames||(O.fileName=O.fileName.replace(/\\/g,"/"));var Ve=Tr(O.fileName,v.validateFileNameOptions);if(Ve!=null)return L(v,new Error(Ve))}v.emit("entry",O),v.lazyEntries||v._readEntry()}}))}}))}};B.prototype.openReadStream=function(v,S,Q){var H=this,V=0,J=v.compressedSize;if(Q==null)Q=S,S={};else{if(S.decrypt!=null){if(!v.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(S.decrypt!==!1)throw new Error("invalid options.decrypt value: "+S.decrypt);if(v.isCompressed()&&S.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(S.decompress!=null){if(!v.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(S.decompress===!1||S.decompress===!0))throw new Error("invalid options.decompress value: "+S.decompress)}if(S.start!=null||S.end!=null){if(v.isCompressed()&&S.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(v.isEncrypted()&&S.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(S.start!=null){if(V=S.start,V<0)throw new Error("options.start < 0");if(V>v.compressedSize)throw new Error("options.start > entry.compressedSize")}if(S.end!=null){if(J=S.end,J<0)throw new Error("options.end < 0");if(J>v.compressedSize)throw new Error("options.end > entry.compressedSize");if(J<V)throw new Error("options.end < options.start")}}if(!H.isOpen)return Q(new Error("closed"));if(v.isEncrypted()&&S.decrypt!==!1)return Q(new Error("entry is encrypted, and options.decrypt !== false"));H.reader.ref();var Y=ke(30);$(H.reader,Y,0,Y.length,v.relativeOffsetOfLocalHeader,(function(X){try{if(X)return Q(X);var ee=Y.readUInt32LE(0);if(ee!==67324752)return Q(new Error("invalid local file header signature: 0x"+ee.toString(16)));var ae=Y.readUInt16LE(26),he=Y.readUInt16LE(28),Ee=v.relativeOffsetOfLocalHeader+Y.length+ae+he,Be;if(v.compressionMethod===0)Be=!1;else if(v.compressionMethod===8)Be=S.decompress!=null?S.decompress:!0;else return Q(new Error("unsupported compression method: "+v.compressionMethod));var ke=Ee,Re=ke+v.compressedSize;if(v.compressedSize!==0&&Re>H.fileSize)return Q(new Error("file data overflows file bounds: "+ke+" + "+v.compressedSize+" > "+H.fileSize));var Oe=H.reader.createReadStream({start:ke+V,end:ke+J}),Pe=Oe;if(Be){var Le=!1,je=O.createInflateRaw();Oe.on("error",(function(v){setImmediate((function(){Le||je.emit("error",v)}))})),Oe.pipe(je),H.validateEntrySizes?(Pe=new se(v.uncompressedSize),je.on("error",(function(v){setImmediate((function(){Le||Pe.emit("error",v)}))})),je.pipe(Pe)):Pe=je,Pe.destroy=function(){Le=!0,je!==Pe&&je.unpipe(Pe),Oe.unpipe(je),Oe.destroy()}}Q(null,Pe)}finally{H.reader.unref()}}))};function oe(){}oe.prototype.getLastModDate=function(){return Ur(this.lastModFileDate,this.lastModFileTime)};oe.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};oe.prototype.isCompressed=function(){return this.compressionMethod===8};function Ur(v,S){var Q=v&31,O=(v>>5&15)-1,H=(v>>9&127)+1980,V=0,J=(S&31)*2,Y=S>>5&63,X=S>>11&31;return new Date(H,O,Q,X,Y,J,V)}function Tr(v){return v.indexOf("\\")!==-1?"invalid characters in fileName: "+v:/^[a-zA-Z]:/.test(v)||/^\//.test(v)?"absolute path: "+v:v.split("/").indexOf("..")!==-1?"invalid relative path: "+v:null}function $(v,S,Q,O,H,V){if(O===0)return setImmediate((function(){V(null,ke(0))}));v.read(S,Q,O,H,(function(v,S){if(v)return V(v);if(S<O)return V(new Error("unexpected EOF"));V()}))}J.inherits(se,X);function se(v){X.call(this),this.actualByteCount=0,this.expectedByteCount=v}se.prototype._transform=function(v,S,Q){if(this.actualByteCount+=v.length,this.actualByteCount>this.expectedByteCount){var O="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return Q(new Error(O))}Q(null,v)};se.prototype._flush=function(v){if(this.actualByteCount<this.expectedByteCount){var S="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return v(new Error(S))}v()};J.inherits(q,Y);function q(){Y.call(this),this.refCount=0}q.prototype.ref=function(){this.refCount+=1};q.prototype.unref=function(){var v=this;if(v.refCount-=1,v.refCount>0)return;if(v.refCount<0)throw new Error("invalid unref");v.close(r);function r(S){if(S)return v.emit("error",S);v.emit("close")}};q.prototype.createReadStream=function(v){var S=v.start,Q=v.end;if(S===Q){var O=new ae;return setImmediate((function(){O.end()})),O}var H=this._readStreamForRange(S,Q),V=!1,J=new Se(this);H.on("error",(function(v){setImmediate((function(){V||J.emit("error",v)}))})),J.destroy=function(){H.unpipe(J),J.unref(),H.destroy()};var Y=new se(Q-S);return J.on("error",(function(v){setImmediate((function(){V||Y.emit("error",v)}))})),Y.destroy=function(){V=!0,J.unpipe(Y),J.destroy()},H.pipe(J).pipe(Y)};q.prototype._readStreamForRange=function(v,S){throw new Error("not implemented")};q.prototype.read=function(v,S,Q,O,H){var V=this.createReadStream({start:O,end:O+Q}),J=new he,Y=0;J._write=function(Q,O,H){Q.copy(v,S+Y,0,Q.length),Y+=Q.length,H()},J.on("finish",H),V.on("error",(function(v){H(v)})),V.pipe(J)};q.prototype.close=function(v){setImmediate(v)};J.inherits(Se,ae);function Se(v){ae.call(this),this.context=v,this.context.ref(),this.unreffedYet=!1}Se.prototype._flush=function(v){this.unref(),v()};Se.prototype.unref=function(v){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Be="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function ye(v,S,Q,O){if(O)return v.toString("utf8",S,Q);for(var H="",V=S;V<Q;V++)H+=Be[v[V]];return H}function j(v,S){var Q=v.readUInt32LE(S),O=v.readUInt32LE(S+4);return O*4294967296+Q}var ke;typeof Buffer.allocUnsafe=="function"?ke=function(v){return Buffer.allocUnsafe(v)}:ke=function(v){return new Buffer(v)};function Ce(v){if(v)throw v}}));var ke=E(((v,S)=>{var Q=1e3,O=Q*60,H=O*60,V=H*24,J=V*7,Y=V*365.25;S.exports=function(v,S){S=S||{};var Q=typeof v;if(Q==="string"&&v.length>0)return Bt(v);if(Q==="number"&&isFinite(v))return S.long?Pt(v):qt(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function Bt(v){if(v=String(v),!(v.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(S){var X=parseFloat(S[1]),ee=(S[2]||"ms").toLowerCase();switch(ee){case"years":case"year":case"yrs":case"yr":case"y":return X*Y;case"weeks":case"week":case"w":return X*J;case"days":case"day":case"d":return X*V;case"hours":case"hour":case"hrs":case"hr":case"h":return X*H;case"minutes":case"minute":case"mins":case"min":case"m":return X*O;case"seconds":case"second":case"secs":case"sec":case"s":return X*Q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}}}function qt(v){var S=Math.abs(v);return S>=V?Math.round(v/V)+"d":S>=H?Math.round(v/H)+"h":S>=O?Math.round(v/O)+"m":S>=Q?Math.round(v/Q)+"s":v+"ms"}function Pt(v){var S=Math.abs(v);return S>=V?Ie(v,S,V,"day"):S>=H?Ie(v,S,H,"hour"):S>=O?Ie(v,S,O,"minute"):S>=Q?Ie(v,S,Q,"second"):v+" ms"}function Ie(v,S,Q,O){var H=S>=Q*1.5;return Math.round(v/Q)+" "+O+(H?"s":"")}}));var Re=E(((v,S)=>{function Zt(v){t.debug=t,t.default=t,t.coerce=u,t.disable=o,t.enable=i,t.enabled=s,t.humanize=ke(),t.destroy=d,Object.keys(v).forEach((S=>{t[S]=v[S]})),t.names=[],t.skips=[],t.formatters={};function r(v){let S=0;for(let Q=0;Q<v.length;Q++)S=(S<<5)-S+v.charCodeAt(Q),S|=0;return t.colors[Math.abs(S)%t.colors.length]}t.selectColor=r;function t(v){let S,Q=null,O,H;function p(...v){if(!p.enabled)return;let Q=p,O=Number(new Date),H=O-(S||O);Q.diff=H,Q.prev=S,Q.curr=O,S=O,v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let V=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,((S,O)=>{if(S==="%%")return"%";V++;let H=t.formatters[O];if(typeof H=="function"){let O=v[V];S=H.call(Q,O),v.splice(V,1),V--}return S})),t.formatArgs.call(Q,v),(Q.log||t.log).apply(Q,v)}return p.namespace=v,p.useColors=t.useColors(),p.color=t.selectColor(v),p.extend=n,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>Q!==null?Q:(O!==t.namespaces&&(O=t.namespaces,H=t.enabled(v)),H),set:v=>{Q=v}}),typeof t.init=="function"&&t.init(p),p}function n(v,S){let Q=t(this.namespace+(typeof S=="undefined"?":":S)+v);return Q.log=this.log,Q}function i(v){t.save(v),t.namespaces=v,t.names=[],t.skips=[];let S,Q=(typeof v=="string"?v:"").split(/[\s,]+/),O=Q.length;for(S=0;S<O;S++)Q[S]&&(v=Q[S].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.slice(1)+"$")):t.names.push(new RegExp("^"+v+"$")))}function o(){let v=[...t.names.map(f),...t.skips.map(f).map((v=>"-"+v))].join(",");return t.enable(""),v}function s(v){if(v[v.length-1]==="*")return!0;let S,Q;for(S=0,Q=t.skips.length;S<Q;S++)if(t.skips[S].test(v))return!1;for(S=0,Q=t.names.length;S<Q;S++)if(t.names[S].test(v))return!0;return!1}function f(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}function u(v){return v instanceof Error?v.stack||v.message:v}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}S.exports=Zt}));var Oe=E(((v,S)=>{v.formatArgs=Ht;v.save=Gt;v.load=Yt;v.useColors=Wt;v.storage=$t();v.destroy=(()=>{let v=!1;return()=>{v||(v=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();v.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Wt(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ht(v){if(v[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+v[0]+(this.useColors?"%c ":" ")+"+"+S.exports.humanize(this.diff),!this.useColors)return;let Q="color: "+this.color;v.splice(1,0,Q,"color: inherit");let O=0,H=0;v[0].replace(/%[a-zA-Z%]/g,(v=>{v!=="%%"&&(O++,v==="%c"&&(H=O))})),v.splice(H,0,Q)}v.log=console.debug||console.log||(()=>{});function Gt(S){try{S?v.storage.setItem("debug",S):v.storage.removeItem("debug")}catch{}}function Yt(){let S;try{S=v.storage.getItem("debug")}catch{}return!S&&typeof process!="undefined"&&"env"in process&&(S=process.env.DEBUG),S}function $t(){try{return localStorage}catch{}}S.exports=Re()(v);var{formatters:Q}=S.exports;Q.j=function(v){try{return JSON.stringify(v)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}));var Pe=E(((v,S)=>{"use strict";S.exports=(v,S)=>{S=S||process.argv;let Q=v.startsWith("-")?"":v.length===1?"-":"--",O=S.indexOf(Q+v),H=S.indexOf("--");return O!==-1&&(H===-1?!0:O<H)}}));var Le=E(((v,S)=>{"use strict";var O=Q(2037),H=Pe(),V=process.env,J;H("no-color")||H("no-colors")||H("color=false")?J=!1:(H("color")||H("colors")||H("color=true")||H("color=always"))&&(J=!0);"FORCE_COLOR"in V&&(J=V.FORCE_COLOR.length===0||parseInt(V.FORCE_COLOR,10)!==0);function Kt(v){return v===0?!1:{level:v,hasBasic:!0,has256:v>=2,has16m:v>=3}}function Xt(v){if(J===!1)return 0;if(H("color=16m")||H("color=full")||H("color=truecolor"))return 3;if(H("color=256"))return 2;if(v&&!v.isTTY&&J!==!0)return 0;let S=J?1:0;if(process.platform==="win32"){let v=O.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(v[0])>=10&&Number(v[2])>=10586?Number(v[2])>=14931?3:2:1}if("CI"in V)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((v=>v in V))||V.CI_NAME==="codeship"?1:S;if("TEAMCITY_VERSION"in V)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(V.TEAMCITY_VERSION)?1:0;if(V.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in V){let v=parseInt((V.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(V.TERM_PROGRAM){case"iTerm.app":return v>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(V.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(V.TERM)||"COLORTERM"in V?1:(V.TERM==="dumb",S)}function Qe(v){let S=Xt(v);return Kt(S)}S.exports={supportsColor:Qe,stdout:Qe(process.stdout),stderr:Qe(process.stderr)}}));var je=E(((v,S)=>{var O=Q(6224),H=Q(3837);v.init=on;v.log=rn;v.formatArgs=kt;v.save=tn;v.load=nn;v.useColors=Qt;v.destroy=H.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");v.colors=[6,2,3,4,5,1];try{let S=Le();S&&(S.stderr||S).level>=2&&(v.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}v.inspectOpts=Object.keys(process.env).filter((v=>/^debug_/i.test(v))).reduce(((v,S)=>{let Q=S.substring(6).toLowerCase().replace(/_([a-z])/g,((v,S)=>S.toUpperCase())),O=process.env[S];return/^(yes|on|true|enabled)$/i.test(O)?O=!0:/^(no|off|false|disabled)$/i.test(O)?O=!1:O==="null"?O=null:O=Number(O),v[Q]=O,v}),{});function Qt(){return"colors"in v.inspectOpts?!!v.inspectOpts.colors:O.isatty(process.stderr.fd)}function kt(v){let{namespace:Q,useColors:O}=this;if(O){let O=this.color,H="[3"+(O<8?O:"8;5;"+O),V=`  ${H};1m${Q} [0m`;v[0]=V+v[0].split(`\n`).join(`\n`+V),v.push(H+"m+"+S.exports.humanize(this.diff)+"[0m")}else v[0]=en()+Q+" "+v[0]}function en(){return v.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function rn(...v){return process.stderr.write(H.format(...v)+`\n`)}function tn(v){v?process.env.DEBUG=v:delete process.env.DEBUG}function nn(){return process.env.DEBUG}function on(S){S.inspectOpts={};let Q=Object.keys(v.inspectOpts);for(let O=0;O<Q.length;O++)S.inspectOpts[Q[O]]=v.inspectOpts[Q[O]]}S.exports=Re()(v);var{formatters:V}=S.exports;V.o=function(v){return this.inspectOpts.colors=this.useColors,H.inspect(v,this.inspectOpts).split(`\n`).map((v=>v.trim())).join(" ")};V.O=function(v){return this.inspectOpts.colors=this.useColors,H.inspect(v,this.inspectOpts)}}));var qe=E(((v,S)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?S.exports=Oe():S.exports=je()}));var Ve=E(((v,S)=>{S.exports=jr;function jr(v,S){if(v&&S)return jr(v)(S);if(typeof v!="function")throw new TypeError("need wrapper function");return Object.keys(v).forEach((function(S){t[S]=v[S]})),t;function t(){for(var S=new Array(arguments.length),Q=0;Q<S.length;Q++)S[Q]=arguments[Q];var O=v.apply(this,S),H=S[S.length-1];return typeof O=="function"&&O!==H&&Object.keys(H).forEach((function(v){O[v]=H[v]})),O}}}));var ze=E(((v,S)=>{var Q=Ve();S.exports=Q(_e);S.exports.strict=Q(Jr);_e.proto=_e((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return _e(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Jr(this)},configurable:!0})}));function _e(v){var r=function(){return r.called?r.value:(r.called=!0,r.value=v.apply(this,arguments))};return r.called=!1,r}function Jr(v){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=v.apply(this,arguments)},S=v.name||"Function wrapped with `once`";return r.onceError=S+" shouldn't be called more than once",r.called=!1,r}}));var $e=E(((v,S)=>{var Q=ze(),fn=function(){},an=function(v){return v.setHeader&&typeof v.abort=="function"},un=function(v){return v.stdio&&Array.isArray(v.stdio)&&v.stdio.length===3},Qr=function(v,S,O){if(typeof S=="function")return Qr(v,null,S);S||(S={}),O=Q(O||fn);var H=v._writableState,V=v._readableState,J=S.readable||S.readable!==!1&&v.readable,Y=S.writable||S.writable!==!1&&v.writable,X=!1,u=function(){v.writable||d()},d=function(){Y=!1,J||O.call(v)},a=function(){J=!1,Y||O.call(v)},c=function(S){O.call(v,S?new Error("exited with error code: "+S):null)},l=function(S){O.call(v,S)},x=function(){process.nextTick(g)},g=function(){if(!X){if(J&&!(V&&V.ended&&!V.destroyed))return O.call(v,new Error("premature close"));if(Y&&!(H&&H.ended&&!H.destroyed))return O.call(v,new Error("premature close"))}},p=function(){v.req.on("finish",d)};return an(v)?(v.on("complete",d),v.on("abort",x),v.req?p():v.on("request",p)):Y&&!H&&(v.on("end",u),v.on("close",u)),un(v)&&v.on("exit",c),v.on("end",a),v.on("finish",d),S.error!==!1&&v.on("error",l),v.on("close",x),function(){X=!0,v.removeListener("complete",d),v.removeListener("abort",x),v.removeListener("request",p),v.req&&v.req.removeListener("finish",d),v.removeListener("end",u),v.removeListener("close",u),v.removeListener("finish",d),v.removeListener("exit",c),v.removeListener("end",a),v.removeListener("error",l),v.removeListener("close",x)}};S.exports=Qr}));var Ye=E(((v,S)=>{var O=ze(),H=$e(),V=Q(7147),fe=function(){},J=/^v?\.0/.test(process.version),Ae=function(v){return typeof v=="function"},hn=function(v){return!J||!V?!1:(v instanceof(V.ReadStream||fe)||v instanceof(V.WriteStream||fe))&&Ae(v.close)},pn=function(v){return v.setHeader&&Ae(v.abort)},mn=function(v,S,Q,V){V=O(V);var J=!1;v.on("close",(function(){J=!0})),H(v,{readable:S,writable:Q},(function(v){if(v)return V(v);J=!0,V()}));var Y=!1;return function(S){if(!J&&!Y){if(Y=!0,hn(v))return v.close(fe);if(pn(v))return v.abort();if(Ae(v.destroy))return v.destroy();V(S||new Error("stream was destroyed"))}}},rt=function(v){v()},xn=function(v,S){return v.pipe(S)},vn=function(){var v=Array.prototype.slice.call(arguments),S=Ae(v[v.length-1]||fe)&&v.pop()||fe;if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new Error("pump requires two streams per minimum");var Q,O=v.map((function(H,V){var J=V<v.length-1,Y=V>0;return mn(H,J,Y,(function(v){Q||(Q=v),v&&O.forEach(rt),!J&&(O.forEach(rt),S(Q))}))}));return v.reduce(xn)};S.exports=vn}));var et=E(((v,S)=>{"use strict";var{PassThrough:O}=Q(2781);S.exports=v=>{v={...v};let{array:S}=v,{encoding:Q}=v,H=Q==="buffer",V=!1;S?V=!(Q||H):Q=Q||"utf8",H&&(Q=null);let J=new O({objectMode:V});Q&&J.setEncoding(Q);let Y=0,X=[];return J.on("data",(v=>{X.push(v),V?Y=X.length:Y+=v.length})),J.getBufferedValue=()=>S?X:H?Buffer.concat(X,Y):X.join(""),J.getBufferedLength=()=>Y,J}}));var tt=E(((v,S)=>{"use strict";var{constants:O}=Q(4300),H=Ye(),V=et(),J=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function De(v,S){if(!v)return Promise.reject(new Error("Expected a stream"));S={maxBuffer:1/0,...S};let{maxBuffer:Q}=S,Y;return await new Promise(((X,ee)=>{let s=v=>{v&&Y.getBufferedLength()<=O.MAX_LENGTH&&(v.bufferedData=Y.getBufferedValue()),ee(v)};Y=H(v,V(S),(v=>{if(v){s(v);return}X()})),Y.on("data",(()=>{Y.getBufferedLength()>Q&&s(new J)}))})),Y.getBufferedValue()}S.exports=De;S.exports.default=De;S.exports.buffer=(v,S)=>De(v,{...S,encoding:"buffer"});S.exports.array=(v,S)=>De(v,{...S,array:!0});S.exports.MaxBufferError=J}));var nt=E(((v,S)=>{var O=qe()("extract-zip"),{createWriteStream:H,promises:V}=Q(7147),J=tt(),Y=Q(1017),{promisify:X}=Q(3837),ee=Q(2781),ae=Be(),he=X(ae.open),Ee=X(ee.pipeline),ke=class{constructor(v,S){this.zipPath=v,this.opts=S}async extract(){return O("opening",this.zipPath,"with opts",this.opts),this.zipfile=await he(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise(((v,S)=>{this.zipfile.on("error",(v=>{this.canceled=!0,S(v)})),this.zipfile.readEntry(),this.zipfile.on("close",(()=>{this.canceled||(O("zip extraction complete"),v())})),this.zipfile.on("entry",(async v=>{if(this.canceled){O("skipping entry",v.fileName,{cancelled:this.canceled});return}if(O("zipfile entry",v.fileName),v.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let Q=Y.dirname(Y.join(this.opts.dir,v.fileName));try{await V.mkdir(Q,{recursive:!0});let S=await V.realpath(Q);if(Y.relative(this.opts.dir,S).split(Y.sep).includes(".."))throw new Error(`Out of bound path "${S}" found while processing file ${v.fileName}`);await this.extractEntry(v),O("finished processing",v.fileName),this.zipfile.readEntry()}catch(v){this.canceled=!0,this.zipfile.close(),S(v)}}))}))}async extractEntry(v){if(this.canceled){O("skipping entry extraction",v.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(v,this.zipfile);let S=Y.join(this.opts.dir,v.fileName),Q=v.externalFileAttributes>>16&65535,ee=61440,ae=16384,he=40960,Be=(Q&ee)===he,ke=(Q&ee)===ae;!ke&&v.fileName.endsWith("/")&&(ke=!0);let Re=v.versionMadeBy>>8;ke||(ke=Re===0&&v.externalFileAttributes===16),O("extracting entry",{filename:v.fileName,isDir:ke,isSymlink:Be});let Oe=this.getExtractedMode(Q,ke)&511,Pe=ke?S:Y.dirname(S),Le={recursive:!0};if(ke&&(Le.mode=Oe),O("mkdir",{dir:Pe,...Le}),await V.mkdir(Pe,Le),ke)return;O("opening read stream",S);let je=await X(this.zipfile.openReadStream.bind(this.zipfile))(v);if(Be){let v=await J(je);O("creating symlink",v,S),await V.symlink(v,S)}else await Ee(je,H(S,{mode:Oe}))}getExtractedMode(v,S){let Q=v;return Q===0&&(S?(this.opts.defaultDirMode&&(Q=parseInt(this.opts.defaultDirMode,10)),Q||(Q=493)):(this.opts.defaultFileMode&&(Q=parseInt(this.opts.defaultFileMode,10)),Q||(Q=420))),Q}};S.exports=async function(v,S){if(O("creating target directory",S.dir),!Y.isAbsolute(S.dir))throw new Error("Target directory is expected to be absolute");return await V.mkdir(S.dir,{recursive:!0}),S.dir=await V.realpath(S.dir),new ke(v,S).extract()}}));var it={};Et(it,{extract:()=>ct,yauzl:()=>at,yazl:()=>st});v.exports=wt(it);var st=Ue(ae()),at=Ue(Be()),lt=Ue(nt()),ct=lt.default;0&&0},2205:(v,S,Q)=>{v.exports=Q(6570)},4294:(v,S,Q)=>{v.exports=Q(4219)},4219:(v,S,Q)=>{"use strict";var O=Q(1808);var H=Q(4404);var V=Q(3685);var J=Q(5687);var Y=Q(2361);var X=Q(9491);var ee=Q(3837);S.httpOverHttp=httpOverHttp;S.httpsOverHttp=httpsOverHttp;S.httpOverHttps=httpOverHttps;S.httpsOverHttps=httpsOverHttps;function httpOverHttp(v){var S=new TunnelingAgent(v);S.request=V.request;return S}function httpsOverHttp(v){var S=new TunnelingAgent(v);S.request=V.request;S.createSocket=createSecureSocket;S.defaultPort=443;return S}function httpOverHttps(v){var S=new TunnelingAgent(v);S.request=J.request;return S}function httpsOverHttps(v){var S=new TunnelingAgent(v);S.request=J.request;S.createSocket=createSecureSocket;S.defaultPort=443;return S}function TunnelingAgent(v){var S=this;S.options=v||{};S.proxyOptions=S.options.proxy||{};S.maxSockets=S.options.maxSockets||V.Agent.defaultMaxSockets;S.requests=[];S.sockets=[];S.on("free",(function onFree(v,Q,O,H){var V=toOptions(Q,O,H);for(var J=0,Y=S.requests.length;J<Y;++J){var X=S.requests[J];if(X.host===V.host&&X.port===V.port){S.requests.splice(J,1);X.request.onSocket(v);return}}v.destroy();S.removeSocket(v)}))}ee.inherits(TunnelingAgent,Y.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(v,S,Q,O){var H=this;var V=mergeOptions({request:v},H.options,toOptions(S,Q,O));if(H.sockets.length>=this.maxSockets){H.requests.push(V);return}H.createSocket(V,(function(S){S.on("free",onFree);S.on("close",onCloseOrRemove);S.on("agentRemove",onCloseOrRemove);v.onSocket(S);function onFree(){H.emit("free",S,V)}function onCloseOrRemove(v){H.removeSocket(S);S.removeListener("free",onFree);S.removeListener("close",onCloseOrRemove);S.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(v,S){var Q=this;var O={};Q.sockets.push(O);var H=mergeOptions({},Q.proxyOptions,{method:"CONNECT",path:v.host+":"+v.port,agent:false,headers:{host:v.host+":"+v.port}});if(v.localAddress){H.localAddress=v.localAddress}if(H.proxyAuth){H.headers=H.headers||{};H.headers["Proxy-Authorization"]="Basic "+new Buffer(H.proxyAuth).toString("base64")}ae("making CONNECT request");var V=Q.request(H);V.useChunkedEncodingByDefault=false;V.once("response",onResponse);V.once("upgrade",onUpgrade);V.once("connect",onConnect);V.once("error",onError);V.end();function onResponse(v){v.upgrade=true}function onUpgrade(v,S,Q){process.nextTick((function(){onConnect(v,S,Q)}))}function onConnect(H,J,Y){V.removeAllListeners();J.removeAllListeners();if(H.statusCode!==200){ae("tunneling socket could not be established, statusCode=%d",H.statusCode);J.destroy();var X=new Error("tunneling socket could not be established, "+"statusCode="+H.statusCode);X.code="ECONNRESET";v.request.emit("error",X);Q.removeSocket(O);return}if(Y.length>0){ae("got illegal response body from proxy");J.destroy();var X=new Error("got illegal response body from proxy");X.code="ECONNRESET";v.request.emit("error",X);Q.removeSocket(O);return}ae("tunneling connection has established");Q.sockets[Q.sockets.indexOf(O)]=J;return S(J)}function onError(S){V.removeAllListeners();ae("tunneling socket could not be established, cause=%s\n",S.message,S.stack);var H=new Error("tunneling socket could not be established, "+"cause="+S.message);H.code="ECONNRESET";v.request.emit("error",H);Q.removeSocket(O)}};TunnelingAgent.prototype.removeSocket=function removeSocket(v){var S=this.sockets.indexOf(v);if(S===-1){return}this.sockets.splice(S,1);var Q=this.requests.shift();if(Q){this.createSocket(Q,(function(v){Q.request.onSocket(v)}))}};function createSecureSocket(v,S){var Q=this;TunnelingAgent.prototype.createSocket.call(Q,v,(function(O){var V=v.request.getHeader("host");var J=mergeOptions({},Q.options,{socket:O,servername:V?V.replace(/:.*$/,""):v.host});var Y=H.connect(0,J);Q.sockets[Q.sockets.indexOf(O)]=Y;S(Y)}))}function toOptions(v,S,Q){if(typeof v==="string"){return{host:v,port:S,localAddress:Q}}return v}function mergeOptions(v){for(var S=1,Q=arguments.length;S<Q;++S){var O=arguments[S];if(typeof O==="object"){var H=Object.keys(O);for(var V=0,J=H.length;V<J;++V){var Y=H[V];if(O[Y]!==undefined){v[Y]=O[Y]}}}}return v}var ae;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){ae=function(){var v=Array.prototype.slice.call(arguments);if(typeof v[0]==="string"){v[0]="TUNNEL: "+v[0]}else{v.unshift("TUNNEL:")}console.error.apply(console,v)}}else{ae=function(){}}S.debug=ae},1773:(v,S,Q)=>{"use strict";const O=Q(3598);const H=Q(412);const V=Q(8045);const J=Q(4634);const Y=Q(7931);const X=Q(7890);const ee=Q(3983);const{InvalidArgumentError:ae}=V;const he=Q(4059);const Ee=Q(9159);const Be=Q(8687);const ke=Q(6771);const Re=Q(6193);const Oe=Q(888);const Pe=Q(7858);const Le=Q(2286);const{getGlobalDispatcher:je,setGlobalDispatcher:qe}=Q(1892);const Ve=Q(6930);const ze=Q(2860);const $e=Q(8861);let Ye;try{Q(6113);Ye=true}catch{Ye=false}Object.assign(H.prototype,he);v.exports.Dispatcher=H;v.exports.Client=O;v.exports.Pool=J;v.exports.BalancedPool=Y;v.exports.Agent=X;v.exports.ProxyAgent=Pe;v.exports.RetryHandler=Le;v.exports.DecoratorHandler=Ve;v.exports.RedirectHandler=ze;v.exports.createRedirectInterceptor=$e;v.exports.buildConnector=Ee;v.exports.errors=V;function makeDispatcher(v){return(S,Q,O)=>{if(typeof Q==="function"){O=Q;Q=null}if(!S||typeof S!=="string"&&typeof S!=="object"&&!(S instanceof URL)){throw new ae("invalid url")}if(Q!=null&&typeof Q!=="object"){throw new ae("invalid opts")}if(Q&&Q.path!=null){if(typeof Q.path!=="string"){throw new ae("invalid opts.path")}let v=Q.path;if(!Q.path.startsWith("/")){v=`/${v}`}S=new URL(ee.parseOrigin(S).origin+v)}else{if(!Q){Q=typeof S==="object"?S:{}}S=ee.parseURL(S)}const{agent:H,dispatcher:V=je()}=Q;if(H){throw new ae("unsupported opts.agent. Did you mean opts.client?")}return v.call(V,{...Q,origin:S.origin,path:S.search?`${S.pathname}${S.search}`:S.pathname,method:Q.method||(Q.body?"PUT":"GET")},O)}}v.exports.setGlobalDispatcher=qe;v.exports.getGlobalDispatcher=je;if(ee.nodeMajor>16||ee.nodeMajor===16&&ee.nodeMinor>=8){let S=null;v.exports.fetch=async function fetch(v){if(!S){S=Q(4881).fetch}try{return await S(...arguments)}catch(v){if(typeof v==="object"){Error.captureStackTrace(v,this)}throw v}};v.exports.Headers=Q(554).Headers;v.exports.Response=Q(7823).Response;v.exports.Request=Q(8359).Request;v.exports.FormData=Q(2015).FormData;v.exports.File=Q(8511).File;v.exports.FileReader=Q(1446).FileReader;const{setGlobalOrigin:O,getGlobalOrigin:H}=Q(1246);v.exports.setGlobalOrigin=O;v.exports.getGlobalOrigin=H;const{CacheStorage:V}=Q(7907);const{kConstruct:J}=Q(9174);v.exports.caches=new V(J)}if(ee.nodeMajor>=16){const{deleteCookie:S,getCookies:O,getSetCookies:H,setCookie:V}=Q(1724);v.exports.deleteCookie=S;v.exports.getCookies=O;v.exports.getSetCookies=H;v.exports.setCookie=V;const{parseMIMEType:J,serializeAMimeType:Y}=Q(685);v.exports.parseMIMEType=J;v.exports.serializeAMimeType=Y}if(ee.nodeMajor>=18&&Ye){const{WebSocket:S}=Q(4284);v.exports.WebSocket=S}v.exports.request=makeDispatcher(he.request);v.exports.stream=makeDispatcher(he.stream);v.exports.pipeline=makeDispatcher(he.pipeline);v.exports.connect=makeDispatcher(he.connect);v.exports.upgrade=makeDispatcher(he.upgrade);v.exports.MockClient=Be;v.exports.MockPool=Re;v.exports.MockAgent=ke;v.exports.mockErrors=Oe},7890:(v,S,Q)=>{"use strict";const{InvalidArgumentError:O}=Q(8045);const{kClients:H,kRunning:V,kClose:J,kDestroy:Y,kDispatch:X,kInterceptors:ee}=Q(2785);const ae=Q(4839);const he=Q(4634);const Ee=Q(3598);const Be=Q(3983);const ke=Q(8861);const{WeakRef:Re,FinalizationRegistry:Oe}=Q(6436)();const Pe=Symbol("onConnect");const Le=Symbol("onDisconnect");const je=Symbol("onConnectionError");const qe=Symbol("maxRedirections");const Ve=Symbol("onDrain");const ze=Symbol("factory");const $e=Symbol("finalizer");const Ye=Symbol("options");function defaultFactory(v,S){return S&&S.connections===1?new Ee(v,S):new he(v,S)}class Agent extends ae{constructor({factory:v=defaultFactory,maxRedirections:S=0,connect:Q,...V}={}){super();if(typeof v!=="function"){throw new O("factory must be a function.")}if(Q!=null&&typeof Q!=="function"&&typeof Q!=="object"){throw new O("connect must be a function or an object")}if(!Number.isInteger(S)||S<0){throw new O("maxRedirections must be a positive number")}if(Q&&typeof Q!=="function"){Q={...Q}}this[ee]=V.interceptors&&V.interceptors.Agent&&Array.isArray(V.interceptors.Agent)?V.interceptors.Agent:[ke({maxRedirections:S})];this[Ye]={...Be.deepClone(V),connect:Q};this[Ye].interceptors=V.interceptors?{...V.interceptors}:undefined;this[qe]=S;this[ze]=v;this[H]=new Map;this[$e]=new Oe((v=>{const S=this[H].get(v);if(S!==undefined&&S.deref()===undefined){this[H].delete(v)}}));const J=this;this[Ve]=(v,S)=>{J.emit("drain",v,[J,...S])};this[Pe]=(v,S)=>{J.emit("connect",v,[J,...S])};this[Le]=(v,S,Q)=>{J.emit("disconnect",v,[J,...S],Q)};this[je]=(v,S,Q)=>{J.emit("connectionError",v,[J,...S],Q)}}get[V](){let v=0;for(const S of this[H].values()){const Q=S.deref();if(Q){v+=Q[V]}}return v}[X](v,S){let Q;if(v.origin&&(typeof v.origin==="string"||v.origin instanceof URL)){Q=String(v.origin)}else{throw new O("opts.origin must be a non-empty string or URL.")}const V=this[H].get(Q);let J=V?V.deref():null;if(!J){J=this[ze](v.origin,this[Ye]).on("drain",this[Ve]).on("connect",this[Pe]).on("disconnect",this[Le]).on("connectionError",this[je]);this[H].set(Q,new Re(J));this[$e].register(J,Q)}return J.dispatch(v,S)}async[J](){const v=[];for(const S of this[H].values()){const Q=S.deref();if(Q){v.push(Q.close())}}await Promise.all(v)}async[Y](v){const S=[];for(const Q of this[H].values()){const O=Q.deref();if(O){S.push(O.destroy(v))}}await Promise.all(S)}}v.exports=Agent},7032:(v,S,Q)=>{const{addAbortListener:O}=Q(3983);const{RequestAbortedError:H}=Q(8045);const V=Symbol("kListener");const J=Symbol("kSignal");function abort(v){if(v.abort){v.abort()}else{v.onError(new H)}}function addSignal(v,S){v[J]=null;v[V]=null;if(!S){return}if(S.aborted){abort(v);return}v[J]=S;v[V]=()=>{abort(v)};O(v[J],v[V])}function removeSignal(v){if(!v[J]){return}if("removeEventListener"in v[J]){v[J].removeEventListener("abort",v[V])}else{v[J].removeListener("abort",v[V])}v[J]=null;v[V]=null}v.exports={addSignal:addSignal,removeSignal:removeSignal}},9744:(v,S,Q)=>{"use strict";const{AsyncResource:O}=Q(852);const{InvalidArgumentError:H,RequestAbortedError:V,SocketError:J}=Q(8045);const Y=Q(3983);const{addSignal:X,removeSignal:ee}=Q(7032);class ConnectHandler extends O{constructor(v,S){if(!v||typeof v!=="object"){throw new H("invalid opts")}if(typeof S!=="function"){throw new H("invalid callback")}const{signal:Q,opaque:O,responseHeaders:V}=v;if(Q&&typeof Q.on!=="function"&&typeof Q.addEventListener!=="function"){throw new H("signal must be an EventEmitter or EventTarget")}super("UNDICI_CONNECT");this.opaque=O||null;this.responseHeaders=V||null;this.callback=S;this.abort=null;X(this,Q)}onConnect(v,S){if(!this.callback){throw new V}this.abort=v;this.context=S}onHeaders(){throw new J("bad connect",null)}onUpgrade(v,S,Q){const{callback:O,opaque:H,context:V}=this;ee(this);this.callback=null;let J=S;if(J!=null){J=this.responseHeaders==="raw"?Y.parseRawHeaders(S):Y.parseHeaders(S)}this.runInAsyncScope(O,null,null,{statusCode:v,headers:J,socket:Q,opaque:H,context:V})}onError(v){const{callback:S,opaque:Q}=this;ee(this);if(S){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(S,null,v,{opaque:Q})}))}}}function connect(v,S){if(S===undefined){return new Promise(((S,Q)=>{connect.call(this,v,((v,O)=>v?Q(v):S(O)))}))}try{const Q=new ConnectHandler(v,S);this.dispatch({...v,method:"CONNECT"},Q)}catch(Q){if(typeof S!=="function"){throw Q}const O=v&&v.opaque;queueMicrotask((()=>S(Q,{opaque:O})))}}v.exports=connect},8752:(v,S,Q)=>{"use strict";const{Readable:O,Duplex:H,PassThrough:V}=Q(2781);const{InvalidArgumentError:J,InvalidReturnValueError:Y,RequestAbortedError:X}=Q(8045);const ee=Q(3983);const{AsyncResource:ae}=Q(852);const{addSignal:he,removeSignal:Ee}=Q(7032);const Be=Q(9491);const ke=Symbol("resume");class PipelineRequest extends O{constructor(){super({autoDestroy:true});this[ke]=null}_read(){const{[ke]:v}=this;if(v){this[ke]=null;v()}}_destroy(v,S){this._read();S(v)}}class PipelineResponse extends O{constructor(v){super({autoDestroy:true});this[ke]=v}_read(){this[ke]()}_destroy(v,S){if(!v&&!this._readableState.endEmitted){v=new X}S(v)}}class PipelineHandler extends ae{constructor(v,S){if(!v||typeof v!=="object"){throw new J("invalid opts")}if(typeof S!=="function"){throw new J("invalid handler")}const{signal:Q,method:O,opaque:V,onInfo:Y,responseHeaders:ae}=v;if(Q&&typeof Q.on!=="function"&&typeof Q.addEventListener!=="function"){throw new J("signal must be an EventEmitter or EventTarget")}if(O==="CONNECT"){throw new J("invalid method")}if(Y&&typeof Y!=="function"){throw new J("invalid onInfo callback")}super("UNDICI_PIPELINE");this.opaque=V||null;this.responseHeaders=ae||null;this.handler=S;this.abort=null;this.context=null;this.onInfo=Y||null;this.req=(new PipelineRequest).on("error",ee.nop);this.ret=new H({readableObjectMode:v.objectMode,autoDestroy:true,read:()=>{const{body:v}=this;if(v&&v.resume){v.resume()}},write:(v,S,Q)=>{const{req:O}=this;if(O.push(v,S)||O._readableState.destroyed){Q()}else{O[ke]=Q}},destroy:(v,S)=>{const{body:Q,req:O,res:H,ret:V,abort:J}=this;if(!v&&!V._readableState.endEmitted){v=new X}if(J&&v){J()}ee.destroy(Q,v);ee.destroy(O,v);ee.destroy(H,v);Ee(this);S(v)}}).on("prefinish",(()=>{const{req:v}=this;v.push(null)}));this.res=null;he(this,Q)}onConnect(v,S){const{ret:Q,res:O}=this;Be(!O,"pipeline cannot be retried");if(Q.destroyed){throw new X}this.abort=v;this.context=S}onHeaders(v,S,Q){const{opaque:O,handler:H,context:V}=this;if(v<200){if(this.onInfo){const Q=this.responseHeaders==="raw"?ee.parseRawHeaders(S):ee.parseHeaders(S);this.onInfo({statusCode:v,headers:Q})}return}this.res=new PipelineResponse(Q);let J;try{this.handler=null;const Q=this.responseHeaders==="raw"?ee.parseRawHeaders(S):ee.parseHeaders(S);J=this.runInAsyncScope(H,null,{statusCode:v,headers:Q,opaque:O,body:this.res,context:V})}catch(v){this.res.on("error",ee.nop);throw v}if(!J||typeof J.on!=="function"){throw new Y("expected Readable")}J.on("data",(v=>{const{ret:S,body:Q}=this;if(!S.push(v)&&Q.pause){Q.pause()}})).on("error",(v=>{const{ret:S}=this;ee.destroy(S,v)})).on("end",(()=>{const{ret:v}=this;v.push(null)})).on("close",(()=>{const{ret:v}=this;if(!v._readableState.ended){ee.destroy(v,new X)}}));this.body=J}onData(v){const{res:S}=this;return S.push(v)}onComplete(v){const{res:S}=this;S.push(null)}onError(v){const{ret:S}=this;this.handler=null;ee.destroy(S,v)}}function pipeline(v,S){try{const Q=new PipelineHandler(v,S);this.dispatch({...v,body:Q.req},Q);return Q.ret}catch(v){return(new V).destroy(v)}}v.exports=pipeline},5448:(v,S,Q)=>{"use strict";const O=Q(3858);const{InvalidArgumentError:H,RequestAbortedError:V}=Q(8045);const J=Q(3983);const{getResolveErrorBodyCallback:Y}=Q(7474);const{AsyncResource:X}=Q(852);const{addSignal:ee,removeSignal:ae}=Q(7032);class RequestHandler extends X{constructor(v,S){if(!v||typeof v!=="object"){throw new H("invalid opts")}const{signal:Q,method:O,opaque:V,body:Y,onInfo:X,responseHeaders:ae,throwOnError:he,highWaterMark:Ee}=v;try{if(typeof S!=="function"){throw new H("invalid callback")}if(Ee&&(typeof Ee!=="number"||Ee<0)){throw new H("invalid highWaterMark")}if(Q&&typeof Q.on!=="function"&&typeof Q.addEventListener!=="function"){throw new H("signal must be an EventEmitter or EventTarget")}if(O==="CONNECT"){throw new H("invalid method")}if(X&&typeof X!=="function"){throw new H("invalid onInfo callback")}super("UNDICI_REQUEST")}catch(v){if(J.isStream(Y)){J.destroy(Y.on("error",J.nop),v)}throw v}this.responseHeaders=ae||null;this.opaque=V||null;this.callback=S;this.res=null;this.abort=null;this.body=Y;this.trailers={};this.context=null;this.onInfo=X||null;this.throwOnError=he;this.highWaterMark=Ee;if(J.isStream(Y)){Y.on("error",(v=>{this.onError(v)}))}ee(this,Q)}onConnect(v,S){if(!this.callback){throw new V}this.abort=v;this.context=S}onHeaders(v,S,Q,H){const{callback:V,opaque:X,abort:ee,context:ae,responseHeaders:he,highWaterMark:Ee}=this;const Be=he==="raw"?J.parseRawHeaders(S):J.parseHeaders(S);if(v<200){if(this.onInfo){this.onInfo({statusCode:v,headers:Be})}return}const ke=he==="raw"?J.parseHeaders(S):Be;const Re=ke["content-type"];const Oe=new O({resume:Q,abort:ee,contentType:Re,highWaterMark:Ee});this.callback=null;this.res=Oe;if(V!==null){if(this.throwOnError&&v>=400){this.runInAsyncScope(Y,null,{callback:V,body:Oe,contentType:Re,statusCode:v,statusMessage:H,headers:Be})}else{this.runInAsyncScope(V,null,null,{statusCode:v,headers:Be,trailers:this.trailers,opaque:X,body:Oe,context:ae})}}}onData(v){const{res:S}=this;return S.push(v)}onComplete(v){const{res:S}=this;ae(this);J.parseHeaders(v,this.trailers);S.push(null)}onError(v){const{res:S,callback:Q,body:O,opaque:H}=this;ae(this);if(Q){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(Q,null,v,{opaque:H})}))}if(S){this.res=null;queueMicrotask((()=>{J.destroy(S,v)}))}if(O){this.body=null;J.destroy(O,v)}}}function request(v,S){if(S===undefined){return new Promise(((S,Q)=>{request.call(this,v,((v,O)=>v?Q(v):S(O)))}))}try{this.dispatch(v,new RequestHandler(v,S))}catch(Q){if(typeof S!=="function"){throw Q}const O=v&&v.opaque;queueMicrotask((()=>S(Q,{opaque:O})))}}v.exports=request;v.exports.RequestHandler=RequestHandler},5395:(v,S,Q)=>{"use strict";const{finished:O,PassThrough:H}=Q(2781);const{InvalidArgumentError:V,InvalidReturnValueError:J,RequestAbortedError:Y}=Q(8045);const X=Q(3983);const{getResolveErrorBodyCallback:ee}=Q(7474);const{AsyncResource:ae}=Q(852);const{addSignal:he,removeSignal:Ee}=Q(7032);class StreamHandler extends ae{constructor(v,S,Q){if(!v||typeof v!=="object"){throw new V("invalid opts")}const{signal:O,method:H,opaque:J,body:Y,onInfo:ee,responseHeaders:ae,throwOnError:Ee}=v;try{if(typeof Q!=="function"){throw new V("invalid callback")}if(typeof S!=="function"){throw new V("invalid factory")}if(O&&typeof O.on!=="function"&&typeof O.addEventListener!=="function"){throw new V("signal must be an EventEmitter or EventTarget")}if(H==="CONNECT"){throw new V("invalid method")}if(ee&&typeof ee!=="function"){throw new V("invalid onInfo callback")}super("UNDICI_STREAM")}catch(v){if(X.isStream(Y)){X.destroy(Y.on("error",X.nop),v)}throw v}this.responseHeaders=ae||null;this.opaque=J||null;this.factory=S;this.callback=Q;this.res=null;this.abort=null;this.context=null;this.trailers=null;this.body=Y;this.onInfo=ee||null;this.throwOnError=Ee||false;if(X.isStream(Y)){Y.on("error",(v=>{this.onError(v)}))}he(this,O)}onConnect(v,S){if(!this.callback){throw new Y}this.abort=v;this.context=S}onHeaders(v,S,Q,V){const{factory:Y,opaque:ae,context:he,callback:Ee,responseHeaders:Be}=this;const ke=Be==="raw"?X.parseRawHeaders(S):X.parseHeaders(S);if(v<200){if(this.onInfo){this.onInfo({statusCode:v,headers:ke})}return}this.factory=null;let Re;if(this.throwOnError&&v>=400){const Q=Be==="raw"?X.parseHeaders(S):ke;const O=Q["content-type"];Re=new H;this.callback=null;this.runInAsyncScope(ee,null,{callback:Ee,body:Re,contentType:O,statusCode:v,statusMessage:V,headers:ke})}else{if(Y===null){return}Re=this.runInAsyncScope(Y,null,{statusCode:v,headers:ke,opaque:ae,context:he});if(!Re||typeof Re.write!=="function"||typeof Re.end!=="function"||typeof Re.on!=="function"){throw new J("expected Writable")}O(Re,{readable:false},(v=>{const{callback:S,res:Q,opaque:O,trailers:H,abort:V}=this;this.res=null;if(v||!Q.readable){X.destroy(Q,v)}this.callback=null;this.runInAsyncScope(S,null,v||null,{opaque:O,trailers:H});if(v){V()}}))}Re.on("drain",Q);this.res=Re;const Oe=Re.writableNeedDrain!==undefined?Re.writableNeedDrain:Re._writableState&&Re._writableState.needDrain;return Oe!==true}onData(v){const{res:S}=this;return S?S.write(v):true}onComplete(v){const{res:S}=this;Ee(this);if(!S){return}this.trailers=X.parseHeaders(v);S.end()}onError(v){const{res:S,callback:Q,opaque:O,body:H}=this;Ee(this);this.factory=null;if(S){this.res=null;X.destroy(S,v)}else if(Q){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(Q,null,v,{opaque:O})}))}if(H){this.body=null;X.destroy(H,v)}}}function stream(v,S,Q){if(Q===undefined){return new Promise(((Q,O)=>{stream.call(this,v,S,((v,S)=>v?O(v):Q(S)))}))}try{this.dispatch(v,new StreamHandler(v,S,Q))}catch(S){if(typeof Q!=="function"){throw S}const O=v&&v.opaque;queueMicrotask((()=>Q(S,{opaque:O})))}}v.exports=stream},6923:(v,S,Q)=>{"use strict";const{InvalidArgumentError:O,RequestAbortedError:H,SocketError:V}=Q(8045);const{AsyncResource:J}=Q(852);const Y=Q(3983);const{addSignal:X,removeSignal:ee}=Q(7032);const ae=Q(9491);class UpgradeHandler extends J{constructor(v,S){if(!v||typeof v!=="object"){throw new O("invalid opts")}if(typeof S!=="function"){throw new O("invalid callback")}const{signal:Q,opaque:H,responseHeaders:V}=v;if(Q&&typeof Q.on!=="function"&&typeof Q.addEventListener!=="function"){throw new O("signal must be an EventEmitter or EventTarget")}super("UNDICI_UPGRADE");this.responseHeaders=V||null;this.opaque=H||null;this.callback=S;this.abort=null;this.context=null;X(this,Q)}onConnect(v,S){if(!this.callback){throw new H}this.abort=v;this.context=null}onHeaders(){throw new V("bad upgrade",null)}onUpgrade(v,S,Q){const{callback:O,opaque:H,context:V}=this;ae.strictEqual(v,101);ee(this);this.callback=null;const J=this.responseHeaders==="raw"?Y.parseRawHeaders(S):Y.parseHeaders(S);this.runInAsyncScope(O,null,null,{headers:J,socket:Q,opaque:H,context:V})}onError(v){const{callback:S,opaque:Q}=this;ee(this);if(S){this.callback=null;queueMicrotask((()=>{this.runInAsyncScope(S,null,v,{opaque:Q})}))}}}function upgrade(v,S){if(S===undefined){return new Promise(((S,Q)=>{upgrade.call(this,v,((v,O)=>v?Q(v):S(O)))}))}try{const Q=new UpgradeHandler(v,S);this.dispatch({...v,method:v.method||"GET",upgrade:v.protocol||"Websocket"},Q)}catch(Q){if(typeof S!=="function"){throw Q}const O=v&&v.opaque;queueMicrotask((()=>S(Q,{opaque:O})))}}v.exports=upgrade},4059:(v,S,Q)=>{"use strict";v.exports.request=Q(5448);v.exports.stream=Q(5395);v.exports.pipeline=Q(8752);v.exports.upgrade=Q(6923);v.exports.connect=Q(9744)},3858:(v,S,Q)=>{"use strict";const O=Q(9491);const{Readable:H}=Q(2781);const{RequestAbortedError:V,NotSupportedError:J,InvalidArgumentError:Y}=Q(8045);const X=Q(3983);const{ReadableStreamFrom:ee,toUSVString:ae}=Q(3983);let he;const Ee=Symbol("kConsume");const Be=Symbol("kReading");const ke=Symbol("kBody");const Re=Symbol("abort");const Oe=Symbol("kContentType");const noop=()=>{};v.exports=class BodyReadable extends H{constructor({resume:v,abort:S,contentType:Q="",highWaterMark:O=64*1024}){super({autoDestroy:true,read:v,highWaterMark:O});this._readableState.dataEmitted=false;this[Re]=S;this[Ee]=null;this[ke]=null;this[Oe]=Q;this[Be]=false}destroy(v){if(this.destroyed){return this}if(!v&&!this._readableState.endEmitted){v=new V}if(v){this[Re]()}return super.destroy(v)}emit(v,...S){if(v==="data"){this._readableState.dataEmitted=true}else if(v==="error"){this._readableState.errorEmitted=true}return super.emit(v,...S)}on(v,...S){if(v==="data"||v==="readable"){this[Be]=true}return super.on(v,...S)}addListener(v,...S){return this.on(v,...S)}off(v,...S){const Q=super.off(v,...S);if(v==="data"||v==="readable"){this[Be]=this.listenerCount("data")>0||this.listenerCount("readable")>0}return Q}removeListener(v,...S){return this.off(v,...S)}push(v){if(this[Ee]&&v!==null&&this.readableLength===0){consumePush(this[Ee],v);return this[Be]?super.push(v):true}return super.push(v)}async text(){return consume(this,"text")}async json(){return consume(this,"json")}async blob(){return consume(this,"blob")}async arrayBuffer(){return consume(this,"arrayBuffer")}async formData(){throw new J}get bodyUsed(){return X.isDisturbed(this)}get body(){if(!this[ke]){this[ke]=ee(this);if(this[Ee]){this[ke].getReader();O(this[ke].locked)}}return this[ke]}dump(v){let S=v&&Number.isFinite(v.limit)?v.limit:262144;const Q=v&&v.signal;if(Q){try{if(typeof Q!=="object"||!("aborted"in Q)){throw new Y("signal must be an AbortSignal")}X.throwIfAborted(Q)}catch(v){return Promise.reject(v)}}if(this.closed){return Promise.resolve(null)}return new Promise(((v,O)=>{const H=Q?X.addAbortListener(Q,(()=>{this.destroy()})):noop;this.on("close",(function(){H();if(Q&&Q.aborted){O(Q.reason||Object.assign(new Error("The operation was aborted"),{name:"AbortError"}))}else{v(null)}})).on("error",noop).on("data",(function(v){S-=v.length;if(S<=0){this.destroy()}})).resume()}))}};function isLocked(v){return v[ke]&&v[ke].locked===true||v[Ee]}function isUnusable(v){return X.isDisturbed(v)||isLocked(v)}async function consume(v,S){if(isUnusable(v)){throw new TypeError("unusable")}O(!v[Ee]);return new Promise(((Q,O)=>{v[Ee]={type:S,stream:v,resolve:Q,reject:O,length:0,body:[]};v.on("error",(function(v){consumeFinish(this[Ee],v)})).on("close",(function(){if(this[Ee].body!==null){consumeFinish(this[Ee],new V)}}));process.nextTick(consumeStart,v[Ee])}))}function consumeStart(v){if(v.body===null){return}const{_readableState:S}=v.stream;for(const Q of S.buffer){consumePush(v,Q)}if(S.endEmitted){consumeEnd(this[Ee])}else{v.stream.on("end",(function(){consumeEnd(this[Ee])}))}v.stream.resume();while(v.stream.read()!=null){}}function consumeEnd(v){const{type:S,body:O,resolve:H,stream:V,length:J}=v;try{if(S==="text"){H(ae(Buffer.concat(O)))}else if(S==="json"){H(JSON.parse(Buffer.concat(O)))}else if(S==="arrayBuffer"){const v=new Uint8Array(J);let S=0;for(const Q of O){v.set(Q,S);S+=Q.byteLength}H(v.buffer)}else if(S==="blob"){if(!he){he=Q(4300).Blob}H(new he(O,{type:V[Oe]}))}consumeFinish(v)}catch(v){V.destroy(v)}}function consumePush(v,S){v.length+=S.length;v.body.push(S)}function consumeFinish(v,S){if(v.body===null){return}if(S){v.reject(S)}else{v.resolve()}v.type=null;v.stream=null;v.resolve=null;v.reject=null;v.length=0;v.body=null}},7474:(v,S,Q)=>{const O=Q(9491);const{ResponseStatusCodeError:H}=Q(8045);const{toUSVString:V}=Q(3983);async function getResolveErrorBodyCallback({callback:v,body:S,contentType:Q,statusCode:J,statusMessage:Y,headers:X}){O(S);let ee=[];let ae=0;for await(const v of S){ee.push(v);ae+=v.length;if(ae>128*1024){ee=null;break}}if(J===204||!Q||!ee){process.nextTick(v,new H(`Response status code ${J}${Y?`: ${Y}`:""}`,J,X));return}try{if(Q.startsWith("application/json")){const S=JSON.parse(V(Buffer.concat(ee)));process.nextTick(v,new H(`Response status code ${J}${Y?`: ${Y}`:""}`,J,X,S));return}if(Q.startsWith("text/")){const S=V(Buffer.concat(ee));process.nextTick(v,new H(`Response status code ${J}${Y?`: ${Y}`:""}`,J,X,S));return}}catch(v){}process.nextTick(v,new H(`Response status code ${J}${Y?`: ${Y}`:""}`,J,X))}v.exports={getResolveErrorBodyCallback:getResolveErrorBodyCallback}},7931:(v,S,Q)=>{"use strict";const{BalancedPoolMissingUpstreamError:O,InvalidArgumentError:H}=Q(8045);const{PoolBase:V,kClients:J,kNeedDrain:Y,kAddClient:X,kRemoveClient:ee,kGetDispatcher:ae}=Q(3198);const he=Q(4634);const{kUrl:Ee,kInterceptors:Be}=Q(2785);const{parseOrigin:ke}=Q(3983);const Re=Symbol("factory");const Oe=Symbol("options");const Pe=Symbol("kGreatestCommonDivisor");const Le=Symbol("kCurrentWeight");const je=Symbol("kIndex");const qe=Symbol("kWeight");const Ve=Symbol("kMaxWeightPerServer");const ze=Symbol("kErrorPenalty");function getGreatestCommonDivisor(v,S){if(S===0)return v;return getGreatestCommonDivisor(S,v%S)}function defaultFactory(v,S){return new he(v,S)}class BalancedPool extends V{constructor(v=[],{factory:S=defaultFactory,...Q}={}){super();this[Oe]=Q;this[je]=-1;this[Le]=0;this[Ve]=this[Oe].maxWeightPerServer||100;this[ze]=this[Oe].errorPenalty||15;if(!Array.isArray(v)){v=[v]}if(typeof S!=="function"){throw new H("factory must be a function.")}this[Be]=Q.interceptors&&Q.interceptors.BalancedPool&&Array.isArray(Q.interceptors.BalancedPool)?Q.interceptors.BalancedPool:[];this[Re]=S;for(const S of v){this.addUpstream(S)}this._updateBalancedPoolStats()}addUpstream(v){const S=ke(v).origin;if(this[J].find((v=>v[Ee].origin===S&&v.closed!==true&&v.destroyed!==true))){return this}const Q=this[Re](S,Object.assign({},this[Oe]));this[X](Q);Q.on("connect",(()=>{Q[qe]=Math.min(this[Ve],Q[qe]+this[ze])}));Q.on("connectionError",(()=>{Q[qe]=Math.max(1,Q[qe]-this[ze]);this._updateBalancedPoolStats()}));Q.on("disconnect",((...v)=>{const S=v[2];if(S&&S.code==="UND_ERR_SOCKET"){Q[qe]=Math.max(1,Q[qe]-this[ze]);this._updateBalancedPoolStats()}}));for(const v of this[J]){v[qe]=this[Ve]}this._updateBalancedPoolStats();return this}_updateBalancedPoolStats(){this[Pe]=this[J].map((v=>v[qe])).reduce(getGreatestCommonDivisor,0)}removeUpstream(v){const S=ke(v).origin;const Q=this[J].find((v=>v[Ee].origin===S&&v.closed!==true&&v.destroyed!==true));if(Q){this[ee](Q)}return this}get upstreams(){return this[J].filter((v=>v.closed!==true&&v.destroyed!==true)).map((v=>v[Ee].origin))}[ae](){if(this[J].length===0){throw new O}const v=this[J].find((v=>!v[Y]&&v.closed!==true&&v.destroyed!==true));if(!v){return}const S=this[J].map((v=>v[Y])).reduce(((v,S)=>v&&S),true);if(S){return}let Q=0;let H=this[J].findIndex((v=>!v[Y]));while(Q++<this[J].length){this[je]=(this[je]+1)%this[J].length;const v=this[J][this[je]];if(v[qe]>this[J][H][qe]&&!v[Y]){H=this[je]}if(this[je]===0){this[Le]=this[Le]-this[Pe];if(this[Le]<=0){this[Le]=this[Ve]}}if(v[qe]>=this[Le]&&!v[Y]){return v}}this[Le]=this[J][H][qe];this[je]=H;return this[J][H]}}v.exports=BalancedPool},6101:(v,S,Q)=>{"use strict";const{kConstruct:O}=Q(9174);const{urlEquals:H,fieldValues:V}=Q(2396);const{kEnumerableProperty:J,isDisturbed:Y}=Q(3983);const{kHeadersList:X}=Q(2785);const{webidl:ee}=Q(1744);const{Response:ae,cloneResponse:he}=Q(7823);const{Request:Ee}=Q(8359);const{kState:Be,kHeaders:ke,kGuard:Re,kRealm:Oe}=Q(5861);const{fetching:Pe}=Q(4881);const{urlIsHttpHttpsScheme:Le,createDeferredPromise:je,readAllBytes:qe}=Q(2538);const Ve=Q(9491);const{getGlobalDispatcher:ze}=Q(1892);class Cache{#e;constructor(){if(arguments[0]!==O){ee.illegalConstructor()}this.#e=arguments[1]}async match(v,S={}){ee.brandCheck(this,Cache);ee.argumentLengthCheck(arguments,1,{header:"Cache.match"});v=ee.converters.RequestInfo(v);S=ee.converters.CacheQueryOptions(S);const Q=await this.matchAll(v,S);if(Q.length===0){return}return Q[0]}async matchAll(v=undefined,S={}){ee.brandCheck(this,Cache);if(v!==undefined)v=ee.converters.RequestInfo(v);S=ee.converters.CacheQueryOptions(S);let Q=null;if(v!==undefined){if(v instanceof Ee){Q=v[Be];if(Q.method!=="GET"&&!S.ignoreMethod){return[]}}else if(typeof v==="string"){Q=new Ee(v)[Be]}}const O=[];if(v===undefined){for(const v of this.#e){O.push(v[1])}}else{const v=this.#t(Q,S);for(const S of v){O.push(S[1])}}const H=[];for(const v of O){const S=new ae(v.body?.source??null);const Q=S[Be].body;S[Be]=v;S[Be].body=Q;S[ke][X]=v.headersList;S[ke][Re]="immutable";H.push(S)}return Object.freeze(H)}async add(v){ee.brandCheck(this,Cache);ee.argumentLengthCheck(arguments,1,{header:"Cache.add"});v=ee.converters.RequestInfo(v);const S=[v];const Q=this.addAll(S);return await Q}async addAll(v){ee.brandCheck(this,Cache);ee.argumentLengthCheck(arguments,1,{header:"Cache.addAll"});v=ee.converters["sequence<RequestInfo>"](v);const S=[];const Q=[];for(const S of v){if(typeof S==="string"){continue}const v=S[Be];if(!Le(v.url)||v.method!=="GET"){throw ee.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}}const O=[];for(const H of v){const v=new Ee(H)[Be];if(!Le(v.url)){throw ee.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."})}v.initiator="fetch";v.destination="subresource";Q.push(v);const J=je();O.push(Pe({request:v,dispatcher:ze(),processResponse(v){if(v.type==="error"||v.status===206||v.status<200||v.status>299){J.reject(ee.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}))}else if(v.headersList.contains("vary")){const S=V(v.headersList.get("vary"));for(const v of S){if(v==="*"){J.reject(ee.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(const v of O){v.abort()}return}}}},processResponseEndOfBody(v){if(v.aborted){J.reject(new DOMException("aborted","AbortError"));return}J.resolve(v)}}));S.push(J.promise)}const H=Promise.all(S);const J=await H;const Y=[];let X=0;for(const v of J){const S={type:"put",request:Q[X],response:v};Y.push(S);X++}const ae=je();let he=null;try{this.#n(Y)}catch(v){he=v}queueMicrotask((()=>{if(he===null){ae.resolve(undefined)}else{ae.reject(he)}}));return ae.promise}async put(v,S){ee.brandCheck(this,Cache);ee.argumentLengthCheck(arguments,2,{header:"Cache.put"});v=ee.converters.RequestInfo(v);S=ee.converters.Response(S);let Q=null;if(v instanceof Ee){Q=v[Be]}else{Q=new Ee(v)[Be]}if(!Le(Q.url)||Q.method!=="GET"){throw ee.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"})}const O=S[Be];if(O.status===206){throw ee.errors.exception({header:"Cache.put",message:"Got 206 status"})}if(O.headersList.contains("vary")){const v=V(O.headersList.get("vary"));for(const S of v){if(S==="*"){throw ee.errors.exception({header:"Cache.put",message:"Got * vary field value"})}}}if(O.body&&(Y(O.body.stream)||O.body.stream.locked)){throw ee.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"})}const H=he(O);const J=je();if(O.body!=null){const v=O.body.stream;const S=v.getReader();qe(S).then(J.resolve,J.reject)}else{J.resolve(undefined)}const X=[];const ae={type:"put",request:Q,response:H};X.push(ae);const ke=await J.promise;if(H.body!=null){H.body.source=ke}const Re=je();let Oe=null;try{this.#n(X)}catch(v){Oe=v}queueMicrotask((()=>{if(Oe===null){Re.resolve()}else{Re.reject(Oe)}}));return Re.promise}async delete(v,S={}){ee.brandCheck(this,Cache);ee.argumentLengthCheck(arguments,1,{header:"Cache.delete"});v=ee.converters.RequestInfo(v);S=ee.converters.CacheQueryOptions(S);let Q=null;if(v instanceof Ee){Q=v[Be];if(Q.method!=="GET"&&!S.ignoreMethod){return false}}else{Ve(typeof v==="string");Q=new Ee(v)[Be]}const O=[];const H={type:"delete",request:Q,options:S};O.push(H);const V=je();let J=null;let Y;try{Y=this.#n(O)}catch(v){J=v}queueMicrotask((()=>{if(J===null){V.resolve(!!Y?.length)}else{V.reject(J)}}));return V.promise}async keys(v=undefined,S={}){ee.brandCheck(this,Cache);if(v!==undefined)v=ee.converters.RequestInfo(v);S=ee.converters.CacheQueryOptions(S);let Q=null;if(v!==undefined){if(v instanceof Ee){Q=v[Be];if(Q.method!=="GET"&&!S.ignoreMethod){return[]}}else if(typeof v==="string"){Q=new Ee(v)[Be]}}const O=je();const H=[];if(v===undefined){for(const v of this.#e){H.push(v[0])}}else{const v=this.#t(Q,S);for(const S of v){H.push(S[0])}}queueMicrotask((()=>{const v=[];for(const S of H){const Q=new Ee("https://a");Q[Be]=S;Q[ke][X]=S.headersList;Q[ke][Re]="immutable";Q[Oe]=S.client;v.push(Q)}O.resolve(Object.freeze(v))}));return O.promise}#n(v){const S=this.#e;const Q=[...S];const O=[];const H=[];try{for(const Q of v){if(Q.type!=="delete"&&Q.type!=="put"){throw ee.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'})}if(Q.type==="delete"&&Q.response!=null){throw ee.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"})}if(this.#t(Q.request,Q.options,O).length){throw new DOMException("???","InvalidStateError")}let v;if(Q.type==="delete"){v=this.#t(Q.request,Q.options);if(v.length===0){return[]}for(const Q of v){const v=S.indexOf(Q);Ve(v!==-1);S.splice(v,1)}}else if(Q.type==="put"){if(Q.response==null){throw ee.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"})}const H=Q.request;if(!Le(H.url)){throw ee.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"})}if(H.method!=="GET"){throw ee.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"})}if(Q.options!=null){throw ee.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"})}v=this.#t(Q.request);for(const Q of v){const v=S.indexOf(Q);Ve(v!==-1);S.splice(v,1)}S.push([Q.request,Q.response]);O.push([Q.request,Q.response])}H.push([Q.request,Q.response])}return H}catch(v){this.#e.length=0;this.#e=Q;throw v}}#t(v,S,Q){const O=[];const H=Q??this.#e;for(const Q of H){const[H,V]=Q;if(this.#r(v,H,V,S)){O.push(Q)}}return O}#r(v,S,Q=null,O){const J=new URL(v.url);const Y=new URL(S.url);if(O?.ignoreSearch){Y.search="";J.search=""}if(!H(J,Y,true)){return false}if(Q==null||O?.ignoreVary||!Q.headersList.contains("vary")){return true}const X=V(Q.headersList.get("vary"));for(const Q of X){if(Q==="*"){return false}const O=S.headersList.get(Q);const H=v.headersList.get(Q);if(O!==H){return false}}return true}}Object.defineProperties(Cache.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:true},match:J,matchAll:J,add:J,addAll:J,put:J,delete:J,keys:J});const $e=[{key:"ignoreSearch",converter:ee.converters.boolean,defaultValue:false},{key:"ignoreMethod",converter:ee.converters.boolean,defaultValue:false},{key:"ignoreVary",converter:ee.converters.boolean,defaultValue:false}];ee.converters.CacheQueryOptions=ee.dictionaryConverter($e);ee.converters.MultiCacheQueryOptions=ee.dictionaryConverter([...$e,{key:"cacheName",converter:ee.converters.DOMString}]);ee.converters.Response=ee.interfaceConverter(ae);ee.converters["sequence<RequestInfo>"]=ee.sequenceConverter(ee.converters.RequestInfo);v.exports={Cache:Cache}},7907:(v,S,Q)=>{"use strict";const{kConstruct:O}=Q(9174);const{Cache:H}=Q(6101);const{webidl:V}=Q(1744);const{kEnumerableProperty:J}=Q(3983);class CacheStorage{#i=new Map;constructor(){if(arguments[0]!==O){V.illegalConstructor()}}async match(v,S={}){V.brandCheck(this,CacheStorage);V.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"});v=V.converters.RequestInfo(v);S=V.converters.MultiCacheQueryOptions(S);if(S.cacheName!=null){if(this.#i.has(S.cacheName)){const Q=this.#i.get(S.cacheName);const V=new H(O,Q);return await V.match(v,S)}}else{for(const Q of this.#i.values()){const V=new H(O,Q);const J=await V.match(v,S);if(J!==undefined){return J}}}}async has(v){V.brandCheck(this,CacheStorage);V.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"});v=V.converters.DOMString(v);return this.#i.has(v)}async open(v){V.brandCheck(this,CacheStorage);V.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"});v=V.converters.DOMString(v);if(this.#i.has(v)){const S=this.#i.get(v);return new H(O,S)}const S=[];this.#i.set(v,S);return new H(O,S)}async delete(v){V.brandCheck(this,CacheStorage);V.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"});v=V.converters.DOMString(v);return this.#i.delete(v)}async keys(){V.brandCheck(this,CacheStorage);const v=this.#i.keys();return[...v]}}Object.defineProperties(CacheStorage.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:true},match:J,has:J,open:J,delete:J,keys:J});v.exports={CacheStorage:CacheStorage}},9174:(v,S,Q)=>{"use strict";v.exports={kConstruct:Q(2785).kConstruct}},2396:(v,S,Q)=>{"use strict";const O=Q(9491);const{URLSerializer:H}=Q(685);const{isValidHeaderName:V}=Q(2538);function urlEquals(v,S,Q=false){const O=H(v,Q);const V=H(S,Q);return O===V}function fieldValues(v){O(v!==null);const S=[];for(let Q of v.split(",")){Q=Q.trim();if(!Q.length){continue}else if(!V(Q)){continue}S.push(Q)}return S}v.exports={urlEquals:urlEquals,fieldValues:fieldValues}},3598:(v,S,Q)=>{"use strict";const O=Q(9491);const H=Q(1808);const V=Q(3685);const{pipeline:J}=Q(2781);const Y=Q(3983);const X=Q(9459);const ee=Q(2905);const ae=Q(4839);const{RequestContentLengthMismatchError:he,ResponseContentLengthMismatchError:Ee,InvalidArgumentError:Be,RequestAbortedError:ke,HeadersTimeoutError:Re,HeadersOverflowError:Oe,SocketError:Pe,InformationalError:Le,BodyTimeoutError:je,HTTPParserError:qe,ResponseExceededMaxSizeError:Ve,ClientDestroyedError:ze}=Q(8045);const $e=Q(9159);const{kUrl:Ye,kReset:et,kServerName:tt,kClient:nt,kBusy:it,kParser:st,kConnect:at,kBlocking:lt,kResuming:ct,kRunning:ut,kPending:dt,kSize:ht,kWriting:At,kQueue:pt,kConnected:mt,kConnecting:Ct,kNeedDrain:_t,kNoRef:yt,kKeepAliveDefaultTimeout:vt,kHostHeader:It,kPendingIdx:xt,kRunningIdx:Tt,kError:Rt,kPipelining:Nt,kSocket:Mt,kKeepAliveTimeoutValue:jt,kMaxHeadersSize:Jt,kKeepAliveMaxTimeout:sn,kKeepAliveTimeoutThreshold:ln,kHeadersTimeout:cn,kBodyTimeout:dn,kStrictContentLength:An,kConnector:gn,kMaxRedirections:En,kMaxRequests:wn,kCounter:Cn,kClose:_n,kDestroy:yn,kDispatch:In,kInterceptors:Sn,kLocalAddress:Bn,kMaxResponseSize:kn,kHTTPConnVersion:Qn,kHost:Tn,kHTTP2Session:Rn,kHTTP2SessionState:Dn,kHTTP2BuildRequest:On,kHTTP2CopyHeaders:Fn,kHTTP1BuildRequest:Pn}=Q(2785);let Nn;try{Nn=Q(5158)}catch{Nn={constants:{}}}const{constants:{HTTP2_HEADER_AUTHORITY:Mn,HTTP2_HEADER_METHOD:Ln,HTTP2_HEADER_PATH:Hn,HTTP2_HEADER_SCHEME:Un,HTTP2_HEADER_CONTENT_LENGTH:jn,HTTP2_HEADER_EXPECT:Wn,HTTP2_HEADER_STATUS:Vn}}=Nn;let Gn=false;const zn=Buffer[Symbol.species];const Jn=Symbol("kClosedResolve");const $n={};try{const v=Q(7643);$n.sendHeaders=v.channel("undici:client:sendHeaders");$n.beforeConnect=v.channel("undici:client:beforeConnect");$n.connectError=v.channel("undici:client:connectError");$n.connected=v.channel("undici:client:connected")}catch{$n.sendHeaders={hasSubscribers:false};$n.beforeConnect={hasSubscribers:false};$n.connectError={hasSubscribers:false};$n.connected={hasSubscribers:false}}class Client extends ae{constructor(v,{interceptors:S,maxHeaderSize:Q,headersTimeout:O,socketTimeout:J,requestTimeout:X,connectTimeout:ee,bodyTimeout:ae,idleTimeout:he,keepAlive:Ee,keepAliveTimeout:ke,maxKeepAliveTimeout:Re,keepAliveMaxTimeout:Oe,keepAliveTimeoutThreshold:Pe,socketPath:Le,pipelining:je,tls:qe,strictContentLength:Ve,maxCachedSessions:ze,maxRedirections:et,connect:nt,maxRequestsPerClient:it,localAddress:st,maxResponseSize:at,autoSelectFamily:lt,autoSelectFamilyAttemptTimeout:ut,allowH2:dt,maxConcurrentStreams:ht}={}){super();if(Ee!==undefined){throw new Be("unsupported keepAlive, use pipelining=0 instead")}if(J!==undefined){throw new Be("unsupported socketTimeout, use headersTimeout & bodyTimeout instead")}if(X!==undefined){throw new Be("unsupported requestTimeout, use headersTimeout & bodyTimeout instead")}if(he!==undefined){throw new Be("unsupported idleTimeout, use keepAliveTimeout instead")}if(Re!==undefined){throw new Be("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead")}if(Q!=null&&!Number.isFinite(Q)){throw new Be("invalid maxHeaderSize")}if(Le!=null&&typeof Le!=="string"){throw new Be("invalid socketPath")}if(ee!=null&&(!Number.isFinite(ee)||ee<0)){throw new Be("invalid connectTimeout")}if(ke!=null&&(!Number.isFinite(ke)||ke<=0)){throw new Be("invalid keepAliveTimeout")}if(Oe!=null&&(!Number.isFinite(Oe)||Oe<=0)){throw new Be("invalid keepAliveMaxTimeout")}if(Pe!=null&&!Number.isFinite(Pe)){throw new Be("invalid keepAliveTimeoutThreshold")}if(O!=null&&(!Number.isInteger(O)||O<0)){throw new Be("headersTimeout must be a positive integer or zero")}if(ae!=null&&(!Number.isInteger(ae)||ae<0)){throw new Be("bodyTimeout must be a positive integer or zero")}if(nt!=null&&typeof nt!=="function"&&typeof nt!=="object"){throw new Be("connect must be a function or an object")}if(et!=null&&(!Number.isInteger(et)||et<0)){throw new Be("maxRedirections must be a positive number")}if(it!=null&&(!Number.isInteger(it)||it<0)){throw new Be("maxRequestsPerClient must be a positive number")}if(st!=null&&(typeof st!=="string"||H.isIP(st)===0)){throw new Be("localAddress must be valid string IP address")}if(at!=null&&(!Number.isInteger(at)||at<-1)){throw new Be("maxResponseSize must be a positive number")}if(ut!=null&&(!Number.isInteger(ut)||ut<-1)){throw new Be("autoSelectFamilyAttemptTimeout must be a positive number")}if(dt!=null&&typeof dt!=="boolean"){throw new Be("allowH2 must be a valid boolean value")}if(ht!=null&&(typeof ht!=="number"||ht<1)){throw new Be("maxConcurrentStreams must be a possitive integer, greater than 0")}if(typeof nt!=="function"){nt=$e({...qe,maxCachedSessions:ze,allowH2:dt,socketPath:Le,timeout:ee,...Y.nodeHasAutoSelectFamily&&lt?{autoSelectFamily:lt,autoSelectFamilyAttemptTimeout:ut}:undefined,...nt})}this[Sn]=S&&S.Client&&Array.isArray(S.Client)?S.Client:[Kn({maxRedirections:et})];this[Ye]=Y.parseOrigin(v);this[gn]=nt;this[Mt]=null;this[Nt]=je!=null?je:1;this[Jt]=Q||V.maxHeaderSize;this[vt]=ke==null?4e3:ke;this[sn]=Oe==null?6e5:Oe;this[ln]=Pe==null?1e3:Pe;this[jt]=this[vt];this[tt]=null;this[Bn]=st!=null?st:null;this[ct]=0;this[_t]=0;this[It]=`host: ${this[Ye].hostname}${this[Ye].port?`:${this[Ye].port}`:""}\r\n`;this[dn]=ae!=null?ae:3e5;this[cn]=O!=null?O:3e5;this[An]=Ve==null?true:Ve;this[En]=et;this[wn]=it;this[Jn]=null;this[kn]=at>-1?at:-1;this[Qn]="h1";this[Rn]=null;this[Dn]=!dt?null:{openStreams:0,maxConcurrentStreams:ht!=null?ht:100};this[Tn]=`${this[Ye].hostname}${this[Ye].port?`:${this[Ye].port}`:""}`;this[pt]=[];this[Tt]=0;this[xt]=0}get pipelining(){return this[Nt]}set pipelining(v){this[Nt]=v;resume(this,true)}get[dt](){return this[pt].length-this[xt]}get[ut](){return this[xt]-this[Tt]}get[ht](){return this[pt].length-this[Tt]}get[mt](){return!!this[Mt]&&!this[Ct]&&!this[Mt].destroyed}get[it](){const v=this[Mt];return v&&(v[et]||v[At]||v[lt])||this[ht]>=(this[Nt]||1)||this[dt]>0}[at](v){connect(this);this.once("connect",v)}[In](v,S){const Q=v.origin||this[Ye].origin;const O=this[Qn]==="h2"?ee[On](Q,v,S):ee[Pn](Q,v,S);this[pt].push(O);if(this[ct]){}else if(Y.bodyLength(O.body)==null&&Y.isIterable(O.body)){this[ct]=1;process.nextTick(resume,this)}else{resume(this,true)}if(this[ct]&&this[_t]!==2&&this[it]){this[_t]=2}return this[_t]<2}async[_n](){return new Promise((v=>{if(!this[ht]){v(null)}else{this[Jn]=v}}))}async[yn](v){return new Promise((S=>{const Q=this[pt].splice(this[xt]);for(let S=0;S<Q.length;S++){const O=Q[S];errorRequest(this,O,v)}const callback=()=>{if(this[Jn]){this[Jn]();this[Jn]=null}S()};if(this[Rn]!=null){Y.destroy(this[Rn],v);this[Rn]=null;this[Dn]=null}if(!this[Mt]){queueMicrotask(callback)}else{Y.destroy(this[Mt].on("close",callback),v)}resume(this)}))}}function onHttp2SessionError(v){O(v.code!=="ERR_TLS_CERT_ALTNAME_INVALID");this[Mt][Rt]=v;onError(this[nt],v)}function onHttp2FrameError(v,S,Q){const O=new Le(`HTTP/2: "frameError" received - type ${v}, code ${S}`);if(Q===0){this[Mt][Rt]=O;onError(this[nt],O)}}function onHttp2SessionEnd(){Y.destroy(this,new Pe("other side closed"));Y.destroy(this[Mt],new Pe("other side closed"))}function onHTTP2GoAway(v){const S=this[nt];const Q=new Le(`HTTP/2: "GOAWAY" frame received with code ${v}`);S[Mt]=null;S[Rn]=null;if(S.destroyed){O(this[dt]===0);const v=S[pt].splice(S[Tt]);for(let S=0;S<v.length;S++){const O=v[S];errorRequest(this,O,Q)}}else if(S[ut]>0){const v=S[pt][S[Tt]];S[pt][S[Tt]++]=null;errorRequest(S,v,Q)}S[xt]=S[Tt];O(S[ut]===0);S.emit("disconnect",S[Ye],[S],Q);resume(S)}const Yn=Q(953);const Kn=Q(8861);const Xn=Buffer.alloc(0);async function lazyllhttp(){const v=process.env.JEST_WORKER_ID?Q(5253):undefined;let S;try{S=await WebAssembly.compile(Buffer.from(Q(5627),"base64"))}catch(O){S=await WebAssembly.compile(Buffer.from(v||Q(5253),"base64"))}return await WebAssembly.instantiate(S,{env:{wasm_on_url:(v,S,Q)=>0,wasm_on_status:(v,S,Q)=>{O.strictEqual(tr.ptr,v);const H=S-cr+nr.byteOffset;return tr.onStatus(new zn(nr.buffer,H,Q))||0},wasm_on_message_begin:v=>{O.strictEqual(tr.ptr,v);return tr.onMessageBegin()||0},wasm_on_header_field:(v,S,Q)=>{O.strictEqual(tr.ptr,v);const H=S-cr+nr.byteOffset;return tr.onHeaderField(new zn(nr.buffer,H,Q))||0},wasm_on_header_value:(v,S,Q)=>{O.strictEqual(tr.ptr,v);const H=S-cr+nr.byteOffset;return tr.onHeaderValue(new zn(nr.buffer,H,Q))||0},wasm_on_headers_complete:(v,S,Q,H)=>{O.strictEqual(tr.ptr,v);return tr.onHeadersComplete(S,Boolean(Q),Boolean(H))||0},wasm_on_body:(v,S,Q)=>{O.strictEqual(tr.ptr,v);const H=S-cr+nr.byteOffset;return tr.onBody(new zn(nr.buffer,H,Q))||0},wasm_on_message_complete:v=>{O.strictEqual(tr.ptr,v);return tr.onMessageComplete()||0}}})}let Zn=null;let er=lazyllhttp();er.catch();let tr=null;let nr=null;let rr=0;let cr=null;const ur=1;const dr=2;const hr=3;class Parser{constructor(v,S,{exports:Q}){O(Number.isFinite(v[Jt])&&v[Jt]>0);this.llhttp=Q;this.ptr=this.llhttp.llhttp_alloc(Yn.TYPE.RESPONSE);this.client=v;this.socket=S;this.timeout=null;this.timeoutValue=null;this.timeoutType=null;this.statusCode=null;this.statusText="";this.upgrade=false;this.headers=[];this.headersSize=0;this.headersMaxSize=v[Jt];this.shouldKeepAlive=false;this.paused=false;this.resume=this.resume.bind(this);this.bytesRead=0;this.keepAlive="";this.contentLength="";this.connection="";this.maxResponseSize=v[kn]}setTimeout(v,S){this.timeoutType=S;if(v!==this.timeoutValue){X.clearTimeout(this.timeout);if(v){this.timeout=X.setTimeout(onParserTimeout,v,this);if(this.timeout.unref){this.timeout.unref()}}else{this.timeout=null}this.timeoutValue=v}else if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}}resume(){if(this.socket.destroyed||!this.paused){return}O(this.ptr!=null);O(tr==null);this.llhttp.llhttp_resume(this.ptr);O(this.timeoutType===dr);if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}this.paused=false;this.execute(this.socket.read()||Xn);this.readMore()}readMore(){while(!this.paused&&this.ptr){const v=this.socket.read();if(v===null){break}this.execute(v)}}execute(v){O(this.ptr!=null);O(tr==null);O(!this.paused);const{socket:S,llhttp:Q}=this;if(v.length>rr){if(cr){Q.free(cr)}rr=Math.ceil(v.length/4096)*4096;cr=Q.malloc(rr)}new Uint8Array(Q.memory.buffer,cr,rr).set(v);try{let O;try{nr=v;tr=this;O=Q.llhttp_execute(this.ptr,cr,v.length)}catch(v){throw v}finally{tr=null;nr=null}const H=Q.llhttp_get_error_pos(this.ptr)-cr;if(O===Yn.ERROR.PAUSED_UPGRADE){this.onUpgrade(v.slice(H))}else if(O===Yn.ERROR.PAUSED){this.paused=true;S.unshift(v.slice(H))}else if(O!==Yn.ERROR.OK){const S=Q.llhttp_get_error_reason(this.ptr);let V="";if(S){const v=new Uint8Array(Q.memory.buffer,S).indexOf(0);V="Response does not match the HTTP/1.1 protocol ("+Buffer.from(Q.memory.buffer,S,v).toString()+")"}throw new qe(V,Yn.ERROR[O],v.slice(H))}}catch(v){Y.destroy(S,v)}}destroy(){O(this.ptr!=null);O(tr==null);this.llhttp.llhttp_free(this.ptr);this.ptr=null;X.clearTimeout(this.timeout);this.timeout=null;this.timeoutValue=null;this.timeoutType=null;this.paused=false}onStatus(v){this.statusText=v.toString()}onMessageBegin(){const{socket:v,client:S}=this;if(v.destroyed){return-1}const Q=S[pt][S[Tt]];if(!Q){return-1}}onHeaderField(v){const S=this.headers.length;if((S&1)===0){this.headers.push(v)}else{this.headers[S-1]=Buffer.concat([this.headers[S-1],v])}this.trackHeader(v.length)}onHeaderValue(v){let S=this.headers.length;if((S&1)===1){this.headers.push(v);S+=1}else{this.headers[S-1]=Buffer.concat([this.headers[S-1],v])}const Q=this.headers[S-2];if(Q.length===10&&Q.toString().toLowerCase()==="keep-alive"){this.keepAlive+=v.toString()}else if(Q.length===10&&Q.toString().toLowerCase()==="connection"){this.connection+=v.toString()}else if(Q.length===14&&Q.toString().toLowerCase()==="content-length"){this.contentLength+=v.toString()}this.trackHeader(v.length)}trackHeader(v){this.headersSize+=v;if(this.headersSize>=this.headersMaxSize){Y.destroy(this.socket,new Oe)}}onUpgrade(v){const{upgrade:S,client:Q,socket:H,headers:V,statusCode:J}=this;O(S);const X=Q[pt][Q[Tt]];O(X);O(!H.destroyed);O(H===Q[Mt]);O(!this.paused);O(X.upgrade||X.method==="CONNECT");this.statusCode=null;this.statusText="";this.shouldKeepAlive=null;O(this.headers.length%2===0);this.headers=[];this.headersSize=0;H.unshift(v);H[st].destroy();H[st]=null;H[nt]=null;H[Rt]=null;H.removeListener("error",onSocketError).removeListener("readable",onSocketReadable).removeListener("end",onSocketEnd).removeListener("close",onSocketClose);Q[Mt]=null;Q[pt][Q[Tt]++]=null;Q.emit("disconnect",Q[Ye],[Q],new Le("upgrade"));try{X.onUpgrade(J,V,H)}catch(v){Y.destroy(H,v)}resume(Q)}onHeadersComplete(v,S,Q){const{client:H,socket:V,headers:J,statusText:X}=this;if(V.destroyed){return-1}const ee=H[pt][H[Tt]];if(!ee){return-1}O(!this.upgrade);O(this.statusCode<200);if(v===100){Y.destroy(V,new Pe("bad response",Y.getSocketInfo(V)));return-1}if(S&&!ee.upgrade){Y.destroy(V,new Pe("bad upgrade",Y.getSocketInfo(V)));return-1}O.strictEqual(this.timeoutType,ur);this.statusCode=v;this.shouldKeepAlive=Q||ee.method==="HEAD"&&!V[et]&&this.connection.toLowerCase()==="keep-alive";if(this.statusCode>=200){const v=ee.bodyTimeout!=null?ee.bodyTimeout:H[dn];this.setTimeout(v,dr)}else if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}if(ee.method==="CONNECT"){O(H[ut]===1);this.upgrade=true;return 2}if(S){O(H[ut]===1);this.upgrade=true;return 2}O(this.headers.length%2===0);this.headers=[];this.headersSize=0;if(this.shouldKeepAlive&&H[Nt]){const v=this.keepAlive?Y.parseKeepAliveTimeout(this.keepAlive):null;if(v!=null){const S=Math.min(v-H[ln],H[sn]);if(S<=0){V[et]=true}else{H[jt]=S}}else{H[jt]=H[vt]}}else{V[et]=true}const ae=ee.onHeaders(v,J,this.resume,X)===false;if(ee.aborted){return-1}if(ee.method==="HEAD"){return 1}if(v<200){return 1}if(V[lt]){V[lt]=false;resume(H)}return ae?Yn.ERROR.PAUSED:0}onBody(v){const{client:S,socket:Q,statusCode:H,maxResponseSize:V}=this;if(Q.destroyed){return-1}const J=S[pt][S[Tt]];O(J);O.strictEqual(this.timeoutType,dr);if(this.timeout){if(this.timeout.refresh){this.timeout.refresh()}}O(H>=200);if(V>-1&&this.bytesRead+v.length>V){Y.destroy(Q,new Ve);return-1}this.bytesRead+=v.length;if(J.onData(v)===false){return Yn.ERROR.PAUSED}}onMessageComplete(){const{client:v,socket:S,statusCode:Q,upgrade:H,headers:V,contentLength:J,bytesRead:X,shouldKeepAlive:ee}=this;if(S.destroyed&&(!Q||ee)){return-1}if(H){return}const ae=v[pt][v[Tt]];O(ae);O(Q>=100);this.statusCode=null;this.statusText="";this.bytesRead=0;this.contentLength="";this.keepAlive="";this.connection="";O(this.headers.length%2===0);this.headers=[];this.headersSize=0;if(Q<200){return}if(ae.method!=="HEAD"&&J&&X!==parseInt(J,10)){Y.destroy(S,new Ee);return-1}ae.onComplete(V);v[pt][v[Tt]++]=null;if(S[At]){O.strictEqual(v[ut],0);Y.destroy(S,new Le("reset"));return Yn.ERROR.PAUSED}else if(!ee){Y.destroy(S,new Le("reset"));return Yn.ERROR.PAUSED}else if(S[et]&&v[ut]===0){Y.destroy(S,new Le("reset"));return Yn.ERROR.PAUSED}else if(v[Nt]===1){setImmediate(resume,v)}else{resume(v)}}}function onParserTimeout(v){const{socket:S,timeoutType:Q,client:H}=v;if(Q===ur){if(!S[At]||S.writableNeedDrain||H[ut]>1){O(!v.paused,"cannot be paused while waiting for headers");Y.destroy(S,new Re)}}else if(Q===dr){if(!v.paused){Y.destroy(S,new je)}}else if(Q===hr){O(H[ut]===0&&H[jt]);Y.destroy(S,new Le("socket idle timeout"))}}function onSocketReadable(){const{[st]:v}=this;if(v){v.readMore()}}function onSocketError(v){const{[nt]:S,[st]:Q}=this;O(v.code!=="ERR_TLS_CERT_ALTNAME_INVALID");if(S[Qn]!=="h2"){if(v.code==="ECONNRESET"&&Q.statusCode&&!Q.shouldKeepAlive){Q.onMessageComplete();return}}this[Rt]=v;onError(this[nt],v)}function onError(v,S){if(v[ut]===0&&S.code!=="UND_ERR_INFO"&&S.code!=="UND_ERR_SOCKET"){O(v[xt]===v[Tt]);const Q=v[pt].splice(v[Tt]);for(let O=0;O<Q.length;O++){const H=Q[O];errorRequest(v,H,S)}O(v[ht]===0)}}function onSocketEnd(){const{[st]:v,[nt]:S}=this;if(S[Qn]!=="h2"){if(v.statusCode&&!v.shouldKeepAlive){v.onMessageComplete();return}}Y.destroy(this,new Pe("other side closed",Y.getSocketInfo(this)))}function onSocketClose(){const{[nt]:v,[st]:S}=this;if(v[Qn]==="h1"&&S){if(!this[Rt]&&S.statusCode&&!S.shouldKeepAlive){S.onMessageComplete()}this[st].destroy();this[st]=null}const Q=this[Rt]||new Pe("closed",Y.getSocketInfo(this));v[Mt]=null;if(v.destroyed){O(v[dt]===0);const S=v[pt].splice(v[Tt]);for(let O=0;O<S.length;O++){const H=S[O];errorRequest(v,H,Q)}}else if(v[ut]>0&&Q.code!=="UND_ERR_INFO"){const S=v[pt][v[Tt]];v[pt][v[Tt]++]=null;errorRequest(v,S,Q)}v[xt]=v[Tt];O(v[ut]===0);v.emit("disconnect",v[Ye],[v],Q);resume(v)}async function connect(v){O(!v[Ct]);O(!v[Mt]);let{host:S,hostname:Q,protocol:V,port:J}=v[Ye];if(Q[0]==="["){const v=Q.indexOf("]");O(v!==-1);const S=Q.substring(1,v);O(H.isIP(S));Q=S}v[Ct]=true;if($n.beforeConnect.hasSubscribers){$n.beforeConnect.publish({connectParams:{host:S,hostname:Q,protocol:V,port:J,servername:v[tt],localAddress:v[Bn]},connector:v[gn]})}try{const H=await new Promise(((O,H)=>{v[gn]({host:S,hostname:Q,protocol:V,port:J,servername:v[tt],localAddress:v[Bn]},((v,S)=>{if(v){H(v)}else{O(S)}}))}));if(v.destroyed){Y.destroy(H.on("error",(()=>{})),new ze);return}v[Ct]=false;O(H);const X=H.alpnProtocol==="h2";if(X){if(!Gn){Gn=true;process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"})}const S=Nn.connect(v[Ye],{createConnection:()=>H,peerMaxConcurrentStreams:v[Dn].maxConcurrentStreams});v[Qn]="h2";S[nt]=v;S[Mt]=H;S.on("error",onHttp2SessionError);S.on("frameError",onHttp2FrameError);S.on("end",onHttp2SessionEnd);S.on("goaway",onHTTP2GoAway);S.on("close",onSocketClose);S.unref();v[Rn]=S;H[Rn]=S}else{if(!Zn){Zn=await er;er=null}H[yt]=false;H[At]=false;H[et]=false;H[lt]=false;H[st]=new Parser(v,H,Zn)}H[Cn]=0;H[wn]=v[wn];H[nt]=v;H[Rt]=null;H.on("error",onSocketError).on("readable",onSocketReadable).on("end",onSocketEnd).on("close",onSocketClose);v[Mt]=H;if($n.connected.hasSubscribers){$n.connected.publish({connectParams:{host:S,hostname:Q,protocol:V,port:J,servername:v[tt],localAddress:v[Bn]},connector:v[gn],socket:H})}v.emit("connect",v[Ye],[v])}catch(H){if(v.destroyed){return}v[Ct]=false;if($n.connectError.hasSubscribers){$n.connectError.publish({connectParams:{host:S,hostname:Q,protocol:V,port:J,servername:v[tt],localAddress:v[Bn]},connector:v[gn],error:H})}if(H.code==="ERR_TLS_CERT_ALTNAME_INVALID"){O(v[ut]===0);while(v[dt]>0&&v[pt][v[xt]].servername===v[tt]){const S=v[pt][v[xt]++];errorRequest(v,S,H)}}else{onError(v,H)}v.emit("connectionError",v[Ye],[v],H)}resume(v)}function emitDrain(v){v[_t]=0;v.emit("drain",v[Ye],[v])}function resume(v,S){if(v[ct]===2){return}v[ct]=2;_resume(v,S);v[ct]=0;if(v[Tt]>256){v[pt].splice(0,v[Tt]);v[xt]-=v[Tt];v[Tt]=0}}function _resume(v,S){while(true){if(v.destroyed){O(v[dt]===0);return}if(v[Jn]&&!v[ht]){v[Jn]();v[Jn]=null;return}const Q=v[Mt];if(Q&&!Q.destroyed&&Q.alpnProtocol!=="h2"){if(v[ht]===0){if(!Q[yt]&&Q.unref){Q.unref();Q[yt]=true}}else if(Q[yt]&&Q.ref){Q.ref();Q[yt]=false}if(v[ht]===0){if(Q[st].timeoutType!==hr){Q[st].setTimeout(v[jt],hr)}}else if(v[ut]>0&&Q[st].statusCode<200){if(Q[st].timeoutType!==ur){const S=v[pt][v[Tt]];const O=S.headersTimeout!=null?S.headersTimeout:v[cn];Q[st].setTimeout(O,ur)}}}if(v[it]){v[_t]=2}else if(v[_t]===2){if(S){v[_t]=1;process.nextTick(emitDrain,v)}else{emitDrain(v)}continue}if(v[dt]===0){return}if(v[ut]>=(v[Nt]||1)){return}const H=v[pt][v[xt]];if(v[Ye].protocol==="https:"&&v[tt]!==H.servername){if(v[ut]>0){return}v[tt]=H.servername;if(Q&&Q.servername!==H.servername){Y.destroy(Q,new Le("servername changed"));return}}if(v[Ct]){return}if(!Q&&!v[Rn]){connect(v);return}if(Q.destroyed||Q[At]||Q[et]||Q[lt]){return}if(v[ut]>0&&!H.idempotent){return}if(v[ut]>0&&(H.upgrade||H.method==="CONNECT")){return}if(v[ut]>0&&Y.bodyLength(H.body)!==0&&(Y.isStream(H.body)||Y.isAsyncIterable(H.body))){return}if(!H.aborted&&write(v,H)){v[xt]++}else{v[pt].splice(v[xt],1)}}}function shouldSendContentLength(v){return v!=="GET"&&v!=="HEAD"&&v!=="OPTIONS"&&v!=="TRACE"&&v!=="CONNECT"}function write(v,S){if(v[Qn]==="h2"){writeH2(v,v[Rn],S);return}const{body:Q,method:H,path:V,host:J,upgrade:X,headers:ee,blocking:ae,reset:Ee}=S;const Be=H==="PUT"||H==="POST"||H==="PATCH";if(Q&&typeof Q.read==="function"){Q.read(0)}const Re=Y.bodyLength(Q);let Oe=Re;if(Oe===null){Oe=S.contentLength}if(Oe===0&&!Be){Oe=null}if(shouldSendContentLength(H)&&Oe>0&&S.contentLength!==null&&S.contentLength!==Oe){if(v[An]){errorRequest(v,S,new he);return false}process.emitWarning(new he)}const Pe=v[Mt];try{S.onConnect((Q=>{if(S.aborted||S.completed){return}errorRequest(v,S,Q||new ke);Y.destroy(Pe,new Le("aborted"))}))}catch(Q){errorRequest(v,S,Q)}if(S.aborted){return false}if(H==="HEAD"){Pe[et]=true}if(X||H==="CONNECT"){Pe[et]=true}if(Ee!=null){Pe[et]=Ee}if(v[wn]&&Pe[Cn]++>=v[wn]){Pe[et]=true}if(ae){Pe[lt]=true}let je=`${H} ${V} HTTP/1.1\r\n`;if(typeof J==="string"){je+=`host: ${J}\r\n`}else{je+=v[It]}if(X){je+=`connection: upgrade\r\nupgrade: ${X}\r\n`}else if(v[Nt]&&!Pe[et]){je+="connection: keep-alive\r\n"}else{je+="connection: close\r\n"}if(ee){je+=ee}if($n.sendHeaders.hasSubscribers){$n.sendHeaders.publish({request:S,headers:je,socket:Pe})}if(!Q||Re===0){if(Oe===0){Pe.write(`${je}content-length: 0\r\n\r\n`,"latin1")}else{O(Oe===null,"no body must not have content length");Pe.write(`${je}\r\n`,"latin1")}S.onRequestSent()}else if(Y.isBuffer(Q)){O(Oe===Q.byteLength,"buffer body must have content length");Pe.cork();Pe.write(`${je}content-length: ${Oe}\r\n\r\n`,"latin1");Pe.write(Q);Pe.uncork();S.onBodySent(Q);S.onRequestSent();if(!Be){Pe[et]=true}}else if(Y.isBlobLike(Q)){if(typeof Q.stream==="function"){writeIterable({body:Q.stream(),client:v,request:S,socket:Pe,contentLength:Oe,header:je,expectsPayload:Be})}else{writeBlob({body:Q,client:v,request:S,socket:Pe,contentLength:Oe,header:je,expectsPayload:Be})}}else if(Y.isStream(Q)){writeStream({body:Q,client:v,request:S,socket:Pe,contentLength:Oe,header:je,expectsPayload:Be})}else if(Y.isIterable(Q)){writeIterable({body:Q,client:v,request:S,socket:Pe,contentLength:Oe,header:je,expectsPayload:Be})}else{O(false)}return true}function writeH2(v,S,Q){const{body:H,method:V,path:J,host:X,upgrade:ae,expectContinue:Ee,signal:Be,headers:Re}=Q;let Oe;if(typeof Re==="string")Oe=ee[Fn](Re.trim());else Oe=Re;if(ae){errorRequest(v,Q,new Error("Upgrade not supported for H2"));return false}try{Q.onConnect((S=>{if(Q.aborted||Q.completed){return}errorRequest(v,Q,S||new ke)}))}catch(S){errorRequest(v,Q,S)}if(Q.aborted){return false}let Pe;const je=v[Dn];Oe[Mn]=X||v[Tn];Oe[Ln]=V;if(V==="CONNECT"){S.ref();Pe=S.request(Oe,{endStream:false,signal:Be});if(Pe.id&&!Pe.pending){Q.onUpgrade(null,null,Pe);++je.openStreams}else{Pe.once("ready",(()=>{Q.onUpgrade(null,null,Pe);++je.openStreams}))}Pe.once("close",(()=>{je.openStreams-=1;if(je.openStreams===0)S.unref()}));return true}Oe[Hn]=J;Oe[Un]="https";const qe=V==="PUT"||V==="POST"||V==="PATCH";if(H&&typeof H.read==="function"){H.read(0)}let Ve=Y.bodyLength(H);if(Ve==null){Ve=Q.contentLength}if(Ve===0||!qe){Ve=null}if(shouldSendContentLength(V)&&Ve>0&&Q.contentLength!=null&&Q.contentLength!==Ve){if(v[An]){errorRequest(v,Q,new he);return false}process.emitWarning(new he)}if(Ve!=null){O(H,"no body must not have content length");Oe[jn]=`${Ve}`}S.ref();const ze=V==="GET"||V==="HEAD";if(Ee){Oe[Wn]="100-continue";Pe=S.request(Oe,{endStream:ze,signal:Be});Pe.once("continue",writeBodyH2)}else{Pe=S.request(Oe,{endStream:ze,signal:Be});writeBodyH2()}++je.openStreams;Pe.once("response",(v=>{const{[Vn]:S,...O}=v;if(Q.onHeaders(Number(S),O,Pe.resume.bind(Pe),"")===false){Pe.pause()}}));Pe.once("end",(()=>{Q.onComplete([])}));Pe.on("data",(v=>{if(Q.onData(v)===false){Pe.pause()}}));Pe.once("close",(()=>{je.openStreams-=1;if(je.openStreams===0){S.unref()}}));Pe.once("error",(function(S){if(v[Rn]&&!v[Rn].destroyed&&!this.closed&&!this.destroyed){je.streams-=1;Y.destroy(Pe,S)}}));Pe.once("frameError",((S,O)=>{const H=new Le(`HTTP/2: "frameError" received - type ${S}, code ${O}`);errorRequest(v,Q,H);if(v[Rn]&&!v[Rn].destroyed&&!this.closed&&!this.destroyed){je.streams-=1;Y.destroy(Pe,H)}}));return true;function writeBodyH2(){if(!H){Q.onRequestSent()}else if(Y.isBuffer(H)){O(Ve===H.byteLength,"buffer body must have content length");Pe.cork();Pe.write(H);Pe.uncork();Pe.end();Q.onBodySent(H);Q.onRequestSent()}else if(Y.isBlobLike(H)){if(typeof H.stream==="function"){writeIterable({client:v,request:Q,contentLength:Ve,h2stream:Pe,expectsPayload:qe,body:H.stream(),socket:v[Mt],header:""})}else{writeBlob({body:H,client:v,request:Q,contentLength:Ve,expectsPayload:qe,h2stream:Pe,header:"",socket:v[Mt]})}}else if(Y.isStream(H)){writeStream({body:H,client:v,request:Q,contentLength:Ve,expectsPayload:qe,socket:v[Mt],h2stream:Pe,header:""})}else if(Y.isIterable(H)){writeIterable({body:H,client:v,request:Q,contentLength:Ve,expectsPayload:qe,header:"",h2stream:Pe,socket:v[Mt]})}else{O(false)}}}function writeStream({h2stream:v,body:S,client:Q,request:H,socket:V,contentLength:X,header:ee,expectsPayload:ae}){O(X!==0||Q[ut]===0,"stream body cannot be pipelined");if(Q[Qn]==="h2"){const Be=J(S,v,(Q=>{if(Q){Y.destroy(S,Q);Y.destroy(v,Q)}else{H.onRequestSent()}}));Be.on("data",onPipeData);Be.once("end",(()=>{Be.removeListener("data",onPipeData);Y.destroy(Be)}));function onPipeData(v){H.onBodySent(v)}return}let he=false;const Ee=new AsyncWriter({socket:V,request:H,contentLength:X,client:Q,expectsPayload:ae,header:ee});const onData=function(v){if(he){return}try{if(!Ee.write(v)&&this.pause){this.pause()}}catch(v){Y.destroy(this,v)}};const onDrain=function(){if(he){return}if(S.resume){S.resume()}};const onAbort=function(){if(he){return}const v=new ke;queueMicrotask((()=>onFinished(v)))};const onFinished=function(v){if(he){return}he=true;O(V.destroyed||V[At]&&Q[ut]<=1);V.off("drain",onDrain).off("error",onFinished);S.removeListener("data",onData).removeListener("end",onFinished).removeListener("error",onFinished).removeListener("close",onAbort);if(!v){try{Ee.end()}catch(S){v=S}}Ee.destroy(v);if(v&&(v.code!=="UND_ERR_INFO"||v.message!=="reset")){Y.destroy(S,v)}else{Y.destroy(S)}};S.on("data",onData).on("end",onFinished).on("error",onFinished).on("close",onAbort);if(S.resume){S.resume()}V.on("drain",onDrain).on("error",onFinished)}async function writeBlob({h2stream:v,body:S,client:Q,request:H,socket:V,contentLength:J,header:X,expectsPayload:ee}){O(J===S.size,"blob body must have content length");const ae=Q[Qn]==="h2";try{if(J!=null&&J!==S.size){throw new he}const O=Buffer.from(await S.arrayBuffer());if(ae){v.cork();v.write(O);v.uncork()}else{V.cork();V.write(`${X}content-length: ${J}\r\n\r\n`,"latin1");V.write(O);V.uncork()}H.onBodySent(O);H.onRequestSent();if(!ee){V[et]=true}resume(Q)}catch(S){Y.destroy(ae?v:V,S)}}async function writeIterable({h2stream:v,body:S,client:Q,request:H,socket:V,contentLength:J,header:Y,expectsPayload:X}){O(J!==0||Q[ut]===0,"iterator body cannot be pipelined");let ee=null;function onDrain(){if(ee){const v=ee;ee=null;v()}}const waitForDrain=()=>new Promise(((v,S)=>{O(ee===null);if(V[Rt]){S(V[Rt])}else{ee=v}}));if(Q[Qn]==="h2"){v.on("close",onDrain).on("drain",onDrain);try{for await(const Q of S){if(V[Rt]){throw V[Rt]}const S=v.write(Q);H.onBodySent(Q);if(!S){await waitForDrain()}}}catch(S){v.destroy(S)}finally{H.onRequestSent();v.end();v.off("close",onDrain).off("drain",onDrain)}return}V.on("close",onDrain).on("drain",onDrain);const ae=new AsyncWriter({socket:V,request:H,contentLength:J,client:Q,expectsPayload:X,header:Y});try{for await(const v of S){if(V[Rt]){throw V[Rt]}if(!ae.write(v)){await waitForDrain()}}ae.end()}catch(v){ae.destroy(v)}finally{V.off("close",onDrain).off("drain",onDrain)}}class AsyncWriter{constructor({socket:v,request:S,contentLength:Q,client:O,expectsPayload:H,header:V}){this.socket=v;this.request=S;this.contentLength=Q;this.client=O;this.bytesWritten=0;this.expectsPayload=H;this.header=V;v[At]=true}write(v){const{socket:S,request:Q,contentLength:O,client:H,bytesWritten:V,expectsPayload:J,header:Y}=this;if(S[Rt]){throw S[Rt]}if(S.destroyed){return false}const X=Buffer.byteLength(v);if(!X){return true}if(O!==null&&V+X>O){if(H[An]){throw new he}process.emitWarning(new he)}S.cork();if(V===0){if(!J){S[et]=true}if(O===null){S.write(`${Y}transfer-encoding: chunked\r\n`,"latin1")}else{S.write(`${Y}content-length: ${O}\r\n\r\n`,"latin1")}}if(O===null){S.write(`\r\n${X.toString(16)}\r\n`,"latin1")}this.bytesWritten+=X;const ee=S.write(v);S.uncork();Q.onBodySent(v);if(!ee){if(S[st].timeout&&S[st].timeoutType===ur){if(S[st].timeout.refresh){S[st].timeout.refresh()}}}return ee}end(){const{socket:v,contentLength:S,client:Q,bytesWritten:O,expectsPayload:H,header:V,request:J}=this;J.onRequestSent();v[At]=false;if(v[Rt]){throw v[Rt]}if(v.destroyed){return}if(O===0){if(H){v.write(`${V}content-length: 0\r\n\r\n`,"latin1")}else{v.write(`${V}\r\n`,"latin1")}}else if(S===null){v.write("\r\n0\r\n\r\n","latin1")}if(S!==null&&O!==S){if(Q[An]){throw new he}else{process.emitWarning(new he)}}if(v[st].timeout&&v[st].timeoutType===ur){if(v[st].timeout.refresh){v[st].timeout.refresh()}}resume(Q)}destroy(v){const{socket:S,client:Q}=this;S[At]=false;if(v){O(Q[ut]<=1,"pipeline should only contain this request");Y.destroy(S,v)}}}function errorRequest(v,S,Q){try{S.onError(Q);O(S.aborted)}catch(Q){v.emit("error",Q)}}v.exports=Client},6436:(v,S,Q)=>{"use strict";const{kConnected:O,kSize:H}=Q(2785);class CompatWeakRef{constructor(v){this.value=v}deref(){return this.value[O]===0&&this.value[H]===0?undefined:this.value}}class CompatFinalizer{constructor(v){this.finalizer=v}register(v,S){if(v.on){v.on("disconnect",(()=>{if(v[O]===0&&v[H]===0){this.finalizer(S)}}))}}}v.exports=function(){if(process.env.NODE_V8_COVERAGE){return{WeakRef:CompatWeakRef,FinalizationRegistry:CompatFinalizer}}return{WeakRef:global.WeakRef||CompatWeakRef,FinalizationRegistry:global.FinalizationRegistry||CompatFinalizer}}},663:v=>{"use strict";const S=1024;const Q=4096;v.exports={maxAttributeValueSize:S,maxNameValuePairSize:Q}},1724:(v,S,Q)=>{"use strict";const{parseSetCookie:O}=Q(4408);const{stringify:H,getHeadersList:V}=Q(3121);const{webidl:J}=Q(1744);const{Headers:Y}=Q(554);function getCookies(v){J.argumentLengthCheck(arguments,1,{header:"getCookies"});J.brandCheck(v,Y,{strict:false});const S=v.get("cookie");const Q={};if(!S){return Q}for(const v of S.split(";")){const[S,...O]=v.split("=");Q[S.trim()]=O.join("=")}return Q}function deleteCookie(v,S,Q){J.argumentLengthCheck(arguments,2,{header:"deleteCookie"});J.brandCheck(v,Y,{strict:false});S=J.converters.DOMString(S);Q=J.converters.DeleteCookieAttributes(Q);setCookie(v,{name:S,value:"",expires:new Date(0),...Q})}function getSetCookies(v){J.argumentLengthCheck(arguments,1,{header:"getSetCookies"});J.brandCheck(v,Y,{strict:false});const S=V(v).cookies;if(!S){return[]}return S.map((v=>O(Array.isArray(v)?v[1]:v)))}function setCookie(v,S){J.argumentLengthCheck(arguments,2,{header:"setCookie"});J.brandCheck(v,Y,{strict:false});S=J.converters.Cookie(S);const Q=H(S);if(Q){v.append("Set-Cookie",H(S))}}J.converters.DeleteCookieAttributes=J.dictionaryConverter([{converter:J.nullableConverter(J.converters.DOMString),key:"path",defaultValue:null},{converter:J.nullableConverter(J.converters.DOMString),key:"domain",defaultValue:null}]);J.converters.Cookie=J.dictionaryConverter([{converter:J.converters.DOMString,key:"name"},{converter:J.converters.DOMString,key:"value"},{converter:J.nullableConverter((v=>{if(typeof v==="number"){return J.converters["unsigned long long"](v)}return new Date(v)})),key:"expires",defaultValue:null},{converter:J.nullableConverter(J.converters["long long"]),key:"maxAge",defaultValue:null},{converter:J.nullableConverter(J.converters.DOMString),key:"domain",defaultValue:null},{converter:J.nullableConverter(J.converters.DOMString),key:"path",defaultValue:null},{converter:J.nullableConverter(J.converters.boolean),key:"secure",defaultValue:null},{converter:J.nullableConverter(J.converters.boolean),key:"httpOnly",defaultValue:null},{converter:J.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:J.sequenceConverter(J.converters.DOMString),key:"unparsed",defaultValue:[]}]);v.exports={getCookies:getCookies,deleteCookie:deleteCookie,getSetCookies:getSetCookies,setCookie:setCookie}},4408:(v,S,Q)=>{"use strict";const{maxNameValuePairSize:O,maxAttributeValueSize:H}=Q(663);const{isCTLExcludingHtab:V}=Q(3121);const{collectASequenceOfCodePointsFast:J}=Q(685);const Y=Q(9491);function parseSetCookie(v){if(V(v)){return null}let S="";let Q="";let H="";let Y="";if(v.includes(";")){const O={position:0};S=J(";",v,O);Q=v.slice(O.position)}else{S=v}if(!S.includes("=")){Y=S}else{const v={position:0};H=J("=",S,v);Y=S.slice(v.position+1)}H=H.trim();Y=Y.trim();if(H.length+Y.length>O){return null}return{name:H,value:Y,...parseUnparsedAttributes(Q)}}function parseUnparsedAttributes(v,S={}){if(v.length===0){return S}Y(v[0]===";");v=v.slice(1);let Q="";if(v.includes(";")){Q=J(";",v,{position:0});v=v.slice(Q.length)}else{Q=v;v=""}let O="";let V="";if(Q.includes("=")){const v={position:0};O=J("=",Q,v);V=Q.slice(v.position+1)}else{O=Q}O=O.trim();V=V.trim();if(V.length>H){return parseUnparsedAttributes(v,S)}const X=O.toLowerCase();if(X==="expires"){const v=new Date(V);S.expires=v}else if(X==="max-age"){const Q=V.charCodeAt(0);if((Q<48||Q>57)&&V[0]!=="-"){return parseUnparsedAttributes(v,S)}if(!/^\d+$/.test(V)){return parseUnparsedAttributes(v,S)}const O=Number(V);S.maxAge=O}else if(X==="domain"){let v=V;if(v[0]==="."){v=v.slice(1)}v=v.toLowerCase();S.domain=v}else if(X==="path"){let v="";if(V.length===0||V[0]!=="/"){v="/"}else{v=V}S.path=v}else if(X==="secure"){S.secure=true}else if(X==="httponly"){S.httpOnly=true}else if(X==="samesite"){let v="Default";const Q=V.toLowerCase();if(Q.includes("none")){v="None"}if(Q.includes("strict")){v="Strict"}if(Q.includes("lax")){v="Lax"}S.sameSite=v}else{S.unparsed??=[];S.unparsed.push(`${O}=${V}`)}return parseUnparsedAttributes(v,S)}v.exports={parseSetCookie:parseSetCookie,parseUnparsedAttributes:parseUnparsedAttributes}},3121:(v,S,Q)=>{"use strict";const O=Q(9491);const{kHeadersList:H}=Q(2785);function isCTLExcludingHtab(v){if(v.length===0){return false}for(const S of v){const v=S.charCodeAt(0);if(v>=0||v<=8||(v>=10||v<=31)||v===127){return false}}}function validateCookieName(v){for(const S of v){const v=S.charCodeAt(0);if(v<=32||v>127||S==="("||S===")"||S===">"||S==="<"||S==="@"||S===","||S===";"||S===":"||S==="\\"||S==='"'||S==="/"||S==="["||S==="]"||S==="?"||S==="="||S==="{"||S==="}"){throw new Error("Invalid cookie name")}}}function validateCookieValue(v){for(const S of v){const v=S.charCodeAt(0);if(v<33||v===34||v===44||v===59||v===92||v>126){throw new Error("Invalid header value")}}}function validateCookiePath(v){for(const S of v){const v=S.charCodeAt(0);if(v<33||S===";"){throw new Error("Invalid cookie path")}}}function validateCookieDomain(v){if(v.startsWith("-")||v.endsWith(".")||v.endsWith("-")){throw new Error("Invalid cookie domain")}}function toIMFDate(v){if(typeof v==="number"){v=new Date(v)}const S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];const Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const O=S[v.getUTCDay()];const H=v.getUTCDate().toString().padStart(2,"0");const V=Q[v.getUTCMonth()];const J=v.getUTCFullYear();const Y=v.getUTCHours().toString().padStart(2,"0");const X=v.getUTCMinutes().toString().padStart(2,"0");const ee=v.getUTCSeconds().toString().padStart(2,"0");return`${O}, ${H} ${V} ${J} ${Y}:${X}:${ee} GMT`}function validateCookieMaxAge(v){if(v<0){throw new Error("Invalid cookie max-age")}}function stringify(v){if(v.name.length===0){return null}validateCookieName(v.name);validateCookieValue(v.value);const S=[`${v.name}=${v.value}`];if(v.name.startsWith("__Secure-")){v.secure=true}if(v.name.startsWith("__Host-")){v.secure=true;v.domain=null;v.path="/"}if(v.secure){S.push("Secure")}if(v.httpOnly){S.push("HttpOnly")}if(typeof v.maxAge==="number"){validateCookieMaxAge(v.maxAge);S.push(`Max-Age=${v.maxAge}`)}if(v.domain){validateCookieDomain(v.domain);S.push(`Domain=${v.domain}`)}if(v.path){validateCookiePath(v.path);S.push(`Path=${v.path}`)}if(v.expires&&v.expires.toString()!=="Invalid Date"){S.push(`Expires=${toIMFDate(v.expires)}`)}if(v.sameSite){S.push(`SameSite=${v.sameSite}`)}for(const Q of v.unparsed){if(!Q.includes("=")){throw new Error("Invalid unparsed")}const[v,...O]=Q.split("=");S.push(`${v.trim()}=${O.join("=")}`)}return S.join("; ")}let V;function getHeadersList(v){if(v[H]){return v[H]}if(!V){V=Object.getOwnPropertySymbols(v).find((v=>v.description==="headers list"));O(V,"Headers cannot be parsed")}const S=v[V];O(S);return S}v.exports={isCTLExcludingHtab:isCTLExcludingHtab,stringify:stringify,getHeadersList:getHeadersList}},9159:(v,S,Q)=>{"use strict";const O=Q(1808);const H=Q(9491);const V=Q(3983);const{InvalidArgumentError:J,ConnectTimeoutError:Y}=Q(8045);let X;let ee;if(global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE){ee=class WeakSessionCache{constructor(v){this._maxCachedSessions=v;this._sessionCache=new Map;this._sessionRegistry=new global.FinalizationRegistry((v=>{if(this._sessionCache.size<this._maxCachedSessions){return}const S=this._sessionCache.get(v);if(S!==undefined&&S.deref()===undefined){this._sessionCache.delete(v)}}))}get(v){const S=this._sessionCache.get(v);return S?S.deref():null}set(v,S){if(this._maxCachedSessions===0){return}this._sessionCache.set(v,new WeakRef(S));this._sessionRegistry.register(S,v)}}}else{ee=class SimpleSessionCache{constructor(v){this._maxCachedSessions=v;this._sessionCache=new Map}get(v){return this._sessionCache.get(v)}set(v,S){if(this._maxCachedSessions===0){return}if(this._sessionCache.size>=this._maxCachedSessions){const{value:v}=this._sessionCache.keys().next();this._sessionCache.delete(v)}this._sessionCache.set(v,S)}}}function buildConnector({allowH2:v,maxCachedSessions:S,socketPath:Y,timeout:ae,...he}){if(S!=null&&(!Number.isInteger(S)||S<0)){throw new J("maxCachedSessions must be a positive integer or zero")}const Ee={path:Y,...he};const Be=new ee(S==null?100:S);ae=ae==null?1e4:ae;v=v!=null?v:false;return function connect({hostname:S,host:J,protocol:Y,port:ee,servername:he,localAddress:ke,httpSocket:Re},Oe){let Pe;if(Y==="https:"){if(!X){X=Q(4404)}he=he||Ee.servername||V.getServerName(J)||null;const O=he||S;const Y=Be.get(O)||null;H(O);Pe=X.connect({highWaterMark:16384,...Ee,servername:he,session:Y,localAddress:ke,ALPNProtocols:v?["http/1.1","h2"]:["http/1.1"],socket:Re,port:ee||443,host:S});Pe.on("session",(function(v){Be.set(O,v)}))}else{H(!Re,"httpSocket can only be sent on TLS update");Pe=O.connect({highWaterMark:64*1024,...Ee,localAddress:ke,port:ee||80,host:S})}if(Ee.keepAlive==null||Ee.keepAlive){const v=Ee.keepAliveInitialDelay===undefined?6e4:Ee.keepAliveInitialDelay;Pe.setKeepAlive(true,v)}const Le=setupTimeout((()=>onConnectTimeout(Pe)),ae);Pe.setNoDelay(true).once(Y==="https:"?"secureConnect":"connect",(function(){Le();if(Oe){const v=Oe;Oe=null;v(null,this)}})).on("error",(function(v){Le();if(Oe){const S=Oe;Oe=null;S(v)}}));return Pe}}function setupTimeout(v,S){if(!S){return()=>{}}let Q=null;let O=null;const H=setTimeout((()=>{Q=setImmediate((()=>{if(process.platform==="win32"){O=setImmediate((()=>v()))}else{v()}}))}),S);return()=>{clearTimeout(H);clearImmediate(Q);clearImmediate(O)}}function onConnectTimeout(v){V.destroy(v,new Y)}v.exports=buildConnector},8045:v=>{"use strict";class UndiciError extends Error{constructor(v){super(v);this.name="UndiciError";this.code="UND_ERR"}}class ConnectTimeoutError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,ConnectTimeoutError);this.name="ConnectTimeoutError";this.message=v||"Connect Timeout Error";this.code="UND_ERR_CONNECT_TIMEOUT"}}class HeadersTimeoutError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,HeadersTimeoutError);this.name="HeadersTimeoutError";this.message=v||"Headers Timeout Error";this.code="UND_ERR_HEADERS_TIMEOUT"}}class HeadersOverflowError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,HeadersOverflowError);this.name="HeadersOverflowError";this.message=v||"Headers Overflow Error";this.code="UND_ERR_HEADERS_OVERFLOW"}}class BodyTimeoutError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,BodyTimeoutError);this.name="BodyTimeoutError";this.message=v||"Body Timeout Error";this.code="UND_ERR_BODY_TIMEOUT"}}class ResponseStatusCodeError extends UndiciError{constructor(v,S,Q,O){super(v);Error.captureStackTrace(this,ResponseStatusCodeError);this.name="ResponseStatusCodeError";this.message=v||"Response Status Code Error";this.code="UND_ERR_RESPONSE_STATUS_CODE";this.body=O;this.status=S;this.statusCode=S;this.headers=Q}}class InvalidArgumentError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,InvalidArgumentError);this.name="InvalidArgumentError";this.message=v||"Invalid Argument Error";this.code="UND_ERR_INVALID_ARG"}}class InvalidReturnValueError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,InvalidReturnValueError);this.name="InvalidReturnValueError";this.message=v||"Invalid Return Value Error";this.code="UND_ERR_INVALID_RETURN_VALUE"}}class RequestAbortedError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,RequestAbortedError);this.name="AbortError";this.message=v||"Request aborted";this.code="UND_ERR_ABORTED"}}class InformationalError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,InformationalError);this.name="InformationalError";this.message=v||"Request information";this.code="UND_ERR_INFO"}}class RequestContentLengthMismatchError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,RequestContentLengthMismatchError);this.name="RequestContentLengthMismatchError";this.message=v||"Request body length does not match content-length header";this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class ResponseContentLengthMismatchError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,ResponseContentLengthMismatchError);this.name="ResponseContentLengthMismatchError";this.message=v||"Response body length does not match content-length header";this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class ClientDestroyedError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,ClientDestroyedError);this.name="ClientDestroyedError";this.message=v||"The client is destroyed";this.code="UND_ERR_DESTROYED"}}class ClientClosedError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,ClientClosedError);this.name="ClientClosedError";this.message=v||"The client is closed";this.code="UND_ERR_CLOSED"}}class SocketError extends UndiciError{constructor(v,S){super(v);Error.captureStackTrace(this,SocketError);this.name="SocketError";this.message=v||"Socket error";this.code="UND_ERR_SOCKET";this.socket=S}}class NotSupportedError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,NotSupportedError);this.name="NotSupportedError";this.message=v||"Not supported error";this.code="UND_ERR_NOT_SUPPORTED"}}class BalancedPoolMissingUpstreamError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,NotSupportedError);this.name="MissingUpstreamError";this.message=v||"No upstream has been added to the BalancedPool";this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class HTTPParserError extends Error{constructor(v,S,Q){super(v);Error.captureStackTrace(this,HTTPParserError);this.name="HTTPParserError";this.code=S?`HPE_${S}`:undefined;this.data=Q?Q.toString():undefined}}class ResponseExceededMaxSizeError extends UndiciError{constructor(v){super(v);Error.captureStackTrace(this,ResponseExceededMaxSizeError);this.name="ResponseExceededMaxSizeError";this.message=v||"Response content exceeded max size";this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class RequestRetryError extends UndiciError{constructor(v,S,{headers:Q,data:O}){super(v);Error.captureStackTrace(this,RequestRetryError);this.name="RequestRetryError";this.message=v||"Request retry error";this.code="UND_ERR_REQ_RETRY";this.statusCode=S;this.data=O;this.headers=Q}}v.exports={HTTPParserError:HTTPParserError,UndiciError:UndiciError,HeadersTimeoutError:HeadersTimeoutError,HeadersOverflowError:HeadersOverflowError,BodyTimeoutError:BodyTimeoutError,RequestContentLengthMismatchError:RequestContentLengthMismatchError,ConnectTimeoutError:ConnectTimeoutError,ResponseStatusCodeError:ResponseStatusCodeError,InvalidArgumentError:InvalidArgumentError,InvalidReturnValueError:InvalidReturnValueError,RequestAbortedError:RequestAbortedError,ClientDestroyedError:ClientDestroyedError,ClientClosedError:ClientClosedError,InformationalError:InformationalError,SocketError:SocketError,NotSupportedError:NotSupportedError,ResponseContentLengthMismatchError:ResponseContentLengthMismatchError,BalancedPoolMissingUpstreamError:BalancedPoolMissingUpstreamError,ResponseExceededMaxSizeError:ResponseExceededMaxSizeError,RequestRetryError:RequestRetryError}},2905:(v,S,Q)=>{"use strict";const{InvalidArgumentError:O,NotSupportedError:H}=Q(8045);const V=Q(9491);const{kHTTP2BuildRequest:J,kHTTP2CopyHeaders:Y,kHTTP1BuildRequest:X}=Q(2785);const ee=Q(3983);const ae=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;const he=/[^\t\x20-\x7e\x80-\xff]/;const Ee=/[^\u0021-\u00ff]/;const Be=Symbol("handler");const ke={};let Re;try{const v=Q(7643);ke.create=v.channel("undici:request:create");ke.bodySent=v.channel("undici:request:bodySent");ke.headers=v.channel("undici:request:headers");ke.trailers=v.channel("undici:request:trailers");ke.error=v.channel("undici:request:error")}catch{ke.create={hasSubscribers:false};ke.bodySent={hasSubscribers:false};ke.headers={hasSubscribers:false};ke.trailers={hasSubscribers:false};ke.error={hasSubscribers:false}}class Request{constructor(v,{path:S,method:H,body:V,headers:J,query:Y,idempotent:X,blocking:he,upgrade:Oe,headersTimeout:Pe,bodyTimeout:Le,reset:je,throwOnError:qe,expectContinue:Ve},ze){if(typeof S!=="string"){throw new O("path must be a string")}else if(S[0]!=="/"&&!(S.startsWith("http://")||S.startsWith("https://"))&&H!=="CONNECT"){throw new O("path must be an absolute URL or start with a slash")}else if(Ee.exec(S)!==null){throw new O("invalid request path")}if(typeof H!=="string"){throw new O("method must be a string")}else if(ae.exec(H)===null){throw new O("invalid request method")}if(Oe&&typeof Oe!=="string"){throw new O("upgrade must be a string")}if(Pe!=null&&(!Number.isFinite(Pe)||Pe<0)){throw new O("invalid headersTimeout")}if(Le!=null&&(!Number.isFinite(Le)||Le<0)){throw new O("invalid bodyTimeout")}if(je!=null&&typeof je!=="boolean"){throw new O("invalid reset")}if(Ve!=null&&typeof Ve!=="boolean"){throw new O("invalid expectContinue")}this.headersTimeout=Pe;this.bodyTimeout=Le;this.throwOnError=qe===true;this.method=H;this.abort=null;if(V==null){this.body=null}else if(ee.isStream(V)){this.body=V;const v=this.body._readableState;if(!v||!v.autoDestroy){this.endHandler=function autoDestroy(){ee.destroy(this)};this.body.on("end",this.endHandler)}this.errorHandler=v=>{if(this.abort){this.abort(v)}else{this.error=v}};this.body.on("error",this.errorHandler)}else if(ee.isBuffer(V)){this.body=V.byteLength?V:null}else if(ArrayBuffer.isView(V)){this.body=V.buffer.byteLength?Buffer.from(V.buffer,V.byteOffset,V.byteLength):null}else if(V instanceof ArrayBuffer){this.body=V.byteLength?Buffer.from(V):null}else if(typeof V==="string"){this.body=V.length?Buffer.from(V):null}else if(ee.isFormDataLike(V)||ee.isIterable(V)||ee.isBlobLike(V)){this.body=V}else{throw new O("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable")}this.completed=false;this.aborted=false;this.upgrade=Oe||null;this.path=Y?ee.buildURL(S,Y):S;this.origin=v;this.idempotent=X==null?H==="HEAD"||H==="GET":X;this.blocking=he==null?false:he;this.reset=je==null?null:je;this.host=null;this.contentLength=null;this.contentType=null;this.headers="";this.expectContinue=Ve!=null?Ve:false;if(Array.isArray(J)){if(J.length%2!==0){throw new O("headers array must be even")}for(let v=0;v<J.length;v+=2){processHeader(this,J[v],J[v+1])}}else if(J&&typeof J==="object"){const v=Object.keys(J);for(let S=0;S<v.length;S++){const Q=v[S];processHeader(this,Q,J[Q])}}else if(J!=null){throw new O("headers must be an object or an array")}if(ee.isFormDataLike(this.body)){if(ee.nodeMajor<16||ee.nodeMajor===16&&ee.nodeMinor<8){throw new O("Form-Data bodies are only supported in node v16.8 and newer.")}if(!Re){Re=Q(1472).extractBody}const[v,S]=Re(V);if(this.contentType==null){this.contentType=S;this.headers+=`content-type: ${S}\r\n`}this.body=v.stream;this.contentLength=v.length}else if(ee.isBlobLike(V)&&this.contentType==null&&V.type){this.contentType=V.type;this.headers+=`content-type: ${V.type}\r\n`}ee.validateHandler(ze,H,Oe);this.servername=ee.getServerName(this.host);this[Be]=ze;if(ke.create.hasSubscribers){ke.create.publish({request:this})}}onBodySent(v){if(this[Be].onBodySent){try{return this[Be].onBodySent(v)}catch(v){this.abort(v)}}}onRequestSent(){if(ke.bodySent.hasSubscribers){ke.bodySent.publish({request:this})}if(this[Be].onRequestSent){try{return this[Be].onRequestSent()}catch(v){this.abort(v)}}}onConnect(v){V(!this.aborted);V(!this.completed);if(this.error){v(this.error)}else{this.abort=v;return this[Be].onConnect(v)}}onHeaders(v,S,Q,O){V(!this.aborted);V(!this.completed);if(ke.headers.hasSubscribers){ke.headers.publish({request:this,response:{statusCode:v,headers:S,statusText:O}})}try{return this[Be].onHeaders(v,S,Q,O)}catch(v){this.abort(v)}}onData(v){V(!this.aborted);V(!this.completed);try{return this[Be].onData(v)}catch(v){this.abort(v);return false}}onUpgrade(v,S,Q){V(!this.aborted);V(!this.completed);return this[Be].onUpgrade(v,S,Q)}onComplete(v){this.onFinally();V(!this.aborted);this.completed=true;if(ke.trailers.hasSubscribers){ke.trailers.publish({request:this,trailers:v})}try{return this[Be].onComplete(v)}catch(v){this.onError(v)}}onError(v){this.onFinally();if(ke.error.hasSubscribers){ke.error.publish({request:this,error:v})}if(this.aborted){return}this.aborted=true;return this[Be].onError(v)}onFinally(){if(this.errorHandler){this.body.off("error",this.errorHandler);this.errorHandler=null}if(this.endHandler){this.body.off("end",this.endHandler);this.endHandler=null}}addHeader(v,S){processHeader(this,v,S);return this}static[X](v,S,Q){return new Request(v,S,Q)}static[J](v,S,Q){const H=S.headers;S={...S,headers:null};const V=new Request(v,S,Q);V.headers={};if(Array.isArray(H)){if(H.length%2!==0){throw new O("headers array must be even")}for(let v=0;v<H.length;v+=2){processHeader(V,H[v],H[v+1],true)}}else if(H&&typeof H==="object"){const v=Object.keys(H);for(let S=0;S<v.length;S++){const Q=v[S];processHeader(V,Q,H[Q],true)}}else if(H!=null){throw new O("headers must be an object or an array")}return V}static[Y](v){const S=v.split("\r\n");const Q={};for(const v of S){const[S,O]=v.split(": ");if(O==null||O.length===0)continue;if(Q[S])Q[S]+=`,${O}`;else Q[S]=O}return Q}}function processHeaderValue(v,S,Q){if(S&&typeof S==="object"){throw new O(`invalid ${v} header`)}S=S!=null?`${S}`:"";if(he.exec(S)!==null){throw new O(`invalid ${v} header`)}return Q?S:`${v}: ${S}\r\n`}function processHeader(v,S,Q,V=false){if(Q&&(typeof Q==="object"&&!Array.isArray(Q))){throw new O(`invalid ${S} header`)}else if(Q===undefined){return}if(v.host===null&&S.length===4&&S.toLowerCase()==="host"){if(he.exec(Q)!==null){throw new O(`invalid ${S} header`)}v.host=Q}else if(v.contentLength===null&&S.length===14&&S.toLowerCase()==="content-length"){v.contentLength=parseInt(Q,10);if(!Number.isFinite(v.contentLength)){throw new O("invalid content-length header")}}else if(v.contentType===null&&S.length===12&&S.toLowerCase()==="content-type"){v.contentType=Q;if(V)v.headers[S]=processHeaderValue(S,Q,V);else v.headers+=processHeaderValue(S,Q)}else if(S.length===17&&S.toLowerCase()==="transfer-encoding"){throw new O("invalid transfer-encoding header")}else if(S.length===10&&S.toLowerCase()==="connection"){const S=typeof Q==="string"?Q.toLowerCase():null;if(S!=="close"&&S!=="keep-alive"){throw new O("invalid connection header")}else if(S==="close"){v.reset=true}}else if(S.length===10&&S.toLowerCase()==="keep-alive"){throw new O("invalid keep-alive header")}else if(S.length===7&&S.toLowerCase()==="upgrade"){throw new O("invalid upgrade header")}else if(S.length===6&&S.toLowerCase()==="expect"){throw new H("expect header not supported")}else if(ae.exec(S)===null){throw new O("invalid header key")}else{if(Array.isArray(Q)){for(let O=0;O<Q.length;O++){if(V){if(v.headers[S])v.headers[S]+=`,${processHeaderValue(S,Q[O],V)}`;else v.headers[S]=processHeaderValue(S,Q[O],V)}else{v.headers+=processHeaderValue(S,Q[O])}}}else{if(V)v.headers[S]=processHeaderValue(S,Q,V);else v.headers+=processHeaderValue(S,Q)}}}v.exports=Request},2785:v=>{v.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}},3983:(v,S,Q)=>{"use strict";const O=Q(9491);const{kDestroyed:H,kBodyUsed:V}=Q(2785);const{IncomingMessage:J}=Q(3685);const Y=Q(2781);const X=Q(1808);const{InvalidArgumentError:ee}=Q(8045);const{Blob:ae}=Q(4300);const he=Q(3837);const{stringify:Ee}=Q(3477);const[Be,ke]=process.versions.node.split(".").map((v=>Number(v)));function nop(){}function isStream(v){return v&&typeof v==="object"&&typeof v.pipe==="function"&&typeof v.on==="function"}function isBlobLike(v){return ae&&v instanceof ae||v&&typeof v==="object"&&(typeof v.stream==="function"||typeof v.arrayBuffer==="function")&&/^(Blob|File)$/.test(v[Symbol.toStringTag])}function buildURL(v,S){if(v.includes("?")||v.includes("#")){throw new Error('Query params cannot be passed when url already contains "?" or "#".')}const Q=Ee(S);if(Q){v+="?"+Q}return v}function parseURL(v){if(typeof v==="string"){v=new URL(v);if(!/^https?:/.test(v.origin||v.protocol)){throw new ee("Invalid URL protocol: the URL must start with `http:` or `https:`.")}return v}if(!v||typeof v!=="object"){throw new ee("Invalid URL: The URL argument must be a non-null object.")}if(!/^https?:/.test(v.origin||v.protocol)){throw new ee("Invalid URL protocol: the URL must start with `http:` or `https:`.")}if(!(v instanceof URL)){if(v.port!=null&&v.port!==""&&!Number.isFinite(parseInt(v.port))){throw new ee("Invalid URL: port must be a valid integer or a string representation of an integer.")}if(v.path!=null&&typeof v.path!=="string"){throw new ee("Invalid URL path: the path must be a string or null/undefined.")}if(v.pathname!=null&&typeof v.pathname!=="string"){throw new ee("Invalid URL pathname: the pathname must be a string or null/undefined.")}if(v.hostname!=null&&typeof v.hostname!=="string"){throw new ee("Invalid URL hostname: the hostname must be a string or null/undefined.")}if(v.origin!=null&&typeof v.origin!=="string"){throw new ee("Invalid URL origin: the origin must be a string or null/undefined.")}const S=v.port!=null?v.port:v.protocol==="https:"?443:80;let Q=v.origin!=null?v.origin:`${v.protocol}//${v.hostname}:${S}`;let O=v.path!=null?v.path:`${v.pathname||""}${v.search||""}`;if(Q.endsWith("/")){Q=Q.substring(0,Q.length-1)}if(O&&!O.startsWith("/")){O=`/${O}`}v=new URL(Q+O)}return v}function parseOrigin(v){v=parseURL(v);if(v.pathname!=="/"||v.search||v.hash){throw new ee("invalid url")}return v}function getHostname(v){if(v[0]==="["){const S=v.indexOf("]");O(S!==-1);return v.substring(1,S)}const S=v.indexOf(":");if(S===-1)return v;return v.substring(0,S)}function getServerName(v){if(!v){return null}O.strictEqual(typeof v,"string");const S=getHostname(v);if(X.isIP(S)){return""}return S}function deepClone(v){return JSON.parse(JSON.stringify(v))}function isAsyncIterable(v){return!!(v!=null&&typeof v[Symbol.asyncIterator]==="function")}function isIterable(v){return!!(v!=null&&(typeof v[Symbol.iterator]==="function"||typeof v[Symbol.asyncIterator]==="function"))}function bodyLength(v){if(v==null){return 0}else if(isStream(v)){const S=v._readableState;return S&&S.objectMode===false&&S.ended===true&&Number.isFinite(S.length)?S.length:null}else if(isBlobLike(v)){return v.size!=null?v.size:null}else if(isBuffer(v)){return v.byteLength}return null}function isDestroyed(v){return!v||!!(v.destroyed||v[H])}function isReadableAborted(v){const S=v&&v._readableState;return isDestroyed(v)&&S&&!S.endEmitted}function destroy(v,S){if(v==null||!isStream(v)||isDestroyed(v)){return}if(typeof v.destroy==="function"){if(Object.getPrototypeOf(v).constructor===J){v.socket=null}v.destroy(S)}else if(S){process.nextTick(((v,S)=>{v.emit("error",S)}),v,S)}if(v.destroyed!==true){v[H]=true}}const Re=/timeout=(\d+)/;function parseKeepAliveTimeout(v){const S=v.toString().match(Re);return S?parseInt(S[1],10)*1e3:null}function parseHeaders(v,S={}){if(!Array.isArray(v))return v;for(let Q=0;Q<v.length;Q+=2){const O=v[Q].toString().toLowerCase();let H=S[O];if(!H){if(Array.isArray(v[Q+1])){S[O]=v[Q+1].map((v=>v.toString("utf8")))}else{S[O]=v[Q+1].toString("utf8")}}else{if(!Array.isArray(H)){H=[H];S[O]=H}H.push(v[Q+1].toString("utf8"))}}if("content-length"in S&&"content-disposition"in S){S["content-disposition"]=Buffer.from(S["content-disposition"]).toString("latin1")}return S}function parseRawHeaders(v){const S=[];let Q=false;let O=-1;for(let H=0;H<v.length;H+=2){const V=v[H+0].toString();const J=v[H+1].toString("utf8");if(V.length===14&&(V==="content-length"||V.toLowerCase()==="content-length")){S.push(V,J);Q=true}else if(V.length===19&&(V==="content-disposition"||V.toLowerCase()==="content-disposition")){O=S.push(V,J)-1}else{S.push(V,J)}}if(Q&&O!==-1){S[O]=Buffer.from(S[O]).toString("latin1")}return S}function isBuffer(v){return v instanceof Uint8Array||Buffer.isBuffer(v)}function validateHandler(v,S,Q){if(!v||typeof v!=="object"){throw new ee("handler must be an object")}if(typeof v.onConnect!=="function"){throw new ee("invalid onConnect method")}if(typeof v.onError!=="function"){throw new ee("invalid onError method")}if(typeof v.onBodySent!=="function"&&v.onBodySent!==undefined){throw new ee("invalid onBodySent method")}if(Q||S==="CONNECT"){if(typeof v.onUpgrade!=="function"){throw new ee("invalid onUpgrade method")}}else{if(typeof v.onHeaders!=="function"){throw new ee("invalid onHeaders method")}if(typeof v.onData!=="function"){throw new ee("invalid onData method")}if(typeof v.onComplete!=="function"){throw new ee("invalid onComplete method")}}}function isDisturbed(v){return!!(v&&(Y.isDisturbed?Y.isDisturbed(v)||v[V]:v[V]||v.readableDidRead||v._readableState&&v._readableState.dataEmitted||isReadableAborted(v)))}function isErrored(v){return!!(v&&(Y.isErrored?Y.isErrored(v):/state: 'errored'/.test(he.inspect(v))))}function isReadable(v){return!!(v&&(Y.isReadable?Y.isReadable(v):/state: 'readable'/.test(he.inspect(v))))}function getSocketInfo(v){return{localAddress:v.localAddress,localPort:v.localPort,remoteAddress:v.remoteAddress,remotePort:v.remotePort,remoteFamily:v.remoteFamily,timeout:v.timeout,bytesWritten:v.bytesWritten,bytesRead:v.bytesRead}}async function*convertIterableToBuffer(v){for await(const S of v){yield Buffer.isBuffer(S)?S:Buffer.from(S)}}let Oe;function ReadableStreamFrom(v){if(!Oe){Oe=Q(5356).ReadableStream}if(Oe.from){return Oe.from(convertIterableToBuffer(v))}let S;return new Oe({async start(){S=v[Symbol.asyncIterator]()},async pull(v){const{done:Q,value:O}=await S.next();if(Q){queueMicrotask((()=>{v.close()}))}else{const S=Buffer.isBuffer(O)?O:Buffer.from(O);v.enqueue(new Uint8Array(S))}return v.desiredSize>0},async cancel(v){await S.return()}},0)}function isFormDataLike(v){return v&&typeof v==="object"&&typeof v.append==="function"&&typeof v.delete==="function"&&typeof v.get==="function"&&typeof v.getAll==="function"&&typeof v.has==="function"&&typeof v.set==="function"&&v[Symbol.toStringTag]==="FormData"}function throwIfAborted(v){if(!v){return}if(typeof v.throwIfAborted==="function"){v.throwIfAborted()}else{if(v.aborted){const v=new Error("The operation was aborted");v.name="AbortError";throw v}}}function addAbortListener(v,S){if("addEventListener"in v){v.addEventListener("abort",S,{once:true});return()=>v.removeEventListener("abort",S)}v.addListener("abort",S);return()=>v.removeListener("abort",S)}const Pe=!!String.prototype.toWellFormed;function toUSVString(v){if(Pe){return`${v}`.toWellFormed()}else if(he.toUSVString){return he.toUSVString(v)}return`${v}`}function parseRangeHeader(v){if(v==null||v==="")return{start:0,end:null,size:null};const S=v?v.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return S?{start:parseInt(S[1]),end:S[2]?parseInt(S[2]):null,size:S[3]?parseInt(S[3]):null}:null}const Le=Object.create(null);Le.enumerable=true;v.exports={kEnumerableProperty:Le,nop:nop,isDisturbed:isDisturbed,isErrored:isErrored,isReadable:isReadable,toUSVString:toUSVString,isReadableAborted:isReadableAborted,isBlobLike:isBlobLike,parseOrigin:parseOrigin,parseURL:parseURL,getServerName:getServerName,isStream:isStream,isIterable:isIterable,isAsyncIterable:isAsyncIterable,isDestroyed:isDestroyed,parseRawHeaders:parseRawHeaders,parseHeaders:parseHeaders,parseKeepAliveTimeout:parseKeepAliveTimeout,destroy:destroy,bodyLength:bodyLength,deepClone:deepClone,ReadableStreamFrom:ReadableStreamFrom,isBuffer:isBuffer,validateHandler:validateHandler,getSocketInfo:getSocketInfo,isFormDataLike:isFormDataLike,buildURL:buildURL,throwIfAborted:throwIfAborted,addAbortListener:addAbortListener,parseRangeHeader:parseRangeHeader,nodeMajor:Be,nodeMinor:ke,nodeHasAutoSelectFamily:Be>18||Be===18&&ke>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}},4839:(v,S,Q)=>{"use strict";const O=Q(412);const{ClientDestroyedError:H,ClientClosedError:V,InvalidArgumentError:J}=Q(8045);const{kDestroy:Y,kClose:X,kDispatch:ee,kInterceptors:ae}=Q(2785);const he=Symbol("destroyed");const Ee=Symbol("closed");const Be=Symbol("onDestroyed");const ke=Symbol("onClosed");const Re=Symbol("Intercepted Dispatch");class DispatcherBase extends O{constructor(){super();this[he]=false;this[Be]=null;this[Ee]=false;this[ke]=[]}get destroyed(){return this[he]}get closed(){return this[Ee]}get interceptors(){return this[ae]}set interceptors(v){if(v){for(let S=v.length-1;S>=0;S--){const v=this[ae][S];if(typeof v!=="function"){throw new J("interceptor must be an function")}}}this[ae]=v}close(v){if(v===undefined){return new Promise(((v,S)=>{this.close(((Q,O)=>Q?S(Q):v(O)))}))}if(typeof v!=="function"){throw new J("invalid callback")}if(this[he]){queueMicrotask((()=>v(new H,null)));return}if(this[Ee]){if(this[ke]){this[ke].push(v)}else{queueMicrotask((()=>v(null,null)))}return}this[Ee]=true;this[ke].push(v);const onClosed=()=>{const v=this[ke];this[ke]=null;for(let S=0;S<v.length;S++){v[S](null,null)}};this[X]().then((()=>this.destroy())).then((()=>{queueMicrotask(onClosed)}))}destroy(v,S){if(typeof v==="function"){S=v;v=null}if(S===undefined){return new Promise(((S,Q)=>{this.destroy(v,((v,O)=>v?Q(v):S(O)))}))}if(typeof S!=="function"){throw new J("invalid callback")}if(this[he]){if(this[Be]){this[Be].push(S)}else{queueMicrotask((()=>S(null,null)))}return}if(!v){v=new H}this[he]=true;this[Be]=this[Be]||[];this[Be].push(S);const onDestroyed=()=>{const v=this[Be];this[Be]=null;for(let S=0;S<v.length;S++){v[S](null,null)}};this[Y](v).then((()=>{queueMicrotask(onDestroyed)}))}[Re](v,S){if(!this[ae]||this[ae].length===0){this[Re]=this[ee];return this[ee](v,S)}let Q=this[ee].bind(this);for(let v=this[ae].length-1;v>=0;v--){Q=this[ae][v](Q)}this[Re]=Q;return Q(v,S)}dispatch(v,S){if(!S||typeof S!=="object"){throw new J("handler must be an object")}try{if(!v||typeof v!=="object"){throw new J("opts must be an object.")}if(this[he]||this[Be]){throw new H}if(this[Ee]){throw new V}return this[Re](v,S)}catch(v){if(typeof S.onError!=="function"){throw new J("invalid onError method")}S.onError(v);return false}}}v.exports=DispatcherBase},412:(v,S,Q)=>{"use strict";const O=Q(2361);class Dispatcher extends O{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}}v.exports=Dispatcher},1472:(v,S,Q)=>{"use strict";const O=Q(727);const H=Q(3983);const{ReadableStreamFrom:V,isBlobLike:J,isReadableStreamLike:Y,readableStreamClose:X,createDeferredPromise:ee,fullyReadBody:ae}=Q(2538);const{FormData:he}=Q(2015);const{kState:Ee}=Q(5861);const{webidl:Be}=Q(1744);const{DOMException:ke,structuredClone:Re}=Q(1037);const{Blob:Oe,File:Pe}=Q(4300);const{kBodyUsed:Le}=Q(2785);const je=Q(9491);const{isErrored:qe}=Q(3983);const{isUint8Array:Ve,isArrayBuffer:ze}=Q(9830);const{File:$e}=Q(8511);const{parseMIMEType:Ye,serializeAMimeType:et}=Q(685);let tt=globalThis.ReadableStream;const nt=Pe??$e;const it=new TextEncoder;const st=new TextDecoder;function extractBody(v,S=false){if(!tt){tt=Q(5356).ReadableStream}let O=null;if(v instanceof tt){O=v}else if(J(v)){O=v.stream()}else{O=new tt({async pull(v){v.enqueue(typeof ae==="string"?it.encode(ae):ae);queueMicrotask((()=>X(v)))},start(){},type:undefined})}je(Y(O));let ee=null;let ae=null;let he=null;let Ee=null;if(typeof v==="string"){ae=v;Ee="text/plain;charset=UTF-8"}else if(v instanceof URLSearchParams){ae=v.toString();Ee="application/x-www-form-urlencoded;charset=UTF-8"}else if(ze(v)){ae=new Uint8Array(v.slice())}else if(ArrayBuffer.isView(v)){ae=new Uint8Array(v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength))}else if(H.isFormDataLike(v)){const S=`----formdata-undici-0${`${Math.floor(Math.random()*1e11)}`.padStart(11,"0")}`;const Q=`--${S}\r\nContent-Disposition: form-data`
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */;const escape=v=>v.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22");const normalizeLinefeeds=v=>v.replace(/\r?\n|\r/g,"\r\n");const O=[];const H=new Uint8Array([13,10]);he=0;let V=false;for(const[S,J]of v){if(typeof J==="string"){const v=it.encode(Q+`; name="${escape(normalizeLinefeeds(S))}"`+`\r\n\r\n${normalizeLinefeeds(J)}\r\n`);O.push(v);he+=v.byteLength}else{const v=it.encode(`${Q}; name="${escape(normalizeLinefeeds(S))}"`+(J.name?`; filename="${escape(J.name)}"`:"")+"\r\n"+`Content-Type: ${J.type||"application/octet-stream"}\r\n\r\n`);O.push(v,J,H);if(typeof J.size==="number"){he+=v.byteLength+J.size+H.byteLength}else{V=true}}}const J=it.encode(`--${S}--`);O.push(J);he+=J.byteLength;if(V){he=null}ae=v;ee=async function*(){for(const v of O){if(v.stream){yield*v.stream()}else{yield v}}};Ee="multipart/form-data; boundary="+S}else if(J(v)){ae=v;he=v.size;if(v.type){Ee=v.type}}else if(typeof v[Symbol.asyncIterator]==="function"){if(S){throw new TypeError("keepalive")}if(H.isDisturbed(v)||v.locked){throw new TypeError("Response body object should not be disturbed or locked")}O=v instanceof tt?v:V(v)}if(typeof ae==="string"||H.isBuffer(ae)){he=Buffer.byteLength(ae)}if(ee!=null){let S;O=new tt({async start(){S=ee(v)[Symbol.asyncIterator]()},async pull(v){const{value:Q,done:H}=await S.next();if(H){queueMicrotask((()=>{v.close()}))}else{if(!qe(O)){v.enqueue(new Uint8Array(Q))}}return v.desiredSize>0},async cancel(v){await S.return()},type:undefined})}const Be={stream:O,source:ae,length:he};return[Be,Ee]}function safelyExtractBody(v,S=false){if(!tt){tt=Q(5356).ReadableStream}if(v instanceof tt){je(!H.isDisturbed(v),"The body has already been consumed.");je(!v.locked,"The stream is locked.")}return extractBody(v,S)}function cloneBody(v){const[S,Q]=v.stream.tee();const O=Re(Q,{transfer:[Q]});const[,H]=O.tee();v.stream=S;return{stream:H,length:v.length,source:v.source}}async function*consumeBody(v){if(v){if(Ve(v)){yield v}else{const S=v.stream;if(H.isDisturbed(S)){throw new TypeError("The body has already been consumed.")}if(S.locked){throw new TypeError("The stream is locked.")}S[Le]=true;yield*S}}}function throwIfAborted(v){if(v.aborted){throw new ke("The operation was aborted.","AbortError")}}function bodyMixinMethods(v){const S={blob(){return specConsumeBody(this,(v=>{let S=bodyMimeType(this);if(S==="failure"){S=""}else if(S){S=et(S)}return new Oe([v],{type:S})}),v)},arrayBuffer(){return specConsumeBody(this,(v=>new Uint8Array(v).buffer),v)},text(){return specConsumeBody(this,utf8DecodeBytes,v)},json(){return specConsumeBody(this,parseJSONFromBytes,v)},async formData(){Be.brandCheck(this,v);throwIfAborted(this[Ee]);const S=this.headers.get("Content-Type");if(/multipart\/form-data/.test(S)){const v={};for(const[S,Q]of this.headers)v[S.toLowerCase()]=Q;const S=new he;let Q;try{Q=new O({headers:v,preservePath:true})}catch(v){throw new ke(`${v}`,"AbortError")}Q.on("field",((v,Q)=>{S.append(v,Q)}));Q.on("file",((v,Q,O,H,V)=>{const J=[];if(H==="base64"||H.toLowerCase()==="base64"){let H="";Q.on("data",(v=>{H+=v.toString().replace(/[\r\n]/gm,"");const S=H.length-H.length%4;J.push(Buffer.from(H.slice(0,S),"base64"));H=H.slice(S)}));Q.on("end",(()=>{J.push(Buffer.from(H,"base64"));S.append(v,new nt(J,O,{type:V}))}))}else{Q.on("data",(v=>{J.push(v)}));Q.on("end",(()=>{S.append(v,new nt(J,O,{type:V}))}))}}));const H=new Promise(((v,S)=>{Q.on("finish",v);Q.on("error",(v=>S(new TypeError(v))))}));if(this.body!==null)for await(const v of consumeBody(this[Ee].body))Q.write(v);Q.end();await H;return S}else if(/application\/x-www-form-urlencoded/.test(S)){let v;try{let S="";const Q=new TextDecoder("utf-8",{ignoreBOM:true});for await(const v of consumeBody(this[Ee].body)){if(!Ve(v)){throw new TypeError("Expected Uint8Array chunk")}S+=Q.decode(v,{stream:true})}S+=Q.decode();v=new URLSearchParams(S)}catch(v){throw Object.assign(new TypeError,{cause:v})}const S=new he;for(const[Q,O]of v){S.append(Q,O)}return S}else{await Promise.resolve();throwIfAborted(this[Ee]);throw Be.errors.exception({header:`${v.name}.formData`,message:"Could not parse content as FormData."})}}};return S}function mixinBody(v){Object.assign(v.prototype,bodyMixinMethods(v))}async function specConsumeBody(v,S,Q){Be.brandCheck(v,Q);throwIfAborted(v[Ee]);if(bodyUnusable(v[Ee].body)){throw new TypeError("Body is unusable")}const O=ee();const errorSteps=v=>O.reject(v);const successSteps=v=>{try{O.resolve(S(v))}catch(v){errorSteps(v)}};if(v[Ee].body==null){successSteps(new Uint8Array);return O.promise}await ae(v[Ee].body,successSteps,errorSteps);return O.promise}function bodyUnusable(v){return v!=null&&(v.stream.locked||H.isDisturbed(v.stream))}function utf8DecodeBytes(v){if(v.length===0){return""}if(v[0]===239&&v[1]===187&&v[2]===191){v=v.subarray(3)}const S=st.decode(v);return S}function parseJSONFromBytes(v){return JSON.parse(utf8DecodeBytes(v))}function bodyMimeType(v){const{headersList:S}=v[Ee];const Q=S.get("content-type");if(Q===null){return"failure"}return Ye(Q)}v.exports={extractBody:extractBody,safelyExtractBody:safelyExtractBody,cloneBody:cloneBody,mixinBody:mixinBody}},1037:(v,S,Q)=>{"use strict";const{MessageChannel:O,receiveMessageOnPort:H}=Q(1267);const V=["GET","HEAD","POST"];const J=new Set(V);const Y=[101,204,205,304];const X=[301,302,303,307,308];const ee=new Set(X);const ae=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"];const he=new Set(ae);const Ee=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"];const Be=new Set(Ee);const ke=["follow","manual","error"];const Re=["GET","HEAD","OPTIONS","TRACE"];const Oe=new Set(Re);const Pe=["navigate","same-origin","no-cors","cors"];const Le=["omit","same-origin","include"];const je=["default","no-store","reload","no-cache","force-cache","only-if-cached"];const qe=["content-encoding","content-language","content-location","content-type","content-length"];const Ve=["half"];const ze=["CONNECT","TRACE","TRACK"];const $e=new Set(ze);const Ye=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""];const et=new Set(Ye);const tt=globalThis.DOMException??(()=>{try{atob("~")}catch(v){return Object.getPrototypeOf(v).constructor}})();let nt;const it=globalThis.structuredClone??function structuredClone(v,S=undefined){if(arguments.length===0){throw new TypeError("missing argument")}if(!nt){nt=new O}nt.port1.unref();nt.port2.unref();nt.port1.postMessage(v,S?.transfer);return H(nt.port2).message};v.exports={DOMException:tt,structuredClone:it,subresource:Ye,forbiddenMethods:ze,requestBodyHeader:qe,referrerPolicy:Ee,requestRedirect:ke,requestMode:Pe,requestCredentials:Le,requestCache:je,redirectStatus:X,corsSafeListedMethods:V,nullBodyStatus:Y,safeMethods:Re,badPorts:ae,requestDuplex:Ve,subresourceSet:et,badPortsSet:he,redirectStatusSet:ee,corsSafeListedMethodsSet:J,safeMethodsSet:Oe,forbiddenMethodsSet:$e,referrerPolicySet:Be}},685:(v,S,Q)=>{const O=Q(9491);const{atob:H}=Q(4300);const{isomorphicDecode:V}=Q(2538);const J=new TextEncoder;const Y=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/;const X=/(\u000A|\u000D|\u0009|\u0020)/;const ee=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function dataURLProcessor(v){O(v.protocol==="data:");let S=URLSerializer(v,true);S=S.slice(5);const Q={position:0};let H=collectASequenceOfCodePointsFast(",",S,Q);const J=H.length;H=removeASCIIWhitespace(H,true,true);if(Q.position>=S.length){return"failure"}Q.position++;const Y=S.slice(J+1);let X=stringPercentDecode(Y);if(/;(\u0020){0,}base64$/i.test(H)){const v=V(X);X=forgivingBase64(v);if(X==="failure"){return"failure"}H=H.slice(0,-6);H=H.replace(/(\u0020)+$/,"");H=H.slice(0,-1)}if(H.startsWith(";")){H="text/plain"+H}let ee=parseMIMEType(H);if(ee==="failure"){ee=parseMIMEType("text/plain;charset=US-ASCII")}return{mimeType:ee,body:X}}function URLSerializer(v,S=false){if(!S){return v.href}const Q=v.href;const O=v.hash.length;return O===0?Q:Q.substring(0,Q.length-O)}function collectASequenceOfCodePoints(v,S,Q){let O="";while(Q.position<S.length&&v(S[Q.position])){O+=S[Q.position];Q.position++}return O}function collectASequenceOfCodePointsFast(v,S,Q){const O=S.indexOf(v,Q.position);const H=Q.position;if(O===-1){Q.position=S.length;return S.slice(H)}Q.position=O;return S.slice(H,Q.position)}function stringPercentDecode(v){const S=J.encode(v);return percentDecode(S)}function percentDecode(v){const S=[];for(let Q=0;Q<v.length;Q++){const O=v[Q];if(O!==37){S.push(O)}else if(O===37&&!/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(v[Q+1],v[Q+2]))){S.push(37)}else{const O=String.fromCharCode(v[Q+1],v[Q+2]);const H=Number.parseInt(O,16);S.push(H);Q+=2}}return Uint8Array.from(S)}function parseMIMEType(v){v=removeHTTPWhitespace(v,true,true);const S={position:0};const Q=collectASequenceOfCodePointsFast("/",v,S);if(Q.length===0||!Y.test(Q)){return"failure"}if(S.position>v.length){return"failure"}S.position++;let O=collectASequenceOfCodePointsFast(";",v,S);O=removeHTTPWhitespace(O,false,true);if(O.length===0||!Y.test(O)){return"failure"}const H=Q.toLowerCase();const V=O.toLowerCase();const J={type:H,subtype:V,parameters:new Map,essence:`${H}/${V}`};while(S.position<v.length){S.position++;collectASequenceOfCodePoints((v=>X.test(v)),v,S);let Q=collectASequenceOfCodePoints((v=>v!==";"&&v!=="="),v,S);Q=Q.toLowerCase();if(S.position<v.length){if(v[S.position]===";"){continue}S.position++}if(S.position>v.length){break}let O=null;if(v[S.position]==='"'){O=collectAnHTTPQuotedString(v,S,true);collectASequenceOfCodePointsFast(";",v,S)}else{O=collectASequenceOfCodePointsFast(";",v,S);O=removeHTTPWhitespace(O,false,true);if(O.length===0){continue}}if(Q.length!==0&&Y.test(Q)&&(O.length===0||ee.test(O))&&!J.parameters.has(Q)){J.parameters.set(Q,O)}}return J}function forgivingBase64(v){v=v.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,"");if(v.length%4===0){v=v.replace(/=?=$/,"")}if(v.length%4===1){return"failure"}if(/[^+/0-9A-Za-z]/.test(v)){return"failure"}const S=H(v);const Q=new Uint8Array(S.length);for(let v=0;v<S.length;v++){Q[v]=S.charCodeAt(v)}return Q}function collectAnHTTPQuotedString(v,S,Q){const H=S.position;let V="";O(v[S.position]==='"');S.position++;while(true){V+=collectASequenceOfCodePoints((v=>v!=='"'&&v!=="\\"),v,S);if(S.position>=v.length){break}const Q=v[S.position];S.position++;if(Q==="\\"){if(S.position>=v.length){V+="\\";break}V+=v[S.position];S.position++}else{O(Q==='"');break}}if(Q){return V}return v.slice(H,S.position)}function serializeAMimeType(v){O(v!=="failure");const{parameters:S,essence:Q}=v;let H=Q;for(let[v,Q]of S.entries()){H+=";";H+=v;H+="=";if(!Y.test(Q)){Q=Q.replace(/(\\|")/g,"\\$1");Q='"'+Q;Q+='"'}H+=Q}return H}function isHTTPWhiteSpace(v){return v==="\r"||v==="\n"||v==="\t"||v===" "}function removeHTTPWhitespace(v,S=true,Q=true){let O=0;let H=v.length-1;if(S){for(;O<v.length&&isHTTPWhiteSpace(v[O]);O++);}if(Q){for(;H>0&&isHTTPWhiteSpace(v[H]);H--);}return v.slice(O,H+1)}function isASCIIWhitespace(v){return v==="\r"||v==="\n"||v==="\t"||v==="\f"||v===" "}function removeASCIIWhitespace(v,S=true,Q=true){let O=0;let H=v.length-1;if(S){for(;O<v.length&&isASCIIWhitespace(v[O]);O++);}if(Q){for(;H>0&&isASCIIWhitespace(v[H]);H--);}return v.slice(O,H+1)}v.exports={dataURLProcessor:dataURLProcessor,URLSerializer:URLSerializer,collectASequenceOfCodePoints:collectASequenceOfCodePoints,collectASequenceOfCodePointsFast:collectASequenceOfCodePointsFast,stringPercentDecode:stringPercentDecode,parseMIMEType:parseMIMEType,collectAnHTTPQuotedString:collectAnHTTPQuotedString,serializeAMimeType:serializeAMimeType}},8511:(v,S,Q)=>{"use strict";const{Blob:O,File:H}=Q(4300);const{types:V}=Q(3837);const{kState:J}=Q(5861);const{isBlobLike:Y}=Q(2538);const{webidl:X}=Q(1744);const{parseMIMEType:ee,serializeAMimeType:ae}=Q(685);const{kEnumerableProperty:he}=Q(3983);const Ee=new TextEncoder;class File extends O{constructor(v,S,Q={}){X.argumentLengthCheck(arguments,2,{header:"File constructor"});v=X.converters["sequence<BlobPart>"](v);S=X.converters.USVString(S);Q=X.converters.FilePropertyBag(Q);const O=S;let H=Q.type;let V;e:{if(H){H=ee(H);if(H==="failure"){H="";break e}H=ae(H).toLowerCase()}V=Q.lastModified}super(processBlobParts(v,Q),{type:H});this[J]={name:O,lastModified:V,type:H}}get name(){X.brandCheck(this,File);return this[J].name}get lastModified(){X.brandCheck(this,File);return this[J].lastModified}get type(){X.brandCheck(this,File);return this[J].type}}class FileLike{constructor(v,S,Q={}){const O=S;const H=Q.type;const V=Q.lastModified??Date.now();this[J]={blobLike:v,name:O,type:H,lastModified:V}}stream(...v){X.brandCheck(this,FileLike);return this[J].blobLike.stream(...v)}arrayBuffer(...v){X.brandCheck(this,FileLike);return this[J].blobLike.arrayBuffer(...v)}slice(...v){X.brandCheck(this,FileLike);return this[J].blobLike.slice(...v)}text(...v){X.brandCheck(this,FileLike);return this[J].blobLike.text(...v)}get size(){X.brandCheck(this,FileLike);return this[J].blobLike.size}get type(){X.brandCheck(this,FileLike);return this[J].blobLike.type}get name(){X.brandCheck(this,FileLike);return this[J].name}get lastModified(){X.brandCheck(this,FileLike);return this[J].lastModified}get[Symbol.toStringTag](){return"File"}}Object.defineProperties(File.prototype,{[Symbol.toStringTag]:{value:"File",configurable:true},name:he,lastModified:he});X.converters.Blob=X.interfaceConverter(O);X.converters.BlobPart=function(v,S){if(X.util.Type(v)==="Object"){if(Y(v)){return X.converters.Blob(v,{strict:false})}if(ArrayBuffer.isView(v)||V.isAnyArrayBuffer(v)){return X.converters.BufferSource(v,S)}}return X.converters.USVString(v,S)};X.converters["sequence<BlobPart>"]=X.sequenceConverter(X.converters.BlobPart);X.converters.FilePropertyBag=X.dictionaryConverter([{key:"lastModified",converter:X.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:X.converters.DOMString,defaultValue:""},{key:"endings",converter:v=>{v=X.converters.DOMString(v);v=v.toLowerCase();if(v!=="native"){v="transparent"}return v},defaultValue:"transparent"}]);function processBlobParts(v,S){const Q=[];for(const O of v){if(typeof O==="string"){let v=O;if(S.endings==="native"){v=convertLineEndingsNative(v)}Q.push(Ee.encode(v))}else if(V.isAnyArrayBuffer(O)||V.isTypedArray(O)){if(!O.buffer){Q.push(new Uint8Array(O))}else{Q.push(new Uint8Array(O.buffer,O.byteOffset,O.byteLength))}}else if(Y(O)){Q.push(O)}}return Q}function convertLineEndingsNative(v){let S="\n";if(process.platform==="win32"){S="\r\n"}return v.replace(/\r?\n/g,S)}function isFileLike(v){return H&&v instanceof H||v instanceof File||v&&(typeof v.stream==="function"||typeof v.arrayBuffer==="function")&&v[Symbol.toStringTag]==="File"}v.exports={File:File,FileLike:FileLike,isFileLike:isFileLike}},2015:(v,S,Q)=>{"use strict";const{isBlobLike:O,toUSVString:H,makeIterator:V}=Q(2538);const{kState:J}=Q(5861);const{File:Y,FileLike:X,isFileLike:ee}=Q(8511);const{webidl:ae}=Q(1744);const{Blob:he,File:Ee}=Q(4300);const Be=Ee??Y;class FormData{constructor(v){if(v!==undefined){throw ae.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}this[J]=[]}append(v,S,Q=undefined){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,2,{header:"FormData.append"});if(arguments.length===3&&!O(S)){throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'")}v=ae.converters.USVString(v);S=O(S)?ae.converters.Blob(S,{strict:false}):ae.converters.USVString(S);Q=arguments.length===3?ae.converters.USVString(Q):undefined;const H=makeEntry(v,S,Q);this[J].push(H)}delete(v){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,1,{header:"FormData.delete"});v=ae.converters.USVString(v);this[J]=this[J].filter((S=>S.name!==v))}get(v){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,1,{header:"FormData.get"});v=ae.converters.USVString(v);const S=this[J].findIndex((S=>S.name===v));if(S===-1){return null}return this[J][S].value}getAll(v){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,1,{header:"FormData.getAll"});v=ae.converters.USVString(v);return this[J].filter((S=>S.name===v)).map((v=>v.value))}has(v){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,1,{header:"FormData.has"});v=ae.converters.USVString(v);return this[J].findIndex((S=>S.name===v))!==-1}set(v,S,Q=undefined){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,2,{header:"FormData.set"});if(arguments.length===3&&!O(S)){throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'")}v=ae.converters.USVString(v);S=O(S)?ae.converters.Blob(S,{strict:false}):ae.converters.USVString(S);Q=arguments.length===3?H(Q):undefined;const V=makeEntry(v,S,Q);const Y=this[J].findIndex((S=>S.name===v));if(Y!==-1){this[J]=[...this[J].slice(0,Y),V,...this[J].slice(Y+1).filter((S=>S.name!==v))]}else{this[J].push(V)}}entries(){ae.brandCheck(this,FormData);return V((()=>this[J].map((v=>[v.name,v.value]))),"FormData","key+value")}keys(){ae.brandCheck(this,FormData);return V((()=>this[J].map((v=>[v.name,v.value]))),"FormData","key")}values(){ae.brandCheck(this,FormData);return V((()=>this[J].map((v=>[v.name,v.value]))),"FormData","value")}forEach(v,S=globalThis){ae.brandCheck(this,FormData);ae.argumentLengthCheck(arguments,1,{header:"FormData.forEach"});if(typeof v!=="function"){throw new TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.")}for(const[Q,O]of this){v.apply(S,[O,Q,this])}}}FormData.prototype[Symbol.iterator]=FormData.prototype.entries;Object.defineProperties(FormData.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:true}});function makeEntry(v,S,Q){v=Buffer.from(v).toString("utf8");if(typeof S==="string"){S=Buffer.from(S).toString("utf8")}else{if(!ee(S)){S=S instanceof he?new Be([S],"blob",{type:S.type}):new X(S,"blob",{type:S.type})}if(Q!==undefined){const v={type:S.type,lastModified:S.lastModified};S=Ee&&S instanceof Ee||S instanceof Y?new Be([S],Q,v):new X(S,Q,v)}}return{name:v,value:S}}v.exports={FormData:FormData}},1246:v=>{"use strict";const S=Symbol.for("undici.globalOrigin.1");function getGlobalOrigin(){return globalThis[S]}function setGlobalOrigin(v){if(v===undefined){Object.defineProperty(globalThis,S,{value:undefined,writable:true,enumerable:false,configurable:false});return}const Q=new URL(v);if(Q.protocol!=="http:"&&Q.protocol!=="https:"){throw new TypeError(`Only http & https urls are allowed, received ${Q.protocol}`)}Object.defineProperty(globalThis,S,{value:Q,writable:true,enumerable:false,configurable:false})}v.exports={getGlobalOrigin:getGlobalOrigin,setGlobalOrigin:setGlobalOrigin}},554:(v,S,Q)=>{"use strict";const{kHeadersList:O,kConstruct:H}=Q(2785);const{kGuard:V}=Q(5861);const{kEnumerableProperty:J}=Q(3983);const{makeIterator:Y,isValidHeaderName:X,isValidHeaderValue:ee}=Q(2538);const{webidl:ae}=Q(1744);const he=Q(9491);const Ee=Symbol("headers map");const Be=Symbol("headers map sorted");function isHTTPWhiteSpaceCharCode(v){return v===10||v===13||v===9||v===32}function headerValueNormalize(v){let S=0;let Q=v.length;while(Q>S&&isHTTPWhiteSpaceCharCode(v.charCodeAt(Q-1)))--Q;while(Q>S&&isHTTPWhiteSpaceCharCode(v.charCodeAt(S)))++S;return S===0&&Q===v.length?v:v.substring(S,Q)}function fill(v,S){if(Array.isArray(S)){for(let Q=0;Q<S.length;++Q){const O=S[Q];if(O.length!==2){throw ae.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${O.length}.`})}appendHeader(v,O[0],O[1])}}else if(typeof S==="object"&&S!==null){const Q=Object.keys(S);for(let O=0;O<Q.length;++O){appendHeader(v,Q[O],S[Q[O]])}}else{throw ae.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}}function appendHeader(v,S,Q){Q=headerValueNormalize(Q);if(!X(S)){throw ae.errors.invalidArgument({prefix:"Headers.append",value:S,type:"header name"})}else if(!ee(Q)){throw ae.errors.invalidArgument({prefix:"Headers.append",value:Q,type:"header value"})}if(v[V]==="immutable"){throw new TypeError("immutable")}else if(v[V]==="request-no-cors"){}return v[O].append(S,Q)}class HeadersList{cookies=null;constructor(v){if(v instanceof HeadersList){this[Ee]=new Map(v[Ee]);this[Be]=v[Be];this.cookies=v.cookies===null?null:[...v.cookies]}else{this[Ee]=new Map(v);this[Be]=null}}contains(v){v=v.toLowerCase();return this[Ee].has(v)}clear(){this[Ee].clear();this[Be]=null;this.cookies=null}append(v,S){this[Be]=null;const Q=v.toLowerCase();const O=this[Ee].get(Q);if(O){const v=Q==="cookie"?"; ":", ";this[Ee].set(Q,{name:O.name,value:`${O.value}${v}${S}`})}else{this[Ee].set(Q,{name:v,value:S})}if(Q==="set-cookie"){this.cookies??=[];this.cookies.push(S)}}set(v,S){this[Be]=null;const Q=v.toLowerCase();if(Q==="set-cookie"){this.cookies=[S]}this[Ee].set(Q,{name:v,value:S})}delete(v){this[Be]=null;v=v.toLowerCase();if(v==="set-cookie"){this.cookies=null}this[Ee].delete(v)}get(v){const S=this[Ee].get(v.toLowerCase());return S===undefined?null:S.value}*[Symbol.iterator](){for(const[v,{value:S}]of this[Ee]){yield[v,S]}}get entries(){const v={};if(this[Ee].size){for(const{name:S,value:Q}of this[Ee].values()){v[S]=Q}}return v}}class Headers{constructor(v=undefined){if(v===H){return}this[O]=new HeadersList;this[V]="none";if(v!==undefined){v=ae.converters.HeadersInit(v);fill(this,v)}}append(v,S){ae.brandCheck(this,Headers);ae.argumentLengthCheck(arguments,2,{header:"Headers.append"});v=ae.converters.ByteString(v);S=ae.converters.ByteString(S);return appendHeader(this,v,S)}delete(v){ae.brandCheck(this,Headers);ae.argumentLengthCheck(arguments,1,{header:"Headers.delete"});v=ae.converters.ByteString(v);if(!X(v)){throw ae.errors.invalidArgument({prefix:"Headers.delete",value:v,type:"header name"})}if(this[V]==="immutable"){throw new TypeError("immutable")}else if(this[V]==="request-no-cors"){}if(!this[O].contains(v)){return}this[O].delete(v)}get(v){ae.brandCheck(this,Headers);ae.argumentLengthCheck(arguments,1,{header:"Headers.get"});v=ae.converters.ByteString(v);if(!X(v)){throw ae.errors.invalidArgument({prefix:"Headers.get",value:v,type:"header name"})}return this[O].get(v)}has(v){ae.brandCheck(this,Headers);ae.argumentLengthCheck(arguments,1,{header:"Headers.has"});v=ae.converters.ByteString(v);if(!X(v)){throw ae.errors.invalidArgument({prefix:"Headers.has",value:v,type:"header name"})}return this[O].contains(v)}set(v,S){ae.brandCheck(this,Headers);ae.argumentLengthCheck(arguments,2,{header:"Headers.set"});v=ae.converters.ByteString(v);S=ae.converters.ByteString(S);S=headerValueNormalize(S);if(!X(v)){throw ae.errors.invalidArgument({prefix:"Headers.set",value:v,type:"header name"})}else if(!ee(S)){throw ae.errors.invalidArgument({prefix:"Headers.set",value:S,type:"header value"})}if(this[V]==="immutable"){throw new TypeError("immutable")}else if(this[V]==="request-no-cors"){}this[O].set(v,S)}getSetCookie(){ae.brandCheck(this,Headers);const v=this[O].cookies;if(v){return[...v]}return[]}get[Be](){if(this[O][Be]){return this[O][Be]}const v=[];const S=[...this[O]].sort(((v,S)=>v[0]<S[0]?-1:1));const Q=this[O].cookies;for(let O=0;O<S.length;++O){const[H,V]=S[O];if(H==="set-cookie"){for(let S=0;S<Q.length;++S){v.push([H,Q[S]])}}else{he(V!==null);v.push([H,V])}}this[O][Be]=v;return v}keys(){ae.brandCheck(this,Headers);if(this[V]==="immutable"){const v=this[Be];return Y((()=>v),"Headers","key")}return Y((()=>[...this[Be].values()]),"Headers","key")}values(){ae.brandCheck(this,Headers);if(this[V]==="immutable"){const v=this[Be];return Y((()=>v),"Headers","value")}return Y((()=>[...this[Be].values()]),"Headers","value")}entries(){ae.brandCheck(this,Headers);if(this[V]==="immutable"){const v=this[Be];return Y((()=>v),"Headers","key+value")}return Y((()=>[...this[Be].values()]),"Headers","key+value")}forEach(v,S=globalThis){ae.brandCheck(this,Headers);ae.argumentLengthCheck(arguments,1,{header:"Headers.forEach"});if(typeof v!=="function"){throw new TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.")}for(const[Q,O]of this){v.apply(S,[O,Q,this])}}[Symbol.for("nodejs.util.inspect.custom")](){ae.brandCheck(this,Headers);return this[O]}}Headers.prototype[Symbol.iterator]=Headers.prototype.entries;Object.defineProperties(Headers.prototype,{append:J,delete:J,get:J,has:J,set:J,getSetCookie:J,keys:J,values:J,entries:J,forEach:J,[Symbol.iterator]:{enumerable:false},[Symbol.toStringTag]:{value:"Headers",configurable:true}});ae.converters.HeadersInit=function(v){if(ae.util.Type(v)==="Object"){if(v[Symbol.iterator]){return ae.converters["sequence<sequence<ByteString>>"](v)}return ae.converters["record<ByteString, ByteString>"](v)}throw ae.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};v.exports={fill:fill,Headers:Headers,HeadersList:HeadersList}},4881:(v,S,Q)=>{"use strict";const{Response:O,makeNetworkError:H,makeAppropriateNetworkError:V,filterResponse:J,makeResponse:Y}=Q(7823);const{Headers:X}=Q(554);const{Request:ee,makeRequest:ae}=Q(8359);const he=Q(9796);const{bytesMatch:Ee,makePolicyContainer:Be,clonePolicyContainer:ke,requestBadPort:Re,TAOCheck:Oe,appendRequestOriginHeader:Pe,responseLocationURL:Le,requestCurrentURL:je,setRequestReferrerPolicyOnRedirect:qe,tryUpgradeRequestToAPotentiallyTrustworthyURL:Ve,createOpaqueTimingInfo:ze,appendFetchMetadata:$e,corsCheck:Ye,crossOriginResourcePolicyCheck:et,determineRequestsReferrer:tt,coarsenedSharedCurrentTime:nt,createDeferredPromise:it,isBlobLike:st,sameOrigin:at,isCancelled:lt,isAborted:ct,isErrorLike:ut,fullyReadBody:dt,readableStreamClose:ht,isomorphicEncode:At,urlIsLocal:pt,urlIsHttpHttpsScheme:mt,urlHasHttpsScheme:Ct}=Q(2538);const{kState:_t,kHeaders:yt,kGuard:vt,kRealm:It}=Q(5861);const xt=Q(9491);const{safelyExtractBody:Tt}=Q(1472);const{redirectStatusSet:Rt,nullBodyStatus:Nt,safeMethodsSet:Mt,requestBodyHeader:jt,subresourceSet:Jt,DOMException:sn}=Q(1037);const{kHeadersList:ln}=Q(2785);const cn=Q(2361);const{Readable:dn,pipeline:An}=Q(2781);const{addAbortListener:gn,isErrored:En,isReadable:wn,nodeMajor:Cn,nodeMinor:_n}=Q(3983);const{dataURLProcessor:yn,serializeAMimeType:In}=Q(685);const{TransformStream:Sn}=Q(5356);const{getGlobalDispatcher:Bn}=Q(1892);const{webidl:kn}=Q(1744);const{STATUS_CODES:Qn}=Q(3685);const Tn=["GET","HEAD"];let Rn;let Dn=globalThis.ReadableStream;class Fetch extends cn{constructor(v){super();this.dispatcher=v;this.connection=null;this.dump=false;this.state="ongoing";this.setMaxListeners(21)}terminate(v){if(this.state!=="ongoing"){return}this.state="terminated";this.connection?.destroy(v);this.emit("terminated",v)}abort(v){if(this.state!=="ongoing"){return}this.state="aborted";if(!v){v=new sn("The operation was aborted.","AbortError")}this.serializedAbortReason=v;this.connection?.destroy(v);this.emit("terminated",v)}}function fetch(v,S={}){kn.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});const Q=it();let H;try{H=new ee(v,S)}catch(v){Q.reject(v);return Q.promise}const V=H[_t];if(H.signal.aborted){abortFetch(Q,V,null,H.signal.reason);return Q.promise}const J=V.client.globalObject;if(J?.constructor?.name==="ServiceWorkerGlobalScope"){V.serviceWorkers="none"}let Y=null;const X=null;let ae=false;let he=null;gn(H.signal,(()=>{ae=true;xt(he!=null);he.abort(H.signal.reason);abortFetch(Q,V,Y,H.signal.reason)}));const handleFetchDone=v=>finalizeAndReportTiming(v,"fetch");const processResponse=v=>{if(ae){return Promise.resolve()}if(v.aborted){abortFetch(Q,V,Y,he.serializedAbortReason);return Promise.resolve()}if(v.type==="error"){Q.reject(Object.assign(new TypeError("fetch failed"),{cause:v.error}));return Promise.resolve()}Y=new O;Y[_t]=v;Y[It]=X;Y[yt][ln]=v.headersList;Y[yt][vt]="immutable";Y[yt][It]=X;Q.resolve(Y)};he=fetching({request:V,processResponseEndOfBody:handleFetchDone,processResponse:processResponse,dispatcher:S.dispatcher??Bn()});return Q.promise}function finalizeAndReportTiming(v,S="other"){if(v.type==="error"&&v.aborted){return}if(!v.urlList?.length){return}const Q=v.urlList[0];let O=v.timingInfo;let H=v.cacheState;if(!mt(Q)){return}if(O===null){return}if(!v.timingAllowPassed){O=ze({startTime:O.startTime});H=""}O.endTime=nt();v.timingInfo=O;markResourceTiming(O,Q,S,globalThis,H)}function markResourceTiming(v,S,Q,O,H){if(Cn>18||Cn===18&&_n>=2){performance.markResourceTiming(v,S.href,Q,O,H)}}function abortFetch(v,S,Q,O){if(!O){O=new sn("The operation was aborted.","AbortError")}v.reject(O);if(S.body!=null&&wn(S.body?.stream)){S.body.stream.cancel(O).catch((v=>{if(v.code==="ERR_INVALID_STATE"){return}throw v}))}if(Q==null){return}const H=Q[_t];if(H.body!=null&&wn(H.body?.stream)){H.body.stream.cancel(O).catch((v=>{if(v.code==="ERR_INVALID_STATE"){return}throw v}))}}function fetching({request:v,processRequestBodyChunkLength:S,processRequestEndOfBody:Q,processResponse:O,processResponseEndOfBody:H,processResponseConsumeBody:V,useParallelQueue:J=false,dispatcher:Y}){let X=null;let ee=false;if(v.client!=null){X=v.client.globalObject;ee=v.client.crossOriginIsolatedCapability}const ae=nt(ee);const he=ze({startTime:ae});const Ee={controller:new Fetch(Y),request:v,timingInfo:he,processRequestBodyChunkLength:S,processRequestEndOfBody:Q,processResponse:O,processResponseConsumeBody:V,processResponseEndOfBody:H,taskDestination:X,crossOriginIsolatedCapability:ee};xt(!v.body||v.body.stream);if(v.window==="client"){v.window=v.client?.globalObject?.constructor?.name==="Window"?v.client:"no-window"}if(v.origin==="client"){v.origin=v.client?.origin}if(v.policyContainer==="client"){if(v.client!=null){v.policyContainer=ke(v.client.policyContainer)}else{v.policyContainer=Be()}}if(!v.headersList.contains("accept")){const S="*/*";v.headersList.append("accept",S)}if(!v.headersList.contains("accept-language")){v.headersList.append("accept-language","*")}if(v.priority===null){}if(Jt.has(v.destination)){}mainFetch(Ee).catch((v=>{Ee.controller.terminate(v)}));return Ee.controller}async function mainFetch(v,S=false){const Q=v.request;let O=null;if(Q.localURLsOnly&&!pt(je(Q))){O=H("local URLs only")}Ve(Q);if(Re(Q)==="blocked"){O=H("bad port")}if(Q.referrerPolicy===""){Q.referrerPolicy=Q.policyContainer.referrerPolicy}if(Q.referrer!=="no-referrer"){Q.referrer=tt(Q)}if(O===null){O=await(async()=>{const S=je(Q);if(at(S,Q.url)&&Q.responseTainting==="basic"||S.protocol==="data:"||(Q.mode==="navigate"||Q.mode==="websocket")){Q.responseTainting="basic";return await schemeFetch(v)}if(Q.mode==="same-origin"){return H('request mode cannot be "same-origin"')}if(Q.mode==="no-cors"){if(Q.redirect!=="follow"){return H('redirect mode cannot be "follow" for "no-cors" request')}Q.responseTainting="opaque";return await schemeFetch(v)}if(!mt(je(Q))){return H("URL scheme must be a HTTP(S) scheme")}Q.responseTainting="cors";return await httpFetch(v)})()}if(S){return O}if(O.status!==0&&!O.internalResponse){if(Q.responseTainting==="cors"){}if(Q.responseTainting==="basic"){O=J(O,"basic")}else if(Q.responseTainting==="cors"){O=J(O,"cors")}else if(Q.responseTainting==="opaque"){O=J(O,"opaque")}else{xt(false)}}let V=O.status===0?O:O.internalResponse;if(V.urlList.length===0){V.urlList.push(...Q.urlList)}if(!Q.timingAllowFailed){O.timingAllowPassed=true}if(O.type==="opaque"&&V.status===206&&V.rangeRequested&&!Q.headers.contains("range")){O=V=H()}if(O.status!==0&&(Q.method==="HEAD"||Q.method==="CONNECT"||Nt.includes(V.status))){V.body=null;v.controller.dump=true}if(Q.integrity){const processBodyError=S=>fetchFinale(v,H(S));if(Q.responseTainting==="opaque"||O.body==null){processBodyError(O.error);return}const processBody=S=>{if(!Ee(S,Q.integrity)){processBodyError("integrity mismatch");return}O.body=Tt(S)[0];fetchFinale(v,O)};await dt(O.body,processBody,processBodyError)}else{fetchFinale(v,O)}}function schemeFetch(v){if(lt(v)&&v.request.redirectCount===0){return Promise.resolve(V(v))}const{request:S}=v;const{protocol:O}=je(S);switch(O){case"about:":{return Promise.resolve(H("about scheme is not supported"))}case"blob:":{if(!Rn){Rn=Q(4300).resolveObjectURL}const v=je(S);if(v.search.length!==0){return Promise.resolve(H("NetworkError when attempting to fetch resource."))}const O=Rn(v.toString());if(S.method!=="GET"||!st(O)){return Promise.resolve(H("invalid method"))}const V=Tt(O);const J=V[0];const X=At(`${J.length}`);const ee=V[1]??"";const ae=Y({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:X}],["content-type",{name:"Content-Type",value:ee}]]});ae.body=J;return Promise.resolve(ae)}case"data:":{const v=je(S);const Q=yn(v);if(Q==="failure"){return Promise.resolve(H("failed to fetch the data URL"))}const O=In(Q.mimeType);return Promise.resolve(Y({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:O}]],body:Tt(Q.body)[0]}))}case"file:":{return Promise.resolve(H("not implemented... yet..."))}case"http:":case"https:":{return httpFetch(v).catch((v=>H(v)))}default:{return Promise.resolve(H("unknown scheme"))}}}function finalizeResponse(v,S){v.request.done=true;if(v.processResponseDone!=null){queueMicrotask((()=>v.processResponseDone(S)))}}function fetchFinale(v,S){if(S.type==="error"){S.urlList=[v.request.urlList[0]];S.timingInfo=ze({startTime:v.timingInfo.startTime})}const processResponseEndOfBody=()=>{v.request.done=true;if(v.processResponseEndOfBody!=null){queueMicrotask((()=>v.processResponseEndOfBody(S)))}};if(v.processResponse!=null){queueMicrotask((()=>v.processResponse(S)))}if(S.body==null){processResponseEndOfBody()}else{const identityTransformAlgorithm=(v,S)=>{S.enqueue(v)};const v=new Sn({start(){},transform:identityTransformAlgorithm,flush:processResponseEndOfBody},{size(){return 1}},{size(){return 1}});S.body={stream:S.body.stream.pipeThrough(v)}}if(v.processResponseConsumeBody!=null){const processBody=Q=>v.processResponseConsumeBody(S,Q);const processBodyError=Q=>v.processResponseConsumeBody(S,Q);if(S.body==null){queueMicrotask((()=>processBody(null)))}else{return dt(S.body,processBody,processBodyError)}return Promise.resolve()}}async function httpFetch(v){const S=v.request;let Q=null;let O=null;const V=v.timingInfo;if(S.serviceWorkers==="all"){}if(Q===null){if(S.redirect==="follow"){S.serviceWorkers="none"}O=Q=await httpNetworkOrCacheFetch(v);if(S.responseTainting==="cors"&&Ye(S,Q)==="failure"){return H("cors failure")}if(Oe(S,Q)==="failure"){S.timingAllowFailed=true}}if((S.responseTainting==="opaque"||Q.type==="opaque")&&et(S.origin,S.client,S.destination,O)==="blocked"){return H("blocked")}if(Rt.has(O.status)){if(S.redirect!=="manual"){v.controller.connection.destroy()}if(S.redirect==="error"){Q=H("unexpected redirect")}else if(S.redirect==="manual"){Q=O}else if(S.redirect==="follow"){Q=await httpRedirectFetch(v,Q)}else{xt(false)}}Q.timingInfo=V;return Q}function httpRedirectFetch(v,S){const Q=v.request;const O=S.internalResponse?S.internalResponse:S;let V;try{V=Le(O,je(Q).hash);if(V==null){return S}}catch(v){return Promise.resolve(H(v))}if(!mt(V)){return Promise.resolve(H("URL scheme must be a HTTP(S) scheme"))}if(Q.redirectCount===20){return Promise.resolve(H("redirect count exceeded"))}Q.redirectCount+=1;if(Q.mode==="cors"&&(V.username||V.password)&&!at(Q,V)){return Promise.resolve(H('cross origin not allowed for request mode "cors"'))}if(Q.responseTainting==="cors"&&(V.username||V.password)){return Promise.resolve(H('URL cannot contain credentials for request mode "cors"'))}if(O.status!==303&&Q.body!=null&&Q.body.source==null){return Promise.resolve(H())}if([301,302].includes(O.status)&&Q.method==="POST"||O.status===303&&!Tn.includes(Q.method)){Q.method="GET";Q.body=null;for(const v of jt){Q.headersList.delete(v)}}if(!at(je(Q),V)){Q.headersList.delete("authorization");Q.headersList.delete("cookie");Q.headersList.delete("host")}if(Q.body!=null){xt(Q.body.source!=null);Q.body=Tt(Q.body.source)[0]}const J=v.timingInfo;J.redirectEndTime=J.postRedirectStartTime=nt(v.crossOriginIsolatedCapability);if(J.redirectStartTime===0){J.redirectStartTime=J.startTime}Q.urlList.push(V);qe(Q,O);return mainFetch(v,true)}async function httpNetworkOrCacheFetch(v,S=false,Q=false){const O=v.request;let J=null;let Y=null;let X=null;const ee=null;const he=false;if(O.window==="no-window"&&O.redirect==="error"){J=v;Y=O}else{Y=ae(O);J={...v};J.request=Y}const Ee=O.credentials==="include"||O.credentials==="same-origin"&&O.responseTainting==="basic";const Be=Y.body?Y.body.length:null;let ke=null;if(Y.body==null&&["POST","PUT"].includes(Y.method)){ke="0"}if(Be!=null){ke=At(`${Be}`)}if(ke!=null){Y.headersList.append("content-length",ke)}if(Be!=null&&Y.keepalive){}if(Y.referrer instanceof URL){Y.headersList.append("referer",At(Y.referrer.href))}Pe(Y);$e(Y);if(!Y.headersList.contains("user-agent")){Y.headersList.append("user-agent",typeof esbuildDetection==="undefined"?"undici":"node")}if(Y.cache==="default"&&(Y.headersList.contains("if-modified-since")||Y.headersList.contains("if-none-match")||Y.headersList.contains("if-unmodified-since")||Y.headersList.contains("if-match")||Y.headersList.contains("if-range"))){Y.cache="no-store"}if(Y.cache==="no-cache"&&!Y.preventNoCacheCacheControlHeaderModification&&!Y.headersList.contains("cache-control")){Y.headersList.append("cache-control","max-age=0")}if(Y.cache==="no-store"||Y.cache==="reload"){if(!Y.headersList.contains("pragma")){Y.headersList.append("pragma","no-cache")}if(!Y.headersList.contains("cache-control")){Y.headersList.append("cache-control","no-cache")}}if(Y.headersList.contains("range")){Y.headersList.append("accept-encoding","identity")}if(!Y.headersList.contains("accept-encoding")){if(Ct(je(Y))){Y.headersList.append("accept-encoding","br, gzip, deflate")}else{Y.headersList.append("accept-encoding","gzip, deflate")}}Y.headersList.delete("host");if(Ee){}if(ee==null){Y.cache="no-store"}if(Y.mode!=="no-store"&&Y.mode!=="reload"){}if(X==null){if(Y.mode==="only-if-cached"){return H("only if cached")}const v=await httpNetworkFetch(J,Ee,Q);if(!Mt.has(Y.method)&&v.status>=200&&v.status<=399){}if(he&&v.status===304){}if(X==null){X=v}}X.urlList=[...Y.urlList];if(Y.headersList.contains("range")){X.rangeRequested=true}X.requestIncludesCredentials=Ee;if(X.status===407){if(O.window==="no-window"){return H()}if(lt(v)){return V(v)}return H("proxy authentication required")}if(X.status===421&&!Q&&(O.body==null||O.body.source!=null)){if(lt(v)){return V(v)}v.controller.connection.destroy();X=await httpNetworkOrCacheFetch(v,S,true)}if(S){}return X}async function httpNetworkFetch(v,S=false,O=false){xt(!v.controller.connection||v.controller.connection.destroyed);v.controller.connection={abort:null,destroyed:false,destroy(v){if(!this.destroyed){this.destroyed=true;this.abort?.(v??new sn("The operation was aborted.","AbortError"))}}};const J=v.request;let ee=null;const ae=v.timingInfo;const Ee=null;if(Ee==null){J.cache="no-store"}const Be=O?"yes":"no";if(J.mode==="websocket"){}else{}let ke=null;if(J.body==null&&v.processRequestEndOfBody){queueMicrotask((()=>v.processRequestEndOfBody()))}else if(J.body!=null){const processBodyChunk=async function*(S){if(lt(v)){return}yield S;v.processRequestBodyChunkLength?.(S.byteLength)};const processEndOfBody=()=>{if(lt(v)){return}if(v.processRequestEndOfBody){v.processRequestEndOfBody()}};const processBodyError=S=>{if(lt(v)){return}if(S.name==="AbortError"){v.controller.abort()}else{v.controller.terminate(S)}};ke=async function*(){try{for await(const v of J.body.stream){yield*processBodyChunk(v)}processEndOfBody()}catch(v){processBodyError(v)}}()}try{const{body:S,status:Q,statusText:O,headersList:H,socket:V}=await dispatch({body:ke});if(V){ee=Y({status:Q,statusText:O,headersList:H,socket:V})}else{const V=S[Symbol.asyncIterator]();v.controller.next=()=>V.next();ee=Y({status:Q,statusText:O,headersList:H})}}catch(S){if(S.name==="AbortError"){v.controller.connection.destroy();return V(v,S)}return H(S)}const pullAlgorithm=()=>{v.controller.resume()};const cancelAlgorithm=S=>{v.controller.abort(S)};if(!Dn){Dn=Q(5356).ReadableStream}const Re=new Dn({async start(S){v.controller.controller=S},async pull(v){await pullAlgorithm(v)},async cancel(v){await cancelAlgorithm(v)}},{highWaterMark:0,size(){return 1}});ee.body={stream:Re};v.controller.on("terminated",onAborted);v.controller.resume=async()=>{while(true){let S;let Q;try{const{done:Q,value:O}=await v.controller.next();if(ct(v)){break}S=Q?undefined:O}catch(O){if(v.controller.ended&&!ae.encodedBodySize){S=undefined}else{S=O;Q=true}}if(S===undefined){ht(v.controller.controller);finalizeResponse(v,ee);return}ae.decodedBodySize+=S?.byteLength??0;if(Q){v.controller.terminate(S);return}v.controller.controller.enqueue(new Uint8Array(S));if(En(Re)){v.controller.terminate();return}if(!v.controller.controller.desiredSize){return}}};function onAborted(S){if(ct(v)){ee.aborted=true;if(wn(Re)){v.controller.controller.error(v.controller.serializedAbortReason)}}else{if(wn(Re)){v.controller.controller.error(new TypeError("terminated",{cause:ut(S)?S:undefined}))}}v.controller.connection.destroy()}return ee;async function dispatch({body:S}){const Q=je(J);const O=v.controller.dispatcher;return new Promise(((H,V)=>O.dispatch({path:Q.pathname+Q.search,origin:Q.origin,method:J.method,body:v.controller.dispatcher.isMockActive?J.body&&(J.body.source||J.body.stream):S,headers:J.headersList.entries,maxRedirections:0,upgrade:J.mode==="websocket"?"websocket":undefined},{body:null,abort:null,onConnect(S){const{connection:Q}=v.controller;if(Q.destroyed){S(new sn("The operation was aborted.","AbortError"))}else{v.controller.on("terminated",S);this.abort=Q.abort=S}},onHeaders(v,S,Q,O){if(v<200){return}let V=[];let Y="";const ee=new X;if(Array.isArray(S)){for(let v=0;v<S.length;v+=2){const Q=S[v+0].toString("latin1");const O=S[v+1].toString("latin1");if(Q.toLowerCase()==="content-encoding"){V=O.toLowerCase().split(",").map((v=>v.trim()))}else if(Q.toLowerCase()==="location"){Y=O}ee[ln].append(Q,O)}}else{const v=Object.keys(S);for(const Q of v){const v=S[Q];if(Q.toLowerCase()==="content-encoding"){V=v.toLowerCase().split(",").map((v=>v.trim())).reverse()}else if(Q.toLowerCase()==="location"){Y=v}ee[ln].append(Q,v)}}this.body=new dn({read:Q});const ae=[];const Ee=J.redirect==="follow"&&Y&&Rt.has(v);if(J.method!=="HEAD"&&J.method!=="CONNECT"&&!Nt.includes(v)&&!Ee){for(const v of V){if(v==="x-gzip"||v==="gzip"){ae.push(he.createGunzip({flush:he.constants.Z_SYNC_FLUSH,finishFlush:he.constants.Z_SYNC_FLUSH}))}else if(v==="deflate"){ae.push(he.createInflate())}else if(v==="br"){ae.push(he.createBrotliDecompress())}else{ae.length=0;break}}}H({status:v,statusText:O,headersList:ee[ln],body:ae.length?An(this.body,...ae,(()=>{})):this.body.on("error",(()=>{}))});return true},onData(S){if(v.controller.dump){return}const Q=S;ae.encodedBodySize+=Q.byteLength;return this.body.push(Q)},onComplete(){if(this.abort){v.controller.off("terminated",this.abort)}v.controller.ended=true;this.body.push(null)},onError(S){if(this.abort){v.controller.off("terminated",this.abort)}this.body?.destroy(S);v.controller.terminate(S);V(S)},onUpgrade(v,S,Q){if(v!==101){return}const O=new X;for(let v=0;v<S.length;v+=2){const Q=S[v+0].toString("latin1");const H=S[v+1].toString("latin1");O[ln].append(Q,H)}H({status:v,statusText:Qn[v],headersList:O[ln],socket:Q});return true}})))}}v.exports={fetch:fetch,Fetch:Fetch,fetching:fetching,finalizeAndReportTiming:finalizeAndReportTiming}},8359:(v,S,Q)=>{"use strict";const{extractBody:O,mixinBody:H,cloneBody:V}=Q(1472);const{Headers:J,fill:Y,HeadersList:X}=Q(554);const{FinalizationRegistry:ee}=Q(6436)();const ae=Q(3983);const{isValidHTTPToken:he,sameOrigin:Ee,normalizeMethod:Be,makePolicyContainer:ke,normalizeMethodRecord:Re}=Q(2538);const{forbiddenMethodsSet:Oe,corsSafeListedMethodsSet:Pe,referrerPolicy:Le,requestRedirect:je,requestMode:qe,requestCredentials:Ve,requestCache:ze,requestDuplex:$e}=Q(1037);const{kEnumerableProperty:Ye}=ae;const{kHeaders:et,kSignal:tt,kState:nt,kGuard:it,kRealm:st}=Q(5861);const{webidl:at}=Q(1744);const{getGlobalOrigin:lt}=Q(1246);const{URLSerializer:ct}=Q(685);const{kHeadersList:ut,kConstruct:dt}=Q(2785);const ht=Q(9491);const{getMaxListeners:At,setMaxListeners:pt,getEventListeners:mt,defaultMaxListeners:Ct}=Q(2361);let _t=globalThis.TransformStream;const yt=Symbol("abortController");const vt=new ee((({signal:v,abort:S})=>{v.removeEventListener("abort",S)}));class Request{constructor(v,S={}){if(v===dt){return}at.argumentLengthCheck(arguments,1,{header:"Request constructor"});v=at.converters.RequestInfo(v);S=at.converters.RequestInit(S);this[st]={settingsObject:{baseUrl:lt(),get origin(){return this.baseUrl?.origin},policyContainer:ke()}};let H=null;let V=null;const ee=this[st].settingsObject.baseUrl;let Le=null;if(typeof v==="string"){let S;try{S=new URL(v,ee)}catch(S){throw new TypeError("Failed to parse URL from "+v,{cause:S})}if(S.username||S.password){throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+v)}H=makeRequest({urlList:[S]});V="cors"}else{ht(v instanceof Request);H=v[nt];Le=v[tt]}const je=this[st].settingsObject.origin;let qe="client";if(H.window?.constructor?.name==="EnvironmentSettingsObject"&&Ee(H.window,je)){qe=H.window}if(S.window!=null){throw new TypeError(`'window' option '${qe}' must be null`)}if("window"in S){qe="no-window"}H=makeRequest({method:H.method,headersList:H.headersList,unsafeRequest:H.unsafeRequest,client:this[st].settingsObject,window:qe,priority:H.priority,origin:H.origin,referrer:H.referrer,referrerPolicy:H.referrerPolicy,mode:H.mode,credentials:H.credentials,cache:H.cache,redirect:H.redirect,integrity:H.integrity,keepalive:H.keepalive,reloadNavigation:H.reloadNavigation,historyNavigation:H.historyNavigation,urlList:[...H.urlList]});const Ve=Object.keys(S).length!==0;if(Ve){if(H.mode==="navigate"){H.mode="same-origin"}H.reloadNavigation=false;H.historyNavigation=false;H.origin="client";H.referrer="client";H.referrerPolicy="";H.url=H.urlList[H.urlList.length-1];H.urlList=[H.url]}if(S.referrer!==undefined){const v=S.referrer;if(v===""){H.referrer="no-referrer"}else{let S;try{S=new URL(v,ee)}catch(S){throw new TypeError(`Referrer "${v}" is not a valid URL.`,{cause:S})}if(S.protocol==="about:"&&S.hostname==="client"||je&&!Ee(S,this[st].settingsObject.baseUrl)){H.referrer="client"}else{H.referrer=S}}}if(S.referrerPolicy!==undefined){H.referrerPolicy=S.referrerPolicy}let ze;if(S.mode!==undefined){ze=S.mode}else{ze=V}if(ze==="navigate"){throw at.errors.exception({header:"Request constructor",message:"invalid request mode navigate."})}if(ze!=null){H.mode=ze}if(S.credentials!==undefined){H.credentials=S.credentials}if(S.cache!==undefined){H.cache=S.cache}if(H.cache==="only-if-cached"&&H.mode!=="same-origin"){throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode")}if(S.redirect!==undefined){H.redirect=S.redirect}if(S.integrity!=null){H.integrity=String(S.integrity)}if(S.keepalive!==undefined){H.keepalive=Boolean(S.keepalive)}if(S.method!==undefined){let v=S.method;if(!he(v)){throw new TypeError(`'${v}' is not a valid HTTP method.`)}if(Oe.has(v.toUpperCase())){throw new TypeError(`'${v}' HTTP method is unsupported.`)}v=Re[v]??Be(v);H.method=v}if(S.signal!==undefined){Le=S.signal}this[nt]=H;const $e=new AbortController;this[tt]=$e.signal;this[tt][st]=this[st];if(Le!=null){if(!Le||typeof Le.aborted!=="boolean"||typeof Le.addEventListener!=="function"){throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.")}if(Le.aborted){$e.abort(Le.reason)}else{this[yt]=$e;const v=new WeakRef($e);const abort=function(){const S=v.deref();if(S!==undefined){S.abort(this.reason)}};try{if(typeof At==="function"&&At(Le)===Ct){pt(100,Le)}else if(mt(Le,"abort").length>=Ct){pt(100,Le)}}catch{}ae.addAbortListener(Le,abort);vt.register($e,{signal:Le,abort:abort})}}this[et]=new J(dt);this[et][ut]=H.headersList;this[et][it]="request";this[et][st]=this[st];if(ze==="no-cors"){if(!Pe.has(H.method)){throw new TypeError(`'${H.method} is unsupported in no-cors mode.`)}this[et][it]="request-no-cors"}if(Ve){const v=this[et][ut];const Q=S.headers!==undefined?S.headers:new X(v);v.clear();if(Q instanceof X){for(const[S,O]of Q){v.append(S,O)}v.cookies=Q.cookies}else{Y(this[et],Q)}}const Ye=v instanceof Request?v[nt].body:null;if((S.body!=null||Ye!=null)&&(H.method==="GET"||H.method==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body.")}let ct=null;if(S.body!=null){const[v,Q]=O(S.body,H.keepalive);ct=v;if(Q&&!this[et][ut].contains("content-type")){this[et].append("content-type",Q)}}const It=ct??Ye;if(It!=null&&It.source==null){if(ct!=null&&S.duplex==null){throw new TypeError("RequestInit: duplex option is required when sending a body.")}if(H.mode!=="same-origin"&&H.mode!=="cors"){throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"')}H.useCORSPreflightFlag=true}let xt=It;if(ct==null&&Ye!=null){if(ae.isDisturbed(Ye.stream)||Ye.stream.locked){throw new TypeError("Cannot construct a Request with a Request object that has already been used.")}if(!_t){_t=Q(5356).TransformStream}const v=new _t;Ye.stream.pipeThrough(v);xt={source:Ye.source,length:Ye.length,stream:v.readable}}this[nt].body=xt}get method(){at.brandCheck(this,Request);return this[nt].method}get url(){at.brandCheck(this,Request);return ct(this[nt].url)}get headers(){at.brandCheck(this,Request);return this[et]}get destination(){at.brandCheck(this,Request);return this[nt].destination}get referrer(){at.brandCheck(this,Request);if(this[nt].referrer==="no-referrer"){return""}if(this[nt].referrer==="client"){return"about:client"}return this[nt].referrer.toString()}get referrerPolicy(){at.brandCheck(this,Request);return this[nt].referrerPolicy}get mode(){at.brandCheck(this,Request);return this[nt].mode}get credentials(){return this[nt].credentials}get cache(){at.brandCheck(this,Request);return this[nt].cache}get redirect(){at.brandCheck(this,Request);return this[nt].redirect}get integrity(){at.brandCheck(this,Request);return this[nt].integrity}get keepalive(){at.brandCheck(this,Request);return this[nt].keepalive}get isReloadNavigation(){at.brandCheck(this,Request);return this[nt].reloadNavigation}get isHistoryNavigation(){at.brandCheck(this,Request);return this[nt].historyNavigation}get signal(){at.brandCheck(this,Request);return this[tt]}get body(){at.brandCheck(this,Request);return this[nt].body?this[nt].body.stream:null}get bodyUsed(){at.brandCheck(this,Request);return!!this[nt].body&&ae.isDisturbed(this[nt].body.stream)}get duplex(){at.brandCheck(this,Request);return"half"}clone(){at.brandCheck(this,Request);if(this.bodyUsed||this.body?.locked){throw new TypeError("unusable")}const v=cloneRequest(this[nt]);const S=new Request(dt);S[nt]=v;S[st]=this[st];S[et]=new J(dt);S[et][ut]=v.headersList;S[et][it]=this[et][it];S[et][st]=this[et][st];const Q=new AbortController;if(this.signal.aborted){Q.abort(this.signal.reason)}else{ae.addAbortListener(this.signal,(()=>{Q.abort(this.signal.reason)}))}S[tt]=Q.signal;return S}}H(Request);function makeRequest(v){const S={method:"GET",localURLsOnly:false,unsafeRequest:false,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:false,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:false,credentials:"same-origin",useCredentials:false,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:false,historyNavigation:false,userActivation:false,taintedOrigin:false,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:false,done:false,timingAllowFailed:false,...v,headersList:v.headersList?new X(v.headersList):new X};S.url=S.urlList[0];return S}function cloneRequest(v){const S=makeRequest({...v,body:null});if(v.body!=null){S.body=V(v.body)}return S}Object.defineProperties(Request.prototype,{method:Ye,url:Ye,headers:Ye,redirect:Ye,clone:Ye,signal:Ye,duplex:Ye,destination:Ye,body:Ye,bodyUsed:Ye,isHistoryNavigation:Ye,isReloadNavigation:Ye,keepalive:Ye,integrity:Ye,cache:Ye,credentials:Ye,attribute:Ye,referrerPolicy:Ye,referrer:Ye,mode:Ye,[Symbol.toStringTag]:{value:"Request",configurable:true}});at.converters.Request=at.interfaceConverter(Request);at.converters.RequestInfo=function(v){if(typeof v==="string"){return at.converters.USVString(v)}if(v instanceof Request){return at.converters.Request(v)}return at.converters.USVString(v)};at.converters.AbortSignal=at.interfaceConverter(AbortSignal);at.converters.RequestInit=at.dictionaryConverter([{key:"method",converter:at.converters.ByteString},{key:"headers",converter:at.converters.HeadersInit},{key:"body",converter:at.nullableConverter(at.converters.BodyInit)},{key:"referrer",converter:at.converters.USVString},{key:"referrerPolicy",converter:at.converters.DOMString,allowedValues:Le},{key:"mode",converter:at.converters.DOMString,allowedValues:qe},{key:"credentials",converter:at.converters.DOMString,allowedValues:Ve},{key:"cache",converter:at.converters.DOMString,allowedValues:ze},{key:"redirect",converter:at.converters.DOMString,allowedValues:je},{key:"integrity",converter:at.converters.DOMString},{key:"keepalive",converter:at.converters.boolean},{key:"signal",converter:at.nullableConverter((v=>at.converters.AbortSignal(v,{strict:false})))},{key:"window",converter:at.converters.any},{key:"duplex",converter:at.converters.DOMString,allowedValues:$e}]);v.exports={Request:Request,makeRequest:makeRequest}},7823:(v,S,Q)=>{"use strict";const{Headers:O,HeadersList:H,fill:V}=Q(554);const{extractBody:J,cloneBody:Y,mixinBody:X}=Q(1472);const ee=Q(3983);const{kEnumerableProperty:ae}=ee;const{isValidReasonPhrase:he,isCancelled:Ee,isAborted:Be,isBlobLike:ke,serializeJavascriptValueToJSONString:Re,isErrorLike:Oe,isomorphicEncode:Pe}=Q(2538);const{redirectStatusSet:Le,nullBodyStatus:je,DOMException:qe}=Q(1037);const{kState:Ve,kHeaders:ze,kGuard:$e,kRealm:Ye}=Q(5861);const{webidl:et}=Q(1744);const{FormData:tt}=Q(2015);const{getGlobalOrigin:nt}=Q(1246);const{URLSerializer:it}=Q(685);const{kHeadersList:st,kConstruct:at}=Q(2785);const lt=Q(9491);const{types:ct}=Q(3837);const ut=globalThis.ReadableStream||Q(5356).ReadableStream;const dt=new TextEncoder("utf-8");class Response{static error(){const v={settingsObject:{}};const S=new Response;S[Ve]=makeNetworkError();S[Ye]=v;S[ze][st]=S[Ve].headersList;S[ze][$e]="immutable";S[ze][Ye]=v;return S}static json(v,S={}){et.argumentLengthCheck(arguments,1,{header:"Response.json"});if(S!==null){S=et.converters.ResponseInit(S)}const Q=dt.encode(Re(v));const O=J(Q);const H={settingsObject:{}};const V=new Response;V[Ye]=H;V[ze][$e]="response";V[ze][Ye]=H;initializeResponse(V,S,{body:O[0],type:"application/json"});return V}static redirect(v,S=302){const Q={settingsObject:{}};et.argumentLengthCheck(arguments,1,{header:"Response.redirect"});v=et.converters.USVString(v);S=et.converters["unsigned short"](S);let O;try{O=new URL(v,nt())}catch(S){throw Object.assign(new TypeError("Failed to parse URL from "+v),{cause:S})}if(!Le.has(S)){throw new RangeError("Invalid status code "+S)}const H=new Response;H[Ye]=Q;H[ze][$e]="immutable";H[ze][Ye]=Q;H[Ve].status=S;const V=Pe(it(O));H[Ve].headersList.append("location",V);return H}constructor(v=null,S={}){if(v!==null){v=et.converters.BodyInit(v)}S=et.converters.ResponseInit(S);this[Ye]={settingsObject:{}};this[Ve]=makeResponse({});this[ze]=new O(at);this[ze][$e]="response";this[ze][st]=this[Ve].headersList;this[ze][Ye]=this[Ye];let Q=null;if(v!=null){const[S,O]=J(v);Q={body:S,type:O}}initializeResponse(this,S,Q)}get type(){et.brandCheck(this,Response);return this[Ve].type}get url(){et.brandCheck(this,Response);const v=this[Ve].urlList;const S=v[v.length-1]??null;if(S===null){return""}return it(S,true)}get redirected(){et.brandCheck(this,Response);return this[Ve].urlList.length>1}get status(){et.brandCheck(this,Response);return this[Ve].status}get ok(){et.brandCheck(this,Response);return this[Ve].status>=200&&this[Ve].status<=299}get statusText(){et.brandCheck(this,Response);return this[Ve].statusText}get headers(){et.brandCheck(this,Response);return this[ze]}get body(){et.brandCheck(this,Response);return this[Ve].body?this[Ve].body.stream:null}get bodyUsed(){et.brandCheck(this,Response);return!!this[Ve].body&&ee.isDisturbed(this[Ve].body.stream)}clone(){et.brandCheck(this,Response);if(this.bodyUsed||this.body&&this.body.locked){throw et.errors.exception({header:"Response.clone",message:"Body has already been consumed."})}const v=cloneResponse(this[Ve]);const S=new Response;S[Ve]=v;S[Ye]=this[Ye];S[ze][st]=v.headersList;S[ze][$e]=this[ze][$e];S[ze][Ye]=this[ze][Ye];return S}}X(Response);Object.defineProperties(Response.prototype,{type:ae,url:ae,status:ae,ok:ae,redirected:ae,statusText:ae,headers:ae,clone:ae,body:ae,bodyUsed:ae,[Symbol.toStringTag]:{value:"Response",configurable:true}});Object.defineProperties(Response,{json:ae,redirect:ae,error:ae});function cloneResponse(v){if(v.internalResponse){return filterResponse(cloneResponse(v.internalResponse),v.type)}const S=makeResponse({...v,body:null});if(v.body!=null){S.body=Y(v.body)}return S}function makeResponse(v){return{aborted:false,rangeRequested:false,timingAllowPassed:false,requestIncludesCredentials:false,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...v,headersList:v.headersList?new H(v.headersList):new H,urlList:v.urlList?[...v.urlList]:[]}}function makeNetworkError(v){const S=Oe(v);return makeResponse({type:"error",status:0,error:S?v:new Error(v?String(v):v),aborted:v&&v.name==="AbortError"})}function makeFilteredResponse(v,S){S={internalResponse:v,...S};return new Proxy(v,{get(v,Q){return Q in S?S[Q]:v[Q]},set(v,Q,O){lt(!(Q in S));v[Q]=O;return true}})}function filterResponse(v,S){if(S==="basic"){return makeFilteredResponse(v,{type:"basic",headersList:v.headersList})}else if(S==="cors"){return makeFilteredResponse(v,{type:"cors",headersList:v.headersList})}else if(S==="opaque"){return makeFilteredResponse(v,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null})}else if(S==="opaqueredirect"){return makeFilteredResponse(v,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null})}else{lt(false)}}function makeAppropriateNetworkError(v,S=null){lt(Ee(v));return Be(v)?makeNetworkError(Object.assign(new qe("The operation was aborted.","AbortError"),{cause:S})):makeNetworkError(Object.assign(new qe("Request was cancelled."),{cause:S}))}function initializeResponse(v,S,Q){if(S.status!==null&&(S.status<200||S.status>599)){throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.')}if("statusText"in S&&S.statusText!=null){if(!he(String(S.statusText))){throw new TypeError("Invalid statusText")}}if("status"in S&&S.status!=null){v[Ve].status=S.status}if("statusText"in S&&S.statusText!=null){v[Ve].statusText=S.statusText}if("headers"in S&&S.headers!=null){V(v[ze],S.headers)}if(Q){if(je.includes(v.status)){throw et.errors.exception({header:"Response constructor",message:"Invalid response status code "+v.status})}v[Ve].body=Q.body;if(Q.type!=null&&!v[Ve].headersList.contains("Content-Type")){v[Ve].headersList.append("content-type",Q.type)}}}et.converters.ReadableStream=et.interfaceConverter(ut);et.converters.FormData=et.interfaceConverter(tt);et.converters.URLSearchParams=et.interfaceConverter(URLSearchParams);et.converters.XMLHttpRequestBodyInit=function(v){if(typeof v==="string"){return et.converters.USVString(v)}if(ke(v)){return et.converters.Blob(v,{strict:false})}if(ct.isArrayBuffer(v)||ct.isTypedArray(v)||ct.isDataView(v)){return et.converters.BufferSource(v)}if(ee.isFormDataLike(v)){return et.converters.FormData(v,{strict:false})}if(v instanceof URLSearchParams){return et.converters.URLSearchParams(v)}return et.converters.DOMString(v)};et.converters.BodyInit=function(v){if(v instanceof ut){return et.converters.ReadableStream(v)}if(v?.[Symbol.asyncIterator]){return v}return et.converters.XMLHttpRequestBodyInit(v)};et.converters.ResponseInit=et.dictionaryConverter([{key:"status",converter:et.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:et.converters.ByteString,defaultValue:""},{key:"headers",converter:et.converters.HeadersInit}]);v.exports={makeNetworkError:makeNetworkError,makeResponse:makeResponse,makeAppropriateNetworkError:makeAppropriateNetworkError,filterResponse:filterResponse,Response:Response,cloneResponse:cloneResponse}},5861:v=>{"use strict";v.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}},2538:(v,S,Q)=>{"use strict";const{redirectStatusSet:O,referrerPolicySet:H,badPortsSet:V}=Q(1037);const{getGlobalOrigin:J}=Q(1246);const{performance:Y}=Q(4074);const{isBlobLike:X,toUSVString:ee,ReadableStreamFrom:ae}=Q(3983);const he=Q(9491);const{isUint8Array:Ee}=Q(9830);let Be;try{Be=Q(6113)}catch{}function responseURL(v){const S=v.urlList;const Q=S.length;return Q===0?null:S[Q-1].toString()}function responseLocationURL(v,S){if(!O.has(v.status)){return null}let Q=v.headersList.get("location");if(Q!==null&&isValidHeaderValue(Q)){Q=new URL(Q,responseURL(v))}if(Q&&!Q.hash){Q.hash=S}return Q}function requestCurrentURL(v){return v.urlList[v.urlList.length-1]}function requestBadPort(v){const S=requestCurrentURL(v);if(urlIsHttpHttpsScheme(S)&&V.has(S.port)){return"blocked"}return"allowed"}function isErrorLike(v){return v instanceof Error||(v?.constructor?.name==="Error"||v?.constructor?.name==="DOMException")}function isValidReasonPhrase(v){for(let S=0;S<v.length;++S){const Q=v.charCodeAt(S);if(!(Q===9||Q>=32&&Q<=126||Q>=128&&Q<=255)){return false}}return true}function isTokenCharCode(v){switch(v){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return false;default:return v>=33&&v<=126}}function isValidHTTPToken(v){if(v.length===0){return false}for(let S=0;S<v.length;++S){if(!isTokenCharCode(v.charCodeAt(S))){return false}}return true}function isValidHeaderName(v){return isValidHTTPToken(v)}function isValidHeaderValue(v){if(v.startsWith("\t")||v.startsWith(" ")||v.endsWith("\t")||v.endsWith(" ")){return false}if(v.includes("\0")||v.includes("\r")||v.includes("\n")){return false}return true}function setRequestReferrerPolicyOnRedirect(v,S){const{headersList:Q}=S;const O=(Q.get("referrer-policy")??"").split(",");let V="";if(O.length>0){for(let v=O.length;v!==0;v--){const S=O[v-1].trim();if(H.has(S)){V=S;break}}}if(V!==""){v.referrerPolicy=V}}function crossOriginResourcePolicyCheck(){return"allowed"}function corsCheck(){return"success"}function TAOCheck(){return"success"}function appendFetchMetadata(v){let S=null;S=v.mode;v.headersList.set("sec-fetch-mode",S)}function appendRequestOriginHeader(v){let S=v.origin;if(v.responseTainting==="cors"||v.mode==="websocket"){if(S){v.headersList.append("origin",S)}}else if(v.method!=="GET"&&v.method!=="HEAD"){switch(v.referrerPolicy){case"no-referrer":S=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":if(v.origin&&urlHasHttpsScheme(v.origin)&&!urlHasHttpsScheme(requestCurrentURL(v))){S=null}break;case"same-origin":if(!sameOrigin(v,requestCurrentURL(v))){S=null}break;default:}if(S){v.headersList.append("origin",S)}}}function coarsenedSharedCurrentTime(v){return Y.now()}function createOpaqueTimingInfo(v){return{startTime:v.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:v.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function makePolicyContainer(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function clonePolicyContainer(v){return{referrerPolicy:v.referrerPolicy}}function determineRequestsReferrer(v){const S=v.referrerPolicy;he(S);let Q=null;if(v.referrer==="client"){const v=J();if(!v||v.origin==="null"){return"no-referrer"}Q=new URL(v)}else if(v.referrer instanceof URL){Q=v.referrer}let O=stripURLForReferrer(Q);const H=stripURLForReferrer(Q,true);if(O.toString().length>4096){O=H}const V=sameOrigin(v,O);const Y=isURLPotentiallyTrustworthy(O)&&!isURLPotentiallyTrustworthy(v.url);switch(S){case"origin":return H!=null?H:stripURLForReferrer(Q,true);case"unsafe-url":return O;case"same-origin":return V?H:"no-referrer";case"origin-when-cross-origin":return V?O:H;case"strict-origin-when-cross-origin":{const S=requestCurrentURL(v);if(sameOrigin(O,S)){return O}if(isURLPotentiallyTrustworthy(O)&&!isURLPotentiallyTrustworthy(S)){return"no-referrer"}return H}case"strict-origin":case"no-referrer-when-downgrade":default:return Y?"no-referrer":H}}function stripURLForReferrer(v,S){he(v instanceof URL);if(v.protocol==="file:"||v.protocol==="about:"||v.protocol==="blank:"){return"no-referrer"}v.username="";v.password="";v.hash="";if(S){v.pathname="";v.search=""}return v}function isURLPotentiallyTrustworthy(v){if(!(v instanceof URL)){return false}if(v.href==="about:blank"||v.href==="about:srcdoc"){return true}if(v.protocol==="data:")return true;if(v.protocol==="file:")return true;return isOriginPotentiallyTrustworthy(v.origin);function isOriginPotentiallyTrustworthy(v){if(v==null||v==="null")return false;const S=new URL(v);if(S.protocol==="https:"||S.protocol==="wss:"){return true}if(/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(S.hostname)||(S.hostname==="localhost"||S.hostname.includes("localhost."))||S.hostname.endsWith(".localhost")){return true}return false}}function bytesMatch(v,S){if(Be===undefined){return true}const Q=parseMetadata(S);if(Q==="no metadata"){return true}if(Q.length===0){return true}const O=Q.sort(((v,S)=>S.algo.localeCompare(v.algo)));const H=O[0].algo;const V=O.filter((v=>v.algo===H));for(const S of V){const Q=S.algo;let O=S.hash;if(O.endsWith("==")){O=O.slice(0,-2)}let H=Be.createHash(Q).update(v).digest("base64");if(H.endsWith("==")){H=H.slice(0,-2)}if(H===O){return true}let V=Be.createHash(Q).update(v).digest("base64url");if(V.endsWith("==")){V=V.slice(0,-2)}if(V===O){return true}}return false}const ke=/((?<algo>sha256|sha384|sha512)-(?<hash>[A-z0-9+/]{1}.*={0,2}))( +[\x21-\x7e]?)?/i;function parseMetadata(v){const S=[];let Q=true;const O=Be.getHashes();for(const H of v.split(" ")){Q=false;const v=ke.exec(H);if(v===null||v.groups===undefined){continue}const V=v.groups.algo;if(O.includes(V.toLowerCase())){S.push(v.groups)}}if(Q===true){return"no metadata"}return S}function tryUpgradeRequestToAPotentiallyTrustworthyURL(v){}function sameOrigin(v,S){if(v.origin===S.origin&&v.origin==="null"){return true}if(v.protocol===S.protocol&&v.hostname===S.hostname&&v.port===S.port){return true}return false}function createDeferredPromise(){let v;let S;const Q=new Promise(((Q,O)=>{v=Q;S=O}));return{promise:Q,resolve:v,reject:S}}function isAborted(v){return v.controller.state==="aborted"}function isCancelled(v){return v.controller.state==="aborted"||v.controller.state==="terminated"}const Re={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};Object.setPrototypeOf(Re,null);function normalizeMethod(v){return Re[v.toLowerCase()]??v}function serializeJavascriptValueToJSONString(v){const S=JSON.stringify(v);if(S===undefined){throw new TypeError("Value is not JSON serializable")}he(typeof S==="string");return S}const Oe=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function makeIterator(v,S,Q){const O={index:0,kind:Q,target:v};const H={next(){if(Object.getPrototypeOf(this)!==H){throw new TypeError(`'next' called on an object that does not implement interface ${S} Iterator.`)}const{index:v,kind:Q,target:V}=O;const J=V();const Y=J.length;if(v>=Y){return{value:undefined,done:true}}const X=J[v];O.index=v+1;return iteratorResult(X,Q)},[Symbol.toStringTag]:`${S} Iterator`};Object.setPrototypeOf(H,Oe);return Object.setPrototypeOf({},H)}function iteratorResult(v,S){let Q;switch(S){case"key":{Q=v[0];break}case"value":{Q=v[1];break}case"key+value":{Q=v;break}}return{value:Q,done:false}}async function fullyReadBody(v,S,Q){const O=S;const H=Q;let V;try{V=v.stream.getReader()}catch(v){H(v);return}try{const v=await readAllBytes(V);O(v)}catch(v){H(v)}}let Pe=globalThis.ReadableStream;function isReadableStreamLike(v){if(!Pe){Pe=Q(5356).ReadableStream}return v instanceof Pe||v[Symbol.toStringTag]==="ReadableStream"&&typeof v.tee==="function"}const Le=65535;function isomorphicDecode(v){if(v.length<Le){return String.fromCharCode(...v)}return v.reduce(((v,S)=>v+String.fromCharCode(S)),"")}function readableStreamClose(v){try{v.close()}catch(v){if(!v.message.includes("Controller is already closed")){throw v}}}function isomorphicEncode(v){for(let S=0;S<v.length;S++){he(v.charCodeAt(S)<=255)}return v}async function readAllBytes(v){const S=[];let Q=0;while(true){const{done:O,value:H}=await v.read();if(O){return Buffer.concat(S,Q)}if(!Ee(H)){throw new TypeError("Received non-Uint8Array chunk")}S.push(H);Q+=H.length}}function urlIsLocal(v){he("protocol"in v);const S=v.protocol;return S==="about:"||S==="blob:"||S==="data:"}function urlHasHttpsScheme(v){if(typeof v==="string"){return v.startsWith("https:")}return v.protocol==="https:"}function urlIsHttpHttpsScheme(v){he("protocol"in v);const S=v.protocol;return S==="http:"||S==="https:"}const je=Object.hasOwn||((v,S)=>Object.prototype.hasOwnProperty.call(v,S));v.exports={isAborted:isAborted,isCancelled:isCancelled,createDeferredPromise:createDeferredPromise,ReadableStreamFrom:ae,toUSVString:ee,tryUpgradeRequestToAPotentiallyTrustworthyURL:tryUpgradeRequestToAPotentiallyTrustworthyURL,coarsenedSharedCurrentTime:coarsenedSharedCurrentTime,determineRequestsReferrer:determineRequestsReferrer,makePolicyContainer:makePolicyContainer,clonePolicyContainer:clonePolicyContainer,appendFetchMetadata:appendFetchMetadata,appendRequestOriginHeader:appendRequestOriginHeader,TAOCheck:TAOCheck,corsCheck:corsCheck,crossOriginResourcePolicyCheck:crossOriginResourcePolicyCheck,createOpaqueTimingInfo:createOpaqueTimingInfo,setRequestReferrerPolicyOnRedirect:setRequestReferrerPolicyOnRedirect,isValidHTTPToken:isValidHTTPToken,requestBadPort:requestBadPort,requestCurrentURL:requestCurrentURL,responseURL:responseURL,responseLocationURL:responseLocationURL,isBlobLike:X,isURLPotentiallyTrustworthy:isURLPotentiallyTrustworthy,isValidReasonPhrase:isValidReasonPhrase,sameOrigin:sameOrigin,normalizeMethod:normalizeMethod,serializeJavascriptValueToJSONString:serializeJavascriptValueToJSONString,makeIterator:makeIterator,isValidHeaderName:isValidHeaderName,isValidHeaderValue:isValidHeaderValue,hasOwn:je,isErrorLike:isErrorLike,fullyReadBody:fullyReadBody,bytesMatch:bytesMatch,isReadableStreamLike:isReadableStreamLike,readableStreamClose:readableStreamClose,isomorphicEncode:isomorphicEncode,isomorphicDecode:isomorphicDecode,urlIsLocal:urlIsLocal,urlHasHttpsScheme:urlHasHttpsScheme,urlIsHttpHttpsScheme:urlIsHttpHttpsScheme,readAllBytes:readAllBytes,normalizeMethodRecord:Re}},1744:(v,S,Q)=>{"use strict";const{types:O}=Q(3837);const{hasOwn:H,toUSVString:V}=Q(2538);const J={};J.converters={};J.util={};J.errors={};J.errors.exception=function(v){return new TypeError(`${v.header}: ${v.message}`)};J.errors.conversionFailed=function(v){const S=v.types.length===1?"":" one of";const Q=`${v.argument} could not be converted to`+`${S}: ${v.types.join(", ")}.`;return J.errors.exception({header:v.prefix,message:Q})};J.errors.invalidArgument=function(v){return J.errors.exception({header:v.prefix,message:`"${v.value}" is an invalid ${v.type}.`})};J.brandCheck=function(v,S,Q=undefined){if(Q?.strict!==false&&!(v instanceof S)){throw new TypeError("Illegal invocation")}else{return v?.[Symbol.toStringTag]===S.prototype[Symbol.toStringTag]}};J.argumentLengthCheck=function({length:v},S,Q){if(v<S){throw J.errors.exception({message:`${S} argument${S!==1?"s":""} required, `+`but${v?" only":""} ${v} found.`,...Q})}};J.illegalConstructor=function(){throw J.errors.exception({header:"TypeError",message:"Illegal constructor"})};J.util.Type=function(v){switch(typeof v){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":{if(v===null){return"Null"}return"Object"}}};J.util.ConvertToInt=function(v,S,Q,O={}){let H;let V;if(S===64){H=Math.pow(2,53)-1;if(Q==="unsigned"){V=0}else{V=Math.pow(-2,53)+1}}else if(Q==="unsigned"){V=0;H=Math.pow(2,S)-1}else{V=Math.pow(-2,S)-1;H=Math.pow(2,S-1)-1}let Y=Number(v);if(Y===0){Y=0}if(O.enforceRange===true){if(Number.isNaN(Y)||Y===Number.POSITIVE_INFINITY||Y===Number.NEGATIVE_INFINITY){throw J.errors.exception({header:"Integer conversion",message:`Could not convert ${v} to an integer.`})}Y=J.util.IntegerPart(Y);if(Y<V||Y>H){throw J.errors.exception({header:"Integer conversion",message:`Value must be between ${V}-${H}, got ${Y}.`})}return Y}if(!Number.isNaN(Y)&&O.clamp===true){Y=Math.min(Math.max(Y,V),H);if(Math.floor(Y)%2===0){Y=Math.floor(Y)}else{Y=Math.ceil(Y)}return Y}if(Number.isNaN(Y)||Y===0&&Object.is(0,Y)||Y===Number.POSITIVE_INFINITY||Y===Number.NEGATIVE_INFINITY){return 0}Y=J.util.IntegerPart(Y);Y=Y%Math.pow(2,S);if(Q==="signed"&&Y>=Math.pow(2,S)-1){return Y-Math.pow(2,S)}return Y};J.util.IntegerPart=function(v){const S=Math.floor(Math.abs(v));if(v<0){return-1*S}return S};J.sequenceConverter=function(v){return S=>{if(J.util.Type(S)!=="Object"){throw J.errors.exception({header:"Sequence",message:`Value of type ${J.util.Type(S)} is not an Object.`})}const Q=S?.[Symbol.iterator]?.();const O=[];if(Q===undefined||typeof Q.next!=="function"){throw J.errors.exception({header:"Sequence",message:"Object is not an iterator."})}while(true){const{done:S,value:H}=Q.next();if(S){break}O.push(v(H))}return O}};J.recordConverter=function(v,S){return Q=>{if(J.util.Type(Q)!=="Object"){throw J.errors.exception({header:"Record",message:`Value of type ${J.util.Type(Q)} is not an Object.`})}const H={};if(!O.isProxy(Q)){const O=Object.keys(Q);for(const V of O){const O=v(V);const J=S(Q[V]);H[O]=J}return H}const V=Reflect.ownKeys(Q);for(const O of V){const V=Reflect.getOwnPropertyDescriptor(Q,O);if(V?.enumerable){const V=v(O);const J=S(Q[O]);H[V]=J}}return H}};J.interfaceConverter=function(v){return(S,Q={})=>{if(Q.strict!==false&&!(S instanceof v)){throw J.errors.exception({header:v.name,message:`Expected ${S} to be an instance of ${v.name}.`})}return S}};J.dictionaryConverter=function(v){return S=>{const Q=J.util.Type(S);const O={};if(Q==="Null"||Q==="Undefined"){return O}else if(Q!=="Object"){throw J.errors.exception({header:"Dictionary",message:`Expected ${S} to be one of: Null, Undefined, Object.`})}for(const Q of v){const{key:v,defaultValue:V,required:Y,converter:X}=Q;if(Y===true){if(!H(S,v)){throw J.errors.exception({header:"Dictionary",message:`Missing required key "${v}".`})}}let ee=S[v];const ae=H(Q,"defaultValue");if(ae&&ee!==null){ee=ee??V}if(Y||ae||ee!==undefined){ee=X(ee);if(Q.allowedValues&&!Q.allowedValues.includes(ee)){throw J.errors.exception({header:"Dictionary",message:`${ee} is not an accepted type. Expected one of ${Q.allowedValues.join(", ")}.`})}O[v]=ee}}return O}};J.nullableConverter=function(v){return S=>{if(S===null){return S}return v(S)}};J.converters.DOMString=function(v,S={}){if(v===null&&S.legacyNullToEmptyString){return""}if(typeof v==="symbol"){throw new TypeError("Could not convert argument of type symbol to string.")}return String(v)};J.converters.ByteString=function(v){const S=J.converters.DOMString(v);for(let v=0;v<S.length;v++){if(S.charCodeAt(v)>255){throw new TypeError("Cannot convert argument to a ByteString because the character at "+`index ${v} has a value of ${S.charCodeAt(v)} which is greater than 255.`)}}return S};J.converters.USVString=V;J.converters.boolean=function(v){const S=Boolean(v);return S};J.converters.any=function(v){return v};J.converters["long long"]=function(v){const S=J.util.ConvertToInt(v,64,"signed");return S};J.converters["unsigned long long"]=function(v){const S=J.util.ConvertToInt(v,64,"unsigned");return S};J.converters["unsigned long"]=function(v){const S=J.util.ConvertToInt(v,32,"unsigned");return S};J.converters["unsigned short"]=function(v,S){const Q=J.util.ConvertToInt(v,16,"unsigned",S);return Q};J.converters.ArrayBuffer=function(v,S={}){if(J.util.Type(v)!=="Object"||!O.isAnyArrayBuffer(v)){throw J.errors.conversionFailed({prefix:`${v}`,argument:`${v}`,types:["ArrayBuffer"]})}if(S.allowShared===false&&O.isSharedArrayBuffer(v)){throw J.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return v};J.converters.TypedArray=function(v,S,Q={}){if(J.util.Type(v)!=="Object"||!O.isTypedArray(v)||v.constructor.name!==S.name){throw J.errors.conversionFailed({prefix:`${S.name}`,argument:`${v}`,types:[S.name]})}if(Q.allowShared===false&&O.isSharedArrayBuffer(v.buffer)){throw J.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return v};J.converters.DataView=function(v,S={}){if(J.util.Type(v)!=="Object"||!O.isDataView(v)){throw J.errors.exception({header:"DataView",message:"Object is not a DataView."})}if(S.allowShared===false&&O.isSharedArrayBuffer(v.buffer)){throw J.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."})}return v};J.converters.BufferSource=function(v,S={}){if(O.isAnyArrayBuffer(v)){return J.converters.ArrayBuffer(v,S)}if(O.isTypedArray(v)){return J.converters.TypedArray(v,v.constructor)}if(O.isDataView(v)){return J.converters.DataView(v,S)}throw new TypeError(`Could not convert ${v} to a BufferSource.`)};J.converters["sequence<ByteString>"]=J.sequenceConverter(J.converters.ByteString);J.converters["sequence<sequence<ByteString>>"]=J.sequenceConverter(J.converters["sequence<ByteString>"]);J.converters["record<ByteString, ByteString>"]=J.recordConverter(J.converters.ByteString,J.converters.ByteString);v.exports={webidl:J}},4854:v=>{"use strict";function getEncoding(v){if(!v){return"failure"}switch(v.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}v.exports={getEncoding:getEncoding}},1446:(v,S,Q)=>{"use strict";const{staticPropertyDescriptors:O,readOperation:H,fireAProgressEvent:V}=Q(7530);const{kState:J,kError:Y,kResult:X,kEvents:ee,kAborted:ae}=Q(9054);const{webidl:he}=Q(1744);const{kEnumerableProperty:Ee}=Q(3983);class FileReader extends EventTarget{constructor(){super();this[J]="empty";this[X]=null;this[Y]=null;this[ee]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(v){he.brandCheck(this,FileReader);he.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"});v=he.converters.Blob(v,{strict:false});H(this,v,"ArrayBuffer")}readAsBinaryString(v){he.brandCheck(this,FileReader);he.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"});v=he.converters.Blob(v,{strict:false});H(this,v,"BinaryString")}readAsText(v,S=undefined){he.brandCheck(this,FileReader);he.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"});v=he.converters.Blob(v,{strict:false});if(S!==undefined){S=he.converters.DOMString(S)}H(this,v,"Text",S)}readAsDataURL(v){he.brandCheck(this,FileReader);he.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"});v=he.converters.Blob(v,{strict:false});H(this,v,"DataURL")}abort(){if(this[J]==="empty"||this[J]==="done"){this[X]=null;return}if(this[J]==="loading"){this[J]="done";this[X]=null}this[ae]=true;V("abort",this);if(this[J]!=="loading"){V("loadend",this)}}get readyState(){he.brandCheck(this,FileReader);switch(this[J]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){he.brandCheck(this,FileReader);return this[X]}get error(){he.brandCheck(this,FileReader);return this[Y]}get onloadend(){he.brandCheck(this,FileReader);return this[ee].loadend}set onloadend(v){he.brandCheck(this,FileReader);if(this[ee].loadend){this.removeEventListener("loadend",this[ee].loadend)}if(typeof v==="function"){this[ee].loadend=v;this.addEventListener("loadend",v)}else{this[ee].loadend=null}}get onerror(){he.brandCheck(this,FileReader);return this[ee].error}set onerror(v){he.brandCheck(this,FileReader);if(this[ee].error){this.removeEventListener("error",this[ee].error)}if(typeof v==="function"){this[ee].error=v;this.addEventListener("error",v)}else{this[ee].error=null}}get onloadstart(){he.brandCheck(this,FileReader);return this[ee].loadstart}set onloadstart(v){he.brandCheck(this,FileReader);if(this[ee].loadstart){this.removeEventListener("loadstart",this[ee].loadstart)}if(typeof v==="function"){this[ee].loadstart=v;this.addEventListener("loadstart",v)}else{this[ee].loadstart=null}}get onprogress(){he.brandCheck(this,FileReader);return this[ee].progress}set onprogress(v){he.brandCheck(this,FileReader);if(this[ee].progress){this.removeEventListener("progress",this[ee].progress)}if(typeof v==="function"){this[ee].progress=v;this.addEventListener("progress",v)}else{this[ee].progress=null}}get onload(){he.brandCheck(this,FileReader);return this[ee].load}set onload(v){he.brandCheck(this,FileReader);if(this[ee].load){this.removeEventListener("load",this[ee].load)}if(typeof v==="function"){this[ee].load=v;this.addEventListener("load",v)}else{this[ee].load=null}}get onabort(){he.brandCheck(this,FileReader);return this[ee].abort}set onabort(v){he.brandCheck(this,FileReader);if(this[ee].abort){this.removeEventListener("abort",this[ee].abort)}if(typeof v==="function"){this[ee].abort=v;this.addEventListener("abort",v)}else{this[ee].abort=null}}}FileReader.EMPTY=FileReader.prototype.EMPTY=0;FileReader.LOADING=FileReader.prototype.LOADING=1;FileReader.DONE=FileReader.prototype.DONE=2;Object.defineProperties(FileReader.prototype,{EMPTY:O,LOADING:O,DONE:O,readAsArrayBuffer:Ee,readAsBinaryString:Ee,readAsText:Ee,readAsDataURL:Ee,abort:Ee,readyState:Ee,result:Ee,error:Ee,onloadstart:Ee,onprogress:Ee,onload:Ee,onabort:Ee,onerror:Ee,onloadend:Ee,[Symbol.toStringTag]:{value:"FileReader",writable:false,enumerable:false,configurable:true}});Object.defineProperties(FileReader,{EMPTY:O,LOADING:O,DONE:O});v.exports={FileReader:FileReader}},5504:(v,S,Q)=>{"use strict";const{webidl:O}=Q(1744);const H=Symbol("ProgressEvent state");class ProgressEvent extends Event{constructor(v,S={}){v=O.converters.DOMString(v);S=O.converters.ProgressEventInit(S??{});super(v,S);this[H]={lengthComputable:S.lengthComputable,loaded:S.loaded,total:S.total}}get lengthComputable(){O.brandCheck(this,ProgressEvent);return this[H].lengthComputable}get loaded(){O.brandCheck(this,ProgressEvent);return this[H].loaded}get total(){O.brandCheck(this,ProgressEvent);return this[H].total}}O.converters.ProgressEventInit=O.dictionaryConverter([{key:"lengthComputable",converter:O.converters.boolean,defaultValue:false},{key:"loaded",converter:O.converters["unsigned long long"],defaultValue:0},{key:"total",converter:O.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:O.converters.boolean,defaultValue:false},{key:"cancelable",converter:O.converters.boolean,defaultValue:false},{key:"composed",converter:O.converters.boolean,defaultValue:false}]);v.exports={ProgressEvent:ProgressEvent}},9054:v=>{"use strict";v.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},7530:(v,S,Q)=>{"use strict";const{kState:O,kError:H,kResult:V,kAborted:J,kLastProgressEventFired:Y}=Q(9054);const{ProgressEvent:X}=Q(5504);const{getEncoding:ee}=Q(4854);const{DOMException:ae}=Q(1037);const{serializeAMimeType:he,parseMIMEType:Ee}=Q(685);const{types:Be}=Q(3837);const{StringDecoder:ke}=Q(1576);const{btoa:Re}=Q(4300);const Oe={enumerable:true,writable:false,configurable:false};function readOperation(v,S,Q,X){if(v[O]==="loading"){throw new ae("Invalid state","InvalidStateError")}v[O]="loading";v[V]=null;v[H]=null;const ee=S.stream();const he=ee.getReader();const Ee=[];let ke=he.read();let Re=true;(async()=>{while(!v[J]){try{const{done:ee,value:ae}=await ke;if(Re&&!v[J]){queueMicrotask((()=>{fireAProgressEvent("loadstart",v)}))}Re=false;if(!ee&&Be.isUint8Array(ae)){Ee.push(ae);if((v[Y]===undefined||Date.now()-v[Y]>=50)&&!v[J]){v[Y]=Date.now();queueMicrotask((()=>{fireAProgressEvent("progress",v)}))}ke=he.read()}else if(ee){queueMicrotask((()=>{v[O]="done";try{const O=packageData(Ee,Q,S.type,X);if(v[J]){return}v[V]=O;fireAProgressEvent("load",v)}catch(S){v[H]=S;fireAProgressEvent("error",v)}if(v[O]!=="loading"){fireAProgressEvent("loadend",v)}}));break}}catch(S){if(v[J]){return}queueMicrotask((()=>{v[O]="done";v[H]=S;fireAProgressEvent("error",v);if(v[O]!=="loading"){fireAProgressEvent("loadend",v)}}));break}}})()}function fireAProgressEvent(v,S){const Q=new X(v,{bubbles:false,cancelable:false});S.dispatchEvent(Q)}function packageData(v,S,Q,O){switch(S){case"DataURL":{let S="data:";const O=Ee(Q||"application/octet-stream");if(O!=="failure"){S+=he(O)}S+=";base64,";const H=new ke("latin1");for(const Q of v){S+=Re(H.write(Q))}S+=Re(H.end());return S}case"Text":{let S="failure";if(O){S=ee(O)}if(S==="failure"&&Q){const v=Ee(Q);if(v!=="failure"){S=ee(v.parameters.get("charset"))}}if(S==="failure"){S="UTF-8"}return decode(v,S)}case"ArrayBuffer":{const S=combineByteSequences(v);return S.buffer}case"BinaryString":{let S="";const Q=new ke("latin1");for(const O of v){S+=Q.write(O)}S+=Q.end();return S}}}function decode(v,S){const Q=combineByteSequences(v);const O=BOMSniffing(Q);let H=0;if(O!==null){S=O;H=O==="UTF-8"?3:2}const V=Q.slice(H);return new TextDecoder(S).decode(V)}function BOMSniffing(v){const[S,Q,O]=v;if(S===239&&Q===187&&O===191){return"UTF-8"}else if(S===254&&Q===255){return"UTF-16BE"}else if(S===255&&Q===254){return"UTF-16LE"}return null}function combineByteSequences(v){const S=v.reduce(((v,S)=>v+S.byteLength),0);let Q=0;return v.reduce(((v,S)=>{v.set(S,Q);Q+=S.byteLength;return v}),new Uint8Array(S))}v.exports={staticPropertyDescriptors:Oe,readOperation:readOperation,fireAProgressEvent:fireAProgressEvent}},1892:(v,S,Q)=>{"use strict";const O=Symbol.for("undici.globalDispatcher.1");const{InvalidArgumentError:H}=Q(8045);const V=Q(7890);if(getGlobalDispatcher()===undefined){setGlobalDispatcher(new V)}function setGlobalDispatcher(v){if(!v||typeof v.dispatch!=="function"){throw new H("Argument agent must implement Agent")}Object.defineProperty(globalThis,O,{value:v,writable:true,enumerable:false,configurable:false})}function getGlobalDispatcher(){return globalThis[O]}v.exports={setGlobalDispatcher:setGlobalDispatcher,getGlobalDispatcher:getGlobalDispatcher}},6930:v=>{"use strict";v.exports=class DecoratorHandler{constructor(v){this.handler=v}onConnect(...v){return this.handler.onConnect(...v)}onError(...v){return this.handler.onError(...v)}onUpgrade(...v){return this.handler.onUpgrade(...v)}onHeaders(...v){return this.handler.onHeaders(...v)}onData(...v){return this.handler.onData(...v)}onComplete(...v){return this.handler.onComplete(...v)}onBodySent(...v){return this.handler.onBodySent(...v)}}},2860:(v,S,Q)=>{"use strict";const O=Q(3983);const{kBodyUsed:H}=Q(2785);const V=Q(9491);const{InvalidArgumentError:J}=Q(8045);const Y=Q(2361);const X=[300,301,302,303,307,308];const ee=Symbol("body");class BodyAsyncIterable{constructor(v){this[ee]=v;this[H]=false}async*[Symbol.asyncIterator](){V(!this[H],"disturbed");this[H]=true;yield*this[ee]}}class RedirectHandler{constructor(v,S,Q,X){if(S!=null&&(!Number.isInteger(S)||S<0)){throw new J("maxRedirections must be a positive number")}O.validateHandler(X,Q.method,Q.upgrade);this.dispatch=v;this.location=null;this.abort=null;this.opts={...Q,maxRedirections:0};this.maxRedirections=S;this.handler=X;this.history=[];if(O.isStream(this.opts.body)){if(O.bodyLength(this.opts.body)===0){this.opts.body.on("data",(function(){V(false)}))}if(typeof this.opts.body.readableDidRead!=="boolean"){this.opts.body[H]=false;Y.prototype.on.call(this.opts.body,"data",(function(){this[H]=true}))}}else if(this.opts.body&&typeof this.opts.body.pipeTo==="function"){this.opts.body=new BodyAsyncIterable(this.opts.body)}else if(this.opts.body&&typeof this.opts.body!=="string"&&!ArrayBuffer.isView(this.opts.body)&&O.isIterable(this.opts.body)){this.opts.body=new BodyAsyncIterable(this.opts.body)}}onConnect(v){this.abort=v;this.handler.onConnect(v,{history:this.history})}onUpgrade(v,S,Q){this.handler.onUpgrade(v,S,Q)}onError(v){this.handler.onError(v)}onHeaders(v,S,Q,H){this.location=this.history.length>=this.maxRedirections||O.isDisturbed(this.opts.body)?null:parseLocation(v,S);if(this.opts.origin){this.history.push(new URL(this.opts.path,this.opts.origin))}if(!this.location){return this.handler.onHeaders(v,S,Q,H)}const{origin:V,pathname:J,search:Y}=O.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin)));const X=Y?`${J}${Y}`:J;this.opts.headers=cleanRequestHeaders(this.opts.headers,v===303,this.opts.origin!==V);this.opts.path=X;this.opts.origin=V;this.opts.maxRedirections=0;this.opts.query=null;if(v===303&&this.opts.method!=="HEAD"){this.opts.method="GET";this.opts.body=null}}onData(v){if(this.location){}else{return this.handler.onData(v)}}onComplete(v){if(this.location){this.location=null;this.abort=null;this.dispatch(this.opts,this)}else{this.handler.onComplete(v)}}onBodySent(v){if(this.handler.onBodySent){this.handler.onBodySent(v)}}}function parseLocation(v,S){if(X.indexOf(v)===-1){return null}for(let v=0;v<S.length;v+=2){if(S[v].toString().toLowerCase()==="location"){return S[v+1]}}}function shouldRemoveHeader(v,S,Q){return v.length===4&&v.toString().toLowerCase()==="host"||S&&v.toString().toLowerCase().indexOf("content-")===0||Q&&v.length===13&&v.toString().toLowerCase()==="authorization"||Q&&v.length===6&&v.toString().toLowerCase()==="cookie"}function cleanRequestHeaders(v,S,Q){const O=[];if(Array.isArray(v)){for(let H=0;H<v.length;H+=2){if(!shouldRemoveHeader(v[H],S,Q)){O.push(v[H],v[H+1])}}}else if(v&&typeof v==="object"){for(const H of Object.keys(v)){if(!shouldRemoveHeader(H,S,Q)){O.push(H,v[H])}}}else{V(v==null,"headers must be an object or an array")}return O}v.exports=RedirectHandler},2286:(v,S,Q)=>{const O=Q(9491);const{kRetryHandlerDefaultRetry:H}=Q(2785);const{RequestRetryError:V}=Q(8045);const{isDisturbed:J,parseHeaders:Y,parseRangeHeader:X}=Q(3983);function calculateRetryAfterHeader(v){const S=Date.now();const Q=new Date(v).getTime()-S;return Q}class RetryHandler{constructor(v,S){const{retryOptions:Q,...O}=v;const{retry:V,maxRetries:J,maxTimeout:Y,minTimeout:X,timeoutFactor:ee,methods:ae,errorCodes:he,retryAfter:Ee,statusCodes:Be}=Q??{};this.dispatch=S.dispatch;this.handler=S.handler;this.opts=O;this.abort=null;this.aborted=false;this.retryOpts={retry:V??RetryHandler[H],retryAfter:Ee??true,maxTimeout:Y??30*1e3,timeout:X??500,timeoutFactor:ee??2,maxRetries:J??5,methods:ae??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:Be??[500,502,503,504,429],errorCodes:he??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]};this.retryCount=0;this.start=0;this.end=null;this.etag=null;this.resume=null;this.handler.onConnect((v=>{this.aborted=true;if(this.abort){this.abort(v)}else{this.reason=v}}))}onRequestSent(){if(this.handler.onRequestSent){this.handler.onRequestSent()}}onUpgrade(v,S,Q){if(this.handler.onUpgrade){this.handler.onUpgrade(v,S,Q)}}onConnect(v){if(this.aborted){v(this.reason)}else{this.abort=v}}onBodySent(v){if(this.handler.onBodySent)return this.handler.onBodySent(v)}static[H](v,{state:S,opts:Q},O){const{statusCode:H,code:V,headers:J}=v;const{method:Y,retryOptions:X}=Q;const{maxRetries:ee,timeout:ae,maxTimeout:he,timeoutFactor:Ee,statusCodes:Be,errorCodes:ke,methods:Re}=X;let{counter:Oe,currentTimeout:Pe}=S;Pe=Pe!=null&&Pe>0?Pe:ae;if(V&&V!=="UND_ERR_REQ_RETRY"&&V!=="UND_ERR_SOCKET"&&!ke.includes(V)){O(v);return}if(Array.isArray(Re)&&!Re.includes(Y)){O(v);return}if(H!=null&&Array.isArray(Be)&&!Be.includes(H)){O(v);return}if(Oe>ee){O(v);return}let Le=J!=null&&J["retry-after"];if(Le){Le=Number(Le);Le=isNaN(Le)?calculateRetryAfterHeader(Le):Le*1e3}const je=Le>0?Math.min(Le,he):Math.min(Pe*Ee**Oe,he);S.currentTimeout=je;setTimeout((()=>O(null)),je)}onHeaders(v,S,Q,H){const J=Y(S);this.retryCount+=1;if(v>=300){this.abort(new V("Request failed",v,{headers:J,count:this.retryCount}));return false}if(this.resume!=null){this.resume=null;if(v!==206){return true}const S=X(J["content-range"]);if(!S){this.abort(new V("Content-Range mismatch",v,{headers:J,count:this.retryCount}));return false}if(this.etag!=null&&this.etag!==J.etag){this.abort(new V("ETag mismatch",v,{headers:J,count:this.retryCount}));return false}const{start:H,size:Y,end:ee=Y}=S;O(this.start===H,"content-range mismatch");O(this.end==null||this.end===ee,"content-range mismatch");this.resume=Q;return true}if(this.end==null){if(v===206){const V=X(J["content-range"]);if(V==null){return this.handler.onHeaders(v,S,Q,H)}const{start:Y,size:ee,end:ae=ee}=V;O(Y!=null&&Number.isFinite(Y)&&this.start!==Y,"content-range mismatch");O(Number.isFinite(Y));O(ae!=null&&Number.isFinite(ae)&&this.end!==ae,"invalid content-length");this.start=Y;this.end=ae}if(this.end==null){const v=J["content-length"];this.end=v!=null?Number(v):null}O(Number.isFinite(this.start));O(this.end==null||Number.isFinite(this.end),"invalid content-length");this.resume=Q;this.etag=J.etag!=null?J.etag:null;return this.handler.onHeaders(v,S,Q,H)}const ee=new V("Request failed",v,{headers:J,count:this.retryCount});this.abort(ee);return false}onData(v){this.start+=v.length;return this.handler.onData(v)}onComplete(v){this.retryCount=0;return this.handler.onComplete(v)}onError(v){if(this.aborted||J(this.opts.body)){return this.handler.onError(v)}this.retryOpts.retry(v,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},onRetry.bind(this));function onRetry(v){if(v!=null||this.aborted||J(this.opts.body)){return this.handler.onError(v)}if(this.start!==0){this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??""}`}}}try{this.dispatch(this.opts,this)}catch(v){this.handler.onError(v)}}}}v.exports=RetryHandler},8861:(v,S,Q)=>{"use strict";const O=Q(2860);function createRedirectInterceptor({maxRedirections:v}){return S=>function Intercept(Q,H){const{maxRedirections:V=v}=Q;if(!V){return S(Q,H)}const J=new O(S,V,Q,H);Q={...Q,maxRedirections:0};return S(Q,J)}}v.exports=createRedirectInterceptor},953:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.SPECIAL_HEADERS=S.HEADER_STATE=S.MINOR=S.MAJOR=S.CONNECTION_TOKEN_CHARS=S.HEADER_CHARS=S.TOKEN=S.STRICT_TOKEN=S.HEX=S.URL_CHAR=S.STRICT_URL_CHAR=S.USERINFO_CHARS=S.MARK=S.ALPHANUM=S.NUM=S.HEX_MAP=S.NUM_MAP=S.ALPHA=S.FINISH=S.H_METHOD_MAP=S.METHOD_MAP=S.METHODS_RTSP=S.METHODS_ICE=S.METHODS_HTTP=S.METHODS=S.LENIENT_FLAGS=S.FLAGS=S.TYPE=S.ERROR=void 0;const O=Q(1891);var H;(function(v){v[v["OK"]=0]="OK";v[v["INTERNAL"]=1]="INTERNAL";v[v["STRICT"]=2]="STRICT";v[v["LF_EXPECTED"]=3]="LF_EXPECTED";v[v["UNEXPECTED_CONTENT_LENGTH"]=4]="UNEXPECTED_CONTENT_LENGTH";v[v["CLOSED_CONNECTION"]=5]="CLOSED_CONNECTION";v[v["INVALID_METHOD"]=6]="INVALID_METHOD";v[v["INVALID_URL"]=7]="INVALID_URL";v[v["INVALID_CONSTANT"]=8]="INVALID_CONSTANT";v[v["INVALID_VERSION"]=9]="INVALID_VERSION";v[v["INVALID_HEADER_TOKEN"]=10]="INVALID_HEADER_TOKEN";v[v["INVALID_CONTENT_LENGTH"]=11]="INVALID_CONTENT_LENGTH";v[v["INVALID_CHUNK_SIZE"]=12]="INVALID_CHUNK_SIZE";v[v["INVALID_STATUS"]=13]="INVALID_STATUS";v[v["INVALID_EOF_STATE"]=14]="INVALID_EOF_STATE";v[v["INVALID_TRANSFER_ENCODING"]=15]="INVALID_TRANSFER_ENCODING";v[v["CB_MESSAGE_BEGIN"]=16]="CB_MESSAGE_BEGIN";v[v["CB_HEADERS_COMPLETE"]=17]="CB_HEADERS_COMPLETE";v[v["CB_MESSAGE_COMPLETE"]=18]="CB_MESSAGE_COMPLETE";v[v["CB_CHUNK_HEADER"]=19]="CB_CHUNK_HEADER";v[v["CB_CHUNK_COMPLETE"]=20]="CB_CHUNK_COMPLETE";v[v["PAUSED"]=21]="PAUSED";v[v["PAUSED_UPGRADE"]=22]="PAUSED_UPGRADE";v[v["PAUSED_H2_UPGRADE"]=23]="PAUSED_H2_UPGRADE";v[v["USER"]=24]="USER"})(H=S.ERROR||(S.ERROR={}));var V;(function(v){v[v["BOTH"]=0]="BOTH";v[v["REQUEST"]=1]="REQUEST";v[v["RESPONSE"]=2]="RESPONSE"})(V=S.TYPE||(S.TYPE={}));var J;(function(v){v[v["CONNECTION_KEEP_ALIVE"]=1]="CONNECTION_KEEP_ALIVE";v[v["CONNECTION_CLOSE"]=2]="CONNECTION_CLOSE";v[v["CONNECTION_UPGRADE"]=4]="CONNECTION_UPGRADE";v[v["CHUNKED"]=8]="CHUNKED";v[v["UPGRADE"]=16]="UPGRADE";v[v["CONTENT_LENGTH"]=32]="CONTENT_LENGTH";v[v["SKIPBODY"]=64]="SKIPBODY";v[v["TRAILING"]=128]="TRAILING";v[v["TRANSFER_ENCODING"]=512]="TRANSFER_ENCODING"})(J=S.FLAGS||(S.FLAGS={}));var Y;(function(v){v[v["HEADERS"]=1]="HEADERS";v[v["CHUNKED_LENGTH"]=2]="CHUNKED_LENGTH";v[v["KEEP_ALIVE"]=4]="KEEP_ALIVE"})(Y=S.LENIENT_FLAGS||(S.LENIENT_FLAGS={}));var X;(function(v){v[v["DELETE"]=0]="DELETE";v[v["GET"]=1]="GET";v[v["HEAD"]=2]="HEAD";v[v["POST"]=3]="POST";v[v["PUT"]=4]="PUT";v[v["CONNECT"]=5]="CONNECT";v[v["OPTIONS"]=6]="OPTIONS";v[v["TRACE"]=7]="TRACE";v[v["COPY"]=8]="COPY";v[v["LOCK"]=9]="LOCK";v[v["MKCOL"]=10]="MKCOL";v[v["MOVE"]=11]="MOVE";v[v["PROPFIND"]=12]="PROPFIND";v[v["PROPPATCH"]=13]="PROPPATCH";v[v["SEARCH"]=14]="SEARCH";v[v["UNLOCK"]=15]="UNLOCK";v[v["BIND"]=16]="BIND";v[v["REBIND"]=17]="REBIND";v[v["UNBIND"]=18]="UNBIND";v[v["ACL"]=19]="ACL";v[v["REPORT"]=20]="REPORT";v[v["MKACTIVITY"]=21]="MKACTIVITY";v[v["CHECKOUT"]=22]="CHECKOUT";v[v["MERGE"]=23]="MERGE";v[v["M-SEARCH"]=24]="M-SEARCH";v[v["NOTIFY"]=25]="NOTIFY";v[v["SUBSCRIBE"]=26]="SUBSCRIBE";v[v["UNSUBSCRIBE"]=27]="UNSUBSCRIBE";v[v["PATCH"]=28]="PATCH";v[v["PURGE"]=29]="PURGE";v[v["MKCALENDAR"]=30]="MKCALENDAR";v[v["LINK"]=31]="LINK";v[v["UNLINK"]=32]="UNLINK";v[v["SOURCE"]=33]="SOURCE";v[v["PRI"]=34]="PRI";v[v["DESCRIBE"]=35]="DESCRIBE";v[v["ANNOUNCE"]=36]="ANNOUNCE";v[v["SETUP"]=37]="SETUP";v[v["PLAY"]=38]="PLAY";v[v["PAUSE"]=39]="PAUSE";v[v["TEARDOWN"]=40]="TEARDOWN";v[v["GET_PARAMETER"]=41]="GET_PARAMETER";v[v["SET_PARAMETER"]=42]="SET_PARAMETER";v[v["REDIRECT"]=43]="REDIRECT";v[v["RECORD"]=44]="RECORD";v[v["FLUSH"]=45]="FLUSH"})(X=S.METHODS||(S.METHODS={}));S.METHODS_HTTP=[X.DELETE,X.GET,X.HEAD,X.POST,X.PUT,X.CONNECT,X.OPTIONS,X.TRACE,X.COPY,X.LOCK,X.MKCOL,X.MOVE,X.PROPFIND,X.PROPPATCH,X.SEARCH,X.UNLOCK,X.BIND,X.REBIND,X.UNBIND,X.ACL,X.REPORT,X.MKACTIVITY,X.CHECKOUT,X.MERGE,X["M-SEARCH"],X.NOTIFY,X.SUBSCRIBE,X.UNSUBSCRIBE,X.PATCH,X.PURGE,X.MKCALENDAR,X.LINK,X.UNLINK,X.PRI,X.SOURCE];S.METHODS_ICE=[X.SOURCE];S.METHODS_RTSP=[X.OPTIONS,X.DESCRIBE,X.ANNOUNCE,X.SETUP,X.PLAY,X.PAUSE,X.TEARDOWN,X.GET_PARAMETER,X.SET_PARAMETER,X.REDIRECT,X.RECORD,X.FLUSH,X.GET,X.POST];S.METHOD_MAP=O.enumToMap(X);S.H_METHOD_MAP={};Object.keys(S.METHOD_MAP).forEach((v=>{if(/^H/.test(v)){S.H_METHOD_MAP[v]=S.METHOD_MAP[v]}}));var ee;(function(v){v[v["SAFE"]=0]="SAFE";v[v["SAFE_WITH_CB"]=1]="SAFE_WITH_CB";v[v["UNSAFE"]=2]="UNSAFE"})(ee=S.FINISH||(S.FINISH={}));S.ALPHA=[];for(let v="A".charCodeAt(0);v<="Z".charCodeAt(0);v++){S.ALPHA.push(String.fromCharCode(v));S.ALPHA.push(String.fromCharCode(v+32))}S.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};S.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};S.NUM=["0","1","2","3","4","5","6","7","8","9"];S.ALPHANUM=S.ALPHA.concat(S.NUM);S.MARK=["-","_",".","!","~","*","'","(",")"];S.USERINFO_CHARS=S.ALPHANUM.concat(S.MARK).concat(["%",";",":","&","=","+","$",","]);S.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(S.ALPHANUM);S.URL_CHAR=S.STRICT_URL_CHAR.concat(["\t","\f"]);for(let v=128;v<=255;v++){S.URL_CHAR.push(v)}S.HEX=S.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);S.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(S.ALPHANUM);S.TOKEN=S.STRICT_TOKEN.concat([" "]);S.HEADER_CHARS=["\t"];for(let v=32;v<=255;v++){if(v!==127){S.HEADER_CHARS.push(v)}}S.CONNECTION_TOKEN_CHARS=S.HEADER_CHARS.filter((v=>v!==44));S.MAJOR=S.NUM_MAP;S.MINOR=S.MAJOR;var ae;(function(v){v[v["GENERAL"]=0]="GENERAL";v[v["CONNECTION"]=1]="CONNECTION";v[v["CONTENT_LENGTH"]=2]="CONTENT_LENGTH";v[v["TRANSFER_ENCODING"]=3]="TRANSFER_ENCODING";v[v["UPGRADE"]=4]="UPGRADE";v[v["CONNECTION_KEEP_ALIVE"]=5]="CONNECTION_KEEP_ALIVE";v[v["CONNECTION_CLOSE"]=6]="CONNECTION_CLOSE";v[v["CONNECTION_UPGRADE"]=7]="CONNECTION_UPGRADE";v[v["TRANSFER_ENCODING_CHUNKED"]=8]="TRANSFER_ENCODING_CHUNKED"})(ae=S.HEADER_STATE||(S.HEADER_STATE={}));S.SPECIAL_HEADERS={connection:ae.CONNECTION,"content-length":ae.CONTENT_LENGTH,"proxy-connection":ae.CONNECTION,"transfer-encoding":ae.TRANSFER_ENCODING,upgrade:ae.UPGRADE}},5253:v=>{v.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="},5627:v=>{v.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="},1891:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S.enumToMap=void 0;function enumToMap(v){const S={};Object.keys(v).forEach((Q=>{const O=v[Q];if(typeof O==="number"){S[Q]=O}}));return S}S.enumToMap=enumToMap},6771:(v,S,Q)=>{"use strict";const{kClients:O}=Q(2785);const H=Q(7890);const{kAgent:V,kMockAgentSet:J,kMockAgentGet:Y,kDispatches:X,kIsMockActive:ee,kNetConnect:ae,kGetNetConnect:he,kOptions:Ee,kFactory:Be}=Q(4347);const ke=Q(8687);const Re=Q(6193);const{matchValue:Oe,buildMockOptions:Pe}=Q(9323);const{InvalidArgumentError:Le,UndiciError:je}=Q(8045);const qe=Q(412);const Ve=Q(8891);const ze=Q(6823);class FakeWeakRef{constructor(v){this.value=v}deref(){return this.value}}class MockAgent extends qe{constructor(v){super(v);this[ae]=true;this[ee]=true;if(v&&v.agent&&typeof v.agent.dispatch!=="function"){throw new Le("Argument opts.agent must implement Agent")}const S=v&&v.agent?v.agent:new H(v);this[V]=S;this[O]=S[O];this[Ee]=Pe(v)}get(v){let S=this[Y](v);if(!S){S=this[Be](v);this[J](v,S)}return S}dispatch(v,S){this.get(v.origin);return this[V].dispatch(v,S)}async close(){await this[V].close();this[O].clear()}deactivate(){this[ee]=false}activate(){this[ee]=true}enableNetConnect(v){if(typeof v==="string"||typeof v==="function"||v instanceof RegExp){if(Array.isArray(this[ae])){this[ae].push(v)}else{this[ae]=[v]}}else if(typeof v==="undefined"){this[ae]=true}else{throw new Le("Unsupported matcher. Must be one of String|Function|RegExp.")}}disableNetConnect(){this[ae]=false}get isMockActive(){return this[ee]}[J](v,S){this[O].set(v,new FakeWeakRef(S))}[Be](v){const S=Object.assign({agent:this},this[Ee]);return this[Ee]&&this[Ee].connections===1?new ke(v,S):new Re(v,S)}[Y](v){const S=this[O].get(v);if(S){return S.deref()}if(typeof v!=="string"){const S=this[Be]("http://localhost:9999");this[J](v,S);return S}for(const[S,Q]of Array.from(this[O])){const O=Q.deref();if(O&&typeof S!=="string"&&Oe(S,v)){const S=this[Be](v);this[J](v,S);S[X]=O[X];return S}}}[he](){return this[ae]}pendingInterceptors(){const v=this[O];return Array.from(v.entries()).flatMap((([v,S])=>S.deref()[X].map((S=>({...S,origin:v}))))).filter((({pending:v})=>v))}assertNoPendingInterceptors({pendingInterceptorsFormatter:v=new ze}={}){const S=this.pendingInterceptors();if(S.length===0){return}const Q=new Ve("interceptor","interceptors").pluralize(S.length);throw new je(`\n${Q.count} ${Q.noun} ${Q.is} pending:\n\n${v.format(S)}\n`.trim())}}v.exports=MockAgent},8687:(v,S,Q)=>{"use strict";const{promisify:O}=Q(3837);const H=Q(3598);const{buildMockDispatch:V}=Q(9323);const{kDispatches:J,kMockAgent:Y,kClose:X,kOriginalClose:ee,kOrigin:ae,kOriginalDispatch:he,kConnected:Ee}=Q(4347);const{MockInterceptor:Be}=Q(410);const ke=Q(2785);const{InvalidArgumentError:Re}=Q(8045);class MockClient extends H{constructor(v,S){super(v,S);if(!S||!S.agent||typeof S.agent.dispatch!=="function"){throw new Re("Argument opts.agent must implement Agent")}this[Y]=S.agent;this[ae]=v;this[J]=[];this[Ee]=1;this[he]=this.dispatch;this[ee]=this.close.bind(this);this.dispatch=V.call(this);this.close=this[X]}get[ke.kConnected](){return this[Ee]}intercept(v){return new Be(v,this[J])}async[X](){await O(this[ee])();this[Ee]=0;this[Y][ke.kClients].delete(this[ae])}}v.exports=MockClient},888:(v,S,Q)=>{"use strict";const{UndiciError:O}=Q(8045);class MockNotMatchedError extends O{constructor(v){super(v);Error.captureStackTrace(this,MockNotMatchedError);this.name="MockNotMatchedError";this.message=v||"The request does not match any registered mock dispatches";this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}v.exports={MockNotMatchedError:MockNotMatchedError}},410:(v,S,Q)=>{"use strict";const{getResponseData:O,buildKey:H,addMockDispatch:V}=Q(9323);const{kDispatches:J,kDispatchKey:Y,kDefaultHeaders:X,kDefaultTrailers:ee,kContentLength:ae,kMockDispatch:he}=Q(4347);const{InvalidArgumentError:Ee}=Q(8045);const{buildURL:Be}=Q(3983);class MockScope{constructor(v){this[he]=v}delay(v){if(typeof v!=="number"||!Number.isInteger(v)||v<=0){throw new Ee("waitInMs must be a valid integer > 0")}this[he].delay=v;return this}persist(){this[he].persist=true;return this}times(v){if(typeof v!=="number"||!Number.isInteger(v)||v<=0){throw new Ee("repeatTimes must be a valid integer > 0")}this[he].times=v;return this}}class MockInterceptor{constructor(v,S){if(typeof v!=="object"){throw new Ee("opts must be an object")}if(typeof v.path==="undefined"){throw new Ee("opts.path must be defined")}if(typeof v.method==="undefined"){v.method="GET"}if(typeof v.path==="string"){if(v.query){v.path=Be(v.path,v.query)}else{const S=new URL(v.path,"data://");v.path=S.pathname+S.search}}if(typeof v.method==="string"){v.method=v.method.toUpperCase()}this[Y]=H(v);this[J]=S;this[X]={};this[ee]={};this[ae]=false}createMockScopeDispatchData(v,S,Q={}){const H=O(S);const V=this[ae]?{"content-length":H.length}:{};const J={...this[X],...V,...Q.headers};const Y={...this[ee],...Q.trailers};return{statusCode:v,data:S,headers:J,trailers:Y}}validateReplyParameters(v,S,Q){if(typeof v==="undefined"){throw new Ee("statusCode must be defined")}if(typeof S==="undefined"){throw new Ee("data must be defined")}if(typeof Q!=="object"){throw new Ee("responseOptions must be an object")}}reply(v){if(typeof v==="function"){const wrappedDefaultsCallback=S=>{const Q=v(S);if(typeof Q!=="object"){throw new Ee("reply options callback must return an object")}const{statusCode:O,data:H="",responseOptions:V={}}=Q;this.validateReplyParameters(O,H,V);return{...this.createMockScopeDispatchData(O,H,V)}};const S=V(this[J],this[Y],wrappedDefaultsCallback);return new MockScope(S)}const[S,Q="",O={}]=[...arguments];this.validateReplyParameters(S,Q,O);const H=this.createMockScopeDispatchData(S,Q,O);const X=V(this[J],this[Y],H);return new MockScope(X)}replyWithError(v){if(typeof v==="undefined"){throw new Ee("error must be defined")}const S=V(this[J],this[Y],{error:v});return new MockScope(S)}defaultReplyHeaders(v){if(typeof v==="undefined"){throw new Ee("headers must be defined")}this[X]=v;return this}defaultReplyTrailers(v){if(typeof v==="undefined"){throw new Ee("trailers must be defined")}this[ee]=v;return this}replyContentLength(){this[ae]=true;return this}}v.exports.MockInterceptor=MockInterceptor;v.exports.MockScope=MockScope},6193:(v,S,Q)=>{"use strict";const{promisify:O}=Q(3837);const H=Q(4634);const{buildMockDispatch:V}=Q(9323);const{kDispatches:J,kMockAgent:Y,kClose:X,kOriginalClose:ee,kOrigin:ae,kOriginalDispatch:he,kConnected:Ee}=Q(4347);const{MockInterceptor:Be}=Q(410);const ke=Q(2785);const{InvalidArgumentError:Re}=Q(8045);class MockPool extends H{constructor(v,S){super(v,S);if(!S||!S.agent||typeof S.agent.dispatch!=="function"){throw new Re("Argument opts.agent must implement Agent")}this[Y]=S.agent;this[ae]=v;this[J]=[];this[Ee]=1;this[he]=this.dispatch;this[ee]=this.close.bind(this);this.dispatch=V.call(this);this.close=this[X]}get[ke.kConnected](){return this[Ee]}intercept(v){return new Be(v,this[J])}async[X](){await O(this[ee])();this[Ee]=0;this[Y][ke.kClients].delete(this[ae])}}v.exports=MockPool},4347:v=>{"use strict";v.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},9323:(v,S,Q)=>{"use strict";const{MockNotMatchedError:O}=Q(888);const{kDispatches:H,kMockAgent:V,kOriginalDispatch:J,kOrigin:Y,kGetNetConnect:X}=Q(4347);const{buildURL:ee,nop:ae}=Q(3983);const{STATUS_CODES:he}=Q(3685);const{types:{isPromise:Ee}}=Q(3837);function matchValue(v,S){if(typeof v==="string"){return v===S}if(v instanceof RegExp){return v.test(S)}if(typeof v==="function"){return v(S)===true}return false}function lowerCaseEntries(v){return Object.fromEntries(Object.entries(v).map((([v,S])=>[v.toLocaleLowerCase(),S])))}function getHeaderByName(v,S){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q+=2){if(v[Q].toLocaleLowerCase()===S.toLocaleLowerCase()){return v[Q+1]}}return undefined}else if(typeof v.get==="function"){return v.get(S)}else{return lowerCaseEntries(v)[S.toLocaleLowerCase()]}}function buildHeadersFromArray(v){const S=v.slice();const Q=[];for(let v=0;v<S.length;v+=2){Q.push([S[v],S[v+1]])}return Object.fromEntries(Q)}function matchHeaders(v,S){if(typeof v.headers==="function"){if(Array.isArray(S)){S=buildHeadersFromArray(S)}return v.headers(S?lowerCaseEntries(S):{})}if(typeof v.headers==="undefined"){return true}if(typeof S!=="object"||typeof v.headers!=="object"){return false}for(const[Q,O]of Object.entries(v.headers)){const v=getHeaderByName(S,Q);if(!matchValue(O,v)){return false}}return true}function safeUrl(v){if(typeof v!=="string"){return v}const S=v.split("?");if(S.length!==2){return v}const Q=new URLSearchParams(S.pop());Q.sort();return[...S,Q.toString()].join("?")}function matchKey(v,{path:S,method:Q,body:O,headers:H}){const V=matchValue(v.path,S);const J=matchValue(v.method,Q);const Y=typeof v.body!=="undefined"?matchValue(v.body,O):true;const X=matchHeaders(v,H);return V&&J&&Y&&X}function getResponseData(v){if(Buffer.isBuffer(v)){return v}else if(typeof v==="object"){return JSON.stringify(v)}else{return v.toString()}}function getMockDispatch(v,S){const Q=S.query?ee(S.path,S.query):S.path;const H=typeof Q==="string"?safeUrl(Q):Q;let V=v.filter((({consumed:v})=>!v)).filter((({path:v})=>matchValue(safeUrl(v),H)));if(V.length===0){throw new O(`Mock dispatch not matched for path '${H}'`)}V=V.filter((({method:v})=>matchValue(v,S.method)));if(V.length===0){throw new O(`Mock dispatch not matched for method '${S.method}'`)}V=V.filter((({body:v})=>typeof v!=="undefined"?matchValue(v,S.body):true));if(V.length===0){throw new O(`Mock dispatch not matched for body '${S.body}'`)}V=V.filter((v=>matchHeaders(v,S.headers)));if(V.length===0){throw new O(`Mock dispatch not matched for headers '${typeof S.headers==="object"?JSON.stringify(S.headers):S.headers}'`)}return V[0]}function addMockDispatch(v,S,Q){const O={timesInvoked:0,times:1,persist:false,consumed:false};const H=typeof Q==="function"?{callback:Q}:{...Q};const V={...O,...S,pending:true,data:{error:null,...H}};v.push(V);return V}function deleteMockDispatch(v,S){const Q=v.findIndex((v=>{if(!v.consumed){return false}return matchKey(v,S)}));if(Q!==-1){v.splice(Q,1)}}function buildKey(v){const{path:S,method:Q,body:O,headers:H,query:V}=v;return{path:S,method:Q,body:O,headers:H,query:V}}function generateKeyValues(v){return Object.entries(v).reduce(((v,[S,Q])=>[...v,Buffer.from(`${S}`),Array.isArray(Q)?Q.map((v=>Buffer.from(`${v}`))):Buffer.from(`${Q}`)]),[])}function getStatusText(v){return he[v]||"unknown"}async function getResponse(v){const S=[];for await(const Q of v){S.push(Q)}return Buffer.concat(S).toString("utf8")}function mockDispatch(v,S){const Q=buildKey(v);const O=getMockDispatch(this[H],Q);O.timesInvoked++;if(O.data.callback){O.data={...O.data,...O.data.callback(v)}}const{data:{statusCode:V,data:J,headers:Y,trailers:X,error:ee},delay:he,persist:Be}=O;const{timesInvoked:ke,times:Re}=O;O.consumed=!Be&&ke>=Re;O.pending=ke<Re;if(ee!==null){deleteMockDispatch(this[H],Q);S.onError(ee);return true}if(typeof he==="number"&&he>0){setTimeout((()=>{handleReply(this[H])}),he)}else{handleReply(this[H])}function handleReply(O,H=J){const ee=Array.isArray(v.headers)?buildHeadersFromArray(v.headers):v.headers;const he=typeof H==="function"?H({...v,headers:ee}):H;if(Ee(he)){he.then((v=>handleReply(O,v)));return}const Be=getResponseData(he);const ke=generateKeyValues(Y);const Re=generateKeyValues(X);S.abort=ae;S.onHeaders(V,ke,resume,getStatusText(V));S.onData(Buffer.from(Be));S.onComplete(Re);deleteMockDispatch(O,Q)}function resume(){}return true}function buildMockDispatch(){const v=this[V];const S=this[Y];const Q=this[J];return function dispatch(H,V){if(v.isMockActive){try{mockDispatch.call(this,H,V)}catch(J){if(J instanceof O){const Y=v[X]();if(Y===false){throw new O(`${J.message}: subsequent request to origin ${S} was not allowed (net.connect disabled)`)}if(checkNetConnect(Y,S)){Q.call(this,H,V)}else{throw new O(`${J.message}: subsequent request to origin ${S} was not allowed (net.connect is not enabled for this origin)`)}}else{throw J}}}else{Q.call(this,H,V)}}}function checkNetConnect(v,S){const Q=new URL(S);if(v===true){return true}else if(Array.isArray(v)&&v.some((v=>matchValue(v,Q.host)))){return true}return false}function buildMockOptions(v){if(v){const{agent:S,...Q}=v;return Q}}v.exports={getResponseData:getResponseData,getMockDispatch:getMockDispatch,addMockDispatch:addMockDispatch,deleteMockDispatch:deleteMockDispatch,buildKey:buildKey,generateKeyValues:generateKeyValues,matchValue:matchValue,getResponse:getResponse,getStatusText:getStatusText,mockDispatch:mockDispatch,buildMockDispatch:buildMockDispatch,checkNetConnect:checkNetConnect,buildMockOptions:buildMockOptions,getHeaderByName:getHeaderByName}},6823:(v,S,Q)=>{"use strict";const{Transform:O}=Q(2781);const{Console:H}=Q(6206);v.exports=class PendingInterceptorsFormatter{constructor({disableColors:v}={}){this.transform=new O({transform(v,S,Q){Q(null,v)}});this.logger=new H({stdout:this.transform,inspectOptions:{colors:!v&&!process.env.CI}})}format(v){const S=v.map((({method:v,path:S,data:{statusCode:Q},persist:O,times:H,timesInvoked:V,origin:J})=>({Method:v,Origin:J,Path:S,"Status code":Q,Persistent:O?"✅":"❌",Invocations:V,Remaining:O?Infinity:H-V})));this.logger.table(S);return this.transform.read().toString()}}},8891:v=>{"use strict";const S={pronoun:"it",is:"is",was:"was",this:"this"};const Q={pronoun:"they",is:"are",was:"were",this:"these"};v.exports=class Pluralizer{constructor(v,S){this.singular=v;this.plural=S}pluralize(v){const O=v===1;const H=O?S:Q;const V=O?this.singular:this.plural;return{...H,count:v,noun:V}}}},8266:v=>{"use strict";const S=2048;const Q=S-1;class FixedCircularBuffer{constructor(){this.bottom=0;this.top=0;this.list=new Array(S);this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&Q)===this.bottom}push(v){this.list[this.top]=v;this.top=this.top+1&Q}shift(){const v=this.list[this.bottom];if(v===undefined)return null;this.list[this.bottom]=undefined;this.bottom=this.bottom+1&Q;return v}}v.exports=class FixedQueue{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(v){if(this.head.isFull()){this.head=this.head.next=new FixedCircularBuffer}this.head.push(v)}shift(){const v=this.tail;const S=v.shift();if(v.isEmpty()&&v.next!==null){this.tail=v.next}return S}}},3198:(v,S,Q)=>{"use strict";const O=Q(4839);const H=Q(8266);const{kConnected:V,kSize:J,kRunning:Y,kPending:X,kQueued:ee,kBusy:ae,kFree:he,kUrl:Ee,kClose:Be,kDestroy:ke,kDispatch:Re}=Q(2785);const Oe=Q(9689);const Pe=Symbol("clients");const Le=Symbol("needDrain");const je=Symbol("queue");const qe=Symbol("closed resolve");const Ve=Symbol("onDrain");const ze=Symbol("onConnect");const $e=Symbol("onDisconnect");const Ye=Symbol("onConnectionError");const et=Symbol("get dispatcher");const tt=Symbol("add client");const nt=Symbol("remove client");const it=Symbol("stats");class PoolBase extends O{constructor(){super();this[je]=new H;this[Pe]=[];this[ee]=0;const v=this;this[Ve]=function onDrain(S,Q){const O=v[je];let H=false;while(!H){const S=O.shift();if(!S){break}v[ee]--;H=!this.dispatch(S.opts,S.handler)}this[Le]=H;if(!this[Le]&&v[Le]){v[Le]=false;v.emit("drain",S,[v,...Q])}if(v[qe]&&O.isEmpty()){Promise.all(v[Pe].map((v=>v.close()))).then(v[qe])}};this[ze]=(S,Q)=>{v.emit("connect",S,[v,...Q])};this[$e]=(S,Q,O)=>{v.emit("disconnect",S,[v,...Q],O)};this[Ye]=(S,Q,O)=>{v.emit("connectionError",S,[v,...Q],O)};this[it]=new Oe(this)}get[ae](){return this[Le]}get[V](){return this[Pe].filter((v=>v[V])).length}get[he](){return this[Pe].filter((v=>v[V]&&!v[Le])).length}get[X](){let v=this[ee];for(const{[X]:S}of this[Pe]){v+=S}return v}get[Y](){let v=0;for(const{[Y]:S}of this[Pe]){v+=S}return v}get[J](){let v=this[ee];for(const{[J]:S}of this[Pe]){v+=S}return v}get stats(){return this[it]}async[Be](){if(this[je].isEmpty()){return Promise.all(this[Pe].map((v=>v.close())))}else{return new Promise((v=>{this[qe]=v}))}}async[ke](v){while(true){const S=this[je].shift();if(!S){break}S.handler.onError(v)}return Promise.all(this[Pe].map((S=>S.destroy(v))))}[Re](v,S){const Q=this[et]();if(!Q){this[Le]=true;this[je].push({opts:v,handler:S});this[ee]++}else if(!Q.dispatch(v,S)){Q[Le]=true;this[Le]=!this[et]()}return!this[Le]}[tt](v){v.on("drain",this[Ve]).on("connect",this[ze]).on("disconnect",this[$e]).on("connectionError",this[Ye]);this[Pe].push(v);if(this[Le]){process.nextTick((()=>{if(this[Le]){this[Ve](v[Ee],[this,v])}}))}return this}[nt](v){v.close((()=>{const S=this[Pe].indexOf(v);if(S!==-1){this[Pe].splice(S,1)}}));this[Le]=this[Pe].some((v=>!v[Le]&&v.closed!==true&&v.destroyed!==true))}}v.exports={PoolBase:PoolBase,kClients:Pe,kNeedDrain:Le,kAddClient:tt,kRemoveClient:nt,kGetDispatcher:et}},9689:(v,S,Q)=>{const{kFree:O,kConnected:H,kPending:V,kQueued:J,kRunning:Y,kSize:X}=Q(2785);const ee=Symbol("pool");class PoolStats{constructor(v){this[ee]=v}get connected(){return this[ee][H]}get free(){return this[ee][O]}get pending(){return this[ee][V]}get queued(){return this[ee][J]}get running(){return this[ee][Y]}get size(){return this[ee][X]}}v.exports=PoolStats},4634:(v,S,Q)=>{"use strict";const{PoolBase:O,kClients:H,kNeedDrain:V,kAddClient:J,kGetDispatcher:Y}=Q(3198);const X=Q(3598);const{InvalidArgumentError:ee}=Q(8045);const ae=Q(3983);const{kUrl:he,kInterceptors:Ee}=Q(2785);const Be=Q(9159);const ke=Symbol("options");const Re=Symbol("connections");const Oe=Symbol("factory");function defaultFactory(v,S){return new X(v,S)}class Pool extends O{constructor(v,{connections:S,factory:Q=defaultFactory,connect:O,connectTimeout:H,tls:V,maxCachedSessions:J,socketPath:Y,autoSelectFamily:X,autoSelectFamilyAttemptTimeout:Pe,allowH2:Le,...je}={}){super();if(S!=null&&(!Number.isFinite(S)||S<0)){throw new ee("invalid connections")}if(typeof Q!=="function"){throw new ee("factory must be a function.")}if(O!=null&&typeof O!=="function"&&typeof O!=="object"){throw new ee("connect must be a function or an object")}if(typeof O!=="function"){O=Be({...V,maxCachedSessions:J,allowH2:Le,socketPath:Y,timeout:H,...ae.nodeHasAutoSelectFamily&&X?{autoSelectFamily:X,autoSelectFamilyAttemptTimeout:Pe}:undefined,...O})}this[Ee]=je.interceptors&&je.interceptors.Pool&&Array.isArray(je.interceptors.Pool)?je.interceptors.Pool:[];this[Re]=S||null;this[he]=ae.parseOrigin(v);this[ke]={...ae.deepClone(je),connect:O,allowH2:Le};this[ke].interceptors=je.interceptors?{...je.interceptors}:undefined;this[Oe]=Q}[Y](){let v=this[H].find((v=>!v[V]));if(v){return v}if(!this[Re]||this[H].length<this[Re]){v=this[Oe](this[he],this[ke]);this[J](v)}return v}}v.exports=Pool},7858:(v,S,Q)=>{"use strict";const{kProxy:O,kClose:H,kDestroy:V,kInterceptors:J}=Q(2785);const{URL:Y}=Q(7310);const X=Q(7890);const ee=Q(4634);const ae=Q(4839);const{InvalidArgumentError:he,RequestAbortedError:Ee}=Q(8045);const Be=Q(9159);const ke=Symbol("proxy agent");const Re=Symbol("proxy client");const Oe=Symbol("proxy headers");const Pe=Symbol("request tls settings");const Le=Symbol("proxy tls settings");const je=Symbol("connect endpoint function");function defaultProtocolPort(v){return v==="https:"?443:80}function buildProxyOptions(v){if(typeof v==="string"){v={uri:v}}if(!v||!v.uri){throw new he("Proxy opts.uri is mandatory")}return{uri:v.uri,protocol:v.protocol||"https"}}function defaultFactory(v,S){return new ee(v,S)}class ProxyAgent extends ae{constructor(v){super(v);this[O]=buildProxyOptions(v);this[ke]=new X(v);this[J]=v.interceptors&&v.interceptors.ProxyAgent&&Array.isArray(v.interceptors.ProxyAgent)?v.interceptors.ProxyAgent:[];if(typeof v==="string"){v={uri:v}}if(!v||!v.uri){throw new he("Proxy opts.uri is mandatory")}const{clientFactory:S=defaultFactory}=v;if(typeof S!=="function"){throw new he("Proxy opts.clientFactory must be a function.")}this[Pe]=v.requestTls;this[Le]=v.proxyTls;this[Oe]=v.headers||{};const Q=new Y(v.uri);const{origin:H,port:V,host:ee,username:ae,password:qe}=Q;if(v.auth&&v.token){throw new he("opts.auth cannot be used in combination with opts.token")}else if(v.auth){this[Oe]["proxy-authorization"]=`Basic ${v.auth}`}else if(v.token){this[Oe]["proxy-authorization"]=v.token}else if(ae&&qe){this[Oe]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(ae)}:${decodeURIComponent(qe)}`).toString("base64")}`}const Ve=Be({...v.proxyTls});this[je]=Be({...v.requestTls});this[Re]=S(Q,{connect:Ve});this[ke]=new X({...v,connect:async(v,S)=>{let Q=v.host;if(!v.port){Q+=`:${defaultProtocolPort(v.protocol)}`}try{const{socket:O,statusCode:J}=await this[Re].connect({origin:H,port:V,path:Q,signal:v.signal,headers:{...this[Oe],host:ee}});if(J!==200){O.on("error",(()=>{})).destroy();S(new Ee(`Proxy response (${J}) !== 200 when HTTP Tunneling`))}if(v.protocol!=="https:"){S(null,O);return}let Y;if(this[Pe]){Y=this[Pe].servername}else{Y=v.servername}this[je]({...v,servername:Y,httpSocket:O},S)}catch(v){S(v)}}})}dispatch(v,S){const{host:Q}=new Y(v.origin);const O=buildHeaders(v.headers);throwIfProxyAuthIsSent(O);return this[ke].dispatch({...v,headers:{...O,host:Q}},S)}async[H](){await this[ke].close();await this[Re].close()}async[V](){await this[ke].destroy();await this[Re].destroy()}}function buildHeaders(v){if(Array.isArray(v)){const S={};for(let Q=0;Q<v.length;Q+=2){S[v[Q]]=v[Q+1]}return S}return v}function throwIfProxyAuthIsSent(v){const S=v&&Object.keys(v).find((v=>v.toLowerCase()==="proxy-authorization"));if(S){throw new he("Proxy-Authorization should be sent in ProxyAgent constructor")}}v.exports=ProxyAgent},9459:v=>{"use strict";let S=Date.now();let Q;const O=[];function onTimeout(){S=Date.now();let v=O.length;let Q=0;while(Q<v){const H=O[Q];if(H.state===0){H.state=S+H.delay}else if(H.state>0&&S>=H.state){H.state=-1;H.callback(H.opaque)}if(H.state===-1){H.state=-2;if(Q!==v-1){O[Q]=O.pop()}else{O.pop()}v-=1}else{Q+=1}}if(O.length>0){refreshTimeout()}}function refreshTimeout(){if(Q&&Q.refresh){Q.refresh()}else{clearTimeout(Q);Q=setTimeout(onTimeout,1e3);if(Q.unref){Q.unref()}}}class Timeout{constructor(v,S,Q){this.callback=v;this.delay=S;this.opaque=Q;this.state=-2;this.refresh()}refresh(){if(this.state===-2){O.push(this);if(!Q||O.length===1){refreshTimeout()}}this.state=0}clear(){this.state=-1}}v.exports={setTimeout(v,S,Q){return S<1e3?setTimeout(v,S,Q):new Timeout(v,S,Q)},clearTimeout(v){if(v instanceof Timeout){v.clear()}else{clearTimeout(v)}}}},5354:(v,S,Q)=>{"use strict";const O=Q(7643);const{uid:H,states:V}=Q(9188);const{kReadyState:J,kSentClose:Y,kByteParser:X,kReceivedClose:ee}=Q(7578);const{fireEvent:ae,failWebsocketConnection:he}=Q(5515);const{CloseEvent:Ee}=Q(2611);const{makeRequest:Be}=Q(8359);const{fetching:ke}=Q(4881);const{Headers:Re}=Q(554);const{getGlobalDispatcher:Oe}=Q(1892);const{kHeadersList:Pe}=Q(2785);const Le={};Le.open=O.channel("undici:websocket:open");Le.close=O.channel("undici:websocket:close");Le.socketError=O.channel("undici:websocket:socket_error");let je;try{je=Q(6113)}catch{}function establishWebSocketConnection(v,S,Q,O,V){const J=v;J.protocol=v.protocol==="ws:"?"http:":"https:";const Y=Be({urlList:[J],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(V.headers){const v=new Re(V.headers)[Pe];Y.headersList=v}const X=je.randomBytes(16).toString("base64");Y.headersList.append("sec-websocket-key",X);Y.headersList.append("sec-websocket-version","13");for(const v of S){Y.headersList.append("sec-websocket-protocol",v)}const ee="";const ae=ke({request:Y,useParallelQueue:true,dispatcher:V.dispatcher??Oe(),processResponse(v){if(v.type==="error"||v.status!==101){he(Q,"Received network error or non-101 status code.");return}if(S.length!==0&&!v.headersList.get("Sec-WebSocket-Protocol")){he(Q,"Server did not respond with sent protocols.");return}if(v.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){he(Q,'Server did not set Upgrade header to "websocket".');return}if(v.headersList.get("Connection")?.toLowerCase()!=="upgrade"){he(Q,'Server did not set Connection header to "upgrade".');return}const V=v.headersList.get("Sec-WebSocket-Accept");const J=je.createHash("sha1").update(X+H).digest("base64");if(V!==J){he(Q,"Incorrect hash received in Sec-WebSocket-Accept header.");return}const ae=v.headersList.get("Sec-WebSocket-Extensions");if(ae!==null&&ae!==ee){he(Q,"Received different permessage-deflate than the one set.");return}const Ee=v.headersList.get("Sec-WebSocket-Protocol");if(Ee!==null&&Ee!==Y.headersList.get("Sec-WebSocket-Protocol")){he(Q,"Protocol was not set in the opening handshake.");return}v.socket.on("data",onSocketData);v.socket.on("close",onSocketClose);v.socket.on("error",onSocketError);if(Le.open.hasSubscribers){Le.open.publish({address:v.socket.address(),protocol:Ee,extensions:ae})}O(v)}});return ae}function onSocketData(v){if(!this.ws[X].write(v)){this.pause()}}function onSocketClose(){const{ws:v}=this;const S=v[Y]&&v[ee];let Q=1005;let O="";const H=v[X].closingInfo;if(H){Q=H.code??1005;O=H.reason}else if(!v[Y]){Q=1006}v[J]=V.CLOSED;ae("close",v,Ee,{wasClean:S,code:Q,reason:O});if(Le.close.hasSubscribers){Le.close.publish({websocket:v,code:Q,reason:O})}}function onSocketError(v){const{ws:S}=this;S[J]=V.CLOSING;if(Le.socketError.hasSubscribers){Le.socketError.publish(v)}this.destroy()}v.exports={establishWebSocketConnection:establishWebSocketConnection}},9188:v=>{"use strict";const S="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";const Q={enumerable:true,writable:false,configurable:false};const O={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};const H={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10};const V=2**16-1;const J={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4};const Y=Buffer.allocUnsafe(0);v.exports={uid:S,staticPropertyDescriptors:Q,states:O,opcodes:H,maxUnsigned16Bit:V,parserStates:J,emptyBuffer:Y}},2611:(v,S,Q)=>{"use strict";const{webidl:O}=Q(1744);const{kEnumerableProperty:H}=Q(3983);const{MessagePort:V}=Q(1267);class MessageEvent extends Event{#s;constructor(v,S={}){O.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"});v=O.converters.DOMString(v);S=O.converters.MessageEventInit(S);super(v,S);this.#s=S}get data(){O.brandCheck(this,MessageEvent);return this.#s.data}get origin(){O.brandCheck(this,MessageEvent);return this.#s.origin}get lastEventId(){O.brandCheck(this,MessageEvent);return this.#s.lastEventId}get source(){O.brandCheck(this,MessageEvent);return this.#s.source}get ports(){O.brandCheck(this,MessageEvent);if(!Object.isFrozen(this.#s.ports)){Object.freeze(this.#s.ports)}return this.#s.ports}initMessageEvent(v,S=false,Q=false,H=null,V="",J="",Y=null,X=[]){O.brandCheck(this,MessageEvent);O.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"});return new MessageEvent(v,{bubbles:S,cancelable:Q,data:H,origin:V,lastEventId:J,source:Y,ports:X})}}class CloseEvent extends Event{#s;constructor(v,S={}){O.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"});v=O.converters.DOMString(v);S=O.converters.CloseEventInit(S);super(v,S);this.#s=S}get wasClean(){O.brandCheck(this,CloseEvent);return this.#s.wasClean}get code(){O.brandCheck(this,CloseEvent);return this.#s.code}get reason(){O.brandCheck(this,CloseEvent);return this.#s.reason}}class ErrorEvent extends Event{#s;constructor(v,S){O.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"});super(v,S);v=O.converters.DOMString(v);S=O.converters.ErrorEventInit(S??{});this.#s=S}get message(){O.brandCheck(this,ErrorEvent);return this.#s.message}get filename(){O.brandCheck(this,ErrorEvent);return this.#s.filename}get lineno(){O.brandCheck(this,ErrorEvent);return this.#s.lineno}get colno(){O.brandCheck(this,ErrorEvent);return this.#s.colno}get error(){O.brandCheck(this,ErrorEvent);return this.#s.error}}Object.defineProperties(MessageEvent.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:true},data:H,origin:H,lastEventId:H,source:H,ports:H,initMessageEvent:H});Object.defineProperties(CloseEvent.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:true},reason:H,code:H,wasClean:H});Object.defineProperties(ErrorEvent.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:true},message:H,filename:H,lineno:H,colno:H,error:H});O.converters.MessagePort=O.interfaceConverter(V);O.converters["sequence<MessagePort>"]=O.sequenceConverter(O.converters.MessagePort);const J=[{key:"bubbles",converter:O.converters.boolean,defaultValue:false},{key:"cancelable",converter:O.converters.boolean,defaultValue:false},{key:"composed",converter:O.converters.boolean,defaultValue:false}];O.converters.MessageEventInit=O.dictionaryConverter([...J,{key:"data",converter:O.converters.any,defaultValue:null},{key:"origin",converter:O.converters.USVString,defaultValue:""},{key:"lastEventId",converter:O.converters.DOMString,defaultValue:""},{key:"source",converter:O.nullableConverter(O.converters.MessagePort),defaultValue:null},{key:"ports",converter:O.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]);O.converters.CloseEventInit=O.dictionaryConverter([...J,{key:"wasClean",converter:O.converters.boolean,defaultValue:false},{key:"code",converter:O.converters["unsigned short"],defaultValue:0},{key:"reason",converter:O.converters.USVString,defaultValue:""}]);O.converters.ErrorEventInit=O.dictionaryConverter([...J,{key:"message",converter:O.converters.DOMString,defaultValue:""},{key:"filename",converter:O.converters.USVString,defaultValue:""},{key:"lineno",converter:O.converters["unsigned long"],defaultValue:0},{key:"colno",converter:O.converters["unsigned long"],defaultValue:0},{key:"error",converter:O.converters.any}]);v.exports={MessageEvent:MessageEvent,CloseEvent:CloseEvent,ErrorEvent:ErrorEvent}},5444:(v,S,Q)=>{"use strict";const{maxUnsigned16Bit:O}=Q(9188);let H;try{H=Q(6113)}catch{}class WebsocketFrameSend{constructor(v){this.frameData=v;this.maskKey=H.randomBytes(4)}createFrame(v){const S=this.frameData?.byteLength??0;let Q=S;let H=6;if(S>O){H+=8;Q=127}else if(S>125){H+=2;Q=126}const V=Buffer.allocUnsafe(S+H);V[0]=V[1]=0;V[0]|=128;V[0]=(V[0]&240)+v;
/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */V[H-4]=this.maskKey[0];V[H-3]=this.maskKey[1];V[H-2]=this.maskKey[2];V[H-1]=this.maskKey[3];V[1]=Q;if(Q===126){V.writeUInt16BE(S,2)}else if(Q===127){V[2]=V[3]=0;V.writeUIntBE(S,4,6)}V[1]|=128;for(let v=0;v<S;v++){V[H+v]=this.frameData[v]^this.maskKey[v%4]}return V}}v.exports={WebsocketFrameSend:WebsocketFrameSend}},1688:(v,S,Q)=>{"use strict";const{Writable:O}=Q(2781);const H=Q(7643);const{parserStates:V,opcodes:J,states:Y,emptyBuffer:X}=Q(9188);const{kReadyState:ee,kSentClose:ae,kResponse:he,kReceivedClose:Ee}=Q(7578);const{isValidStatusCode:Be,failWebsocketConnection:ke,websocketMessageReceived:Re}=Q(5515);const{WebsocketFrameSend:Oe}=Q(5444);const Pe={};Pe.ping=H.channel("undici:websocket:ping");Pe.pong=H.channel("undici:websocket:pong");class ByteParser extends O{#o=[];#a=0;#l=V.INFO;#c={};#u=[];constructor(v){super();this.ws=v}_write(v,S,Q){this.#o.push(v);this.#a+=v.length;this.run(Q)}run(v){while(true){if(this.#l===V.INFO){if(this.#a<2){return v()}const S=this.consume(2);this.#c.fin=(S[0]&128)!==0;this.#c.opcode=S[0]&15;this.#c.originalOpcode??=this.#c.opcode;this.#c.fragmented=!this.#c.fin&&this.#c.opcode!==J.CONTINUATION;if(this.#c.fragmented&&this.#c.opcode!==J.BINARY&&this.#c.opcode!==J.TEXT){ke(this.ws,"Invalid frame type was fragmented.");return}const Q=S[1]&127;if(Q<=125){this.#c.payloadLength=Q;this.#l=V.READ_DATA}else if(Q===126){this.#l=V.PAYLOADLENGTH_16}else if(Q===127){this.#l=V.PAYLOADLENGTH_64}if(this.#c.fragmented&&Q>125){ke(this.ws,"Fragmented frame exceeded 125 bytes.");return}else if((this.#c.opcode===J.PING||this.#c.opcode===J.PONG||this.#c.opcode===J.CLOSE)&&Q>125){ke(this.ws,"Payload length for control frame exceeded 125 bytes.");return}else if(this.#c.opcode===J.CLOSE){if(Q===1){ke(this.ws,"Received close frame with a 1-byte body.");return}const v=this.consume(Q);this.#c.closeInfo=this.parseCloseBody(false,v);if(!this.ws[ae]){const v=Buffer.allocUnsafe(2);v.writeUInt16BE(this.#c.closeInfo.code,0);const S=new Oe(v);this.ws[he].socket.write(S.createFrame(J.CLOSE),(v=>{if(!v){this.ws[ae]=true}}))}this.ws[ee]=Y.CLOSING;this.ws[Ee]=true;this.end();return}else if(this.#c.opcode===J.PING){const S=this.consume(Q);if(!this.ws[Ee]){const v=new Oe(S);this.ws[he].socket.write(v.createFrame(J.PONG));if(Pe.ping.hasSubscribers){Pe.ping.publish({payload:S})}}this.#l=V.INFO;if(this.#a>0){continue}else{v();return}}else if(this.#c.opcode===J.PONG){const S=this.consume(Q);if(Pe.pong.hasSubscribers){Pe.pong.publish({payload:S})}if(this.#a>0){continue}else{v();return}}}else if(this.#l===V.PAYLOADLENGTH_16){if(this.#a<2){return v()}const S=this.consume(2);this.#c.payloadLength=S.readUInt16BE(0);this.#l=V.READ_DATA}else if(this.#l===V.PAYLOADLENGTH_64){if(this.#a<8){return v()}const S=this.consume(8);const Q=S.readUInt32BE(0);if(Q>2**31-1){ke(this.ws,"Received payload length > 2^31 bytes.");return}const O=S.readUInt32BE(4);this.#c.payloadLength=(Q<<8)+O;this.#l=V.READ_DATA}else if(this.#l===V.READ_DATA){if(this.#a<this.#c.payloadLength){return v()}else if(this.#a>=this.#c.payloadLength){const v=this.consume(this.#c.payloadLength);this.#u.push(v);if(!this.#c.fragmented||this.#c.fin&&this.#c.opcode===J.CONTINUATION){const v=Buffer.concat(this.#u);Re(this.ws,this.#c.originalOpcode,v);this.#c={};this.#u.length=0}this.#l=V.INFO}}if(this.#a>0){continue}else{v();break}}}consume(v){if(v>this.#a){return null}else if(v===0){return X}if(this.#o[0].length===v){this.#a-=this.#o[0].length;return this.#o.shift()}const S=Buffer.allocUnsafe(v);let Q=0;while(Q!==v){const O=this.#o[0];const{length:H}=O;if(H+Q===v){S.set(this.#o.shift(),Q);break}else if(H+Q>v){S.set(O.subarray(0,v-Q),Q);this.#o[0]=O.subarray(v-Q);break}else{S.set(this.#o.shift(),Q);Q+=O.length}}this.#a-=v;return S}parseCloseBody(v,S){let Q;if(S.length>=2){Q=S.readUInt16BE(0)}if(v){if(!Be(Q)){return null}return{code:Q}}let O=S.subarray(2);if(O[0]===239&&O[1]===187&&O[2]===191){O=O.subarray(3)}if(Q!==undefined&&!Be(Q)){return null}try{O=new TextDecoder("utf-8",{fatal:true}).decode(O)}catch{return null}return{code:Q,reason:O}}get closingInfo(){return this.#c.closeInfo}}v.exports={ByteParser:ByteParser}},7578:v=>{"use strict";v.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},5515:(v,S,Q)=>{"use strict";const{kReadyState:O,kController:H,kResponse:V,kBinaryType:J,kWebSocketURL:Y}=Q(7578);const{states:X,opcodes:ee}=Q(9188);const{MessageEvent:ae,ErrorEvent:he}=Q(2611);function isEstablished(v){return v[O]===X.OPEN}function isClosing(v){return v[O]===X.CLOSING}function isClosed(v){return v[O]===X.CLOSED}function fireEvent(v,S,Q=Event,O){const H=new Q(v,O);S.dispatchEvent(H)}function websocketMessageReceived(v,S,Q){if(v[O]!==X.OPEN){return}let H;if(S===ee.TEXT){try{H=new TextDecoder("utf-8",{fatal:true}).decode(Q)}catch{failWebsocketConnection(v,"Received invalid UTF-8 in text frame.");return}}else if(S===ee.BINARY){if(v[J]==="blob"){H=new Blob([Q])}else{H=new Uint8Array(Q).buffer}}fireEvent("message",v,ae,{origin:v[Y].origin,data:H})}function isValidSubprotocol(v){if(v.length===0){return false}for(const S of v){const v=S.charCodeAt(0);if(v<33||v>126||S==="("||S===")"||S==="<"||S===">"||S==="@"||S===","||S===";"||S===":"||S==="\\"||S==='"'||S==="/"||S==="["||S==="]"||S==="?"||S==="="||S==="{"||S==="}"||v===32||v===9){return false}}return true}function isValidStatusCode(v){if(v>=1e3&&v<1015){return v!==1004&&v!==1005&&v!==1006}return v>=3e3&&v<=4999}function failWebsocketConnection(v,S){const{[H]:Q,[V]:O}=v;Q.abort();if(O?.socket&&!O.socket.destroyed){O.socket.destroy()}if(S){fireEvent("error",v,he,{error:new Error(S)})}}v.exports={isEstablished:isEstablished,isClosing:isClosing,isClosed:isClosed,fireEvent:fireEvent,isValidSubprotocol:isValidSubprotocol,isValidStatusCode:isValidStatusCode,failWebsocketConnection:failWebsocketConnection,websocketMessageReceived:websocketMessageReceived}},4284:(v,S,Q)=>{"use strict";const{webidl:O}=Q(1744);const{DOMException:H}=Q(1037);const{URLSerializer:V}=Q(685);const{getGlobalOrigin:J}=Q(1246);const{staticPropertyDescriptors:Y,states:X,opcodes:ee,emptyBuffer:ae}=Q(9188);const{kWebSocketURL:he,kReadyState:Ee,kController:Be,kBinaryType:ke,kResponse:Re,kSentClose:Oe,kByteParser:Pe}=Q(7578);const{isEstablished:Le,isClosing:je,isValidSubprotocol:qe,failWebsocketConnection:Ve,fireEvent:ze}=Q(5515);const{establishWebSocketConnection:$e}=Q(5354);const{WebsocketFrameSend:Ye}=Q(5444);const{ByteParser:et}=Q(1688);const{kEnumerableProperty:tt,isBlobLike:nt}=Q(3983);const{getGlobalDispatcher:it}=Q(1892);const{types:st}=Q(3837);let at=false;class WebSocket extends EventTarget{#d={open:null,error:null,close:null,message:null};#h=0;#A="";#p="";constructor(v,S=[]){super();O.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"});if(!at){at=true;process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"})}const Q=O.converters["DOMString or sequence<DOMString> or WebSocketInit"](S);v=O.converters.USVString(v);S=Q.protocols;const V=J();let Y;try{Y=new URL(v,V)}catch(v){throw new H(v,"SyntaxError")}if(Y.protocol==="http:"){Y.protocol="ws:"}else if(Y.protocol==="https:"){Y.protocol="wss:"}if(Y.protocol!=="ws:"&&Y.protocol!=="wss:"){throw new H(`Expected a ws: or wss: protocol, got ${Y.protocol}`,"SyntaxError")}if(Y.hash||Y.href.endsWith("#")){throw new H("Got fragment","SyntaxError")}if(typeof S==="string"){S=[S]}if(S.length!==new Set(S.map((v=>v.toLowerCase()))).size){throw new H("Invalid Sec-WebSocket-Protocol value","SyntaxError")}if(S.length>0&&!S.every((v=>qe(v)))){throw new H("Invalid Sec-WebSocket-Protocol value","SyntaxError")}this[he]=new URL(Y.href);this[Be]=$e(Y,S,this,(v=>this.#f(v)),Q);this[Ee]=WebSocket.CONNECTING;this[ke]="blob"}close(v=undefined,S=undefined){O.brandCheck(this,WebSocket);if(v!==undefined){v=O.converters["unsigned short"](v,{clamp:true})}if(S!==undefined){S=O.converters.USVString(S)}if(v!==undefined){if(v!==1e3&&(v<3e3||v>4999)){throw new H("invalid code","InvalidAccessError")}}let Q=0;if(S!==undefined){Q=Buffer.byteLength(S);if(Q>123){throw new H(`Reason must be less than 123 bytes; received ${Q}`,"SyntaxError")}}if(this[Ee]===WebSocket.CLOSING||this[Ee]===WebSocket.CLOSED){}else if(!Le(this)){Ve(this,"Connection was closed before it was established.");this[Ee]=WebSocket.CLOSING}else if(!je(this)){const O=new Ye;if(v!==undefined&&S===undefined){O.frameData=Buffer.allocUnsafe(2);O.frameData.writeUInt16BE(v,0)}else if(v!==undefined&&S!==undefined){O.frameData=Buffer.allocUnsafe(2+Q);O.frameData.writeUInt16BE(v,0);O.frameData.write(S,2,"utf-8")}else{O.frameData=ae}const H=this[Re].socket;H.write(O.createFrame(ee.CLOSE),(v=>{if(!v){this[Oe]=true}}));this[Ee]=X.CLOSING}else{this[Ee]=WebSocket.CLOSING}}send(v){O.brandCheck(this,WebSocket);O.argumentLengthCheck(arguments,1,{header:"WebSocket.send"});v=O.converters.WebSocketSendData(v);if(this[Ee]===WebSocket.CONNECTING){throw new H("Sent before connected.","InvalidStateError")}if(!Le(this)||je(this)){return}const S=this[Re].socket;if(typeof v==="string"){const Q=Buffer.from(v);const O=new Ye(Q);const H=O.createFrame(ee.TEXT);this.#h+=Q.byteLength;S.write(H,(()=>{this.#h-=Q.byteLength}))}else if(st.isArrayBuffer(v)){const Q=Buffer.from(v);const O=new Ye(Q);const H=O.createFrame(ee.BINARY);this.#h+=Q.byteLength;S.write(H,(()=>{this.#h-=Q.byteLength}))}else if(ArrayBuffer.isView(v)){const Q=Buffer.from(v,v.byteOffset,v.byteLength);const O=new Ye(Q);const H=O.createFrame(ee.BINARY);this.#h+=Q.byteLength;S.write(H,(()=>{this.#h-=Q.byteLength}))}else if(nt(v)){const Q=new Ye;v.arrayBuffer().then((v=>{const O=Buffer.from(v);Q.frameData=O;const H=Q.createFrame(ee.BINARY);this.#h+=O.byteLength;S.write(H,(()=>{this.#h-=O.byteLength}))}))}}get readyState(){O.brandCheck(this,WebSocket);return this[Ee]}get bufferedAmount(){O.brandCheck(this,WebSocket);return this.#h}get url(){O.brandCheck(this,WebSocket);return V(this[he])}get extensions(){O.brandCheck(this,WebSocket);return this.#p}get protocol(){O.brandCheck(this,WebSocket);return this.#A}get onopen(){O.brandCheck(this,WebSocket);return this.#d.open}set onopen(v){O.brandCheck(this,WebSocket);if(this.#d.open){this.removeEventListener("open",this.#d.open)}if(typeof v==="function"){this.#d.open=v;this.addEventListener("open",v)}else{this.#d.open=null}}get onerror(){O.brandCheck(this,WebSocket);return this.#d.error}set onerror(v){O.brandCheck(this,WebSocket);if(this.#d.error){this.removeEventListener("error",this.#d.error)}if(typeof v==="function"){this.#d.error=v;this.addEventListener("error",v)}else{this.#d.error=null}}get onclose(){O.brandCheck(this,WebSocket);return this.#d.close}set onclose(v){O.brandCheck(this,WebSocket);if(this.#d.close){this.removeEventListener("close",this.#d.close)}if(typeof v==="function"){this.#d.close=v;this.addEventListener("close",v)}else{this.#d.close=null}}get onmessage(){O.brandCheck(this,WebSocket);return this.#d.message}set onmessage(v){O.brandCheck(this,WebSocket);if(this.#d.message){this.removeEventListener("message",this.#d.message)}if(typeof v==="function"){this.#d.message=v;this.addEventListener("message",v)}else{this.#d.message=null}}get binaryType(){O.brandCheck(this,WebSocket);return this[ke]}set binaryType(v){O.brandCheck(this,WebSocket);if(v!=="blob"&&v!=="arraybuffer"){this[ke]="blob"}else{this[ke]=v}}#f(v){this[Re]=v;const S=new et(this);S.on("drain",(function onParserDrain(){this.ws[Re].socket.resume()}));v.socket.ws=this;this[Pe]=S;this[Ee]=X.OPEN;const Q=v.headersList.get("sec-websocket-extensions");if(Q!==null){this.#p=Q}const O=v.headersList.get("sec-websocket-protocol");if(O!==null){this.#A=O}ze("open",this)}}WebSocket.CONNECTING=WebSocket.prototype.CONNECTING=X.CONNECTING;WebSocket.OPEN=WebSocket.prototype.OPEN=X.OPEN;WebSocket.CLOSING=WebSocket.prototype.CLOSING=X.CLOSING;WebSocket.CLOSED=WebSocket.prototype.CLOSED=X.CLOSED;Object.defineProperties(WebSocket.prototype,{CONNECTING:Y,OPEN:Y,CLOSING:Y,CLOSED:Y,url:tt,readyState:tt,bufferedAmount:tt,onopen:tt,onerror:tt,onclose:tt,close:tt,onmessage:tt,binaryType:tt,send:tt,extensions:tt,protocol:tt,[Symbol.toStringTag]:{value:"WebSocket",writable:false,enumerable:false,configurable:true}});Object.defineProperties(WebSocket,{CONNECTING:Y,OPEN:Y,CLOSING:Y,CLOSED:Y});O.converters["sequence<DOMString>"]=O.sequenceConverter(O.converters.DOMString);O.converters["DOMString or sequence<DOMString>"]=function(v){if(O.util.Type(v)==="Object"&&Symbol.iterator in v){return O.converters["sequence<DOMString>"](v)}return O.converters.DOMString(v)};O.converters.WebSocketInit=O.dictionaryConverter([{key:"protocols",converter:O.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:v=>v,get defaultValue(){return it()}},{key:"headers",converter:O.nullableConverter(O.converters.HeadersInit)}]);O.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(v){if(O.util.Type(v)==="Object"&&!(Symbol.iterator in v)){return O.converters.WebSocketInit(v)}return{protocols:O.converters["DOMString or sequence<DOMString>"](v)}};O.converters.WebSocketSendData=function(v){if(O.util.Type(v)==="Object"){if(nt(v)){return O.converters.Blob(v,{strict:false})}if(ArrayBuffer.isView(v)||st.isAnyArrayBuffer(v)){return O.converters.BufferSource(v)}}return O.converters.USVString(v)};v.exports={WebSocket:WebSocket}},5840:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});Object.defineProperty(S,"v1",{enumerable:true,get:function(){return O.default}});Object.defineProperty(S,"v3",{enumerable:true,get:function(){return H.default}});Object.defineProperty(S,"v4",{enumerable:true,get:function(){return V.default}});Object.defineProperty(S,"v5",{enumerable:true,get:function(){return J.default}});Object.defineProperty(S,"NIL",{enumerable:true,get:function(){return Y.default}});Object.defineProperty(S,"version",{enumerable:true,get:function(){return X.default}});Object.defineProperty(S,"validate",{enumerable:true,get:function(){return ee.default}});Object.defineProperty(S,"stringify",{enumerable:true,get:function(){return ae.default}});Object.defineProperty(S,"parse",{enumerable:true,get:function(){return he.default}});var O=_interopRequireDefault(Q(8628));var H=_interopRequireDefault(Q(6409));var V=_interopRequireDefault(Q(5122));var J=_interopRequireDefault(Q(9120));var Y=_interopRequireDefault(Q(5332));var X=_interopRequireDefault(Q(1595));var ee=_interopRequireDefault(Q(6900));var ae=_interopRequireDefault(Q(2981));var he=_interopRequireDefault(Q(2746));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}},4569:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(6113));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function md5(v){if(Array.isArray(v)){v=Buffer.from(v)}else if(typeof v==="string"){v=Buffer.from(v,"utf8")}return O.default.createHash("md5").update(v).digest()}var H=md5;S["default"]=H},5332:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var Q="00000000-0000-0000-0000-000000000000";S["default"]=Q},2746:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(6900));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function parse(v){if(!(0,O.default)(v)){throw TypeError("Invalid UUID")}let S;const Q=new Uint8Array(16);Q[0]=(S=parseInt(v.slice(0,8),16))>>>24;Q[1]=S>>>16&255;Q[2]=S>>>8&255;Q[3]=S&255;Q[4]=(S=parseInt(v.slice(9,13),16))>>>8;Q[5]=S&255;Q[6]=(S=parseInt(v.slice(14,18),16))>>>8;Q[7]=S&255;Q[8]=(S=parseInt(v.slice(19,23),16))>>>8;Q[9]=S&255;Q[10]=(S=parseInt(v.slice(24,36),16))/1099511627776&255;Q[11]=S/4294967296&255;Q[12]=S>>>24&255;Q[13]=S>>>16&255;Q[14]=S>>>8&255;Q[15]=S&255;return Q}var H=parse;S["default"]=H},814:(v,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var Q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;S["default"]=Q},807:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=rng;var O=_interopRequireDefault(Q(6113));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const H=new Uint8Array(256);let V=H.length;function rng(){if(V>H.length-16){O.default.randomFillSync(H);V=0}return H.slice(V,V+=16)}},5274:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(6113));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function sha1(v){if(Array.isArray(v)){v=Buffer.from(v)}else if(typeof v==="string"){v=Buffer.from(v,"utf8")}return O.default.createHash("sha1").update(v).digest()}var H=sha1;S["default"]=H},2981:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(6900));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const H=[];for(let v=0;v<256;++v){H.push((v+256).toString(16).substr(1))}function stringify(v,S=0){const Q=(H[v[S+0]]+H[v[S+1]]+H[v[S+2]]+H[v[S+3]]+"-"+H[v[S+4]]+H[v[S+5]]+"-"+H[v[S+6]]+H[v[S+7]]+"-"+H[v[S+8]]+H[v[S+9]]+"-"+H[v[S+10]]+H[v[S+11]]+H[v[S+12]]+H[v[S+13]]+H[v[S+14]]+H[v[S+15]]).toLowerCase();if(!(0,O.default)(Q)){throw TypeError("Stringified UUID is invalid")}return Q}var V=stringify;S["default"]=V},8628:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(807));var H=_interopRequireDefault(Q(2981));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}let V;let J;let Y=0;let X=0;function v1(v,S,Q){let ee=S&&Q||0;const ae=S||new Array(16);v=v||{};let he=v.node||V;let Ee=v.clockseq!==undefined?v.clockseq:J;if(he==null||Ee==null){const S=v.random||(v.rng||O.default)();if(he==null){he=V=[S[0]|1,S[1],S[2],S[3],S[4],S[5]]}if(Ee==null){Ee=J=(S[6]<<8|S[7])&16383}}let Be=v.msecs!==undefined?v.msecs:Date.now();let ke=v.nsecs!==undefined?v.nsecs:X+1;const Re=Be-Y+(ke-X)/1e4;if(Re<0&&v.clockseq===undefined){Ee=Ee+1&16383}if((Re<0||Be>Y)&&v.nsecs===undefined){ke=0}if(ke>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}Y=Be;X=ke;J=Ee;Be+=122192928e5;const Oe=((Be&268435455)*1e4+ke)%4294967296;ae[ee++]=Oe>>>24&255;ae[ee++]=Oe>>>16&255;ae[ee++]=Oe>>>8&255;ae[ee++]=Oe&255;const Pe=Be/4294967296*1e4&268435455;ae[ee++]=Pe>>>8&255;ae[ee++]=Pe&255;ae[ee++]=Pe>>>24&15|16;ae[ee++]=Pe>>>16&255;ae[ee++]=Ee>>>8|128;ae[ee++]=Ee&255;for(let v=0;v<6;++v){ae[ee+v]=he[v]}return S||(0,H.default)(ae)}var ee=v1;S["default"]=ee},6409:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(5998));var H=_interopRequireDefault(Q(4569));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const V=(0,O.default)("v3",48,H.default);var J=V;S["default"]=J},5998:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=_default;S.URL=S.DNS=void 0;var O=_interopRequireDefault(Q(2981));var H=_interopRequireDefault(Q(2746));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function stringToBytes(v){v=unescape(encodeURIComponent(v));const S=[];for(let Q=0;Q<v.length;++Q){S.push(v.charCodeAt(Q))}return S}const V="6ba7b810-9dad-11d1-80b4-00c04fd430c8";S.DNS=V;const J="6ba7b811-9dad-11d1-80b4-00c04fd430c8";S.URL=J;function _default(v,S,Q){function generateUUID(v,V,J,Y){if(typeof v==="string"){v=stringToBytes(v)}if(typeof V==="string"){V=(0,H.default)(V)}if(V.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let X=new Uint8Array(16+v.length);X.set(V);X.set(v,V.length);X=Q(X);X[6]=X[6]&15|S;X[8]=X[8]&63|128;if(J){Y=Y||0;for(let v=0;v<16;++v){J[Y+v]=X[v]}return J}return(0,O.default)(X)}try{generateUUID.name=v}catch(v){}generateUUID.DNS=V;generateUUID.URL=J;return generateUUID}},5122:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(807));var H=_interopRequireDefault(Q(2981));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function v4(v,S,Q){v=v||{};const V=v.random||(v.rng||O.default)();V[6]=V[6]&15|64;V[8]=V[8]&63|128;if(S){Q=Q||0;for(let v=0;v<16;++v){S[Q+v]=V[v]}return S}return(0,H.default)(V)}var V=v4;S["default"]=V},9120:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(5998));var H=_interopRequireDefault(Q(5274));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}const V=(0,O.default)("v5",80,H.default);var J=V;S["default"]=J},6900:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(814));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function validate(v){return typeof v==="string"&&O.default.test(v)}var H=validate;S["default"]=H},1595:(v,S,Q)=>{"use strict";Object.defineProperty(S,"__esModule",{value:true});S["default"]=void 0;var O=_interopRequireDefault(Q(6900));function _interopRequireDefault(v){return v&&v.__esModule?v:{default:v}}function version(v){if(!(0,O.default)(v)){throw TypeError("Invalid UUID")}return parseInt(v.substr(14,1),16)}var H=version;S["default"]=H},1269:module=>{module.exports=eval("require")("bufferutil")},2732:module=>{module.exports=eval("require")("electron/index.js")},4592:module=>{module.exports=eval("require")("utf-8-validate")},7292:v=>{function webpackEmptyContext(v){var S=new Error("Cannot find module '"+v+"'");S.code="MODULE_NOT_FOUND";throw S}webpackEmptyContext.keys=()=>[];webpackEmptyContext.resolve=webpackEmptyContext;webpackEmptyContext.id=7292;v.exports=webpackEmptyContext},9491:v=>{"use strict";v.exports=require("assert")},852:v=>{"use strict";v.exports=require("async_hooks")},4300:v=>{"use strict";v.exports=require("buffer")},2081:v=>{"use strict";v.exports=require("child_process")},6206:v=>{"use strict";v.exports=require("console")},2057:v=>{"use strict";v.exports=require("constants")},6113:v=>{"use strict";v.exports=require("crypto")},7643:v=>{"use strict";v.exports=require("diagnostics_channel")},9523:v=>{"use strict";v.exports=require("dns")},2361:v=>{"use strict";v.exports=require("events")},7147:v=>{"use strict";v.exports=require("fs")},3685:v=>{"use strict";v.exports=require("http")},5158:v=>{"use strict";v.exports=require("http2")},5687:v=>{"use strict";v.exports=require("https")},1405:v=>{"use strict";v.exports=require("inspector")},8188:v=>{"use strict";v.exports=require("module")},1808:v=>{"use strict";v.exports=require("net")},5673:v=>{"use strict";v.exports=require("node:events")},4492:v=>{"use strict";v.exports=require("node:stream")},7261:v=>{"use strict";v.exports=require("node:util")},2037:v=>{"use strict";v.exports=require("os")},1017:v=>{"use strict";v.exports=require("path")},4074:v=>{"use strict";v.exports=require("perf_hooks")},3477:v=>{"use strict";v.exports=require("querystring")},4521:v=>{"use strict";v.exports=require("readline")},2781:v=>{"use strict";v.exports=require("stream")},5356:v=>{"use strict";v.exports=require("stream/web")},1576:v=>{"use strict";v.exports=require("string_decoder")},4404:v=>{"use strict";v.exports=require("tls")},6224:v=>{"use strict";v.exports=require("tty")},7310:v=>{"use strict";v.exports=require("url")},3837:v=>{"use strict";v.exports=require("util")},9830:v=>{"use strict";v.exports=require("util/types")},1267:v=>{"use strict";v.exports=require("worker_threads")},9796:v=>{"use strict";v.exports=require("zlib")},2960:(v,S,Q)=>{"use strict";const O=Q(4492).Writable;const H=Q(7261).inherits;const V=Q(1142);const J=Q(1620);const Y=Q(2032);const X=45;const ee=Buffer.from("-");const ae=Buffer.from("\r\n");const EMPTY_FN=function(){};function Dicer(v){if(!(this instanceof Dicer)){return new Dicer(v)}O.call(this,v);if(!v||!v.headerFirst&&typeof v.boundary!=="string"){throw new TypeError("Boundary required")}if(typeof v.boundary==="string"){this.setBoundary(v.boundary)}else{this._bparser=undefined}this._headerFirst=v.headerFirst;this._dashes=0;this._parts=0;this._finished=false;this._realFinish=false;this._isPreamble=true;this._justMatched=false;this._firstWrite=true;this._inHeader=true;this._part=undefined;this._cb=undefined;this._ignoreData=false;this._partOpts={highWaterMark:v.partHwm};this._pause=false;const S=this;this._hparser=new Y(v);this._hparser.on("header",(function(v){S._inHeader=false;S._part.emit("header",v)}))}H(Dicer,O);Dicer.prototype.emit=function(v){if(v==="finish"&&!this._realFinish){if(!this._finished){const v=this;process.nextTick((function(){v.emit("error",new Error("Unexpected end of multipart data"));if(v._part&&!v._ignoreData){const S=v._isPreamble?"Preamble":"Part";v._part.emit("error",new Error(S+" terminated early due to unexpected end of multipart data"));v._part.push(null);process.nextTick((function(){v._realFinish=true;v.emit("finish");v._realFinish=false}));return}v._realFinish=true;v.emit("finish");v._realFinish=false}))}}else{O.prototype.emit.apply(this,arguments)}};Dicer.prototype._write=function(v,S,Q){if(!this._hparser&&!this._bparser){return Q()}if(this._headerFirst&&this._isPreamble){if(!this._part){this._part=new J(this._partOpts);if(this._events.preamble){this.emit("preamble",this._part)}else{this._ignore()}}const S=this._hparser.push(v);if(!this._inHeader&&S!==undefined&&S<v.length){v=v.slice(S)}else{return Q()}}if(this._firstWrite){this._bparser.push(ae);this._firstWrite=false}this._bparser.push(v);if(this._pause){this._cb=Q}else{Q()}};Dicer.prototype.reset=function(){this._part=undefined;this._bparser=undefined;this._hparser=undefined};Dicer.prototype.setBoundary=function(v){const S=this;this._bparser=new V("\r\n--"+v);this._bparser.on("info",(function(v,Q,O,H){S._oninfo(v,Q,O,H)}))};Dicer.prototype._ignore=function(){if(this._part&&!this._ignoreData){this._ignoreData=true;this._part.on("error",EMPTY_FN);this._part.resume()}};Dicer.prototype._oninfo=function(v,S,Q,O){let H;const V=this;let Y=0;let ae;let he=true;if(!this._part&&this._justMatched&&S){while(this._dashes<2&&Q+Y<O){if(S[Q+Y]===X){++Y;++this._dashes}else{if(this._dashes){H=ee}this._dashes=0;break}}if(this._dashes===2){if(Q+Y<O&&this._events.trailer){this.emit("trailer",S.slice(Q+Y,O))}this.reset();this._finished=true;if(V._parts===0){V._realFinish=true;V.emit("finish");V._realFinish=false}}if(this._dashes){return}}if(this._justMatched){this._justMatched=false}if(!this._part){this._part=new J(this._partOpts);this._part._read=function(v){V._unpause()};if(this._isPreamble&&this._events.preamble){this.emit("preamble",this._part)}else if(this._isPreamble!==true&&this._events.part){this.emit("part",this._part)}else{this._ignore()}if(!this._isPreamble){this._inHeader=true}}if(S&&Q<O&&!this._ignoreData){if(this._isPreamble||!this._inHeader){if(H){he=this._part.push(H)}he=this._part.push(S.slice(Q,O));if(!he){this._pause=true}}else if(!this._isPreamble&&this._inHeader){if(H){this._hparser.push(H)}ae=this._hparser.push(S.slice(Q,O));if(!this._inHeader&&ae!==undefined&&ae<O){this._oninfo(false,S,Q+ae,O)}}}if(v){this._hparser.reset();if(this._isPreamble){this._isPreamble=false}else{if(Q!==O){++this._parts;this._part.on("end",(function(){if(--V._parts===0){if(V._finished){V._realFinish=true;V.emit("finish");V._realFinish=false}else{V._unpause()}}}))}}this._part.push(null);this._part=undefined;this._ignoreData=false;this._justMatched=true;this._dashes=0}};Dicer.prototype._unpause=function(){if(!this._pause){return}this._pause=false;if(this._cb){const v=this._cb;this._cb=undefined;v()}};v.exports=Dicer},2032:(v,S,Q)=>{"use strict";const O=Q(5673).EventEmitter;const H=Q(7261).inherits;const V=Q(1467);const J=Q(1142);const Y=Buffer.from("\r\n\r\n");const X=/\r\n/g;const ee=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function HeaderParser(v){O.call(this);v=v||{};const S=this;this.nread=0;this.maxed=false;this.npairs=0;this.maxHeaderPairs=V(v,"maxHeaderPairs",2e3);this.maxHeaderSize=V(v,"maxHeaderSize",80*1024);this.buffer="";this.header={};this.finished=false;this.ss=new J(Y);this.ss.on("info",(function(v,Q,O,H){if(Q&&!S.maxed){if(S.nread+H-O>=S.maxHeaderSize){H=S.maxHeaderSize-S.nread+O;S.nread=S.maxHeaderSize;S.maxed=true}else{S.nread+=H-O}S.buffer+=Q.toString("binary",O,H)}if(v){S._finish()}}))}H(HeaderParser,O);HeaderParser.prototype.push=function(v){const S=this.ss.push(v);if(this.finished){return S}};HeaderParser.prototype.reset=function(){this.finished=false;this.buffer="";this.header={};this.ss.reset()};HeaderParser.prototype._finish=function(){if(this.buffer){this._parseHeader()}this.ss.matches=this.ss.maxMatches;const v=this.header;this.header={};this.buffer="";this.finished=true;this.nread=this.npairs=0;this.maxed=false;this.emit("header",v)};HeaderParser.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs){return}const v=this.buffer.split(X);const S=v.length;let Q,O;for(var H=0;H<S;++H){if(v[H].length===0){continue}if(v[H][0]==="\t"||v[H][0]===" "){if(O){this.header[O][this.header[O].length-1]+=v[H];continue}}const S=v[H].indexOf(":");if(S===-1||S===0){return}Q=ee.exec(v[H]);O=Q[1].toLowerCase();this.header[O]=this.header[O]||[];this.header[O].push(Q[2]||"");if(++this.npairs===this.maxHeaderPairs){break}}};v.exports=HeaderParser},1620:(v,S,Q)=>{"use strict";const O=Q(7261).inherits;const H=Q(4492).Readable;function PartStream(v){H.call(this,v)}O(PartStream,H);PartStream.prototype._read=function(v){};v.exports=PartStream},1142:(v,S,Q)=>{"use strict";const O=Q(5673).EventEmitter;const H=Q(7261).inherits;function SBMH(v){if(typeof v==="string"){v=Buffer.from(v)}if(!Buffer.isBuffer(v)){throw new TypeError("The needle has to be a String or a Buffer.")}const S=v.length;if(S===0){throw new Error("The needle cannot be an empty String/Buffer.")}if(S>256){throw new Error("The needle cannot have a length bigger than 256.")}this.maxMatches=Infinity;this.matches=0;this._occ=new Array(256).fill(S);this._lookbehind_size=0;this._needle=v;this._bufpos=0;this._lookbehind=Buffer.alloc(S);for(var Q=0;Q<S-1;++Q){this._occ[v[Q]]=S-1-Q}}H(SBMH,O);SBMH.prototype.reset=function(){this._lookbehind_size=0;this.matches=0;this._bufpos=0};SBMH.prototype.push=function(v,S){if(!Buffer.isBuffer(v)){v=Buffer.from(v,"binary")}const Q=v.length;this._bufpos=S||0;let O;while(O!==Q&&this.matches<this.maxMatches){O=this._sbmh_feed(v)}return O};SBMH.prototype._sbmh_feed=function(v){const S=v.length;const Q=this._needle;const O=Q.length;const H=Q[O-1];let V=-this._lookbehind_size;let J;if(V<0){while(V<0&&V<=S-O){J=this._sbmh_lookup_char(v,V+O-1);if(J===H&&this._sbmh_memcmp(v,V,O-1)){this._lookbehind_size=0;++this.matches;this.emit("info",true);return this._bufpos=V+O}V+=this._occ[J]}if(V<0){while(V<0&&!this._sbmh_memcmp(v,V,S-V)){++V}}if(V>=0){this.emit("info",false,this._lookbehind,0,this._lookbehind_size);this._lookbehind_size=0}else{const Q=this._lookbehind_size+V;if(Q>0){this.emit("info",false,this._lookbehind,0,Q)}this._lookbehind.copy(this._lookbehind,0,Q,this._lookbehind_size-Q);this._lookbehind_size-=Q;v.copy(this._lookbehind,this._lookbehind_size);this._lookbehind_size+=S;this._bufpos=S;return S}}V+=(V>=0)*this._bufpos;if(v.indexOf(Q,V)!==-1){V=v.indexOf(Q,V);++this.matches;if(V>0){this.emit("info",true,v,this._bufpos,V)}else{this.emit("info",true)}return this._bufpos=V+O}else{V=S-O}while(V<S&&(v[V]!==Q[0]||Buffer.compare(v.subarray(V,V+S-V),Q.subarray(0,S-V))!==0)){++V}if(V<S){v.copy(this._lookbehind,0,V,V+(S-V));this._lookbehind_size=S-V}if(V>0){this.emit("info",false,v,this._bufpos,V<S?V:S)}this._bufpos=S;return S};SBMH.prototype._sbmh_lookup_char=function(v,S){return S<0?this._lookbehind[this._lookbehind_size+S]:v[S]};SBMH.prototype._sbmh_memcmp=function(v,S,Q){for(var O=0;O<Q;++O){if(this._sbmh_lookup_char(v,S+O)!==this._needle[O]){return false}}return true};v.exports=SBMH},727:(v,S,Q)=>{"use strict";const O=Q(4492).Writable;const{inherits:H}=Q(7261);const V=Q(2960);const J=Q(2183);const Y=Q(8306);const X=Q(1854);function Busboy(v){if(!(this instanceof Busboy)){return new Busboy(v)}if(typeof v!=="object"){throw new TypeError("Busboy expected an options-Object.")}if(typeof v.headers!=="object"){throw new TypeError("Busboy expected an options-Object with headers-attribute.")}if(typeof v.headers["content-type"]!=="string"){throw new TypeError("Missing Content-Type-header.")}const{headers:S,...Q}=v;this.opts={autoDestroy:false,...Q};O.call(this,this.opts);this._done=false;this._parser=this.getParserByHeaders(S);this._finished=false}H(Busboy,O);Busboy.prototype.emit=function(v){if(v==="finish"){if(!this._done){this._parser?.end();return}else if(this._finished){return}this._finished=true}O.prototype.emit.apply(this,arguments)};Busboy.prototype.getParserByHeaders=function(v){const S=X(v["content-type"]);const Q={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:v,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:S,preservePath:this.opts.preservePath};if(J.detect.test(S[0])){return new J(this,Q)}if(Y.detect.test(S[0])){return new Y(this,Q)}throw new Error("Unsupported Content-Type.")};Busboy.prototype._write=function(v,S,Q){this._parser.write(v,Q)};v.exports=Busboy;v.exports["default"]=Busboy;v.exports.Busboy=Busboy;v.exports.Dicer=V},2183:(v,S,Q)=>{"use strict";const{Readable:O}=Q(4492);const{inherits:H}=Q(7261);const V=Q(2960);const J=Q(1854);const Y=Q(4619);const X=Q(8647);const ee=Q(1467);const ae=/^boundary$/i;const he=/^form-data$/i;const Ee=/^charset$/i;const Be=/^filename$/i;const ke=/^name$/i;Multipart.detect=/^multipart\/form-data/i;function Multipart(v,S){let Q;let O;const H=this;let Re;const Oe=S.limits;const Pe=S.isPartAFile||((v,S,Q)=>S==="application/octet-stream"||Q!==undefined);const Le=S.parsedConType||[];const je=S.defCharset||"utf8";const qe=S.preservePath;const Ve={highWaterMark:S.fileHwm};for(Q=0,O=Le.length;Q<O;++Q){if(Array.isArray(Le[Q])&&ae.test(Le[Q][0])){Re=Le[Q][1];break}}function checkFinished(){if(lt===0&&dt&&!v._done){dt=false;H.end()}}if(typeof Re!=="string"){throw new Error("Multipart: Boundary not found")}const ze=ee(Oe,"fieldSize",1*1024*1024);const $e=ee(Oe,"fileSize",Infinity);const Ye=ee(Oe,"files",Infinity);const et=ee(Oe,"fields",Infinity);const tt=ee(Oe,"parts",Infinity);const nt=ee(Oe,"headerPairs",2e3);const it=ee(Oe,"headerSize",80*1024);let st=0;let at=0;let lt=0;let ct;let ut;let dt=false;this._needDrain=false;this._pause=false;this._cb=undefined;this._nparts=0;this._boy=v;const ht={boundary:Re,maxHeaderPairs:nt,maxHeaderSize:it,partHwm:Ve.highWaterMark,highWaterMark:S.highWaterMark};this.parser=new V(ht);this.parser.on("drain",(function(){H._needDrain=false;if(H._cb&&!H._pause){const v=H._cb;H._cb=undefined;v()}})).on("part",(function onPart(S){if(++H._nparts>tt){H.parser.removeListener("part",onPart);H.parser.on("part",skipPart);v.hitPartsLimit=true;v.emit("partsLimit");return skipPart(S)}if(ut){const v=ut;v.emit("end");v.removeAllListeners("end")}S.on("header",(function(V){let ee;let ae;let Re;let Oe;let Le;let tt;let nt=0;if(V["content-type"]){Re=J(V["content-type"][0]);if(Re[0]){ee=Re[0].toLowerCase();for(Q=0,O=Re.length;Q<O;++Q){if(Ee.test(Re[Q][0])){Oe=Re[Q][1].toLowerCase();break}}}}if(ee===undefined){ee="text/plain"}if(Oe===undefined){Oe=je}if(V["content-disposition"]){Re=J(V["content-disposition"][0]);if(!he.test(Re[0])){return skipPart(S)}for(Q=0,O=Re.length;Q<O;++Q){if(ke.test(Re[Q][0])){ae=Re[Q][1]}else if(Be.test(Re[Q][0])){tt=Re[Q][1];if(!qe){tt=X(tt)}}}}else{return skipPart(S)}if(V["content-transfer-encoding"]){Le=V["content-transfer-encoding"][0].toLowerCase()}else{Le="7bit"}let it,dt;if(Pe(ae,ee,tt)){if(st===Ye){if(!v.hitFilesLimit){v.hitFilesLimit=true;v.emit("filesLimit")}return skipPart(S)}++st;if(!v._events.file){H.parser._ignore();return}++lt;const Q=new FileStream(Ve);ct=Q;Q.on("end",(function(){--lt;H._pause=false;checkFinished();if(H._cb&&!H._needDrain){const v=H._cb;H._cb=undefined;v()}}));Q._read=function(v){if(!H._pause){return}H._pause=false;if(H._cb&&!H._needDrain){const v=H._cb;H._cb=undefined;v()}};v.emit("file",ae,Q,tt,Le,ee);it=function(v){if((nt+=v.length)>$e){const O=$e-nt+v.length;if(O>0){Q.push(v.slice(0,O))}Q.truncated=true;Q.bytesRead=$e;S.removeAllListeners("data");Q.emit("limit");return}else if(!Q.push(v)){H._pause=true}Q.bytesRead=nt};dt=function(){ct=undefined;Q.push(null)}}else{if(at===et){if(!v.hitFieldsLimit){v.hitFieldsLimit=true;v.emit("fieldsLimit")}return skipPart(S)}++at;++lt;let Q="";let O=false;ut=S;it=function(v){if((nt+=v.length)>ze){const H=ze-(nt-v.length);Q+=v.toString("binary",0,H);O=true;S.removeAllListeners("data")}else{Q+=v.toString("binary")}};dt=function(){ut=undefined;if(Q.length){Q=Y(Q,"binary",Oe)}v.emit("field",ae,Q,false,O,Le,ee);--lt;checkFinished()}}S._readableState.sync=false;S.on("data",it);S.on("end",dt)})).on("error",(function(v){if(ct){ct.emit("error",v)}}))})).on("error",(function(S){v.emit("error",S)})).on("finish",(function(){dt=true;checkFinished()}))}Multipart.prototype.write=function(v,S){const Q=this.parser.write(v);if(Q&&!this._pause){S()}else{this._needDrain=!Q;this._cb=S}};Multipart.prototype.end=function(){const v=this;if(v.parser.writable){v.parser.end()}else if(!v._boy._done){process.nextTick((function(){v._boy._done=true;v._boy.emit("finish")}))}};function skipPart(v){v.resume()}function FileStream(v){O.call(this,v);this.bytesRead=0;this.truncated=false}H(FileStream,O);FileStream.prototype._read=function(v){};v.exports=Multipart},8306:(v,S,Q)=>{"use strict";const O=Q(7100);const H=Q(4619);const V=Q(1467);const J=/^charset$/i;UrlEncoded.detect=/^application\/x-www-form-urlencoded/i;function UrlEncoded(v,S){const Q=S.limits;const H=S.parsedConType;this.boy=v;this.fieldSizeLimit=V(Q,"fieldSize",1*1024*1024);this.fieldNameSizeLimit=V(Q,"fieldNameSize",100);this.fieldsLimit=V(Q,"fields",Infinity);let Y;for(var X=0,ee=H.length;X<ee;++X){if(Array.isArray(H[X])&&J.test(H[X][0])){Y=H[X][1].toLowerCase();break}}if(Y===undefined){Y=S.defCharset||"utf8"}this.decoder=new O;this.charset=Y;this._fields=0;this._state="key";this._checkingBytes=true;this._bytesKey=0;this._bytesVal=0;this._key="";this._val="";this._keyTrunc=false;this._valTrunc=false;this._hitLimit=false}UrlEncoded.prototype.write=function(v,S){if(this._fields===this.fieldsLimit){if(!this.boy.hitFieldsLimit){this.boy.hitFieldsLimit=true;this.boy.emit("fieldsLimit")}return S()}let Q;let O;let V;let J=0;const Y=v.length;while(J<Y){if(this._state==="key"){Q=O=undefined;for(V=J;V<Y;++V){if(!this._checkingBytes){++J}if(v[V]===61){Q=V;break}else if(v[V]===38){O=V;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesKey}}if(Q!==undefined){if(Q>J){this._key+=this.decoder.write(v.toString("binary",J,Q))}this._state="val";this._hitLimit=false;this._checkingBytes=true;this._val="";this._bytesVal=0;this._valTrunc=false;this.decoder.reset();J=Q+1}else if(O!==undefined){++this._fields;let Q;const V=this._keyTrunc;if(O>J){Q=this._key+=this.decoder.write(v.toString("binary",J,O))}else{Q=this._key}this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();if(Q.length){this.boy.emit("field",H(Q,"binary",this.charset),"",V,false)}J=O+1;if(this._fields===this.fieldsLimit){return S()}}else if(this._hitLimit){if(V>J){this._key+=this.decoder.write(v.toString("binary",J,V))}J=V;if((this._bytesKey=this._key.length)===this.fieldNameSizeLimit){this._checkingBytes=false;this._keyTrunc=true}}else{if(J<Y){this._key+=this.decoder.write(v.toString("binary",J))}J=Y}}else{O=undefined;for(V=J;V<Y;++V){if(!this._checkingBytes){++J}if(v[V]===38){O=V;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=true;break}else if(this._checkingBytes){++this._bytesVal}}if(O!==undefined){++this._fields;if(O>J){this._val+=this.decoder.write(v.toString("binary",J,O))}this.boy.emit("field",H(this._key,"binary",this.charset),H(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc);this._state="key";this._hitLimit=false;this._checkingBytes=true;this._key="";this._bytesKey=0;this._keyTrunc=false;this.decoder.reset();J=O+1;if(this._fields===this.fieldsLimit){return S()}}else if(this._hitLimit){if(V>J){this._val+=this.decoder.write(v.toString("binary",J,V))}J=V;if(this._val===""&&this.fieldSizeLimit===0||(this._bytesVal=this._val.length)===this.fieldSizeLimit){this._checkingBytes=false;this._valTrunc=true}}else{if(J<Y){this._val+=this.decoder.write(v.toString("binary",J))}J=Y}}}S()};UrlEncoded.prototype.end=function(){if(this.boy._done){return}if(this._state==="key"&&this._key.length>0){this.boy.emit("field",H(this._key,"binary",this.charset),"",this._keyTrunc,false)}else if(this._state==="val"){this.boy.emit("field",H(this._key,"binary",this.charset),H(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc)}this.boy._done=true;this.boy.emit("finish")};v.exports=UrlEncoded},7100:v=>{"use strict";const S=/\+/g;const Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Decoder(){this.buffer=undefined}Decoder.prototype.write=function(v){v=v.replace(S," ");let O="";let H=0;let V=0;const J=v.length;for(;H<J;++H){if(this.buffer!==undefined){if(!Q[v.charCodeAt(H)]){O+="%"+this.buffer;this.buffer=undefined;--H}else{this.buffer+=v[H];++V;if(this.buffer.length===2){O+=String.fromCharCode(parseInt(this.buffer,16));this.buffer=undefined}}}else if(v[H]==="%"){if(H>V){O+=v.substring(V,H);V=H}this.buffer="";++V}}if(V<J&&this.buffer===undefined){O+=v.substring(V)}return O};Decoder.prototype.reset=function(){this.buffer=undefined};v.exports=Decoder},8647:v=>{"use strict";v.exports=function basename(v){if(typeof v!=="string"){return""}for(var S=v.length-1;S>=0;--S){switch(v.charCodeAt(S)){case 47:case 92:v=v.slice(S+1);return v===".."||v==="."?"":v}}return v===".."||v==="."?"":v}},4619:function(v){"use strict";const S=new TextDecoder("utf-8");const Q=new Map([["utf-8",S],["utf8",S]]);function getDecoder(v){let S;while(true){switch(v){case"utf-8":case"utf8":return O.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return O.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return O.utf16le;case"base64":return O.base64;default:if(S===undefined){S=true;v=v.toLowerCase();continue}return O.other.bind(v)}}}const O={utf8:(v,S)=>{if(v.length===0){return""}if(typeof v==="string"){v=Buffer.from(v,S)}return v.utf8Slice(0,v.length)},latin1:(v,S)=>{if(v.length===0){return""}if(typeof v==="string"){return v}return v.latin1Slice(0,v.length)},utf16le:(v,S)=>{if(v.length===0){return""}if(typeof v==="string"){v=Buffer.from(v,S)}return v.ucs2Slice(0,v.length)},base64:(v,S)=>{if(v.length===0){return""}if(typeof v==="string"){v=Buffer.from(v,S)}return v.base64Slice(0,v.length)},other:(v,S)=>{if(v.length===0){return""}if(typeof v==="string"){v=Buffer.from(v,S)}if(Q.has(this.toString())){try{return Q.get(this).decode(v)}catch(v){}}return typeof v==="string"?v:v.toString()}};function decodeText(v,S,Q){if(v){return getDecoder(Q)(v,S)}return v}v.exports=decodeText},1467:v=>{"use strict";v.exports=function getLimit(v,S,Q){if(!v||v[S]===undefined||v[S]===null){return Q}if(typeof v[S]!=="number"||isNaN(v[S])){throw new TypeError("Limit "+S+" is not a valid number")}return v[S]}},1854:(v,S,Q)=>{"use strict";const O=Q(4619);const H=/%[a-fA-F0-9][a-fA-F0-9]/g;const V={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"","%08":"\b","%09":"\t","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"","%1B":"","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":" ","%A0":" ","%a1":"¡","%A1":"¡","%a2":"¢","%A2":"¢","%a3":"£","%A3":"£","%a4":"¤","%A4":"¤","%a5":"¥","%A5":"¥","%a6":"¦","%A6":"¦","%a7":"§","%A7":"§","%a8":"¨","%A8":"¨","%a9":"©","%A9":"©","%aa":"ª","%Aa":"ª","%aA":"ª","%AA":"ª","%ab":"«","%Ab":"«","%aB":"«","%AB":"«","%ac":"¬","%Ac":"¬","%aC":"¬","%AC":"¬","%ad":"­","%Ad":"­","%aD":"­","%AD":"­","%ae":"®","%Ae":"®","%aE":"®","%AE":"®","%af":"¯","%Af":"¯","%aF":"¯","%AF":"¯","%b0":"°","%B0":"°","%b1":"±","%B1":"±","%b2":"²","%B2":"²","%b3":"³","%B3":"³","%b4":"´","%B4":"´","%b5":"µ","%B5":"µ","%b6":"¶","%B6":"¶","%b7":"·","%B7":"·","%b8":"¸","%B8":"¸","%b9":"¹","%B9":"¹","%ba":"º","%Ba":"º","%bA":"º","%BA":"º","%bb":"»","%Bb":"»","%bB":"»","%BB":"»","%bc":"¼","%Bc":"¼","%bC":"¼","%BC":"¼","%bd":"½","%Bd":"½","%bD":"½","%BD":"½","%be":"¾","%Be":"¾","%bE":"¾","%BE":"¾","%bf":"¿","%Bf":"¿","%bF":"¿","%BF":"¿","%c0":"À","%C0":"À","%c1":"Á","%C1":"Á","%c2":"Â","%C2":"Â","%c3":"Ã","%C3":"Ã","%c4":"Ä","%C4":"Ä","%c5":"Å","%C5":"Å","%c6":"Æ","%C6":"Æ","%c7":"Ç","%C7":"Ç","%c8":"È","%C8":"È","%c9":"É","%C9":"É","%ca":"Ê","%Ca":"Ê","%cA":"Ê","%CA":"Ê","%cb":"Ë","%Cb":"Ë","%cB":"Ë","%CB":"Ë","%cc":"Ì","%Cc":"Ì","%cC":"Ì","%CC":"Ì","%cd":"Í","%Cd":"Í","%cD":"Í","%CD":"Í","%ce":"Î","%Ce":"Î","%cE":"Î","%CE":"Î","%cf":"Ï","%Cf":"Ï","%cF":"Ï","%CF":"Ï","%d0":"Ð","%D0":"Ð","%d1":"Ñ","%D1":"Ñ","%d2":"Ò","%D2":"Ò","%d3":"Ó","%D3":"Ó","%d4":"Ô","%D4":"Ô","%d5":"Õ","%D5":"Õ","%d6":"Ö","%D6":"Ö","%d7":"×","%D7":"×","%d8":"Ø","%D8":"Ø","%d9":"Ù","%D9":"Ù","%da":"Ú","%Da":"Ú","%dA":"Ú","%DA":"Ú","%db":"Û","%Db":"Û","%dB":"Û","%DB":"Û","%dc":"Ü","%Dc":"Ü","%dC":"Ü","%DC":"Ü","%dd":"Ý","%Dd":"Ý","%dD":"Ý","%DD":"Ý","%de":"Þ","%De":"Þ","%dE":"Þ","%DE":"Þ","%df":"ß","%Df":"ß","%dF":"ß","%DF":"ß","%e0":"à","%E0":"à","%e1":"á","%E1":"á","%e2":"â","%E2":"â","%e3":"ã","%E3":"ã","%e4":"ä","%E4":"ä","%e5":"å","%E5":"å","%e6":"æ","%E6":"æ","%e7":"ç","%E7":"ç","%e8":"è","%E8":"è","%e9":"é","%E9":"é","%ea":"ê","%Ea":"ê","%eA":"ê","%EA":"ê","%eb":"ë","%Eb":"ë","%eB":"ë","%EB":"ë","%ec":"ì","%Ec":"ì","%eC":"ì","%EC":"ì","%ed":"í","%Ed":"í","%eD":"í","%ED":"í","%ee":"î","%Ee":"î","%eE":"î","%EE":"î","%ef":"ï","%Ef":"ï","%eF":"ï","%EF":"ï","%f0":"ð","%F0":"ð","%f1":"ñ","%F1":"ñ","%f2":"ò","%F2":"ò","%f3":"ó","%F3":"ó","%f4":"ô","%F4":"ô","%f5":"õ","%F5":"õ","%f6":"ö","%F6":"ö","%f7":"÷","%F7":"÷","%f8":"ø","%F8":"ø","%f9":"ù","%F9":"ù","%fa":"ú","%Fa":"ú","%fA":"ú","%FA":"ú","%fb":"û","%Fb":"û","%fB":"û","%FB":"û","%fc":"ü","%Fc":"ü","%fC":"ü","%FC":"ü","%fd":"ý","%Fd":"ý","%fD":"ý","%FD":"ý","%fe":"þ","%Fe":"þ","%fE":"þ","%FE":"þ","%ff":"ÿ","%Ff":"ÿ","%fF":"ÿ","%FF":"ÿ"};function encodedReplacer(v){return V[v]}const J=0;const Y=1;const X=2;const ee=3;function parseParams(v){const S=[];let Q=J;let V="";let ae=false;let he=false;let Ee=0;let Be="";const ke=v.length;for(var Re=0;Re<ke;++Re){const ke=v[Re];if(ke==="\\"&&ae){if(he){he=false}else{he=true;continue}}else if(ke==='"'){if(!he){if(ae){ae=false;Q=J}else{ae=true}continue}else{he=false}}else{if(he&&ae){Be+="\\"}he=false;if((Q===X||Q===ee)&&ke==="'"){if(Q===X){Q=ee;V=Be.substring(1)}else{Q=Y}Be="";continue}else if(Q===J&&(ke==="*"||ke==="=")&&S.length){Q=ke==="*"?X:Y;S[Ee]=[Be,undefined];Be="";continue}else if(!ae&&ke===";"){Q=J;if(V){if(Be.length){Be=O(Be.replace(H,encodedReplacer),"binary",V)}V=""}else if(Be.length){Be=O(Be,"binary","utf8")}if(S[Ee]===undefined){S[Ee]=Be}else{S[Ee][1]=Be}Be="";++Ee;continue}else if(!ae&&(ke===" "||ke==="\t")){continue}}Be+=ke}if(V&&Be.length){Be=O(Be.replace(H,encodedReplacer),"binary",V)}else if(Be){Be=O(Be,"binary","utf8")}if(S[Ee]===undefined){if(Be){S[Ee]=Be}}else{S[Ee][1]=Be}return S}v.exports=parseParams},1065:v=>{"use strict";v.exports=JSON.parse('{"comment":"Do not edit this file, use utils/roll_browser.js","browsers":[{"name":"chromium","revision":"1097","installByDefault":true,"browserVersion":"121.0.6167.57"},{"name":"chromium-with-symbols","revision":"1097","installByDefault":false,"browserVersion":"121.0.6167.57"},{"name":"chromium-tip-of-tree","revision":"1184","installByDefault":false,"browserVersion":"122.0.6240.0"},{"name":"firefox","revision":"1438","installByDefault":true,"browserVersion":"121.0"},{"name":"firefox-asan","revision":"1438","installByDefault":false,"browserVersion":"121.0"},{"name":"firefox-beta","revision":"1437","installByDefault":false,"browserVersion":"121.0b8"},{"name":"webkit","revision":"1967","installByDefault":true,"revisionOverrides":{"mac10.14":"1446","mac10.15":"1616","mac11":"1816","mac11-arm64":"1816","ubuntu18.04-x64":"1728"},"browserVersion":"17.4"},{"name":"ffmpeg","revision":"1009","installByDefault":true},{"name":"android","revision":"1000","installByDefault":false}]}')},9870:v=>{"use strict";v.exports=JSON.parse('{"Blackberry PlayBook":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/17.4 Safari/536.2+","viewport":{"width":600,"height":1024},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Blackberry PlayBook landscape":{"userAgent":"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/17.4 Safari/536.2+","viewport":{"width":1024,"height":600},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/17.4 Mobile Safari/537.10+","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"BlackBerry Z30 landscape":{"userAgent":"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/17.4 Mobile Safari/537.10+","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/17.4 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/17.4 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/17.4 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy Note II landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/17.4 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/17.4 Mobile Safari/534.30","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S III landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/17.4 Mobile Safari/534.30","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Galaxy S5":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":360,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S8 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":740,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":320,"height":658},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy S9+ landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":658,"height":320},"deviceScaleFactor":4.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","viewport":{"width":712,"height":1138},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Galaxy Tab S4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","viewport":{"width":1138,"height":712},"deviceScaleFactor":2.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"iPad (gen 5)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 5) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 6) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7)":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":810,"height":1080},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad (gen 7) landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":1080,"height":810},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":768,"height":1024},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Mini landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":1024,"height":768},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":834,"height":1194},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPad Pro 11 landscape":{"userAgent":"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":1194,"height":834},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 6 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 7 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":667},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":667,"height":375},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":414,"height":736},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 8 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":736,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.4 Mobile/14E304 Safari/602.1","viewport":{"width":320,"height":568},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone SE landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/17.4 Mobile/14E304 Safari/602.1","viewport":{"width":568,"height":320},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":375,"height":812},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone X landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/17.4 Mobile/15A372 Safari/604.1","viewport":{"width":812,"height":375},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":414,"height":896},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone XR landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","viewport":{"width":896,"height":414},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":800,"height":364},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":635},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":724,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":414,"height":715},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 11 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":414,"height":896},"viewport":{"width":808,"height":364},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 12 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":325},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":342},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":375,"height":629},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 13 Mini landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":375,"height":812},"viewport":{"width":712,"height":327},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":390,"height":664},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":390,"height":844},"viewport":{"width":750,"height":340},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":428,"height":746},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Plus landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":428,"height":926},"viewport":{"width":832,"height":378},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":393,"height":660},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":393,"height":852},"viewport":{"width":734,"height":343},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":430,"height":740},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"iPhone 14 Pro Max landscape":{"userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Mobile/15E148 Safari/604.1","screen":{"width":430,"height":932},"viewport":{"width":814,"height":380},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Kindle Fire HDX landscape":{"userAgent":"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"LG Optimus L70":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"LG Optimus L70 landscape":{"userAgent":"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":1.25,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 550 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":360,"height":640},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Microsoft Lumia 950 landscape":{"userAgent":"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36 Edge/14.14263","viewport":{"width":640,"height":360},"deviceScaleFactor":4,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","viewport":{"width":800,"height":1280},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 10 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","viewport":{"width":1280,"height":800},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":384,"height":640},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":640,"height":384},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 5X landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":412,"height":732},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 6P landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":732,"height":412},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","viewport":{"width":600,"height":960},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nexus 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","viewport":{"width":960,"height":600},"deviceScaleFactor":2,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":320,"height":533},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia Lumia 520 landscape":{"userAgent":"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)","viewport":{"width":533,"height":320},"deviceScaleFactor":1.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Nokia N9":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":480,"height":854},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Nokia N9 landscape":{"userAgent":"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13","viewport":{"width":854,"height":480},"deviceScaleFactor":1,"isMobile":true,"hasTouch":true,"defaultBrowserType":"webkit"},"Pixel 2":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":411,"height":731},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":731,"height":411},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":411,"height":823},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 2 XL landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":823,"height":411},"deviceScaleFactor":3.5,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":393,"height":786},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 3 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":786,"height":393},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":353,"height":745},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":745,"height":353},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G)":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","screen":{"width":412,"height":892},"viewport":{"width":412,"height":765},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 4a (5G) landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","screen":{"height":892,"width":412},"viewport":{"width":840,"height":312},"deviceScaleFactor":2.63,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","screen":{"width":393,"height":851},"viewport":{"width":393,"height":727},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 5 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","screen":{"width":851,"height":393},"viewport":{"width":802,"height":293},"deviceScaleFactor":2.75,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","screen":{"width":412,"height":915},"viewport":{"width":412,"height":839},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Pixel 7 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","screen":{"width":915,"height":412},"viewport":{"width":863,"height":360},"deviceScaleFactor":2.625,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":360,"height":640},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Moto G4 landscape":{"userAgent":"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Mobile Safari/537.36","viewport":{"width":640,"height":360},"deviceScaleFactor":3,"isMobile":true,"hasTouch":true,"defaultBrowserType":"chromium"},"Desktop Chrome HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36 Edg/121.0.6167.57","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox HiDPI":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"},"Desktop Safari":{"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.4 Safari/605.1.15","screen":{"width":1792,"height":1120},"viewport":{"width":1280,"height":720},"deviceScaleFactor":2,"isMobile":false,"hasTouch":false,"defaultBrowserType":"webkit"},"Desktop Chrome":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Edge":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.6167.57 Safari/537.36 Edg/121.0.6167.57","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"chromium"},"Desktop Firefox":{"userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0","screen":{"width":1920,"height":1080},"viewport":{"width":1280,"height":720},"deviceScaleFactor":1,"isMobile":false,"hasTouch":false,"defaultBrowserType":"firefox"}}')},9415:v=>{"use strict";v.exports={i8:"1.41.1"}}};var __webpack_module_cache__={};function __nccwpck_require__(v){var S=__webpack_module_cache__[v];if(S!==undefined){return S.exports}var Q=__webpack_module_cache__[v]={exports:{}};var O=true;try{__webpack_modules__[v].call(Q.exports,Q,Q.exports,__nccwpck_require__);O=false}finally{if(O)delete __webpack_module_cache__[v]}return Q.exports}(()=>{__nccwpck_require__.o=(v,S)=>Object.prototype.hasOwnProperty.call(v,S)})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{const{chromium:v}=__nccwpck_require__(2205);const S=__nccwpck_require__(2186);const Q="png";const O="screenshot";const H=process.env.GITHUB_WORKSPACE||`./`;const V=`${H}/${O}.${Q}`;(async()=>{try{const H=S.getInput("url")||"https://github.com";const J=await v.launch();const Y=await J.newPage();await Y.goto(H);await Y.screenshot({path:V});await J.close();S.setOutput("filename",`${O}.${Q}`)}catch(v){console.log(v);S.setFailed(v.message)}})()})();module.exports=__webpack_exports__})();